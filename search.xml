<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>2018.3.18 åˆšå“¥æŒ‡å¯¼</title>
    <url>/2018/03/19/2018318-gangge/</url>
    <content><![CDATA[<h1 id="åˆšå“¥æŒ‡å¯¼">2018.3.18 åˆšå“¥æŒ‡å¯¼</h1>
<ul>
<li>åç»­çš„æ¸…æ´—æ•°æ®å·¥ä½œï¼š
<ol type="1">
<li>å…ˆç”¨æ­£åˆ™åŒ¹é…å°†å”¯ä¸€èƒ½åŒ¹é…åˆ°knowledgeä¸­çš„æŸä¸ªpatternçš„é—®é¢˜è‡ªåŠ¨æ‰“ä¸Šæ ‡ç­¾</li>
<li>ç„¶ååˆ¤æ–­æ˜¯å¦å±äºæŸäº›è¾ƒå¤§ä¸”æ­£ç¡®ç‡è¾ƒé«˜çš„ä¸»é—®é¢˜ï¼Œå¦‚æœç»“æœæ­£ç¡®ï¼Œç›´æ¥æ‰“ä¸Šæ ‡ç­¾</li>
<li>æŠŠä½™ä¸‹çš„å½’å±äºæŸäº›å°é—®é¢˜çš„logåˆ†é…ç»™äººå·¥æ‰“</li>
</ol>
<span id="more"></span></li>
<li>ç”¨æœ€çŸ­çš„æ—¶é—´å®ŒæˆDSSMçš„æ¨¡å‹æ­å»ºå·¥ä½œï¼Œå¹¶ç»™å‡ºæµ‹è¯•ç»“æœ</li>
<li>è¦å°½å¿«ç»™å‡ºä¸€ä¸ªå¯ä¿¡çš„1wæ¡å·¦å³çš„æµ‹è¯•é›†ï¼Œè¦æ±‚åˆ†å¸ƒå‡è¡¡ï¼Œæ¯ä¸€ç±»éƒ½è¦4ä¸ªé—®é¢˜å·¦å³ï¼Œå¹¶ä¸”ç”±äººå·¥æŒ‘é€‰ä¿è¯æ— è¯¯</li>
<li>ï¼ˆTriplet Lossï¼‰å¯ä»¥è€ƒè™‘ä½¿ç”¨MQ1Q2è¿™æ ·çš„ä¸€ä¸ªä¸»é—®é¢˜ä¸¤ä¸ªlogè¿™æ ·çš„æ–¹å¼ï¼Œå½“Q1å±äºæŸä¸ªä¸»é—®é¢˜è€ŒQ2ä¸å±äºæ—¶ï¼Œæ»¡è¶³ä¸‹å¼ï¼š||f(M1)-f(Q1)||&lt;||f(M1)-f(Q2)||ï¼Œç”¨è¿™æ ·çš„æ–¹æ³•æ¥3ä¸ª3ä¸ªçš„è®­ç»ƒ</li>
<li>ç”¨æ­£åˆ™åŒ¹é…æ³•ä¼šä¸¢å¤±ä¸å°‘è¯è¯­å’Œè¯­ä¹‰ä¿¡æ¯ï¼Œè€Œæ·±åº¦å­¦ä¹ å¯ä»¥å¼¥è¡¥è¿™ä¸€ç‚¹</li>
<li>åˆ†ç±»çš„æ–¹æ³•å¯ä»¥ç»§ç»­æ¨è¿›ï¼Œä½†æ˜¯ç°åœ¨ä¸»è¦ç€çœ¼äºä½¿ç”¨æœç´¢+åŒ¹é…çš„æ–¹å¼</li>
<li>æœ€åå¯ä»¥å°è¯•å»ºç«‹R2Xè¿™æ ·çš„ä»æ­£åˆ™è¡¨è¾¾å¼åˆ©ç”¨GANçš„æ–¹æ³•è‡ªåŠ¨ç”Ÿæˆæœ‰ä»·å€¼çš„ï¼Œåƒæ˜¯æ­£å¸¸logçš„é—®é¢˜</li>
</ul>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>å…¨è¿æ¥å±‚ä¸1x1å·ç§¯çš„å…³ç³»</title>
    <url>/2019/02/12/1x1conv/</url>
    <content><![CDATA[<h2 id="ç†è§£å…¨è¿æ¥å±‚">ç†è§£å…¨è¿æ¥å±‚ï¼š</h2>
<p><strong>å…¨è¿æ¥å±‚å¯ä»¥ç”±å·ç§¯æ ¸æ·±åº¦ä¸ºä¸Šå±‚ç‰¹å¾å›¾æ·±åº¦çš„å·ç§¯è¿ç®—ä»£æ›¿ï¼Œå·ç§¯åchannelä¸Šæ¯ä¸ª1x1å·ç§¯æ ¸éƒ½ä¼šä½œä¸ºä¸€ä¸ªè¾“å‡ºï¼Œå¯çœ‹ä½œå…¨è¿æ¥å±‚çš„ä¸€ä¸ªç‚¹ã€‚</strong></p>
<p>å‡è®¾æœ€åä¸€ä¸ªå·ç§¯å±‚çš„è¾“å‡ºä¸º7Ã—7Ã—512ï¼Œè¿æ¥æ­¤å·ç§¯å±‚çš„å…¨è¿æ¥å±‚ä¸º1Ã—1Ã—4096ã€‚</p>
<p>å¦‚æœå°†è¿™ä¸ªå…¨è¿æ¥å±‚è½¬åŒ–ä¸ºå·ç§¯å±‚ï¼š</p>
<span id="more"></span>
<ol type="1">
<li>å…±æœ‰4096ç»„æ»¤æ³¢å™¨ï¼ˆ<strong>é€šé“æ•°4096</strong>ï¼‰</li>
<li>æ¯ä¸ªå·ç§¯æ ¸çš„å¤§å°ä¸º<strong>512x7Ã—7</strong></li>
<li>åˆ™è¾“å‡ºä¸º<strong>1Ã—1Ã—4096</strong></li>
</ol>
<p>ç”±äºæ¯ä¸ªæ»¤æ³¢æ ¸çš„å¤§å°å’Œä¸Šä¸€å±‚çš„feature mapå¤§å°ä¸€æ ·ï¼Œä¿è¯äº†è½¬æ¢åçš„å·ç§¯å±‚çš„è¿ç®—ç»“æœå’Œå…¨è¿æ¥å±‚æ˜¯ä¸€æ ·çš„ã€‚ è‹¥åé¢å†è¿æ¥ä¸€ä¸ª1Ã—1Ã—4096å…¨è¿æ¥å±‚ã€‚åˆ™å…¶å¯¹åº”çš„è½¬æ¢åçš„å·ç§¯å±‚çš„å‚æ•°ä¸ºï¼š</p>
<ol type="1">
<li>å…±æœ‰4096ç»„æ»¤æ³¢å™¨ï¼ˆ<strong>é€šé“æ•°4096</strong>ï¼‰</li>
<li>æ¯ä¸ªå·ç§¯æ ¸çš„å¤§å°ä¸º<strong>4096x1x1</strong></li>
<li>åˆ™è¾“å‡ºä¸º<strong>1Ã—1Ã—4096</strong></li>
</ol>
<h2 id="ä¸¾ä¾‹è¯´æ˜">ä¸¾ä¾‹è¯´æ˜</h2>
<p>å‚è€ƒâ€œ <a href="https://bbs.dian.org.cn/topic/589/rcnn%E7%B3%BB%E5%88%97%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E8%AF%A6%E8%A7%A3">RCNNç³»åˆ—ç›®æ ‡æ£€æµ‹è¯¦è§£</a>â€ï¼Œåœ¨Faster RCNNä¸­ï¼ŒRPNç½‘ç»œçš„å…³é”®éƒ¨åˆ†å°±æ˜¯ç”±ä¸¤ä¸ª1x1çš„å·ç§¯æ ¸å®Œæˆçš„ï¼Œå…¶ä½œç”¨å³ä¸ºå…¨è¿æ¥ã€‚ <img src="/2019/02/12/1x1conv/006y8mN6ly1g7lwj8tmefj311609y0tp.jpg" alt="Network Structure"></p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>Necessary information in an English Interview</title>
    <url>/2018/03/29/English-interview/</url>
    <content><![CDATA[<h1 id="useful-words">Useful Words</h1>
<ul>
<li><p>ç”µä¿¡å­¦é™¢ï¼šSchool of Electronic Information and Communication</p></li>
<li><p>å…‰ç”µå­¦é™¢ï¼šSchool of Optical and Electronic Information</p></li>
<li><p>ç”±â€¦ç»„æˆï¼šbe composed of/ be made up of</p></li>
<li><p>ç§å­ç­ï¼šUndergraduate Program for Advanced Project-based Information Science Education (Seeds Class)</p>
<span id="more"></span></li>
<li><p>ä¸²è”ï¼šseries connection</p></li>
<li><p>å¹¶è”ï¼šparallel connection</p></li>
<li><p><em>Transverse electromagnetic</em> (<em>TEM</em>) <em>modes</em>:neither electric nor magnetic field in the direction of propagation. The direction of it is perpendicular to electric field and magnetic field.</p>
<p>æ¨ªç”µç£æ³¢ï¼šç”µåœºå’Œç£åœºçš„æŒ¯åŠ¨åœ¨ç”µç£æ³¢ä¼ æ’­æ–¹å‘ä¸Šéƒ½æ²¡æœ‰æŠ•å½±åˆ†é‡ã€‚ï¼ˆç”µåœºå’Œç£åœºçš„æŒ¯åŠ¨æ–¹å‘éƒ½å‚ç›´äºç”µç£æ³¢çš„ä¼ æ’­æ–¹å‘ï¼‰</p></li>
<li><p>KCLï¼šKirchhoff's circuit laws. Kirchhoff's circuit laws are two equalities that deal with the current and potential difference (commonly known as voltage) in the lumped element model of electrical circuits. They were first described in 1845 by German physicist Gustav Kirchhoff. <strong>At any node (junction) in an electrical circuit, the sum of currents flowing into that node is equal to the sum of currents flowing out of that node.</strong></p>
<p><em>The algebraic sum of currents in a network of conductors meeting at a point is zero.</em></p></li>
<li><p>KVLï¼šThe directed sum of the electrical potential differences (voltage) around any closed network is zero</p></li>
<li><p>æˆ´ç»´å—ç”µè·¯ï¼šThÃ©venin's theoremï¼šAny linear electrical network with voltage and current sources and resistances only can be replaced at terminals A-B by an equivalent voltage source Vth in series connection with an equivalent resistance Rth.</p>
<p>The equivalent voltage Vth is the voltage obtained at terminals A-B of the network with terminals A-B open circuited.</p>
<p>The equivalent resistance Rth is the resistance that the circuit between terminals A and B would have if all ideal voltage sources in the circuit were replaced by a short circuit and all ideal current sources were replaced by an open circuit.</p></li>
<li><p>è¯ºé¡¿å®šç†ï¼šAny linear electrical network with voltage and current sources and only resistances can be replaced at terminals Aâ€“B by an equivalent current source Ino in parallel connection with an equivalent resistance Rno.</p>
<p>This equivalent current Ino is the current obtained at terminals A-B of the network with terminals A-B short circuited.</p>
<p>This equivalent resistance Rno is the resistance obtained at terminals A-B of the network with all its voltage sources short circuited and all its current sources open circuited.</p></li>
</ul>
<h1 id="self-introduction">Self Introduction</h1>
<p>I am Zhongyang Zhang, a Junior student from Electronic and Information Engineering of HUST. I'm from the school of electronic information and communication and my major is seed class. It might sound like a little puzzling, but in fact it is the name of Advanced Project-based Information Science Education Class. As for relevant courses, I've learned Electromagnetic Field and wave, communication Electronic Circuits last year.</p>
<p>Besides, I have the ability of quick learning. You know, the first program I've participated in after I've been a member of Seed Class is a project which need us to develop a iOS Software for a commercial company, although I've never developed a app since I only have a little knowledge on C language , I exerted myself and learned how to handle it well by studying objective C via internet. Also, I adapt myself to python and machine learning afterwards smoothly despite the fact that I didn't satisfy much of the pre-requisite.</p>
<p>And also, I am familiar with hardware, too. I've learned how to draw a PCB board in my previous courses and I'm trying to make a game box for a certain game named â€œDont stopï¼Quaverâ€ recently.</p>
<p>My hobby is learning foreign language and management. I can speak fluent Japanese and I also learned basic French.</p>
]]></content>
      <tags>
        <tag>English</tag>
        <tag>interview</tag>
      </tags>
  </entry>
  <entry>
    <title>Anaconda2å’Œ3çš„å¹¶å­˜ä¸€é”®å®‰è£…</title>
    <url>/2018/08/13/anaconda-2et3/</url>
    <content><![CDATA[<p>é¦–å…ˆè´´ä¸ŠCondaå®˜ç½‘æ•™ç¨‹çš„<a href="https://conda.io/docs/user-guide/tasks/manage-python.html">ç½‘å€</a></p>
<p>ç¡®å®è¿˜æ˜¯å®˜ç½‘æ•™ç¨‹æœ€ç®€å•å®ç”¨ï¼Œè®¸å¤šç™¾åº¦ç”šè‡³è°·æ­Œæœç´¢å‡ºæ¥çš„csdnåšå®¢ç­‰å¹¶ä¸æ˜¯æœ€ä¼˜è§£æ³•ï¼Œè€Œä¸”åºŸè¯å¤ªå¤š...</p>
<p>æœ‰æ•ˆè§£å†³åŠæ³•å°±æ˜¯ä¸‹é¢ä¸€å¥ï¼ˆå·²ç»è£…äº†Anaconda3æƒ³è£…ä¸€ä¸ª2ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda create -n py27 python=2.7 anaconda</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>æˆ–æ˜¯è¿™ä¸€å¥ï¼ˆå·²ç»è£…äº†Anaconda2æƒ³è£…ä¸€ä¸ª3ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda create -n py36 python=3.6 anaconda</span><br></pre></td></tr></table></figure>
<h1 id="managing-python">Managing Python</h1>
<ul>
<li><a href="https://conda.io/docs/user-guide/tasks/manage-python.html#viewing-a-list-of-available-python-versions">Viewing a list of available Python versions</a></li>
<li><a href="https://conda.io/docs/user-guide/tasks/manage-python.html#installing-a-different-version-of-python">Installing a different version of Python</a></li>
<li><a href="https://conda.io/docs/user-guide/tasks/manage-python.html#using-a-different-version-of-python">Using a different version of Python</a></li>
<li><a href="https://conda.io/docs/user-guide/tasks/manage-python.html#updating-or-upgrading-python">Updating or upgrading Python</a></li>
</ul>
<p>Conda treats Python the same as any other package, so it is easy to manage and update multiple installations.</p>
<p>Anaconda supports Python 2.7, 3.4, 3.5 and 3.6. The default is Python 2.7 or 3.6, depending on which installer you used:</p>
<ul>
<li>For the installers â€œAnacondaâ€ and â€œMiniconda,â€ the default is 2.7.</li>
<li>For the installers â€œAnaconda3â€ or â€œMiniconda3,â€ the default is 3.6.</li>
</ul>
<h2 id="viewing-a-list-of-available-python-versions"><a href="https://conda.io/docs/user-guide/tasks/manage-python.html#id1">Viewing a list of available Python versions</a></h2>
<p>To list the versions of Python that are available to install, in your Terminal window or an Anaconda Prompt, run:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda search python</span><br></pre></td></tr></table></figure>
<p>This lists all packages whose names contain the text <code>python</code>.</p>
<p>To list only the packages whose full name is exactly <code>python</code>, add the <code>--full-name</code> option. In your Terminal window or an Anaconda Prompt, run:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda search --full-name python</span><br></pre></td></tr></table></figure>
<h2 id="installing-a-different-version-of-python"><a href="https://conda.io/docs/user-guide/tasks/manage-python.html#id2">Installing a different version of Python</a></h2>
<p>To install a different version of Python without overwriting the current version, create a new environment and install the second Python version into it:</p>
<ol type="1">
<li><p>Create the new environment:</p>
<ul>
<li><p>To create the new environment for Python 3.6, in your Terminal window or an Anaconda Prompt, run:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda create -n py36 python&#x3D;3.6 anaconda</span><br></pre></td></tr></table></figure>
<p>NOTE: Replace <code>py36</code> with the name of the environment you want to create. <code>anaconda</code> is the metapackage that includes all of the Python packages comprising the Anaconda distribution. <code>python=3.6</code> is the package and version you want to install in this new environment. This could be any package, such as <code>numpy=1.7</code>, or <a href="https://conda.io/docs/user-guide/tasks/manage-pkgs.html#installing-multiple-packages">multiple packages</a>.</p></li>
<li><p>To create the new environment for Python 2.7, in your Terminal window or an Anaconda Prompt, run:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda create -n py27 python&#x3D;2.7 anaconda</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><p><a href="https://conda.io/docs/user-guide/tasks/manage-environments.html#activate-env">Activate the new environment</a>.</p></li>
<li><p>Verify that the new environment is your <a href="https://conda.io/docs/user-guide/tasks/manage-environments.html#determine-current-env">current environment</a>.</p></li>
<li><p>To verify that the current environment uses the new Python version, in your Terminal window or an Anaconda Prompt, run:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">python --version</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="using-a-different-version-of-python"><a href="https://conda.io/docs/user-guide/tasks/manage-python.html#id3">Using a different version of Python</a></h2>
<p>To switch to an environment that has different version of Python, <a href="https://conda.io/docs/user-guide/tasks/manage-environments.html#activate-env">activate the environment</a>.</p>
<h2 id="updating-or-upgrading-python"><a href="https://conda.io/docs/user-guide/tasks/manage-python.html#id4">Updating or upgrading Python</a></h2>
<p>Use the Terminal or an Anaconda Prompt for the following steps.</p>
<p>If you are in an environment with Python version 3.4.2, the following command updates Python to the latest version in the 3.4 branch:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda update python</span><br></pre></td></tr></table></figure>
<p>The following command upgrades Python to another branchâ€”3.6â€”by installing that version of Python:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">conda install python&#x3D;3.6</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>anaconda</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨åŠ¨æ¼«ä¸­å¤§GANä¸€åœºå§ï¼</title>
    <url>/2019/01/29/anime-gan/</url>
    <content><![CDATA[<p>GANçš„ä¸€å¤§åº”ç”¨åœºæ™¯å°±æ˜¯é€¼çœŸå›¾ç‰‡çš„ç”Ÿæˆï¼Œè€Œè¿™ä¸€ç‚¹åˆ™ä¸åŠ¨æ¼«äºŒæ¬¡å…ƒæœŸæœ›ç”Ÿæˆâ€œè€å©†â€çš„æ„¿æœ›ä¸€æ‹å³åˆã€‚äºæ˜¯è¿‘å¹´ï¼Œæœ‰è®¸å¤šåŠ¨æ¼«ç›¸å…³çš„ã€ä½¿ç”¨GANçš„é¡¹ç›®è¢«å¼€å‘äº†å‡ºæ¥ï¼Œä½œä¸ºä¸€ä¸ªèµ„æ·±åŠ¨æ¼«å®…ï¼Œè¿™é‡Œç»™å¤§å®¶åšäº†ä¸€ä¸ªæ•´ç†ï¼Œæ¬¢è¿è¡¥å……~</p>
<h2 id="å®ä¾‹">å®ä¾‹</h2>
<ol type="1">
<li><a href="https://make.girls.moe/">è¾“å…¥å„ç§å‚æ•°ç”ŸæˆåŠ¨æ¼«äººç‰©å¤´åƒ</a></li>
<li><a href="http://waifu2x.udp.jp">Waifu2x åŠ¨æ¼«å›¾ç‰‡æ— æŸæ”¾å¤§</a></li>
<li><a href="https://github.com/Aixile/chainer-cyclegan">Chainer-CycleGAN åŠ¨æ¼«äººç‰©å¤´å‘è½¬é“¶è‰²</a></li>
<li><a href="https://github.com/miracleyoo/anime-2-cosplay">Turn your 2-D wife(anime image) to 3-D wife(cosplay image) or opposite using DCGAN!</a></li>
</ol>
<span id="more"></span>
<h2 id="å·¥å…·">å·¥å…·</h2>
<ol type="1">
<li><a href="https://github.com/rezoo/illustration2vec">è‡ªåŠ¨åŒ–åŠ¨æ¼«äººç‰©æ‰“æ ‡ç­¾</a></li>
<li><a href="https://github.com/nagadomi/lbpcascade_animeface">è‡ªåŠ¨åŒ–åŠ¨æ¼«äººç‰©è„¸éƒ¨åˆ‡å‰²ä¿å­˜</a> <img src="/2019/01/29/anime-gan/006y8mN6ly1g7lw843oeij30qe0ak3zz.jpg"></li>
<li><a href="https://github.com/jayleicn/animeGAN">animeGAN A simple PyTorch Implementation of GAN, focusing on anime face drawing.</a></li>
<li><a href="https://github.com/tjwei/GANotebooks">GANotebooks å„ç§GANçš„Jupyter Notebookæ•™ç¨‹</a></li>
<li><a href="https://github.com/zhangqianhui/AdversarialNetsPapers">AdversarialNetsPapers å„ç§GANçš„Papers</a></li>
</ol>
<h2 id="å¼•ç”¨">å¼•ç”¨</h2>
<ol type="1">
<li><a href="https://zhuanlan.zhihu.com/p/24767059">GANå­¦ä¹ æŒ‡å—ï¼šä»åŸç†å…¥é—¨åˆ°åˆ¶ä½œç”ŸæˆDemo</a></li>
<li><a href="https://medium.com/@jonathan_hui/gan-whats-generative-adversarial-networks-and-its-application-f39ed278ef09">GANâ€Šâ€”â€ŠWhat is Generative Adversary Networks GAN?</a></li>
<li><a href="https://www.leiphone.com/news/201709/i9qlcvWrpitOacjf.html">å¯èƒ½æ˜¯è¿‘æœŸæœ€å¥½ç©çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼šCycleGANçš„åŸç†ä¸å®éªŒè¯¦è§£</a></li>
<li><a href="https://makegirlsmoe.github.io/main/2017/08/14/news-english.html">è¾“å…¥å„ç§å‚æ•°ç”ŸæˆåŠ¨æ¼«äººç‰©å¤´åƒå®˜æ–¹åšå®¢</a></li>
<li><a href="https://www.jiqizhixin.com/articles/2017-08-20-4">å®…ç”·çš„ç¦éŸ³ï¼šç”¨GANè‡ªåŠ¨ç”ŸæˆäºŒæ¬¡å…ƒèŒå¦¹å­</a></li>
<li><a href="https://qiita.com/rezoolab/items/5cc96b6d31153e0c86bc">Chainerã‚’ä½¿ã£ã¦ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«ã‚¤ãƒ©ã‚¹ãƒˆã‚’æã‹ã›ã‚‹</a></li>
<li><a href="https://www.jqr.com/article/000215">æ—‹è½¬å§ï¼æ¢è£…å°‘å¥³ï¼šä¸€ç§å¯ç”Ÿæˆé«˜åˆ†è¾¨ç‡å…¨èº«åŠ¨ç”»çš„GAN</a></li>
<li><a href="https://www.jianshu.com/p/f31d9fc1d677">ä¸è¦æ€‚ï¼Œå°±æ˜¯GAN</a></li>
<li><a href="https://medium.com/@jonathan_hui/gan-some-cool-applications-of-gans-4c9ecca35900">GANâ€Šâ€”â€ŠSome cool applications of GANs</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/30532830">çœ¼è§å·²ä¸ä¸ºå®ï¼Œè¿„ä»Šæœ€çœŸå®çš„GANï¼šProgressive Growing of GANs</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/33752313">é€šä¿—ç†è§£ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27012520">ä»å¤´å¼€å§‹GAN</a></li>
<li><a href="https://junyanz.github.io/CycleGAN/">Cycle GAN ä½œè€…å®˜ç½‘</a></li>
<li><a href="https://www.jiqizhixin.com/articles/2018-04-17-5">å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºæ·±åº¦å­¦ä¹ é¡¹ç›®ï¼Ÿè¿™é‡Œæœ‰ä¸€ä»½è¯¦ç»†çš„æ•™ç¨‹</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27145954">å¸¦ä½ ç†è§£CycleGANï¼Œå¹¶ç”¨TensorFlowè½»æ¾å®ç°</a></li>
</ol>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>GAN</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªåŠ¨ç”Ÿæˆå’Œå®‰è£…requirements.txtä¾èµ–</title>
    <url>/2018/05/14/auto-env/</url>
    <content><![CDATA[<p>åœ¨æŸ¥çœ‹åˆ«äººçš„Pythoné¡¹ç›®æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ°ä¸€ä¸ªrequirements.txtæ–‡ä»¶ï¼Œé‡Œé¢è®°å½•äº†å½“å‰ç¨‹åºçš„æ‰€æœ‰ä¾èµ–åŒ…åŠå…¶ç²¾ç¡®ç‰ˆæœ¬å·ã€‚è¿™ä¸ªæ–‡ä»¶æœ‰ç‚¹ç±»ä¼¼ä¸Railsçš„Gemfileã€‚å…¶ä½œç”¨æ˜¯ç”¨æ¥åœ¨å¦ä¸€å°PCä¸Šé‡æ–°æ„å»ºé¡¹ç›®æ‰€éœ€è¦çš„è¿è¡Œç¯å¢ƒä¾èµ–ã€‚ requirements.txtå¯ä»¥é€šè¿‡pipå‘½ä»¤è‡ªåŠ¨ç”Ÿæˆå’Œå®‰è£…</p>
<h3 id="ç”Ÿæˆrequirements.txtæ–‡ä»¶">ç”ŸæˆREQUIREMENTS.TXTæ–‡ä»¶</h3>
<p><code>pip freeze &gt; requirements.txt</code></p>
<span id="more"></span>
<h3 id="å®‰è£…requirements.txtä¾èµ–">å®‰è£…REQUIREMENTS.TXTä¾èµ–</h3>
<p><code>pip install -r requirements.txt</code></p>
<p>è¿™æ˜¯å‘ç°çš„ä¸€ä¸ªè›®å¥½ç”¨çš„ä¸œè¥¿ï¼Œè½¬è½½è‡ª<a href="http://lazybios.com/2015/06/how-to-use-requirementstxt-file-in-python/">é“¾æ¥</a></p>
<p>ç„¶è€Œè¦æé†’çš„ä¸€ç‚¹æ˜¯ï¼Œè¿™ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„ä¼šæŠŠä½ æ‰€æœ‰çš„åŒ…éƒ½ç”Ÿæˆè¿›å»ï¼Œå¦‚æœåªæœ‰å‡ ä¸ªç‰¹å®šçš„åŒ…éœ€è¦ç‰¹æ„å®‰è£…ï¼Œé‚£ä¹ˆåªç•™ä¸‹è¿™å‡ ä¸ªå°±å¥½ï¼Œå‰©ä¸‹çš„ç›´æ¥åˆ æ‰ã€‚</p>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>machine-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡å‹è®­ç»ƒç»“æŸåè‡ªåŠ¨æ•´ç†è®°å½•å„é¡¹å‚æ•°</title>
    <url>/2018/05/14/auto-param-table/</url>
    <content><![CDATA[<h3 id="æ¨¡å‹è®­ç»ƒå®Œæˆåè¦æ³¨æ„åŠæ—¶è®°å½•ä¿å­˜å„ç§å‚æ•°ç½‘ç»œç»“æ„åˆ†ç±»å­˜æ¡£ä»¥ä¾›åç»­å¯¹æ¯”å‡ºå„ç§ç»“è®ºä½†é—®é¢˜æ˜¯å¡«å†™ä¸€æŠŠè¿™ä¸ªè¡¨æ ¼å¤ªæ…¢äº†è€Œä¸”å¤ªéš¾å—äº†">æ¨¡å‹è®­ç»ƒå®Œæˆåï¼Œè¦æ³¨æ„åŠæ—¶è®°å½•ä¿å­˜å„ç§å‚æ•°ï¼Œç½‘ç»œç»“æ„ï¼Œåˆ†ç±»å­˜æ¡£ä»¥ä¾›åç»­å¯¹æ¯”å‡ºå„ç§ç»“è®ºï¼Œä½†é—®é¢˜æ˜¯å¡«å†™ä¸€æŠŠè¿™ä¸ªè¡¨æ ¼å¤ªæ…¢äº†è€Œä¸”å¤ªéš¾å—äº†ã€‚ã€‚</h3>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œä¸Šè„šæœ¬ï¼š</p>
<span id="more"></span>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def write_summary(net, opt, summary_info):</span><br><span class="line">    current_time &#x3D; datetime.datetime.now().strftime(&quot;%Y-%m-%d_%H:%M:%S&quot;)</span><br><span class="line">    prefix   &#x3D; &#39;.&#x2F;source&#x2F;summaries&#x2F;&#39;+net.model_name</span><br><span class="line">    if not os.path.exists(prefix): os.mkdir(prefix)</span><br><span class="line">    sum_path &#x3D; prefix + &#39;&#x2F;MiracleYoo_&#39;+current_time+&#39;_&#39;+net.model_name+&#39;_Model_Testing_Record_Form.md&#39;</span><br><span class="line">    with codecs.open(&#39;.&#x2F;config.py&#39;, &#39;r&#39;, encoding&#x3D;&#39;utf-8&#39;) as f:</span><br><span class="line">        raw_data &#x3D; f.readlines()</span><br><span class="line">        configs  &#x3D; &#39;&#39;</span><br><span class="line">        for line in raw_data:</span><br><span class="line">            if line.strip().startswith(&#39;self.&#39;):</span><br><span class="line">                configs +&#x3D; line.strip().strip(&#39;self.&#39;)+&#39;\n&#39;</span><br><span class="line"></span><br><span class="line">    content &#x3D; &#39;&#39;&#39;</span><br><span class="line"># Model Testing Record Form</span><br><span class="line">| Item Name        | Information |</span><br><span class="line">| ---------        | ----------- |</span><br><span class="line">| Model Name       | %s          |</span><br><span class="line">| Tester&#39;s Name    | Miracle Yoo |</span><br><span class="line">| Author&#39;s Nmae    | Miracle Yoo |</span><br><span class="line">| Test Time        | %s          |</span><br><span class="line">| Test Position    | %s          |</span><br><span class="line">| Training Epoch   | %d          |</span><br><span class="line">| Highest Test Acc | %.4f        |</span><br><span class="line">| Loss of highest Test Acc| %.4f |</span><br><span class="line">| Last epoch test acc   | %.4f   |</span><br><span class="line">| Last epoch test loss  | %.4f   |</span><br><span class="line">| Last epoch train acc  | %.4f   |</span><br><span class="line">| Last epoch train loss | %.4f   |</span><br><span class="line">| Train Dataset Path    | %s     |</span><br><span class="line">| Test Dataset Path     | %s     |</span><br><span class="line">| Class Number     | %d          |</span><br><span class="line">| Framwork         | Pytorch     |</span><br><span class="line">| Basic Method     | Classify    |</span><br><span class="line">| Input Type       | Char        |</span><br><span class="line">| Criterion        | CrossEntropy|</span><br><span class="line">| Optimizer        | %s          |</span><br><span class="line">| Learning Rate    | %.4f        |</span><br><span class="line">| Embedding dimension   | %d     |</span><br><span class="line">| Data Homogenization   | True   |</span><br><span class="line">| Pretreatment|Remove punctuation|</span><br><span class="line">| Other Major Param |            |</span><br><span class="line">| Other Operation   |            |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Configs</span><br><span class="line">\&#96;&#96;&#96;</span><br><span class="line">%s</span><br><span class="line">\&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">## Net Structure</span><br><span class="line">\&#96;&#96;&#96;</span><br><span class="line">%s</span><br><span class="line">\&#96;&#96;&#96;</span><br><span class="line">    &#39;&#39;&#39;%(</span><br><span class="line">        net.model_name,</span><br><span class="line">        current_time,</span><br><span class="line">        opt.TEST_POSITION,</span><br><span class="line">        summary_info[&#39;total_epoch&#39;],</span><br><span class="line">        summary_info[&#39;best_acc&#39;],</span><br><span class="line">        summary_info[&#39;best_acc_loss&#39;],</span><br><span class="line">        summary_info[&#39;ave_test_acc&#39;],</span><br><span class="line">        summary_info[&#39;ave_test_loss&#39;],</span><br><span class="line">        summary_info[&#39;ave_train_acc&#39;],</span><br><span class="line">        summary_info[&#39;ave_train_loss&#39;],</span><br><span class="line">        os.path.basename(opt.TRAIN_DATASET_PATH),</span><br><span class="line">        os.path.basename(opt.TEST_DATASET_PATH),</span><br><span class="line">        opt.NUM_CLASSES,</span><br><span class="line">        opt.OPTIMIZER,</span><br><span class="line">        opt.LEARNING_RATE,</span><br><span class="line">        opt.EMBEDDING_DIM,</span><br><span class="line"></span><br><span class="line">        configs.strip(&#39;\n&#39;),</span><br><span class="line">        str(net)</span><br><span class="line">    )</span><br><span class="line">    with codecs.open(sum_path, &#39;w+&#39;, encoding&#x3D;&#39;utf-8&#39;) as f:</span><br><span class="line">        f.writelines(content)</span><br></pre></td></tr></table></figure>
<p>è®°ç€æŠŠä¸Šé¢```å‰é¢çš„~ è¿™ä¸ªè¡¨ä¸å…¨ï¼Œåé¢ä¼šæœ‰è¡¥å……ï¼Œå†…å®¹ä¹Ÿå¯ä»¥æ ¹æ®ä½ è‡ªå·±æ¨¡å‹å’Œé¡¹ç›®çš„å…·ä½“æƒ…å†µä¿®æ”¹ã€‚</p>
<h2 id="æ¼”ç¤ºæ•ˆæœå¦‚ä¸‹">æ¼”ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</h2>
<h1 id="model-testing-record-form">Model Testing Record Form</h1>
<table>
<thead>
<tr class="header">
<th>Item Name</th>
<th>Information</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Model Name</td>
<td>TextCNNInc</td>
</tr>
<tr class="even">
<td>Tester's Name</td>
<td>Miracle Yoo</td>
</tr>
<tr class="odd">
<td>Author's Nmae</td>
<td>Miracle Yoo</td>
</tr>
<tr class="even">
<td>Test Time</td>
<td>2018-05-13_15:24:43</td>
</tr>
<tr class="odd">
<td>Test Position</td>
<td>Gangge Server</td>
</tr>
<tr class="even">
<td>Training Epoch</td>
<td>100</td>
</tr>
<tr class="odd">
<td>Highest Test Acc</td>
<td>0.7102</td>
</tr>
<tr class="even">
<td>Loss of highest Test Acc</td>
<td>0.1721</td>
</tr>
<tr class="odd">
<td>Last epoch test acc</td>
<td>0.6706</td>
</tr>
<tr class="even">
<td>Last epoch test loss</td>
<td>0.1721</td>
</tr>
<tr class="odd">
<td>Last epoch train acc</td>
<td>0.8904</td>
</tr>
<tr class="even">
<td>Last epoch train loss</td>
<td>1.2189</td>
</tr>
<tr class="odd">
<td>Train Dataset Path</td>
<td>knowledge&amp;log_data.txt</td>
</tr>
<tr class="even">
<td>Test Dataset Path</td>
<td>yibot_two_year_test.txt</td>
</tr>
<tr class="odd">
<td>Class Number</td>
<td>2411</td>
</tr>
<tr class="even">
<td>Framwork</td>
<td>Pytorch</td>
</tr>
<tr class="odd">
<td>Basic Method</td>
<td>Classify</td>
</tr>
<tr class="even">
<td>Input Type</td>
<td>Char</td>
</tr>
<tr class="odd">
<td>Criterion</td>
<td>CrossEntropy</td>
</tr>
<tr class="even">
<td>Optimizer</td>
<td>Adam</td>
</tr>
<tr class="odd">
<td>Learning Rate</td>
<td>0.0010</td>
</tr>
<tr class="even">
<td>Embedding dimension</td>
<td>512</td>
</tr>
<tr class="odd">
<td>Data Homogenization</td>
<td>True</td>
</tr>
<tr class="even">
<td>Pretreatment</td>
<td>Remove punctuation</td>
</tr>
<tr class="odd">
<td>Other Major Param</td>
<td></td>
</tr>
<tr class="even">
<td>Other Operation</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="configs">Configs</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">USE_CUDA           &#x3D; torch.cuda.is_available()</span><br><span class="line">RUNNING_ON_SERVER  &#x3D; False</span><br><span class="line">NET_SAVE_PATH      &#x3D; &quot;.&#x2F;source&#x2F;trained_net&#x2F;&quot;</span><br><span class="line">TRAIN_DATASET_PATH &#x3D; &quot;..&#x2F;database&#x2F;test_train&#x2F;knowledge&amp;log_data.txt&quot;</span><br><span class="line">TEST_DATASET_PATH  &#x3D; &quot;..&#x2F;database&#x2F;test_train&#x2F;yibot_two_year_test.txt&quot;</span><br><span class="line">NUM_EPOCHS         &#x3D; 100</span><br><span class="line">BATCH_SIZE         &#x3D; 8</span><br><span class="line">TOP_NUM            &#x3D; 4</span><br><span class="line">NUM_WORKERS        &#x3D; 1</span><br><span class="line">IS_TRAINING        &#x3D; True</span><br><span class="line">ENSEMBLE_TEST      &#x3D; False</span><br><span class="line">LEARNING_RATE      &#x3D; 0.001</span><br><span class="line">RE_TRAIN           &#x3D; False</span><br><span class="line">TEST_POSITION      &#x3D; &#39;Gangge Server&#39;</span><br><span class="line">OPTIMIZER          &#x3D; &#39;Adam&#39;</span><br><span class="line">USE_CHAR           &#x3D; True</span><br><span class="line">USE_WORD2VEC       &#x3D; True</span><br><span class="line">NUM_CLASSES        &#x3D; 1890#len(get_labels2idx()[0])</span><br><span class="line">EMBEDDING_DIM      &#x3D; 512</span><br><span class="line">VOCAB_SIZE         &#x3D; 20029</span><br><span class="line">CHAR_SIZE          &#x3D; 3403</span><br><span class="line">LSTM_HID_SIZE      &#x3D; 512</span><br><span class="line">LSTM_LAYER_NUM     &#x3D; 2</span><br><span class="line">TITLE_DIM          &#x3D; 200</span><br><span class="line">SENT_LEN           &#x3D; 20</span><br><span class="line">LINER_HID_SIZE     &#x3D; 2000</span><br><span class="line">KERNEL_SIZE        &#x3D; [1,2,3,4,5]</span><br><span class="line">DILA_TITLE_DIM     &#x3D; 20</span><br></pre></td></tr></table></figure>
<h2 id="net-structure">Net Structure</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TextCNNInc(</span><br><span class="line">  (encoder): Embedding(3394, 512)</span><br><span class="line">  (question_convs): ModuleList(</span><br><span class="line">    (0): Sequential(</span><br><span class="line">      (0): Conv1d(512, 200, kernel_size&#x3D;(1,), stride&#x3D;(1,))</span><br><span class="line">      (1): BatchNorm1d(200, eps&#x3D;1e-05, momentum&#x3D;0.1, affine&#x3D;True)</span><br><span class="line">      (2): ReLU(inplace)</span><br><span class="line">      (3): MaxPool1d(kernel_size&#x3D;20, stride&#x3D;20, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    )</span><br><span class="line">    (1): Sequential(</span><br><span class="line">      (0): Conv1d(512, 200, kernel_size&#x3D;(3,), stride&#x3D;(1,))</span><br><span class="line">      (1): BatchNorm1d(200, eps&#x3D;1e-05, momentum&#x3D;0.1, affine&#x3D;True)</span><br><span class="line">      (2): ReLU(inplace)</span><br><span class="line">      (3): MaxPool1d(kernel_size&#x3D;18, stride&#x3D;18, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    )</span><br><span class="line">    (2): Sequential(</span><br><span class="line">      (0): Conv1d(512, 200, kernel_size&#x3D;(1,), stride&#x3D;(1,))</span><br><span class="line">      (1): BatchNorm1d(200, eps&#x3D;1e-05, momentum&#x3D;0.1, affine&#x3D;True)</span><br><span class="line">      (2): ReLU(inplace)</span><br><span class="line">      (3): Conv1d(200, 200, kernel_size&#x3D;(3,), stride&#x3D;(1,))</span><br><span class="line">      (4): BatchNorm1d(200, eps&#x3D;1e-05, momentum&#x3D;0.1, affine&#x3D;True)</span><br><span class="line">      (5): ReLU(inplace)</span><br><span class="line">      (6): MaxPool1d(kernel_size&#x3D;18, stride&#x3D;18, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    )</span><br><span class="line">    (3): Sequential(</span><br><span class="line">      (0): Conv1d(512, 200, kernel_size&#x3D;(3,), stride&#x3D;(1,))</span><br><span class="line">      (1): BatchNorm1d(200, eps&#x3D;1e-05, momentum&#x3D;0.1, affine&#x3D;True)</span><br><span class="line">      (2): ReLU(inplace)</span><br><span class="line">      (3): Conv1d(200, 200, kernel_size&#x3D;(5,), stride&#x3D;(1,))</span><br><span class="line">      (4): BatchNorm1d(200, eps&#x3D;1e-05, momentum&#x3D;0.1, affine&#x3D;True)</span><br><span class="line">      (5): ReLU(inplace)</span><br><span class="line">      (6): MaxPool1d(kernel_size&#x3D;14, stride&#x3D;14, padding&#x3D;0, dilation&#x3D;1, ceil_mode&#x3D;False)</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">  (fc): Sequential(</span><br><span class="line">    (0): Linear(in_features&#x3D;800, out_features&#x3D;2000, bias&#x3D;True)</span><br><span class="line">    (1): BatchNorm1d(2000, eps&#x3D;1e-05, momentum&#x3D;0.1, affine&#x3D;True)</span><br><span class="line">    (2): ReLU(inplace)</span><br><span class="line">    (3): Dropout(p&#x3D;0.5)</span><br><span class="line">    (4): Linear(in_features&#x3D;2000, out_features&#x3D;2411, bias&#x3D;True)</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>å–µå–µå–µ~</p>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>machine-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>What is a pipeline and baseline in machine learning algorithms?</title>
    <url>/2018/04/07/baseline-pipeline/</url>
    <content><![CDATA[<p><strong>This article is from Quora, and the original link is <a href="https://www.quora.com/What-is-a-pipeline-and-baseline-in-machine-learning-algorithms">here</a>.</strong></p>
<h2 id="å…ˆç®€å•æ¦‚æ‹¬ä¸€ä¸‹åŸæ–‡">å…ˆç®€å•æ¦‚æ‹¬ä¸€ä¸‹åŸæ–‡ï¼š</h2>
<ul>
<li>PipelineæŒ‡çš„æ˜¯ä¸€æ•´å¥—æµç¨‹ï¼Œä»å¾—åˆ°æ•°æ®ï¼ŒåŠ å·¥æˆèƒ½ç”¨çš„æ•°æ®ï¼Œé€šè¿‡ä¸€å¥—ç®—æ³•è¿›è¡Œè®­ç»ƒç›´è‡³æœ€ç»ˆè¾“å‡ºçš„è¿™ä¸ªå®Œæ•´è¿‡ç¨‹ã€‚</li>
<li>è€Œä¸æ­¤ç›¸å¯¹ï¼ŒbaselineæŒ‡çš„æ˜¯ä¸€ä¸ªç”¨ä½œå¯¹æ¯”çš„éå¸¸simpleçš„æ–¹æ¡ˆï¼Œé€šå¸¸æ˜¯ä»¥ä¸€äº›å¸‚é¢ä¸Šæµè¡Œçš„åŸºç¡€ç®—æ³•ä¸ºæ ¸å¿ƒçš„æ–¹æ¡ˆï¼Œå…¶ä½œç”¨å°±æ˜¯ä¸ºäº†è®©ä½ æœ‰ä¸€ä¸ªå‚ç…§ï¼Œçœ‹çœ‹è‡ªå·±åˆ°åº•åšåˆ°äº†<strong>å¤šå¥½</strong></li>
</ul>
<span id="more"></span>
<h2 id="ä¸‹é¢æ˜¯prasoon-goyalå¤§ä½¬çš„åŸç­”æ¡ˆ">ä¸‹é¢æ˜¯<a href="https://www.quora.com/profile/Prasoon-Goyal">Prasoon Goyal</a>å¤§ä½¬çš„åŸç­”æ¡ˆï¼š</h2>
<p>A machine learning algorithm usually takes clean (and often tabular) data, and learns some pattern in the data, to make predictions on new data. However, when ML is used in real-world applications, the raw information that you get from the real-world is often not ready to be fed into the ML algorithm. So you need to preprocess that information to create input data for the ML algorithm. Similarly, the output of the ML algorithm by itself is just some number in software, which will need to be processed to perform some action in the real-world.</p>
<p>Letâ€™s take the example of self-driving cars. Say you have cameras mounted on a car, and you want to predict the optimal steering angle given the images from the camera and the speed of the car. Now once you have collected the data, you will have a set of images from the camera, and you will have the speed of the car at various time points. You will need to align the images with the speed of the car based on the timestamp. Secondly, if you are learning in the supervised setting, you would also have recorded the steering angles of the human drivers while collecting the above data. Again, these need to be aligned with the images and the speed data according to timestamp. What you have done so far is preprocessing â€” there is no machine learning yet. Now comes the machine learning part â€” say you train a neural network that is fed these images and corresponding speeds and is trained to predict the optimal steering angle. This is you ML algorithm. Once youâ€™ve trained it, for new data, you perform the preprocessing by aligning camera images and speeds, and feed to the neural network. The neural network outputs a steering angle on a computer screen. Now you need to take this output and actually rewire your car in a way such that the steering wheel rotates based on this output. This part is again not ML.</p>
<p>So this entire framework from converting raw data to data usable by ML algorithm, training an ML algorithm, and finally using the output of the ML algorithm to perform actions in the real-world is the <strong>pipeline</strong>. It is called a pipeline because it is analogous to physical pipelines â€” just as a liquid passes through one pipe, entering the next, sequentially, our data goes through one stage, entering into the next, sequentially.</p>
<hr>
<p>Baseline, on the other hand, is a totally unrelated concept. Letâ€™s say you want to do part-of-speech tagging â€” given an English text, tag each word as noun, pronoun, verb, etc. Note that this is non-trivial because a lot of words could belong to several parts-of-speech, based on the context, e.g. <em>building</em>.</p>
<p>Now, you train an ML model, and you get an accuracy of 80%. Is that good? You canâ€™t answer that question unless you compare your accuracy to something else. That â€œsomething elseâ€ is the <strong>baseline</strong>. Sometimes, you pick a simple baseline. So for the example above, a simple baseline could be to just tag each word with its most common part-of-speech. Or you can use existing popular algorithms for that task as the baseline. The choice of the baseline depends on your objective. The goal is to either beat the baseline, if the goal of your work is to improve accuracy, or get results comparable to the baseline while improving some other aspect of the algorithm (like training time, prediction time, memory usage, etc.)</p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>How are optimizer.step() and loss.backward() related?</title>
    <url>/2018/04/11/backwardAndStep/</url>
    <content><![CDATA[<p>ä»Šå¤©å’ŒåŒå­¦è®¨è®ºçš„æ—¶å€™å‘ç°è¿™ä¸ªåœ°æ–¹çŸ¥è¯†å­˜åœ¨æ¼æ´ï¼Œèµ¶ç´§è¡¥äº†ä¸€æ³¢ã€‚é—®é¢˜å°±æ˜¯optimizer.step() å’Œ loss.backward()è¿™ä¸¤ä¸ªæ€»æ˜¯å‡ºç°åœ¨ä¸€èµ·çš„ä¸¤ä¸ªpytorchå‡½æ•°å„è‡ªæ‰§è¡Œçš„åŠŸèƒ½ã€‚</p>
<h2 id="ç®€å•çš„è¯´">ç®€å•çš„è¯´ï¼Œ</h2>
<ul>
<li>loss.backward()æ ¹æ®è¿™ä¸€è½®çš„lossè®¡ç®—å‡ºäº†ç½‘ç»œä¸­æ‰€æœ‰éœ€è¦è®¡ç®—çš„å¯¼æ•°</li>
<li>optimizer.step()æ ¹æ®ä½ é€‰æ‹©çš„ä¼˜åŒ–å™¨ï¼Œä½¿ç”¨ä¸Šé¢ğŸ‘†loss.backward()è®¡ç®—å‡ºçš„å„ä¸ªå¯¼æ•°æ›´æ–°äº†ç½‘ç»œä¸­çš„å„ä¸ªæƒå€¼</li>
</ul>
<span id="more"></span>
<h2 id="ä»¥ä¸‹ä¸ºè®ºå›åŸæ–‡">ä»¥ä¸‹ä¸ºè®ºå›åŸæ–‡ï¼š</h2>
<p><code>loss.backward()</code> computes <code>dloss/dx</code> for every parameter <code>x</code> which has <code>requires_grad=True</code>. These are accumulated into <code>x.grad</code> for every parameter <code>x</code>. In pseudo-code:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x.grad +&#x3D; dloss&#x2F;dx</span><br></pre></td></tr></table></figure>
<p><code>optimizer.step</code> updates the value of <code>x</code> using the gradient <code>x.grad</code>. For example, the SGD optimizer performs:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x +&#x3D; -lr * x.grad</span><br></pre></td></tr></table></figure>
<p><code>optimizer.zero_grad()</code> clears <code>x.grad</code> for every parameter <code>x</code> in the optimizer. Itâ€™s important to call this before <code>loss.backward()</code>, otherwise youâ€™ll accumulate the gradients from multiple passes.</p>
<p>If you have multiple losses (loss1, loss2) you can sum them and then call backwards once:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">loss3 &#x3D; loss1 + loss2</span><br><span class="line">loss3.backward()</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Šæ²¡æœ‰è‰²å½©çš„å¤šç¦ä½œå’Œä»–çš„å·¡ç¤¼ä¹‹å¹´ã€‹è¯»åæ„Ÿ</title>
    <url>/2019/07/16/book-review-ironaki/</url>
    <content><![CDATA[<p>å½“ä¸–ç•Œå„å›½çš„ä¹¦ï¼Œæˆ–æ›´å‡†ç¡®çš„è¯´ï¼Œå°è¯´ï¼Œé½èšä¸€å ‚æ—¶ï¼Œæˆ‘æ‰å¦‚æ­¤æ¸…æ™°çš„æ„è¯†åˆ°ï¼Œæ–‡åŒ–è®¤åŒæ„Ÿæ˜¯å¤šä¹ˆçš„é‡è¦ï¼Œä»¥åŠï¼Œæ—¥æœ¬çš„æ–‡å­¦ä¸æ–‡åŒ–ç«Ÿå¦‚æ­¤æ·±åˆ»åœ°å½±å“äº†æˆ‘çµé­‚æ·±å¤„çš„æŸäº›ä¸œè¥¿ï¼Œå°±å®›å¦‚åœ°éœ‡è¿‡åçš„è·¯é¢ä¸€èˆ¬ï¼Œå°±é‚£ä¹ˆå­˜åœ¨ç€ï¼Œä»¿ä½›å®ƒä¸€å¼€å§‹å°±åœ¨é‚£é‡Œã€‚å¾ˆéš¾è¯´è¿™ç§å½±å“æ˜¯å‘ç€ä»€ä¹ˆæ–¹å‘çš„ï¼Œå¦‚æœæœ‰æ–¹å‘çš„è¯ã€‚å½“ç„¶ï¼Œä¹Ÿæ— ä»å¾—çŸ¥è¿™ç§å½±å“æœ‰æ²¡æœ‰å¯èƒ½è¢«å´­æ–°åœ°å‡ºç°åœ¨æˆ‘é¢å‰çš„å…¶ä»–æ–‡åŒ–æ‰€ç¢¾å¹³ï¼Œé‡æ–°æµ‡ä¸Šæ²¥é’ï¼Œå†åˆ»èš€ã€‚ä½†åªæœ‰ä¸€ç‚¹æ˜¯å¦‚æ­¤æ˜äº®è€Œé€šé€ï¼Œå°±æ˜¯ä½œä¸ºâ€œå†å²â€ï¼Œè¿™ç§å½±å“å·²ç»å®å®åœ¨åœ¨åœ°æ”¹å˜äº†å¾ˆå¤šä¸œè¥¿çš„å½¢çŠ¶ï¼Œå­•è‚²äº†ä¸€ä¼—æ¬¢æ„‰ä¸çƒ¦æ¼ï¼Œå¹¶å°†æŒç»­åœ°ä»¥æŸç§å¯è§æˆ–ä¸å¯è§çš„æ–¹å¼å†³å®šç€è®¸å¤šå°šæœªè¯ç”Ÿäºæ­¤çš„äº‹ç‰©ã€‚</p>
<span id="more"></span>
<p>æ„å¤–çš„æ‹¿èµ·è¿™æœ¬æ‘ä¸Šå›çš„ä¹¦æ—¶ï¼Œå¿ƒä¸­æ˜¯ç€å®å……æ»¡ç€æƒŠå–œä¸æ„å¤–ï¼Œä¸ºåˆä¸€æ¬¡çš„ç›¸é‡è€Œæ„ŸåŠ¨ã€‚æ‘ä¸Šä¹¦ä¸­çš„äººç‰©æ€»æ˜¯èƒ½ç»™äººä¸€ç§å¥‡å¼‚è€Œç¾å¦™çš„äº²è¿‘æ„Ÿï¼Œæ€»æ˜¯èƒ½åœ¨æ„å¤–çš„åœ°æ–¹å¼•èµ·äººçš„å…±é¸£ã€‚è¿™äº›äººç‰©æ€§æ ¼å„å¼‚ï¼Œæœ‰ç€å¤§ç›¸å¾„åº­çš„èŒä¸šï¼Œå…¶ä¸­çš„å¤§å¤šéƒ½æ˜¯åœ¨ç»ˆå½’å’Œæˆ‘æ— ç¼˜çš„åœ°æ–¹åšç€é‚£äº›ç†æ‰€å½“ç„¶è¦æœ‰äººåšä½†å´ä»æœªè¢«æˆ‘è€ƒè™‘è¿‡çš„å·¥ä½œã€‚å¥‡æ€ªçš„æ˜¯ï¼Œä»–ä»¬æ€»èƒ½å¸¦ç»™æˆ‘ä¸€ç§â€œç”Ÿæ´»æœ¬åº”æ˜¯è¿™æ ·â€çš„è¿‘ä¹ç„å¹»çš„ä½“éªŒã€‚ä½œç»å†çš„ç”Ÿæ´»ï¼Œä½œä½“éªŒè¿‡çš„å›°è‹¦ä¸çº ç»“ï¼Œä½œæ„Ÿå—è¿‡åˆ°çš„é‚£èˆ¬é¢œè‰²ç¨€ç–ã€é™å¦‚æ­¢æ°´ã€åªæœ‰ä¸çŸ¥ä¸ºä½•æ³›èµ·çš„è–„æš®ä¸ç»å¯¹çš„é»‘æš—äº¤æ›¿çš„æ—¥æ—¥å¤œå¤œï¼Œä¼¼ä¹éƒ½èƒ½åƒæ˜¯ç«‹ä½“ç”µå½±ä¸€èˆ¬æ‹¼å‘½åœ°ä»èº«ä½“çš„æ¯ä¸ªæ¯›å­”æ¸—å…¥è¿›æ¥ï¼Œä¸çŸ¥ä¸è§‰é—´ï¼Œè¯»è€…å·²å½»åº•å˜æˆäº†äº‹ä»¶çš„å‚ä¸è€…ï¼Œå‘å‰ç¿»é¡µçš„åŠ¨ä½œä¹Ÿå…·è±¡åŒ–ä¸ºäº†åœ¨æ··æ²Œä¸å¸Œæœ›ä¸­å‘å‰è¿ˆè¿›çš„æ­¥å­ï¼Œåªæ˜¯å•çº¯çš„å¸Œæœ›è§¦æ‘¸å³å°†åˆ°æ¥çš„æ—¶é—´ï¼Œå¦‚åŒæ²™å­ä»æŒéš™é—´æµè¿‡é‚£èˆ¬è‡ªç„¶ã€‚</p>
<p>ä½œçš„å·¡ç¤¼ä¹Ÿæˆäº†æˆ‘ç»§ç»­å‘å‰æ¢å¯»çš„è‡ªç„¶å»¶ä¼¸ï¼Œä½†å…¶é—´æˆ‘çš„å¿ƒç†ä¹Ÿåœ¨ä¸æ–­å‘ç”Ÿç€å˜åŒ–ã€‚ä»ä¸€å¼€å§‹çš„æ€¥ä¸å¯è€è¯•å›¾çŸ¥é“åå…­å¹´å‰ç©¶ç«Ÿå‘ç”Ÿè¿‡ä»€ä¹ˆï¼Œåˆ°æ¸æ¸é™ä¸‹å¿ƒæ¥ä½“å‘³ä½œå½“ä¸‹é‚£å»ºç«‹åœ¨å°˜å°çš„è®°å¿†çš„ç›–å­ä¹‹ä¸Šçš„å¹³é™ç”Ÿæ´»ï¼›ä»è¯•å›¾å¯¹ç»¿å·æ‰€è¨€è¿›è¡Œé€»è¾‘ä¸ç†æ€§çš„è€ƒé‡ï¼Œåˆ°æŠŠè¿™å½“åšä¸€ä¸ªå•çº¯çš„æ•…äº‹ï¼Œæˆ–æ›°äº‹å®æ¥æ¥å—ï¼›ä»æœŸå¾…åæ–‡ä¸­æ‰¾åˆ°å¼ºå¥¸ä¸å‹’æ­»ç™½æ ¹æŸšæœ¨çš„ä¸¤ä¸ªäº¦æˆ–æ˜¯åŒä¸€ä¸ªå‡¶æ‰‹ï¼Œåˆ°æ”¾å¼ƒå¯¹å‡¶æ‰‹æœ¬èº«çš„è¿½æº¯ï¼Œè€Œæ˜¯å°†æ„Ÿæƒ…é€æ¸èšç„¦äºå³å°†å‘ç”Ÿçš„æ•…äº‹ã€ç”Ÿè€…çš„è‡ªçœä¸Šä»¥åŠè¿™ä¸ªâ€œäº‹å®â€é€ æˆçš„å½±å“ä¸Šå»äº†ã€‚äº‹ä»¶å·²ç»å‘ç”Ÿï¼Œè€Œå®ƒæ˜¯æ€ä¹ˆå‘ç”Ÿçš„ï¼Œç©¶ç«Ÿæ˜¯ä¸€ä¸ªæ— å·®åˆ«æ€äººçŠ¯è¿˜æ˜¯ä¸€ä¸ªä¸ç™½ç›¸è¯†çš„å¯†å‹åšå‡ºäº†è¿™èˆ¬äº‹ç«¯ï¼Œéƒ½å·²ç»æˆä¸ºäº†åå‰¯å…¶å®çš„å†å²ï¼Œè€Œå†å²ä¸æ˜¯ç”±ç‚¹ã€ç”±å°‘æ•°äººç»„æˆçš„ï¼Œè€Œæ˜¯ç”±å­˜æ´»å…¶é—´çš„ä¸€æ¡æ¡é—ªå…‰çš„ç”Ÿå‘½ä¹‹çº¿ç¼–ç»‡è€Œæˆã€‚ä¸è¿‡ä¸€ä¸ªäº‹ä»¶çš„å‘ç”Ÿä¼šå°†è®¸å¤šæ‚ç³…çš„ä¸œè¥¿èšåˆåœ¨ä¸€èµ·ï¼Œæˆä¸ºä¸€ä¸ªæœ‰æœºçš„æ•´ä½“ã€‚è¿™åŒ…æ‹¬äº‹ä»¶æˆä¸ºäº‹ä»¶ä¹‹å‰çš„è¯¸å¤šäº›å¾®çš„åŸå› ä¸å¾å…†ã€äº‹ä»¶å‘ç”Ÿè¿™ä¸ªäº‹å®ä¸å…¶è¿‡ç¨‹ã€äº‹ä»¶ä¸åŒå±‚æ¬¡ã€ä¸åŒä½œç”¨çš„åç»­å½±å“ä»¥åŠç›¸å…³è€…å¿ƒç»ªçš„ç‚¹æ»´å˜åŒ–ã€‚è€Œè§‚å¯Ÿã€è¿½æº¯ï¼Œç”šè‡³è§£å¼€åç”¨æ”¾å¤§é•œç ”ç©¶è¿™äº›çº¿æŸåˆ™æ˜¯è¿œä¸ºæœ‰è¶£çš„ã€‚</p>
<p>â€œæˆ‘ä»¬å¯ä»¥ç»™è®°å¿†ç›–ä¸Šç›–å­ï¼Œä½†æ˜¯ç»ä¸å¯èƒ½æ©ç›–å†å²ã€‚â€</p>
<p>â€œè¯´ä¸å®šé‡Œé¢è¿˜æœ‰å½»åº•å‡å›ºã€å†ä¹Ÿæ‰“ä¸å¼€çš„ç›–å­ã€‚â€</p>
<p>å–œæ¬¢æäº†è¿™ç§å¯¹è¯ï¼Œæ­£å¦‚æˆ‘å¯¹è¿™ç§æ²‰æµ¸å¼ä½“éªŒçš„å–œçˆ±ã€‚å½“ä¸€ä¸ªæ—è§‚è€…æ€»ä¼šè®©äººå¤šå¤šå°‘å°‘å˜å¾—è‡ªå‚²ï¼Œé”™è¯¯åœ°è®¤ä¸ºè‡ªå·±æ— æ‰€ä¸èƒ½ï¼Œä½†ä½œä¸ºä¸€ä¸ªäº²å†è€…ï¼Œèƒ½ä½“ä¼šåˆ°çš„ä¸œè¥¿åˆ™å¤§ä¸ç›¸åŒã€‚ä¸€ä¸ªæ˜¾è‘—çš„åŒºåˆ«æ˜¯æ²¡æœ‰ä¸€ä½ä»¤äººå°Šæ•¬çš„ä¸Šå¸åœ¨ä¸€æ—è€³è¯­ç€å‘Šè¯‰ä½ ä¸€äº›æˆ–å…³é”®æˆ–æ— å…³ç´§è¦çš„ä¿¡æ¯ï¼Œä½ çŸ¥é“çš„å¹¶ä¸æ¯”ä½ å†¯ä¾çš„äººç‰©æ›´å¤šã€‚æœ‰äº›ä¸œè¥¿æ˜¯æ°¸è¿œæ— ä»å¾—çŸ¥çš„ï¼Œæ¯”å¦‚ç°ç”°æœ€ç»ˆä¸ºä½•çªç„¶æ¶ˆå¤±ï¼Œè€Œç»¿å·åœ¨æ¼”å¥å‰ç…æœ‰ä»‹äº‹åœ°æ”¾åœ¨é’¢ç´ä¸Šçš„å°åŒ…é‡Œåˆ°åº•åŒ…è£¹ç€ä»€ä¹ˆç§˜å¯†ï¼Œæˆ–æ˜¯ç™½ç©¶ç«Ÿæ€€ç€ä»€ä¹ˆæ ·çš„å¿ƒæ€è§è¯ç€å°å›¢ä½“åŒè‡ªå·±é¢„æƒ³çš„ä¸€æ ·é€æ¸èµ°å‘åˆ†å´©ç¦»æï¼Œåˆä¸ºä½•åœ¨é­å—ç¾éš¾åé€‰æ‹©å«ç¥¸äºä½œï¼Œä»¥åŠåé¢ç¼˜ä½•åªèº«ä¸€äººæ¥åˆ°äº†ä¸€åº§å´­æ–°çš„åŸå¸‚ã€‚å½“ç„¶ï¼Œæ–‡ä¸­å……æ»¡äº†æš—ç¤ºï¼Œè¿™äº›æš—ç¤ºå¯ä»¥å¸®åŠ©æˆ‘ç†è§£ï¼Œæˆ–å•çº¯çš„æ£æµ‹è¿™ç»µå¯†ç¹å¤çš„ç”Ÿå‘½ä¹‹çº¿ä¸­åˆ»èš€ç€çš„çº¹æ ·ï¼Œå´æ°¸è¿œåªèƒ½æ­¢æ­¥äºæ£æµ‹ã€‚æˆ‘å¾ˆæ— åŠ›çš„å‘ç°ï¼Œæˆ‘èƒ½åšçš„åªæ˜¯æ¥å—ä¸€ä¸ªåˆä¸€ä¸ªçš„å‡è®¾ï¼Œè€Œè¿™åˆ™æºäºä»¤äººç»æœ›çš„ä¿¡æ¯ä¸è¶³ã€‚æå‰ç¦»å¼€çš„ç™½å¦‚ç†æ‰€å½“ç„¶çš„ä¸€èˆ¬æ— æ³•å†åéœ²å‡ºä»»ä½•ä¿¡æ¯ï¼Œè€Œæˆ‘èƒ½åšçš„ï¼Œåªæ˜¯å‘†å‘†åœ°å‡æœ›ç€è¿™ä¸ªå°½æœ€å¤§åŠªåŠ›æ‹¼å‡ºçš„ã€æ®‹ç ´ä¾æ—§çš„æ‹¼å›¾ï¼Œä»¥åŠèµ°å¥½åé¢çš„è·¯ã€‚</p>
<p>æ‰€æœ‰çš„ä¸€åˆ‡éƒ½æºè‡ªäºè¿™ä¸ªå¤šå½©çš„å°å›¢ä½“ã€‚æˆ‘æ˜¯å…ˆçœ‹äº†ä¹¦ç±çš„ç®€ä»‹å†å¼€è¯»çš„ã€‚è¿™ä»¶äº‹å¹¶ä¸ä¸€å®šä¼šå‘ç”Ÿï¼Œåªæ˜¯å¶ç„¶è¯»äº†ç®€ä»‹ï¼Œæ²¡æœ‰æ›´å¤šæˆ–æ›´å°‘ã€‚èµ·å…ˆæˆ‘å¯¹è¿™ä¸ªè®²è¿°å°å›¢ä½“çš„ä¸»é¢˜æ˜¯å¤šå°‘æœ‰äº›åæ„Ÿçš„ï¼Œæ¯•ç«Ÿï¼Œæˆ‘åœ¨ç»å¤§å¤šæ•°æ—¶å€™éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œè™½ä¸åƒä½œä¸€èˆ¬å®Œå…¨æ²¡æœ‰æœ‹å‹ï¼Œè‡ªè§†ä¸ºä¸€ä¸ªç©ºè¡è¡çš„å®¹å™¨ç­‰å¾…åˆ«äººåŠ å…¥ï¼Œä½†ä¹Ÿé•¿æœŸä¿æŒå¹¶äº«å—ç€è¿™ç§â€œç›¸å¯¹å­¤ç‹¬â€çš„çŠ¶æ€ã€‚éœ€è¦æ—¶ï¼Œä¹Ÿä¼šçº¦ä¸€äºŒæœ‹å‹å°èšï¼Œä½†å¯¹ä¸‰äººä»¥ä¸Šçš„åœºåˆï¼Œè™½å¹¶ééš¾ä»¥åº”å¯¹ï¼Œä½†è‹¥éå¿…è¦ï¼Œå€’ä¹Ÿç»ä¸ä¼šè‡ªå‘ç»„ç»‡ã€‚æ‰€ä»¥æˆ‘å¯¹äººåœ¨â€œå°å›¢ä½“â€ä¸­çš„ä½“ä¼šå®é™…ä¸Šæ˜¯ç›¸å¯¹ç¼ºä¹çš„ï¼Œå³ä½¿æˆ‘å¹¶æ²¡æœ‰å› æ­¤æ„Ÿåˆ°ä¸æ¯«çš„ä¸ä¾¿ã€‚è¿™ç§ç©ºç¼ºå°±åƒç¹å¿™è·¯å£ä¸­å¤®çªå…€çš„å‡ºç°çš„ä¸€å£æ— ç›–ä¹‹äº•ï¼Œç”±äºå¤§å®¶é»˜è®¤éƒ½ä¼šç»•è¡Œï¼Œæ‰€ä»¥å¤§æŠµä¹Ÿéƒ½å¯¹æ­¤è§†è€Œä¸è§ï¼Œä¹…è€Œä¹…ä¹‹æ—¢ä¸ä¼šæ„Ÿè§‰ä¸ä¾¿ï¼Œä¹Ÿä¸ä¼šè§‰å¾—æœ‰ä»€ä¹ˆæŸå¤±ï¼Œä½†äº•å°±åœ¨é‚£é‡Œã€‚å¦å¤–ï¼Œå°å›¢ä½“ä¼šè®©äººä¸ç”±è‡ªä¸»çš„å’Œâ€œæ’ä»–â€â€œå¯¹ç«‹â€ï¼Œç”šè‡³â€œæ¬ºå‡Œâ€è”ç³»åœ¨ä¸€èµ·ï¼Œè¿™ä¸ªå‘éŸ³æ€»çš„æ¥è¯´è¿˜æ˜¯ä»¤äººä¸é‚£ä¹ˆæ„‰å¿«çš„ã€‚ä½†è¯´æ¥æ„å¤–çš„æ˜¯ï¼Œå°±åœ¨ä¸ä¹…å‰çš„æ—…è¡Œä¸­ï¼Œæˆ‘å®æ‰“å®çš„ä½“éªŒäº†ä¸€æŠŠè¿™ç§å››äº”ä¸ªäººé•¿æœŸä¿æŒç›¸åŒæ­¥è°ƒé›†ä½“è¡ŒåŠ¨æœ¬èº«å¸¦æ¥çš„å®åœ¨æ„Ÿã€æ„‰æ‚¦æ„Ÿä¸å®‰å¿ƒæ„Ÿï¼Œä¹Ÿç”±è¡·çš„è®¤åŒæ‘ä¸Šç¬”ä¸‹çš„é‚£ç§æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±è§’è‰²ï¼Œä¸”æ„¿å°†è‡ªå·±æœ€å¥½çš„ä¸€é¢è´¡çŒ®ç»™å°å›¢ä½“è¿™ç§è¡Œä¸ºæœ¬èº«å¸¦æ¥çš„â€œå¤æ‚çš„åŒ–å­¦ååº”â€çš„ç”˜ç¾ã€‚ä¸å¾—ä¸æ‰¿è®¤ï¼Œé‚£ç¡®æ˜¯ååˆ†ç¾å¦™çš„äº‹æƒ…ã€‚çŸ­çŸ­å‡ å¤©çš„ç»å†ä¾¿å½»åº•é¢ è¦†äº†æˆ‘ä¹‹å‰çš„åˆ»æ¿å°è±¡ï¼Œæ›´ä½•å†µä½œä»–ä»¬æ˜¯å°†è‡ªå·±çš„å‡ ä¹æ•´ä¸ªæœ€ä¸ºç¾å¥½çš„é’æ˜¥ç‰¹æ„æŠ½å‡ºã€ç„¶åå…±äº«çš„äº²å¯†æ— é—´å°å›¢ä½“ã€‚</p>
<p>â€œåˆ°äº†åæœŸï¼Œå°å›¢ä½“å­˜åœ¨çš„ç›®æ ‡å°±æ˜¯ç»´æŒå…¶å­˜ç»­â€ã€‚ä¹¦ä¸­å¤§è‡´æœ‰è¿™æ ·ä¸€å¥ã€‚ä¸ºäº†è¿™ä¸ªå­˜ç»­æœ¬èº«ï¼Œå¤§å®¶éƒ½é»˜è®¤äº†ä¸€äº›è§„åˆ™ï¼Œç”šè‡³åŒ…æ‹¬æ‰¼æ€å¿ƒä¸­é€æ¸èŒèŠ½çš„ã€å†™ä½œæ¬æ·¡ï¼Œè¯»ä½œæµ“çƒˆçš„ç›¸äº’é—´çš„çˆ±æ…•ä¹‹æƒ…ã€‚é»‘æ˜¯ä¸€ä¸ªä»¤æˆ‘å€æ„Ÿç—›å¿ƒçš„è§’è‰²ã€‚å¥¹ä¼¼ä¹æ€»æ˜¯è—åœ¨ç™½æŠ•ä¸‹çš„é˜´å½±é‡Œï¼Œä½œä¸ºä¸€ä¸ªé™ªè¡¬ä½¿å¾—å­˜åœ¨æ„ˆå‘çªå‡ºç€ç™½çš„å­˜åœ¨ã€‚äº”äººç»„åˆä¸­çš„ä¸‰ä¸ªç”·ç”Ÿæ— ç–‘éƒ½æ˜¯æš—åœ°é‡Œå–œæ¬¢ç€ç™½çš„ï¼Œå°½ç®¡ä½œå¾ˆè‚¯å®šå¦‚æœé»‘å¯¹ä»–å‘Šç™½ï¼Œä»–ä¸€å®šä¼šå¾ˆè‡ªç„¶åœ°æ¥å—ï¼Œå¹¶å¼€å§‹ä¸€æ®µä¸ä¸€å®šä¼šç»“æœï¼Œä½†æ³¨å®šæœ‰ç€å…¶ç‹¬ç‰¹è‰²å½©çš„æ‹æƒ…ã€‚ä½†æ²¡äººæ„¿æ„æ‰“ç ´è¿™ä¸ªå°å›¢ä½“çš„ç¨³å®šæ€§ã€‚ä¹Ÿæ²¡äººæ„¿æ„ç«™å‡ºæ¥ï¼Œé“å‡ºå°å›¢ä½“æœ‰ä¸€å¤©ç»ˆå°†è¿›å…¥æ–°çš„é˜¶æ®µè¿™ä¸€äº‹å®ã€‚åˆ†ç¦»æ‰æ˜¯çœŸæ­£çš„æ°¸æ’ï¼Œè¿Ÿåˆ°çš„åˆ†ç¦»å¹¶ä¸ä¼šå¸¦æ¥æ°¸ä¹…ï¼Œåè€Œä¼šå¦‚åœ¨ä½œç”»ç»ˆäº†ä¹Ÿä¸æ„¿æŠ¬èµ·çš„ç”»ç¬”ä¸€èˆ¬ï¼Œæœ€ç»ˆå°†å®Œç¾çš„ç”»é¢æµ¸æ·«æˆä¸€ç§é¢ç›®ç‹°ç‹çš„å½¢çŠ¶ã€‚</p>
<p>æœ¬ä½œå¯¹æ­»äº¡è¾¹ç¼˜çš„æ™¯è±¡æå†™çš„ä¹Ÿååˆ†çœŸåˆ‡ï¼ŒçœŸåˆ‡åˆ°æ ©æ ©å¦‚ç”Ÿï¼Œä»¿ä½›è‡ªå·±çœŸçš„åœ¨äººç”Ÿçš„æŸä¸€é˜¶æ®µå—åˆ°è¿‡æ­¤èˆ¬æ‰“å‡»ï¼Œä¸€è¹¶ä¸æŒ¯åˆ°é™é»˜æ— å£°ã€‚â€œç¯é¡¾å››å‘¨ï¼Œæ˜¯ä¸€ç‰‡å¸ƒæ»¡å²©çŸ³çš„è’å‡‰å¤§åœ°ã€‚æ²¡æœ‰ä¸€æ»´æ°´ï¼Œä¸é•¿ä¸€æ£µè‰ã€‚æ²¡æœ‰é¢œè‰²ï¼Œä¹Ÿæ²¡æœ‰åƒæ ·çš„å…‰ã€‚æ—¢æ²¡æœ‰å¤ªé˜³ï¼Œåˆæ²¡æœ‰æœˆäº®å’Œæ˜Ÿæ˜Ÿã€‚åªæ€•ä¹Ÿæ²¡æœ‰æ–¹å‘ã€‚å”¯æœ‰ä¸æ˜åº•ç»†çš„è–„æš®ä¸æ·±ä¸è§åº•çš„é»‘æš—ï¼Œéš”ä¸€å®šæ—¶é—´äº¤æ›¿è½®æ¢ã€‚å¯¹äºæ‹¥æœ‰æ„è¯†çš„äººæ¥è¯´ï¼Œé‚£æ˜¯ç»ˆæçš„è¾¹å¢ƒã€‚ä½†åŒæ—¶é‚£é‡Œåˆæ˜¯ä¸°æ¶¦ä¹‹åœ°ã€‚â€ä½œæœ€ç»ˆè¿˜æ˜¯æ¸¸å‡ºäº†é‚£ç‰‡è‹èŒ«å¤œè‰²ä¸­çš„å¤§æµ·ï¼Œå³ä½¿ä»–è¢«äººä»ç”²æ¿ä¸Šå”çªåˆä¸ç•™æƒ…é¢åœ°æ‰”ä¸‹äº†æµ·ï¼Œå³ä½¿ç”šè‡³æ²¡äººçŸ¥é“ä»–çš„æ¶ˆå¤±ã€‚åœ¨å­¤ç‹¬çš„ç»ˆç‚¹ï¼Œä½œçœ‹åˆ°çš„ä¸ä»…ä»…æ˜¯æ— è¾¹çš„é»‘æš—ï¼Œä»–ä¹Ÿçœ‹åˆ°äº†é‚£ä¸°æ¶¦ä¹‹åœ°ã€‚æ¸¸æ³³ï¼Œä¼¼ä¹ä½¿ä»–çš„çµé­‚æ›´åŠ å¥å£®ã€‚åœ¨æ„Ÿæƒ…æ²¡æœ‰ç»å†è¿‡å·¨å¤§çš„éœ‡åŠ¨ï¼Œä¸ä¼šè½»æ˜“å¯¹ä½•è€…åŠ¨æƒ…è¿™ä¸€ç‚¹æˆ‘ä¹Ÿå¯ä»¥å†ä½œèº«ä¸Šæ‰¾åˆ°äº›è®¸è‡ªå·±çš„å½±å­ã€‚å°½ç®¡è¿‘åœ¨å’«å°ºï¼Œå´ç»ˆç©¶æ— æ³•æ‹¿å‡ºååˆ†çš„æ¿€æƒ…å»è¿½é€ï¼Œå»æ¸´æ±‚ã€‚å¦‚æœè¯´ä½œæ˜¯å› ä¸ºå¤§äºŒæ—¶è¢«å°å›¢ä½“æŠ›å¼ƒæ‰€å¸¦æ¥å·¨å¤§çš„åˆ›ä¼¤æ‰€è‡´ï¼Œé‚£è‡ªå·±åˆæ˜¯ç¼˜ä½•ï¼Ÿé™é™æœŸå¾…ç€ä¸€ä¸ªå†²åŠ¨ï¼Œä¸€ä¸ªåœ¨ç‰¹åˆ«çš„æ—¶å…‰é‡Œçªç„¶æ¶Œç°å‡ºçš„â€œå·¡ç¤¼ä¹‹å¹´â€çš„å†²åŠ¨ã€‚</p>
<p>æ„¿ä½ æˆ‘ç»ˆæœ‰ä¸€å¤©èƒ½æ‰¾å¯»åˆ°å¯ä»¥äº’ç›¸æ”¾å¿ƒåœ°å­˜æ”¾å¿ƒçµä¸è®°å¿†ç¢ç‰‡çš„å¯¹æ–¹ï¼Œä»¥åŠæ„¿ç»ˆæœ‰ä¸€å¤©èƒ½å¤Ÿå“å‘³å¹¶äº«å—å­¤ç‹¬ä¸é™ªä¼´å„è‡ªç‹¬ç‰¹çš„é†‡é¦™ã€‚</p>
]]></content>
      <tags>
        <tag>book-review</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLABä¸­åˆ›å»ºé«˜ç»´æ•°ç»„</title>
    <url>/2018/08/23/build-3d-mat/</url>
    <content><![CDATA[<h1 id="é—®é¢˜">é—®é¢˜</h1>
<p>å¦‚ä½•åœ¨MATLABä¸­åˆ›å»ºä¸€ä¸ªä¸‰ç»´ï¼ˆæ›´é«˜ç»´åº¦ï¼‰æ•°ç»„ã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h1>
<ol type="1">
<li><p>ä½¿ç”¨ä¸‹æ ‡ï¼ˆå¾ªç¯ï¼‰åˆ›å»ºä¸‰ç»´æ•°ç»„</p>
<span id="more"></span>
<h3 id="ä»£ç ">ä»£ç </h3>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">2</span></span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">2</span></span><br><span class="line">		<span class="keyword">for</span> k=<span class="number">1</span>:<span class="number">2</span></span><br><span class="line">			A(<span class="built_in">i</span>,<span class="built_in">j</span>,k)=<span class="built_in">i</span>+<span class="built_in">j</span>+k;</span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨ä½ç»´æ•°ç»„åˆ›å»ºä¸‰ç»´æ•°ç»„</p>
<p>å…ˆè¾“å…¥ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œç„¶åé€šè¿‡ç¬¬ä¸‰ç»´æ•°ç»„ä¸å…¶å…³ç³»ç”Ÿæˆç¬¬ä¸‰ç»´æ•°ç»„ã€‚</p>
<h3 id="ä»£ç -1">ä»£ç </h3>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">D2=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">D3(:,:,<span class="number">1</span>)=D2;</span><br><span class="line">D3(:,:,<span class="number">2</span>)=<span class="number">2</span>*D2;</span><br><span class="line">D3(:,:,<span class="number">3</span>)=<span class="number">3</span>*D2;</span><br></pre></td></tr></table></figure>
<h3 id="æŸ¥çœ‹ç»“æœ">æŸ¥çœ‹ç»“æœ</h3>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šD2 å¹¶æŒ‰ã€Enterã€‘å¯ä»¥æŸ¥çœ‹è¾“å…¥çš„äºŒç»´æ•°ç»„ã€‚</span><br><span class="line">å¾—åˆ°ï¼š</span><br><span class="line">D2 =</span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">5</span>     <span class="number">6</span></span><br><span class="line">     <span class="number">7</span>     <span class="number">8</span>     <span class="number">9</span></span><br><span class="line">è¾“å…¥ï¼šD3 å¹¶æŒ‰ã€Enterã€‘å¯ä»¥æŸ¥çœ‹ç”Ÿæˆçš„ä¸‰ç»´æ•°ç»„ã€‚</span><br><span class="line">D3(:,:,<span class="number">1</span>) =</span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">5</span>     <span class="number">6</span></span><br><span class="line">     <span class="number">7</span>     <span class="number">8</span>     <span class="number">9</span></span><br><span class="line">D3(:,:,<span class="number">2</span>) =</span><br><span class="line">    <span class="number">2</span>     <span class="number">4</span>     <span class="number">6</span></span><br><span class="line">     <span class="number">8</span>    <span class="number">10</span>    <span class="number">12</span></span><br><span class="line">    <span class="number">14</span>    <span class="number">16</span>    <span class="number">18</span></span><br><span class="line">D3(:,:,<span class="number">3</span>) =</span><br><span class="line">     <span class="number">3</span>     <span class="number">6</span>     <span class="number">9</span></span><br><span class="line">    <span class="number">12</span>    <span class="number">15</span>    <span class="number">18</span></span><br><span class="line">    <span class="number">21</span>    <span class="number">24</span>    <span class="number">27</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨åˆ›å»ºå‡½æ•°åˆ›å»ºä¸‰ç»´æ•°ç»„</p>
<p>ä½¿ç”¨<code>cat</code>å‘½ä»¤æ¥åˆ›å»ºé«˜ç»´æ•°ç»„ã€‚Catå‘½ä»¤çš„æ ¼å¼ä¸º<code>C=catï¼ˆdim,A1,A2,A3,A4â€¦â€¦ï¼‰</code>å…¶ä¸­dimè¡¨ç¤ºçš„æ˜¯åˆ›å»ºæ•°ç»„çš„ç»´åº¦ï¼ŒA1,A2,A3,A4è¡¨ç¤ºçš„æ˜¯å„ç»´åº¦ä¸Šçš„æ•°ç»„ã€‚</p>
<h3 id="ä»£ç -2">ä»£ç </h3>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">D2=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line">C=<span class="built_in">cat</span>(<span class="number">3</span>,D2,<span class="number">2</span>D2,<span class="number">3</span>D2);</span><br></pre></td></tr></table></figure>
<h3 id="ç¨‹åºç»“æœ">ç¨‹åºç»“æœ</h3>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šC(:,:,<span class="number">1</span>) å¹¶æŒ‰ã€Enterã€‘</span><br><span class="line">å¾—åˆ°ï¼š</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">     <span class="number">1</span>     <span class="number">2</span>     <span class="number">3</span></span><br><span class="line">     <span class="number">4</span>     <span class="number">5</span>     <span class="number">6</span></span><br><span class="line">     <span class="number">7</span>     <span class="number">8</span>     <span class="number">9</span></span><br><span class="line">è¾“å…¥ï¼šC(:,:,<span class="number">2</span>) å¹¶æŒ‰ã€Enterã€‘</span><br><span class="line">å¾—åˆ°ï¼š</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">     <span class="number">2</span>     <span class="number">4</span>     <span class="number">6</span></span><br><span class="line">     <span class="number">8</span>    <span class="number">10</span>    <span class="number">12</span></span><br><span class="line">    <span class="number">14</span>    <span class="number">16</span>    <span class="number">18</span></span><br><span class="line">è¾“å…¥ï¼šC(:,:,<span class="number">3</span>) å¹¶æŒ‰ã€Enterã€‘</span><br><span class="line">å¾—åˆ°ï¼š</span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line">     <span class="number">3</span>     <span class="number">6</span>     <span class="number">9</span></span><br><span class="line">    <span class="number">12</span>    <span class="number">15</span>    <span class="number">18</span></span><br><span class="line">    <span class="number">21</span>    <span class="number">24</span>    <span class="number">27</span></span><br></pre></td></tr></table></figure></li>
<li><p>åˆ©ç”¨ã€repmatã€‘å‘½ä»¤ä»¥åŠã€reshapeã€‘å‘½ä»¤åœ¨ç”Ÿæˆé«˜ç»´æ•°ç»„</p></li>
</ol>
]]></content>
      <tags>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>PyTorchä¸­ä½¿ç”¨æŒ‡å®šçš„GPU</title>
    <url>/2018/05/14/certain-GPU/</url>
    <content><![CDATA[<p><a href="http://www.cnblogs.com/darkknightzh/p/6836568.html">[è½¬]PyTorchä¸­ä½¿ç”¨æŒ‡å®šçš„GPU</a></p>
<p>PyTorché»˜è®¤ä½¿ç”¨ä»0å¼€å§‹çš„GPUï¼Œå¦‚æœGPU0æ­£åœ¨è¿è¡Œç¨‹åºï¼Œéœ€è¦æŒ‡å®šå…¶ä»–GPUã€‚</p>
<span id="more"></span>
<p>æœ‰å¦‚ä¸‹ä¸¤ç§æ–¹æ³•æ¥æŒ‡å®šéœ€è¦ä½¿ç”¨çš„GPUã€‚</p>
<ol type="1">
<li><p>ç±»ä¼¼tensorflowæŒ‡å®šGPUçš„æ–¹å¼ï¼Œä½¿ç”¨CUDA_VISIBLE_DEVICESã€‚</p>
<p>1.1 ç›´æ¥ç»ˆç«¯ä¸­è®¾å®šï¼š</p>
<p><code>CUDA_VISIBLE_DEVICES=1 python my_script.py</code></p></li>
</ol>
<p>â€‹ 1.2 pythonä»£ç ä¸­è®¾å®šï¼š</p>
<p>â€‹ <code>import os os.environ["CUDA_VISIBLE_DEVICES"] = "2"</code></p>
<p>â€‹ è§ç½‘å€ï¼š<a href="http://www.cnblogs.com/darkknightzh/p/6591923.html" class="uri">http://www.cnblogs.com/darkknightzh/p/6591923.html</a></p>
<ol start="2" type="1">
<li><p>ä½¿ç”¨å‡½æ•° set_device</p>
<p><code>import torch torch.cuda.set_device(id)</code></p>
<p>è¯¥å‡½æ•°è§ pytorch-master__init__.pyã€‚</p>
<p>ä¸è¿‡å®˜æ–¹å»ºè®®ä½¿ç”¨CUDA_VISIBLE_DEVICESï¼Œä¸å»ºè®®ä½¿ç”¨ set_device å‡½æ•°ã€‚</p></li>
</ol>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>pytorch</tag>
        <tag>server</tag>
      </tags>
  </entry>
  <entry>
    <title>æ”¹å˜flaskç›‘å¬çš„ä¸»æœºåœ°å€å’Œç«¯å£å·</title>
    <url>/2018/08/27/change-flask-port/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h1>
<p>å¦‚ä½•æ”¹å˜flaskç›‘å¬çš„ä¸»æœºåœ°å€å’Œç«¯å£å·ã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆ</h1>
<ol>
<li>
<p>åœ¨app.run()ä¸­ä¿®æ”¹é…ç½®</p>
</li>
<li>
<pre class="highlight"><code class="python"><span class="hljs-keyword">if</span> __name__== <span class="hljs-string">'__main__'</span>:
    app.run(
        host = <span class="hljs-string">'0.0.0.0'</span>,
        port = <span class="hljs-number">7777</span>,  
        debug = <span class="hljs-keyword">True</span> 
    )
&lt;!--codeï¿¼<span class="hljs-number">0</span>--&gt;
</code></pre>
</li>
</ol>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>web</tag>
        <tag>flask</tag>
      </tags>
  </entry>
  <entry>
    <title>cs231n-assignment1</title>
    <url>/2018/04/04/cs231n-assignment1/</url>
    <content><![CDATA[<h1 id="å¤šåˆ†ç±»svm">å¤šåˆ†ç±»SVM</h1>
<ul>
<li><p>Lossçš„ç†è§£ï¼šå¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬ï¼Œå…ˆè®¡ç®—å…¶W.dot(x)ååˆ†åˆ°æ¯ä¸€ä¸ªç±»çš„å¯èƒ½æ€§ï¼Œå‡è®¾è¿™ä¸ªæ ·æœ¬ä¸ºjï¼Œä¸€å…±cä¸ªåˆ†ç±»ï¼Œé‚£ä¹ˆå°±è¦ä½¿ç”¨æ¯ä¸ªåˆ†é”™çš„å¯èƒ½æ€§å‡å»åˆ†åˆ°æ­£ç¡®ç±»çš„å¯èƒ½æ€§ã€‚å¦‚æœè¿™ä¸ªå€¼ä¸ºè´Ÿæ•°ï¼Œåˆ™å½’é›¶ï¼Œä¹‹åæŠŠè¿™(c-1)ä¸ªå€¼æ±‚å’Œå³ä¸ºæˆ‘ä»¬è¦æ±‚çš„Lossã€‚</p>
<p><span class="math inline">\(L_i=\sum_{j\neq y_i}max(0,s_j-s_{y_i}+1)\)</span>ï¼Œè€Œ<span class="math inline">\(L=\frac{1}{N}\sum^N_{i=1}L_i\)</span></p>
<p>è¿™é‡Œçš„ <span class="math inline">\(s_j-s_{y_i}+1\)</span> ä¸­çš„1å…¶å®æ˜¯ä¸€ä¸ªmarginï¼Œè¡¨ç¤ºå¦‚æœ <span class="math inline">\(s_j\)</span> åªæ¯” <span class="math inline">\(s_{y_i}\)</span> å°ä¸€ç‚¹ï¼Œå°±æ²¡æœ‰å¿…è¦å»æƒ©ç½šè¿™ä¸€é¡¹äº†ã€‚</p>
<span id="more"></span></li>
<li><p>Lossä¸­çš„æ­£åˆ™é¡¹ï¼ˆRegularizationï¼‰ï¼šä¸ºäº†ä¿è¯æ¨¡å‹ä¸è¦è¿‡æ‹Ÿåˆè®­ç»ƒæ•°æ®ã€‚æ­£åˆ™é¡¹é€šå¸¸æœ‰L1æ­£åˆ™é¡¹å’ŒL2æ­£åˆ™é¡¹ï¼Œå®ƒä»¬çš„å·¥ä½œåŸç†æ˜¯æŠŠWçŸ©é˜µä¸­æ¯ä¸€é¡¹çš„ç»å¯¹å€¼/å¹³æ–¹åŠ å’Œï¼Œä¹˜ä¸Šä¸€ä¸ªå¸¸æ•°<span class="math inline">\(\lambda\)</span> ï¼ˆæ­£åˆ™åŒ–å¼ºåº¦è¶…å‚ï¼‰åä¹Ÿæ”¾åˆ°Lossä¸­ï¼Œè¿™æ ·åœ¨é™ä½lossçš„æ—¶å€™å°±ä¼šæ³¨æ„ä¿è¯Wä¸­çš„æ•°ä¸è¦è¿‡å¤§ã€‚</p>
<p><span class="math inline">\(L=\frac{1}{N}\sum^N_{i=1}\sum_{j\neq y_i}max(0,f(x_i;W)_{y_i}+1)+\lambda R(W)\)</span></p></li>
<li><p>L2 regularization: <span class="math inline">\(R(W)=\sum_k \sum_l W_{k,l}^2\)</span></p>
<p>L1 regularization: <span class="math inline">\(R(W)=\sum_k \sum_l |W_{k,l}|\)</span></p>
<p>Elastic net å¼¹æ€§ç½‘ç»œï¼ˆL1+L2ï¼‰: <span class="math inline">\(R(W)=\sum_k\sum_l\beta W^2_{k,l}+|W_{k,l}|\)</span></p>
<p>L1æ›´å€¾å‘äºé€‰æ‹©å€¼è¾ƒå°ä¸”è¾ƒä¸ºç¨€ç–çš„çŸ©é˜µï¼Œè€ŒL2å€¾å‘äºé€‰æ‹©å€¼è¾ƒå°ä¸”è¾ƒå¹³å‡çš„çŸ©é˜µ</p></li>
<li><p>SVMçš„â€œKernelâ€çš„æ„æ€æ˜¯ä¸€ä¸ªæ˜ å°„å‡½æ•°ã€‚SVMçš„æ ¸å¿ƒæ€æƒ³æ˜¯æ‰¾ä¸€ä¸ªè¶…å¹³é¢æŠŠæ­£è´Ÿæ ·æœ¬åˆ†å¼€ï¼Œè€Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå¹¶ä¸å­˜åœ¨è¿™æ ·ä¸€ä¸ªå¹³é¢ã€‚äºæ˜¯æˆ‘ä»¬ç”¨ä¸€ä¸ªå‡½æ•°æŠŠè¿™äº›æ•°æ®ç‚¹æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„å®¹æ˜“åˆ†å¼€çš„ç©ºé—´ä¸­ï¼Œè¿™æ—¶å€™æ‰¾ä¸€ä¸ªå¹³é¢æ¥åˆ†å¼€</p></li>
<li><p>SVMç®—æ³•æ—¢å¯ç”¨äºå›å½’é—®é¢˜ï¼Œæ¯”å¦‚SVR(Support Vector Regression, æ”¯æŒå‘é‡å›å½’ï¼‰ï¼›ä¹Ÿå¯ä»¥ç”¨äºåˆ†ç±»ï¼Œæ¯”å¦‚SVC(Support Vector Classification,æ”¯æŒå‘é‡åˆ†ç±»ï¼‰</p></li>
</ul>
<h1 id="å¤šé¡¹å¼softmax">å¤šé¡¹å¼Softmax</h1>
<ul>
<li>Softmaxçš„Lossè®¡ç®—ï¼š <span class="math inline">\(L_i=-log(\frac{e^{sy_i}}{\sum_j e^{s_j}})\)</span></li>
<li>Softmaxæ–¹ç¨‹æœ¬èº«æ˜¯ï¼š<span class="math inline">\(P(Y=k|X=x_i)=\frac{e^{s_k}}{\sum_j e^{s_j}}\)</span></li>
<li>ç”±äºå„ç§å¯èƒ½çš„é¢„æµ‹ç»“æœçš„softmaxæ–¹ç¨‹ä¹‹å’Œæ€»ä¸º1ï¼Œæˆ‘ä»¬æ‰€éœ€è¦åšçš„åªæ˜¯ä¸æ–­ä¼˜åŒ–targetçš„å€¼ï¼Œå…¶ä»–ä¸æ­£ç¡®çš„scoreè‡ªç„¶ä¼šé™ä½çš„</li>
<li>Softmaxä¹Ÿå¯ä»¥è¢«ç§°ä¸ºäº¤å‰ç†µlossï¼Œå› ä¸ºä¿¡æ¯ç†µçš„å®šä¹‰æ˜¯ <span class="math inline">\(-log(P_i)\)</span> ï¼Œå…¶ä¸­<span class="math inline">\(P_i\)</span> æ˜¯æ¦‚ç‡</li>
</ul>
<h1 id="ä¼˜åŒ–æ–¹å¼">ä¼˜åŒ–æ–¹å¼</h1>
<ol type="1">
<li>éšæœºæœç´¢ï¼ˆRandom Searchï¼‰ï¼šä¸æ–­çš„ç»™Wéšæ„çš„èµ‹å€¼ï¼ŒLossè¡¨ç°æ›´ä½çš„è¯å°±æŠŠWæ¢æˆè¿™æ¬¡èµ‹å€¼å¾—åˆ°çš„Wã€‚</li>
<li>é¡ºæ–œç‡æœç´¢ï¼ˆFollow the slopeï¼‰ï¼š<span class="math inline">\(\frac{df(x)}{dx}=lim_{h \to \infty} \frac{f(x+h)-f(x)}{h}\)</span></li>
<li>æˆ‘ä»¬æŠŠLossçœ‹åšæ˜¯Wçš„å‡½æ•°ï¼Œè€Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯ä¸æ–­å¯»æ‰¾åœ¨æ¯ä¸ªWç‚¹ä¸ŠLçš„æ¢¯åº¦çš„å€¼å’Œæ–¹å‘ï¼Œå¹¶ä¸”ä¸æ–­æ²¿ç€æ¢¯åº¦æ–¹å‘ä¸‹é™ä¸€æ®µè·ç¦»ï¼Œè¿™æ®µè·ç¦»å°±æ˜¯å­¦ä¹ ç‡ã€‚</li>
<li>éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆStochastic Gradient Descentï¼ŒSGDï¼‰ï¼šå¦‚æœæ¯ä¸ªæ ·æœ¬éƒ½ç®—ä¸€æ¬¡æ¢¯åº¦ï¼Œç»“æœå¾€å¾€ä¼šæœ‰è¾ƒå¤§çš„éšæœºæ€§ï¼Œè€Œå¦‚æœç”¨ä¸€ä¸ªå°çš„batchä½œä¸ºåŸºæœ¬å•ä½ï¼Œéšæœºæ€§å°±ä¼šå‡å°‘ä¸å°‘</li>
<li>å­¦ä¹ ç‡å¦‚æœå¤ªå¤§å®¹æ˜“å¼•èµ·æŒ¯è¡ï¼Œå¾ˆéš¾æ”¶æ•›ï¼Œè€Œå¤ªå°åˆ™é€Ÿåº¦å¤ªæ…¢ã€‚å¾€å¾€ä¼šåœ¨æœ€åˆæ­¥é•¿å¤§ä¸€äº›ï¼Œåé¢æ…¢æ…¢æ”¶æ•›ã€‚</li>
</ol>
<h1 id="å®è·µéƒ¨åˆ†">å®è·µéƒ¨åˆ†</h1>
<ul>
<li><code>W.dot(x)</code>çš„ç»“æœä¸<code>np.dot(W,x)</code>æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯Wå’Œxçš„çŸ©é˜µç›¸ä¹˜</li>
<li>å®è·µä¸­ï¼Œåœ¨æ¶‰åŠåˆ°å­¦ä¹ ä¼˜åŒ–ç­‰å’Œ <span class="math inline">\(\lambda\)</span> ç­‰å¸¦æœ‰å­¦ä¹ é€Ÿç‡ä¹‹ç±»è¶…å‚æ•°çš„é—®é¢˜æ—¶ï¼Œå¸¸åœ¨å‰é¢ä¹˜ä¸Šä¸€ä¸ª0.5ï¼Œå› ä¸ºå¹³æ–¹é¡¹æ±‚å¯¼çš„æ—¶å€™ä¼šå‡ºæ¥ä¸€ä¸ª2ï¼Œ0.5<span class="math inline">\(\lambda\)</span> å°±æ¯”è¾ƒå¥½ã€‚</li>
</ul>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<ul>
<li>Ground-truth: çœŸå®æ ‡ç­¾ï¼ŒXçš„çœŸå®åˆ†ç±»ç­‰æ„æ€ï¼Œå¯ä»¥ç•¥ä½œGT</li>
<li>è®¡ç®—æœºè§†è§‰ä¸­çš„Bag of Wordsé‡Œé¢çš„wordsè¯´çš„æ˜¯ä¸€äº›åº•å±‚çš„patternï¼Œç»å¸¸æ€§çš„é‡å¤å‡ºç°çš„æ¨¡å¼ï¼ŒæŠŠè¿™äº›å½“åšâ€œè§†è§‰è¯æ±‡â€æ¥è¿›è¡Œå¤„ç†</li>
</ul>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>cs231n</tag>
        <tag>CV</tag>
      </tags>
  </entry>
  <entry>
    <title>CS231N ç¬¬ä¸€è¯¾</title>
    <url>/2018/03/28/cs231n-01/</url>
    <content><![CDATA[<h1 id="cs231n-ç¬¬ä¸€è¯¾"><a href="http://cs231n.stanford.edu">CS231N</a> ç¬¬ä¸€è¯¾</h1>
<h2 id="history">History</h2>
<ul>
<li><p>åœ¨æ·±åº¦å­¦ä¹ æ²¡æœ‰å‡ºç°ä¹‹å‰ï¼Œå¤„ç†å›¾ç‰‡çš„ä¸€ä¸ªé‡è¦æŠ€æœ¯æ˜¯åˆ†å‰²å›¾ç‰‡ã€‚å½“æ—¶æœ€å¥½çš„ç®—æ³•æœ‰<a href="http://blog.sina.com.cn/s/blog_49b5f5080100lrxm.html">Normalized Cut</a>ç­‰ã€‚</p></li>
<li><p><a href="https://blog.csdn.net/abcjennifer/article/details/7639681">SIFTï¼ˆScale-invariant feature transformï¼‰</a>ï¼šä¸€ç§æ£€æµ‹å±€éƒ¨ç‰¹å¾çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•é€šè¿‡æ±‚ä¸€å¹…å›¾ä¸­çš„ç‰¹å¾ç‚¹ï¼ˆinterest points,or corner pointsï¼‰åŠå…¶æœ‰å…³scale å’Œ orientation çš„æè¿°å­å¾—åˆ°ç‰¹å¾å¹¶è¿›è¡Œå›¾åƒç‰¹å¾ç‚¹åŒ¹é…ï¼Œè·å¾—äº†è‰¯å¥½æ•ˆæœï¼Œä¸»è¦å¯ä»¥åº”ç”¨ä¸ç‰©ä½“æ£€æµ‹ã€‚é€šè¿‡æå–ä¸€äº›ä¸ä¼šæ ¹æ®æ‹æ‘„è€…çš„è§’åº¦ã€è¿œè¿‘å˜åŒ–çš„ç‰¹å¾æ¥ç¡®å®šç›®æ ‡ã€‚</p>
<span id="more"></span></li>
<li><p>å½“å‰SIFTä»åœ¨æŸäº›é¢†åŸŸæ— æ³•è¢«æ·±åº¦å­¦ä¹ å–ä»£ï¼Œå¦‚ç…§ç›¸æœºä¸­çš„æ‹æ‘„å…¨æ™¯å›¾æ—¶ï¼Œå„ä¸ªå›¾ç‰‡çš„æ‹¼æ¥å°±æ˜¯ç”¨çš„SIFTã€‚</p></li>
<li><p>äººè„¸æ£€æµ‹æŠ€æœ¯åœ¨å¾ˆæ—©ä¹‹å‰ï¼ˆå‡ åå¹´å‰ï¼‰å°±å·²ç»æœ‰äº†ï¼Œè€Œä¸”è¿ç®—é€Ÿåº¦é£å¿«ï¼Œè¿ç”¨äºæ—©æœŸçš„ç›¸æœºä¸­ã€‚</p></li>
<li><p><a href="https://zhuanlan.zhihu.com/p/24916624">Faster RCNNï¼ˆRegions with CNN Featuresï¼‰</a> ï¼šé€‚ç”¨äº<a href="https://blog.csdn.net/xyy19920105/article/details/50817725">ç›®æ ‡æ£€æµ‹</a> ã€‚</p></li>
<li><p><a href="http://www.image-net.org">ImageNet</a>ï¼šæè²è²ç»„ç»‡çš„å›¾ç‰‡è¯†åˆ«ç«èµ›ï¼Œåœ¨2012å¹´è¢«Hintonç›´æ¥æŠŠå‡†ç¡®ç‡ä¸Šå‡äº†10%ã€‚</p></li>
</ul>
<h2 id="image-classification">Image Classification</h2>
<ul>
<li><p>å›¾åƒåˆ†ç±»æ˜¯è®¡ç®—æœºè§†è§‰çš„æ ¸å¿ƒã€‚ç”Ÿæ´»ä¸­çš„ç»å¤§éƒ¨åˆ†ç‰©ä½“å¤§è‡´å¯ä»¥è¢«åˆ†ä¸º1wç±»å·¦å³ã€‚å®šä¹‰åˆ†ç±»æœ¬èº«æ˜¯å›°éš¾è€Œå®¹æ˜“äº§ç”Ÿæ­§ä¹‰çš„ï¼Œå…³é”®åœ¨äºå¦‚ä½•å®šä¹‰æ ‡å‡†ã€‚</p></li>
<li><p>ç¥ç»ç½‘ç»œå…¶å®æ˜¯å¾ˆå®¹æ˜“è¢«æ¬ºéª—çš„ï¼Œæ¯”å¦‚é€šè¿‡æ”¹å˜å°‘æ•°ä¸ªåƒç´ ï¼Œä¾¿å¯ä»¥ä½¿å¾—ä¸€ä¸ªè®­ç»ƒå¥½çš„ç¥ç»ç½‘ç»œæŠŠçŒ«çš„å›¾åƒä»¥é«˜ç½®ä¿¡åº¦åˆ¤æ–­ä¸ºç‹—ã€‚</p></li>
<li><p>Semantic Gapï¼šè¯­ä¹‰é¸¿æ²Ÿã€‚åœ¨ä¸€ç®—è®¡çœ‹æ¥ä¸€ä¸ªå›¾ç‰‡å°±æ˜¯</p></li>
<li><p>è®¡ç®—æœºè§†è§‰ä¸­å¾ˆéš¾è§£å†³çš„é—®é¢˜ï¼šå…‰ç…§ã€å˜å½¢ã€é®æŒ¡ã€èƒŒæ™¯å˜ˆæ‚ï¼ˆèƒŒæ™¯å’Œä¸»ç‰©ä½“ç‰¹å¾ç›¸ä¼¼ï¼‰ã€åŒä¸€ä¸ªç±»åˆ«ä¸­æœ‰è¾ƒå¤§å·®å¼‚çš„ä¸ªä½“ï¼ˆçŒ«ç§ç±»æœ‰å¾ˆå¤šç§ç±»çš„çŒ«ï¼‰ã€ä¸¤ä¸ªç±»ä¹‹é—´å·®å¼‚å°ï¼ˆç‹—å’Œç‹¼é•¿çš„å¾ˆç›¸ä¼¼ï¼‰</p></li>
<li><p>æ•°æ®é©±åŠ¨çš„æ–¹æ³•ï¼š</p>
<ol type="1">
<li>é‡‡é›†ä¸€ä¸ªåŒ…æ‹¬å›¾ç‰‡å’Œç›¸åº”æ ‡ç­¾çš„æ•°æ®é›†</li>
<li>ç”¨æœºå™¨å­¦ä¹ çš„æ–¹æ³•è®­ç»ƒä¸€ä¸ªå›¾ç‰‡åˆ†ç±»å™¨</li>
<li>ä½¿ç”¨ä¸€ä¸ªæµ‹è¯•é›†è¯„ä¼°è¿™ä¸ªåˆ†ç±»å™¨</li>
</ol></li>
<li><p>ä¸€ä¸ªç»å…¸çš„å›¾åƒåˆ†ç±»çš„æ•°æ®é›†ï¼šCIFAR-10æ•°æ®é›†ï¼šå…±æœ‰10ä¸ªç±»åˆ«ï¼Œ50000ä¸ªè®­ç»ƒå›¾åƒå’Œ10000ä¸ªæµ‹è¯•å›¾åƒ</p></li>
<li><p>ç¬¬ä¸€ä¸ªåˆ†ç±»å™¨ï¼šæœ€è¿‘é‚»åˆ†ç±»å™¨ï¼ˆNearest Neighbor Classifierï¼‰ï¼šå¯»æ‰¾è®­ç»ƒé›†ä¸­å’Œæµ‹è¯•å›¾åƒæœ€ä¸ºç›¸ä¼¼çš„å›¾åƒï¼Œå¹¶ä¾æ®å®ƒä»¬çš„labelsæ¥åˆ¤æ–­è¯¥å›¾åƒçš„labelã€‚</p></li>
<li><p>å¯¹äºæ‰€æœ‰çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œéƒ½æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ol type="1">
<li>éå‚æ•°åŒ–æ–¹æ³•ï¼šå¹¶ä¸ä¼šæŠŠè®­ç»ƒé›†è½¬åŒ–ä¸ºå‚æ•°ï¼Œå¦‚NNC</li>
<li>å‚æ•°åŒ–æ–¹æ³•ï¼šæ¨¡å‹å¤§å°å’Œè®­ç»ƒæ•°æ®é‡æ— å…³ï¼Œå¦‚SVNï¼Œæµ‹è¯•æ—¶æ€§èƒ½æ›´å¥½</li>
</ol></li>
<li><p>è¿‘ä¼¼æœ€è¿‘é‚»æ³•ï¼ˆApproximate Nearest Neighborï¼‰ï¼šæœ‰ä¸€å¥—åº“FLANNï¼Œç°åœ¨å·²ç»è¢«é›†æˆåˆ°OPENCVä¸­</p></li>
<li><p>è¶…å‚æ•°ï¼šä¸æ˜¯è¢«æ•°æ®é©±åŠ¨çš„å‚æ•°ï¼Œæ˜¯ä¸ä¼šå†è®­ç»ƒä¸­è¢«æ”¹å˜çš„</p>
<img src="/2018/03/28/cs231n-01/03/28/cs231n-01/L1L2-Distance.png" class title="L1L2-Distance"></li>
<li><p><a href="https://blog.csdn.net/holybin/article/details/27185659">äº¤å‰éªŒè¯ï¼ˆCross Validationï¼‰</a> ï¼šäº¤å‰éªŒè¯ï¼ˆCross Validationï¼‰æ˜¯ç”¨æ¥éªŒè¯åˆ†ç±»å™¨çš„æ€§èƒ½ä¸€ç§ç»Ÿè®¡åˆ†ææ–¹æ³•ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯æŠŠåœ¨æŸç§æ„ä¹‰ä¸‹å°†åŸå§‹æ•°æ®ï¼ˆdatasetï¼‰è¿›è¡Œåˆ†ç»„ï¼Œä¸€éƒ¨åˆ†åšä¸ºè®­ç»ƒé›†ï¼ˆtraining setï¼‰ï¼Œå¦ä¸€éƒ¨åˆ†åšä¸ºéªŒè¯é›†ï¼ˆvalidation setï¼‰ï¼Œé¦–å…ˆç”¨è®­ç»ƒé›†å¯¹åˆ†ç±»å™¨è¿›è¡Œè®­ç»ƒï¼Œåœ¨åˆ©ç”¨éªŒè¯é›†æ¥æµ‹è¯•è®­ç»ƒå¾—åˆ°çš„æ¨¡å‹ï¼ˆmodelï¼‰ï¼Œä»¥æ­¤æ¥åšä¸ºè¯„ä»·åˆ†ç±»å™¨çš„æ€§èƒ½æŒ‡æ ‡ã€‚</p></li>
<li><p>ä¹‹æ‰€ä»¥å«æ¨¡å¼è¯†åˆ«ï¼Œæ˜¯å› ä¸ºåœ¨å„å±‚ç½‘ç»œä¸­ï¼Œæ¯å±‚éƒ½ä¼šå¼€å§‹å­¦ä¹ åˆ°ä¸€äº›ç‰¹å¾ï¼Œæˆ–ç§°æ¨¡å¼ï¼Œæ¯”å¦‚ç¬¬ä¸€å±‚å¯èƒ½å­¦ä¹ çš„æ˜¯äººçš„çœ¼ã€å˜´ï¼Œåé¢çš„å±‚å­¦ä¹ åˆ°äº†äººè„¸çš„è½®å»“ã€‚</p></li>
</ul>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>CV</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ€ç»´è¯¾ç¨‹æ„Ÿæƒ³</title>
    <url>/2018/03/07/design-thinking/</url>
    <content><![CDATA[<p>æœ¬æ¬¡è¯¾ç¨‹æ—¶é•¿å¹¶ä¸ç®—é•¿ï¼Œåªæœ‰çŸ­çŸ­çš„32å­¦æ—¶ï¼Œå…±åˆ†äº†4ä¸ªå‘¨å…­å®Œæˆäº†è¯¾ç¨‹ã€‚è¯¾ç¨‹ä¸€å¼€å§‹ï¼Œè”¡è€å¸ˆå°±æé†’æˆ‘ä»¬ï¼Œè¿™é—¨è¯¾å¹¶ä¸æ˜¯ä¸ºäº†ç»™æˆ‘ä»¬è®²è¿°ä¸€ä¸ªå®Œæ•´çš„è®¾è®¡æ€ç»´çš„çŸ¥è¯†ä½“ç³»æˆ–æ˜¯æ¶æ„ï¼Œä¸€æ˜¯æ—¶é—´ä¸å¤Ÿï¼ŒäºŒæ˜¯å› ä¸ºåŒå­¦ä»¬æ¥è‡ªå„ä¸ªä¸“ä¸šï¼Œå¹¶ä¸å®Œå…¨æ˜¯è®¾è®¡ä¸“ä¸šçš„ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰è¿™ä¸ªå¿…è¦ã€‚é‚£è¿™é—¨è¯¾ç©¶ç«Ÿè¦è®²ä»€ä¹ˆå‘¢ï¼Ÿè‡ªç„¶æ˜¯æ–¹æ³•ã€‚æ€ç»´çš„æ–¹æ³•ï¼Œè½¬å˜æ—¢å®šæ€ç»´æ¨¡å¼çš„æ–¹æ³•ï¼Œå°†ä¸€ä¸ªç»™å®šçš„é—®é¢˜çŸ­æ—¶é—´å†…åšä¸€ä¸ªæ¸…æ™°çš„åˆ†æçš„æ–¹æ³•ã€‚å¦å¤–è¿™é—¨è¯¾ä¹Ÿå¯ä»¥è¢«çœ‹åšä¸€ä¸ªå…¥é—¨ï¼Œä¸€ä¸ªé€šå¾€è¿™ä¸ªå¯¹æˆ‘æ¥è¯´å´­æ–°è€Œåˆæœ‰è¶£çš„é¢†åŸŸçš„å¤§é—¨ã€‚è€å¸ˆé¢†è¿›é—¨ï¼Œä¿®è¡Œåœ¨ä¸ªäººã€‚è™½ç„¶è¯´æ­£å¦‚è”¡è€å¸ˆæ‰€è¨€ï¼Œè¿™é—¨è¯¾ç¨‹å¾ˆéš¾è¯´æœ‰ä»€ä¹ˆç³»ç»Ÿæ€§ï¼ŒåŸºæœ¬éƒ½æ˜¯ä»¥äº’åŠ¨å’Œå¸ˆç”ŸèŠå¤©ä¼¼çš„äº¤æµæ„æˆçš„ï¼Œä½†æ˜¯è¿™äº›äº¤æµä¸­é€éœ²å‡ºçš„é€»è¾‘æ€§å’Œå¯¹é—®é¢˜åˆ†æçš„è¿è´¯æ€§æ— ç–‘æ˜¯ç›¸å½“å¤§çš„æ”¶è·ã€‚</p>
<span id="more"></span>
<p>ä¸€ä¸ªé—®é¢˜ç»™å®šäº†ï¼Œè¦å¦‚ä½•å»æ€è€ƒå®ƒï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¾¿æ˜¯è¿™ä¹ˆè¯¾æœ€ä¸ºä¸­å¿ƒçš„é—®é¢˜ã€‚ä½ ç«™åœ¨è°çš„è§’åº¦å»çœ‹é—®é¢˜ï¼Œå†³å®šäº†ä½ æ€è€ƒçš„æ¨¡å¼ã€‚é¦–å…ˆæ˜¯ä»·å€¼ã€‚ä½ æ‰€è¦åšçš„äº§å“æœ‰ç€ä»€ä¹ˆæ ·çš„ä»·å€¼ï¼Ÿæ‹¿è€å¸ˆç¬¬ä¸€èŠ‚ä¸¾è¿‡çš„ä¾‹å­é›¨ä¼æ¥è¯´ï¼Œä¸€æŠŠåœ¨å¹³æ—¶çœ‹æ¥æ™®æ™®é€šé€šçš„é›¨ä¼ï¼Œå…¶å®ç«Ÿç„¶ä¹Ÿæœ‰ç€è¿™ä¹ˆå¤šæ ·çš„ä»·å€¼ã€‚æœ€åº•å±‚çš„æ˜¯å®ç”¨ä»·å€¼ï¼Œå³æŒ¡é›¨çš„åŠŸèƒ½ï¼Œå…¶æ¬¡æ˜¯ä½œä¸ºä¸€ä¸ªè£…é¥°å“çš„ä»·å€¼ï¼Œå› ä¸ºé›¨ä¼ä¹Ÿæ˜¯ä¸€ä¸ªéšèº«æºå¸¦çš„é‡è¦çš„è£…é¥°å“ï¼Œå°¤å…¶æ˜¯åœ¨åƒè‹±å›½è¿™æ ·ç»å¸¸ä¸‹é›¨çš„å›½åº¦ï¼Œé›¨ä¼çš„è£…é¥°ä»·å€¼å°±æ›´é«˜äº†ã€‚é‚£ä¹ˆç”±æ­¤åˆå¯ä»¥å¼•ç”³å‡ºä»€ä¹ˆä»·å€¼å‘¢ï¼Ÿä»”ç»†æƒ³æ¥ï¼Œæ—¢ç„¶æ˜¯ä¸€ä¸ªè£…é¥°å“ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½“ç°å‡ºäººçš„ä¸ªæ€§ï¼Œé‚£è¿™åˆæ˜¯ä¸ªæ€§åŒ–çš„ä»·å€¼ï¼Œå…¶æ¬¡ä¼çš„è£…é¥°å’Œä»·ä½åˆå¯ä»¥æ˜¾ç¤ºå‡ºä¸€ä¸ªäººçš„ç»æµæ°´å¹³å’Œå®¡ç¾èƒ½åŠ›ï¼Œæ•…ä¹Ÿæœ‰ç€èº«ä»½è±¡å¾è¿™æ ·çš„ä»·å€¼ã€‚åƒè¿™æ ·ä¸æ–­æŒ–æ˜ä¸‹å»ï¼Œæˆ‘æƒŠå¥‡çš„å‘ç°ï¼Œç”Ÿæ´»ä¸­çš„ä¸€ä¸ªä¸ªåœ¨ä¹‹å‰çœ‹æ¥æœ´å®æ— åç”šè‡³ä¸å€¼ä¸€æçš„å°ç‰©ä»¶ç«Ÿç„¶ä¹Ÿæœ‰ç€è¿™ä¹ˆä¸°å¯Œçš„å±æ€§å’Œä»·å€¼ï¼Œè¿™æ— ç–‘æ‰©å¤§äº†æˆ‘çš„çœ¼ç•Œã€å¼€é˜”äº†æˆ‘çš„æ€ç»´æ–¹å¼ã€‚</p>
<p>åˆå¦‚è”¡è€å¸ˆè®²åˆ°çš„è‹¹æœå…¬å¸çš„æˆåŠŸä¹‹é“ã€‚è™½ç„¶æˆ‘æ¯å¤©éƒ½ä¼šå’Œè‹¹æœå…¬å¸çš„å„ç§äº§å“æ‰“äº¤é“ï¼Œå¹³æ—¶ä¹Ÿæ˜¯åšäº’è”ç½‘æŠ€æœ¯çš„ï¼Œä½†æ˜¯çœŸå½“æåˆ°è¿™ä¸ªé—®é¢˜çš„æ—¶å€™æ— éä¹Ÿåªæ˜¯èƒ½æƒ³åˆ°ä¹”å¸®ä¸»çš„ç§ç§å¤§ç‰›ä¹‹å¤„å’Œè¯¸å¦‚è‹¹æœçš„è¿½æ±‚ç»†èŠ‚ï¼Œç²¾ç»†çš„äº§å“æ§åˆ¶ï¼Œæµç•…çš„ç³»ç»Ÿå’Œå¤§é‡ä¼˜è´¨çš„åº”ç”¨äº‘äº‘ï¼Œç„¶è€Œè”¡è€å¸ˆåˆ™æå‡ºäº†åœ¨æˆ‘çœ‹æ¥ä¸€ä¸ªç›¸å½“æ–°é¢–çš„è¯´æ³•ï¼šè‹¹æœå…¬å¸ä¹‹æ‰€ä»¥èƒ½å¤Ÿåšåˆ°ä»Šå¤©çš„è§„æ¨¡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯åœ¨ä¾é å…¶å›ºæœ‰çš„é—­ç¯ç”Ÿæ€åœˆã€‚è€å¸ˆæ‰“äº†ä¸€ä¸ªç”ŸåŠ¨å½¢è±¡çš„æ¯”å–»ï¼šè¿™å°±åƒè‡ªå·±ä¿®äº†ä¸€å µå›´å¢™ï¼Œç„¶åæŠŠé‡Œé¢æå¾—ç›¸å½“ä¸é”™åè¿›å»è‡ªå·±å½“äº†å›½ç‹ã€‚å°½ç®¡åœˆå†…æœ‰ç€ç§ç§åˆ¶çº¦å’Œé™åˆ¶ï¼Œä½†æ˜¯ç”±äºå‡ ä¹æ‰€æœ‰çš„äº¤äº’ã€æ‰€æœ‰ç”¨æˆ·éœ€è¦çš„æ•°ç ç”µå­è®¾å¤‡åœ¨è¿™é‡Œéƒ½æœ‰ï¼Œè€Œä¸”ç®€å•å¥½ç”¨ï¼Œå†åŠ ä¸Šæ•°é‡åºå¤§çš„ä¼˜è´¨Appç§¯ç´¯å’Œè‡ªå®¶çš„å®¡æ ¸æœºåˆ¶ï¼Œè‹¹æœå…¬å¸å¹¶ä¸éš¾åç¨³è¿™ä¸ªé‡‘ç¿ç¿çš„ç‹åº§ã€‚</p>
<p>è¯´åˆ°è‹¹æœå…¬å¸ï¼Œè”¡è€å¸ˆåˆæåˆ°äº†iPodçš„æˆåŠŸã€‚iPodå¹¶ä¸æ˜¯å”¯ä¸€å¯ä»¥å¬æ­Œçš„ç”µå­è®¾å¤‡ï¼Œåœ¨æ­¤ä¹‹å‰ä¹Ÿæœ‰å¾ˆå¤šç±»ä¼¼äºWalkmançš„äº§å“ï¼Œä¾é æ”¾å…¥å”±ç‰‡æ¥å¬éŸ³ä¹ã€‚è€ŒiPodçš„ä¼Ÿå¤§ä¹‹å¤„å°±åœ¨è¿™é‡Œã€‚å®ƒæ”¹å˜äº†ä¸€ä¸ªäº§ä¸šã€‚æ•´ä¸ªå”±ç‰‡ä¸šç•Œåœ¨ç›—ç‰ˆçš„å†²å‡»ä¸‹æ˜¯ä¸€ç‰‡ä½è¿·çš„æ™¯è±¡ï¼Œè€ŒiPodå¼€å¯äº†ä¸€ç§å´­æ–°çš„æ¨¡å¼ï¼šå‘ç”µå­ç‰ˆéŸ³ä¹æ”¶å–ç‰ˆæƒè´¹ã€‚éŸ³ä¹å˜å¾—ä¸å†æ˜¯ä¸€ä¸ªä¾é™„äºæŸç§å®ä½“çš„ä¸œè¥¿ï¼Œè€Œåšåˆ°äº†å½»åº•çš„æ•°å­—åŒ–â€”â€”å–éŸ³ä¹æ—¶å”±ç‰‡å‚å•†å‡ºå”®çš„ä¸œè¥¿ä¸å†æ˜¯ä¸€ä¸ªå•çº¯çš„å”±ç‰‡æˆ–æ˜¯ç£å¸¦ï¼Œè€Œæ˜¯å•çº¯çš„æ•°æ®ï¼å¯ä»¥è¯´è‹¹æœçš„iPodæ‹¯æ•‘äº†æ•´ä¸ªä¸šç•Œä¹Ÿä¸ä¸ºè¿‡ï¼Œè¿™æ‰æ˜¯å…¶ç•…é”€è‡³ä»Šçš„æœ¬è´¨åŸå› ã€‚è‹¹æœå…¬å¸æŠŠè‡ªå·±å˜æˆäº†å¤§é‡å”±ç‰‡å•† çš„åˆä½œæ–¹è€Œéç«äº‰æ–¹ï¼Œè¿™ä¸ä½†ç»™è‡ªå·±å¸¦æ¥äº†å·¨é‡çš„æ”¶ç›Šï¼Œä¹Ÿæ–©è·äº†å¤§é‡çš„é‡è§†ç”¨æˆ·ï¼Œç”šè‡³æœ‰å¾ˆå¤šç”¨æˆ·å°±æ˜¯ä»iPodå¼€å§‹äº†è§£å¹¶çˆ±ä¸Šè‹¹æœçš„äº§å“çš„ã€‚</p>
<p>ç©ºé—´çš„åˆ’åˆ†ä¹Ÿæ˜¯è”¡è€å¸ˆçš„è¯¾ç¨‹ç»™æˆ‘ç•™ä¸‹è¾ƒä¸ºæ·±åˆ»çš„å°è±¡çš„ä¸€éƒ¨åˆ†ã€‚è¯¾ä¸Šè€å¸ˆç»™æˆ‘ä»¬å‡ºäº†ä¸€é“éš¾é¢˜ï¼šå¦‚ä½•å®šä¹‰ä¸€ä¸ªç©ºé—´ï¼Ÿè¦ç”¨å‡ ä¸ªé¢æ‰å¯ä»¥å®šä¹‰ä¸€ä¸ªç©ºé—´ï¼Ÿå½“æ—¶æˆ‘ä»¬çº·çº·æ‹¿ç°å®ä¸­çš„å„ç§å…·è±¡äº‹ç‰©æ¥ä½œç±»æ¯”ï¼Œæ¯”å¦‚è¯´æ ¹æ®è¶³çƒåœºè¿™ä¸ªæ²¡æœ‰é¡¶çš„ç©ºé—´å®šä¹‰è¯´è¦è‡³å°‘æœ‰äº”ä¸ªé¢ï¼›åˆæœ‰çš„åŒå­¦è¯´å‘¨è¾¹å¯ä»¥ä½¿ä¸€ä¸ªæ›²é¢ï¼Œæ‰€ä»¥åªéœ€è¦ä¸¤ä¸ªé¢å°±å¤Ÿäº†ï¼›æ›´æœ‰åŒå­¦è¯´åªéœ€è¦ä¸€ä¸ªé¢çš„ã€‚è¯´åªéœ€è¦ä¸€ä¸ªé¢çš„åŒå­¦æœ‰ä¸¤ç§è§£é‡Šï¼Œä¸€ç§æ˜¯è¯´åƒæ˜¯ä¸€ä¸ªçƒä½“å°±åªéœ€è¦ä¸€ä¸ªé¢ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªå…¶åŒ…å›´çš„ç©ºé—´ï¼Œå¦ä¸€ç§åˆ™æ˜¯ä»é›¨ä¼å¾—åˆ°çš„çµæ„Ÿï¼Œè®¤ä¸ºåªéœ€è¦ä¸€ä¸ªé¢æ¥åˆ†å‰²ç©ºé—´ï¼Œä¸‹é¢å’Œä¸Šé¢å°±æœ‰äº†ä¸¤ä¸ªç©ºé—´ã€‚è”¡è€å¸ˆæ¯”è¾ƒèµåŒæœ€åä¸€ç§è¯´æ³•ã€‚â€œç©ºé—´æ˜¯ç”±åˆ†å‰²å®šä¹‰çš„â€ï¼Œä»–è¯´ï¼Œæœ¬æ— ä¸€ä¸ªç¡®å®šçš„ç©ºé—´ï¼Œä½†æ˜¯å“ªæ€•åªæœ‰ä¸€ä¸ªåˆ†å‰²å‡ºç°äº†ï¼Œè¿™é‡Œå°±äº§ç”Ÿäº†ç©ºé—´ã€‚è¿™ç§æ´»è·ƒçš„æ€è€ƒå’Œè®¨è®ºå¼çš„æ€ç»´æ–¹å¼ä¹Ÿæ˜¯æˆ‘å¾ˆå–œæ¬¢çš„ã€‚</p>
<p>è”¡è€å¸ˆè¿˜å’Œæˆ‘ä»¬èŠåˆ°äº†åˆ›ä¸šçš„è¯é¢˜ã€‚åˆ›ä¸šçš„æœ¬è´¨æ˜¯çœŸæ­£è§£å†³äº†ç›®æ ‡ç”¨æˆ·ç¾¤ä½“çš„ä¸€ä¸ªåˆ‡åˆ‡å®å®çš„ç—›ç‚¹ï¼Œè€Œä¸æ˜¯å¼€å‘ä¸€ä¸ªå¼€å‘è€…è®¤ä¸ºçš„æœ‰ç”¨çš„åŠŸèƒ½ã€‚å‚åŠ æœ¬æ¬¡è¯¾ç¨‹çš„ä¸€ååŒå­¦å°±è‡ªå·±äº²èº«å‚ä¸äº†åˆ›ä¸šã€‚è”¡è€å¸ˆè®©ä»–ç®€å•çš„æè¿°è¿™ä¸ªäº§å“çš„åŠŸèƒ½ï¼Œç»“æœä¸çŸ¥é“æ˜¯ç”±äºç´§å¼ è¿˜æ˜¯å¦‚ä½•ï¼Œæè¿°äº†å¥½å‡ åˆ†é’Ÿä¹Ÿæ²¡èƒ½è®©è€å¸ˆææ˜ç™½æœ¬è´¨åˆ°åº•æ˜¯ä»€ä¹ˆã€‚ä»–è¯´è¿™ä¸ªé¡¹ç›®æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼Œä¸å®¹æ˜“è®²æ¸…æ¥šï¼Œä½†æ˜¯è”¡è€å¸ˆåˆ™è¡¨ç¤ºäº†å½“åœºå¦å®šï¼šâ€œä»»ä½•ä¸€æ¬¾å¼€å‘å‡ºæ¥è®©åˆ«äººç”¨çš„äº§å“å¦‚æœä¸èƒ½åœ¨äº”åˆ†é’Ÿå†…è®©æŠ•èµ„äººææ˜ç™½è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Œé¦–å…ˆåœ¨æŠ•èµ„è¿™ä¸€å…³å°±è¿‡ä¸äº†ã€‚â€åœ¨è”¡è€å¸ˆçš„æç¤ºä¸‹ï¼Œè¯¥åŒå­¦é‡æ–°æ•´ç†äº†è¯­è¨€ï¼Œç®€æ˜æ‰¼è¦çš„è¯´æ˜äº†åˆ›ä¸šçš„å†…å®¹ï¼šâ€œ ä¸€ä¸ªä¾›AIå¼€å‘è€…ä½¿ç”¨çš„å·²ç»éƒ¨ç½²å¥½äº†çš„å¹³å°ã€‚â€è”¡è€å¸ˆç«‹å³æ˜ç™½äº†å…¶æ„æ€ï¼Œä»–è¯´ï¼šâ€œè¿™å°±åƒæ˜¯æˆ‘ä»¬æè®¾è®¡çš„ç”¨çš„é‚£ç§è·‘å¤§å‹è§†é¢‘æ¸²æŸ“çš„äº‘å¹³å°å˜›ã€‚â€åŒæ—¶ä»–è¡¨ç¤ºè¿™æ˜¯æœ‰ç€åˆ‡å®éœ€æ±‚çš„ä¸€ä¸ªç”¨æˆ·çš„ç—›ç‚¹ï¼Œç¡®å®å€¼å¾—ä¸€åšã€‚è¿™ç§å¯¹é—®é¢˜çš„ç²¾ç®€åˆ†æã€ç±»æ¯”ç†Ÿæ‚‰äº‹ç‰©è¿›è¡Œå¿«é€Ÿå‡†ç¡®çš„ç†è§£çš„èƒ½åŠ›åœ¨æˆ‘çœ‹æ¥ä¹Ÿæ˜¯ä¸€ä¸ªåšæŠ€æœ¯çš„åŒå­¦åº”è¯¥æŒæ¡çš„é‡è¦æŠ€èƒ½ã€‚</p>
<p>è¯´åˆ°AIï¼Œè”¡è€å¸ˆæœ‰æ¬¡è¯¾ä¸Šè¿˜å‘æˆ‘ä»¬ä»‹ç»äº†ä¸€ä¸ªé˜¿é‡Œå·´å·´å¼€å‘çš„äººå·¥æ™ºèƒ½æµ·æŠ¥è®¾è®¡ç³»ç»Ÿï¼šé²ç­ç³»ç»Ÿã€‚ä»…ä»…åŒåä¸€ä¸€å¤©ï¼Œé²ç­ç³»ç»Ÿå°±è®¾è®¡äº†10äº¿çº§åˆ«çš„æµ·æŠ¥ï¼Œä¸ä½†è¿…é€Ÿè€Œä¸”è´¨é‡ç›¸å½“ä¸é”™ï¼Œå•†å®¶åªéœ€ç‚¹å‡»é¼ æ ‡é€‰æ‹©å‡ ä¸ªéœ€è¦å®£ä¼ çš„å•†å“å›¾æ ‡ã€å†™ä¸Šä¸€å¥æ ‡è¯­ï¼Œå‰©ä¸‹çš„æŠ å›¾ã€æ’ç‰ˆã€èƒŒæ™¯ã€å­—ä½“ç­‰ä¸€ç³»åˆ—æ“ä½œéƒ½å°†ç”±ç³»ç»Ÿè‡ªåŠ¨å®Œæˆã€‚å¯¹äºè¿™ä¸ªé‡çº§ï¼Œå¦‚æœè®©äººç±»è®¾è®¡å¸ˆæ¥è®¾è®¡ï¼Œå³ä½¿24å°æ—¶å·¥ä½œï¼Œä¸€ä¸ªè¶…çº§å¤§å‹çš„è®¾è®¡å›¢é˜Ÿä¹Ÿè¦è¿‘ç™¾å¹´æ‰èƒ½è®¾è®¡å®Œã€‚è¿™å°±æ˜¯ç°å®ã€‚â€œæ‰€ä»¥æˆ‘ä»¬è®¾è®¡ç³»çš„å­¦ç”Ÿæ›´è¦é‡è§†æŒæ¡æ–¹æ³•è€Œéå·¥å…·ã€‚â€è”¡è€å¸ˆæåˆ°ã€‚â€œå¦‚æœåªæ˜¯ä¼šç”¨ä¸ªå·¥å…·ï¼Œå­¦ç”Ÿä»¬ææ€•è¿˜æ²¡æœ‰æ¯•ä¸šå°±è¦å¤±ä¸šäº†ã€‚â€ä»–å¿§å¿ƒå¿¡å¿¡çš„æåˆ°ã€‚å·¥å…·æ˜¯ä¸ºäººæœåŠ¡çš„ï¼Œå¦‚æœä½ åªæŒæ¡äº†å·¥å…·çš„ä½¿ç”¨ï¼Œè€Œæ²¡æœ‰é¢†ä¼šåˆ°è®¾è®¡çš„ç²¾é«“ï¼Œé‚£ä¹ˆä¹Ÿç¡®å®æ²¡æœ‰ä»€ä¹ˆç”¨å¤„äº†ã€‚</p>
<p>å››ä¸ªæ˜ŸæœŸå¾ˆå¿«å°±è¿‡å®Œäº†ï¼Œè”¡è€å¸ˆä¹Ÿç»™æˆ‘ä»¬å±•ç¤ºäº†ä¸€å¥—ä»–è‡ªå·±ç²¾ç»ƒå‡ºçš„åˆ†æé—®é¢˜çš„æ–¹æ³•ï¼Œä¸¾äº†å¾ˆå¤šçš„å®ä¾‹è®©æˆ‘ä»¬æ¼”ç»ƒï¼Œå¯ä»¥è¯´ç€å®å—ç›ŠåŒªæµ…ã€‚è™½ç„¶å¹¶æ²¡æœ‰å®Œå…¨åœ°æŒæ¡è¿™å¥—è®¾è®¡æ€ç»´çš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘è¯¦ç»†åœ¨ä¹‹åçš„äººç”Ÿä¸­ï¼Œæˆ‘ä¹Ÿä¼šç»§ç»­ç»™è‡ªå·±çš„è‡ªç›¸è£…å¤‡ä¸Šè®¾è®¡æ€ç»´ï¼Œç”¨è®¾è®¡çš„çœ¼å…‰å»çœ‹å¾…ä¸€ä¸ªæ›´åŠ å¤šæ ·çš„ä¸–ç•Œï¼Œå¹¶æ‰¾æœºä¼šç»§ç»­å­¦ä¹ ï¼Œè®©è®¾è®¡æ€ç»´çœŸæ­£æˆä¸ºè‡ªå·±çš„æ€ç»´ã€‚</p>
]]></content>
      <tags>
        <tag>design-thinking</tag>
        <tag>essay</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorch çš„ Data Parallelism å¤šGPUè®­ç»ƒ</title>
    <url>/2018/08/22/data-parallelism/</url>
    <content><![CDATA[<h2 id="ç®€å•æ­¥éª¤">ç®€å•æ­¥éª¤</h2>
<ol type="1">
<li><p>ç¡®å®šDeviceï¼Œçœ‹æ˜¯å¦æœ‰å¯åˆ©ç”¨çš„GPUï¼š<code>device = torch.device("cuda:0" if torch.cuda.is_available() else "cpu")</code></p></li>
<li><p>æ­£å¸¸å®šä¹‰å¹¶å®ä¾‹åŒ–æ¨¡å‹å’ŒDataloader</p></li>
<li><p>å¦‚æœæ£€æµ‹åˆ°çš„GPUå¤šäºä¸€å—ï¼Œå°†æ¨¡å‹å¹¶è¡ŒåŒ–ï¼š</p>
<span id="more"></span>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> torch.cuda.device_count() &gt; <span class="number">1</span>:</span><br><span class="line">  print(<span class="string">&quot;Let&#x27;s use&quot;</span>, torch.cuda.device_count(), <span class="string">&quot;GPUs!&quot;</span>)</span><br><span class="line">  model = nn.DataParallel(model)</span><br></pre></td></tr></table></figure></li>
<li><p>å°†æ¨¡å‹éƒ¨ç½²åˆ°ç›¸åº”çš„è®¾å¤‡ä¸Šï¼š<code>model.to(device)</code></p></li>
<li><p>è¿è¡Œæ¨¡å‹ï¼ˆå¾ªç¯ä¸­å°†Inputæ•°æ®ä¹ŸåŠ è½½åˆ°ç›¸åº”è®¾å¤‡ä¸Šï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> rand_loader:</span><br><span class="line">    <span class="built_in">input</span> = data.to(device)</span><br><span class="line">    output = model(<span class="built_in">input</span>)</span><br><span class="line">    print(<span class="string">&quot;Outside: input size&quot;</span>, <span class="built_in">input</span>.size(),</span><br><span class="line">          <span class="string">&quot;output_size&quot;</span>, output.size())</span><br></pre></td></tr></table></figure></li>
<li><p>å¾—åˆ°ç»“æœï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">	In Model: <span class="built_in">input</span> size torch.Size([<span class="number">15</span>, <span class="number">5</span>]) output size torch.Size([<span class="number">15</span>, <span class="number">2</span>])</span><br><span class="line">	In Model: <span class="built_in">input</span> size torch.Size([<span class="number">15</span>, <span class="number">5</span>]) output size torch.Size([<span class="number">15</span>, <span class="number">2</span>])</span><br><span class="line">Outside: <span class="built_in">input</span> size torch.Size([<span class="number">30</span>, <span class="number">5</span>]) output_size torch.Size([<span class="number">30</span>, <span class="number">2</span>])</span><br><span class="line">	In Model: <span class="built_in">input</span> size torch.Size([<span class="number">15</span>, <span class="number">5</span>]) output size torch.Size([<span class="number">15</span>, <span class="number">2</span>])</span><br><span class="line">	In Model: <span class="built_in">input</span> size torch.Size([<span class="number">15</span>, <span class="number">5</span>]) output size torch.Size([<span class="number">15</span>, <span class="number">2</span>])</span><br><span class="line">Outside: <span class="built_in">input</span> size torch.Size([<span class="number">30</span>, <span class="number">5</span>]) output_size torch.Size([<span class="number">30</span>, <span class="number">2</span>])</span><br><span class="line">	In Model: <span class="built_in">input</span> size torch.Size([<span class="number">15</span>, <span class="number">5</span>]) output size torch.Size([<span class="number">15</span>, <span class="number">2</span>])</span><br><span class="line">	In Model: <span class="built_in">input</span> size torch.Size([<span class="number">15</span>, <span class="number">5</span>]) output size torch.Size([<span class="number">15</span>, <span class="number">2</span>])</span><br><span class="line">Outside: <span class="built_in">input</span> size torch.Size([<span class="number">30</span>, <span class="number">5</span>]) output_size torch.Size([<span class="number">30</span>, <span class="number">2</span>])</span><br><span class="line">	In Model: <span class="built_in">input</span> size torch.Size([<span class="number">5</span>, <span class="number">5</span>]) output size torch.Size([<span class="number">5</span>, <span class="number">2</span>])</span><br><span class="line">	In Model: <span class="built_in">input</span> size torch.Size([<span class="number">5</span>, <span class="number">5</span>]) output size torch.Size([<span class="number">5</span>, <span class="number">2</span>])</span><br><span class="line">Outside: <span class="built_in">input</span> size torch.Size([<span class="number">10</span>, <span class="number">5</span>]) output_size torch.Size([<span class="number">10</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‚¹çŸ³åˆ›æ ¡ç¬¬ä¸€è¯¾ç»éªŒéƒ¨åˆ†ç¬”è®°</title>
    <url>/2018/03/24/dianshi-01-exp/</url>
    <content><![CDATA[<h2 id="é¡¹ç›®ä»‹ç»">é¡¹ç›®ä»‹ç»</h2>
<ul>
<li><p><strong>åŸåˆ™ï¼š</strong>ä¸è¦è®©è§‚ä¼—æ­»ä¸€ä¸ªè„‘ç»†èƒ</p></li>
<li><p>çŸ­å¥å­ï¼Œè¯´äººè¯ã€‚ä¸ç”¨å¤æ‚çš„å®šè¯­å’Œå€’è£…å¥ï¼Œä¸ç”¨ä¸“ä¸šåè¯ï¼Œè¦è®©åœ¨åœºçš„å¬ä¼—ï¼Œè€ç™¾å§“ä»¬ä¸æ‡‚é¡¹ç›®ä¸­çš„å…·ä½“ç»†èŠ‚</p></li>
<li><p>ä¸è¦ç”¨å®¹æ˜“å¼•èµ·è¯¯è§£æˆ–æ˜¯å¬ä¸æ¸…æ¥šçš„è¯å¥ï¼Œå¦‚P2Pï¼Œå®¹æ˜“è¢«è¯¯è§£ä¸ºP2Bã€B2Bç­‰</p></li>
<li><p>ä¸è¦ç”¨ç›®å‰æœ‰ä¸€å®šè´Ÿé¢æ€§è´¨çš„å­—çœ¼ï¼Œæ¯”å¦‚ç›®å‰çš„P2Pï¼Œä¸è¯´ä¸ºå¥½</p></li>
<li><p>ä¸è¦è¯´ä¸€äº›å‚²æ…¢å’Œç°åœ¨è¿˜æ²¡æœ‰å®ç°çš„è¯ï¼Œæ¯”å¦‚â€œæˆ‘ä»¬å®šä¹‰äº†...â€</p></li>
<li><p>ä¸è¦åœ¨å¦‚æ­¤çŸ­çš„æ—¶é—´é‡Œè¯´â€œæˆ‘ä»¬â€¦â€ç­‰æ— æ„ä¹‰çš„è¯</p></li>
<li><p>è¦ç‚¹å‡ºæŠ•èµ„äººå…³å¿ƒçš„Pointï¼Œå¦‚è°å‡ºé’±ï¼Œå’‹ç›ˆåˆ©</p>
<span id="more"></span></li>
</ul>
<h2 id="é¡¹ç›®ä»‹ç»è§†é¢‘">é¡¹ç›®ä»‹ç»è§†é¢‘</h2>
<ul>
<li><strong>é‡ç‚¹ï¼š</strong>ä¸ºè°æœåŠ¡ï¼Œæ€ä¹ˆæœåŠ¡ï¼Œè°æé’±</li>
<li>ä¸è¦åªè®²æ„¿æ™¯ï¼Œä¸è®²æ•°æ®</li>
<li>ç‰‡å¤´å’Œç‰‡å°¾ä¸èƒ½å®Œå…¨ä¸€æ ·ï¼Œå¦åˆ™å°±æ˜¯æä¾›äº†é‡å¤çš„ä¿¡æ¯</li>
<li>è§†é¢‘ä¸­ä¸è¦æ”¾ä¸€äº›é“¾æ¥ã€ç”µè¯ä¹‹ç±»çš„ä¸œè¥¿ï¼Œå› ä¸ºæ²¡äººèƒ½è®°å¾—ä½</li>
</ul>
<h2 id="å•†ä¸šè®¡åˆ’ä¹¦ppt">å•†ä¸šè®¡åˆ’ä¹¦ï¼ˆPPTï¼‰</h2>
<ul>
<li>æ¯é¡µPPTä¸­çš„æ–‡å­—ä¸åº”è¶…è¿‡å››è¡Œï¼Œå¤šäºå››è¡Œçš„éƒ¨åˆ†è¦ç”¨å½¢è±¡çš„æ–¹æ³•ï¼ˆå›¾åƒã€è¡¨æ ¼ï¼‰å±•ç¤º</li>
<li>æ¯é¡µPPTä¸­çš„å­—ä¸åº”è¶…è¿‡å››ç§é¢œè‰²</li>
<li>é¦–é¡µå’Œåé¢çš„èƒŒæ™¯å›¾è¦å’Œè‡ªå·±çš„é¡¹ç›®ç›¸å…³ï¼Œä¸èƒ½ç”¨ä¸€ä¸ªé©´å¤´ä¸å¯¹é©¬å˜´çš„å›¾æ”¾ä¸Šå»ï¼Œå³ä½¿å®ƒçœ‹ä¸Šå»å¾ˆé«˜çº§</li>
<li>è¦å­¦ä¼šåšè¯æ˜é¢˜ã€ä¸æ–­è¯æ˜è‡ªå·±çš„é¡¹ç›®å¥½ã€å¯é ã€å¯é åœ¨å“ªé‡Œ</li>
<li>ä»ç¬¬äºŒé¡µå¼€å§‹å¯ä»¥å¼€å§‹è‡ªé—®è‡ªç­”ï¼Œä¹Ÿæ˜¯åšè¯æ˜é¢˜çš„ä¸€éƒ¨åˆ†</li>
<li>ç¬¬ä¸‰é¡µä¸€å®šè¦ä½“ç°å‡ºè‡ªå·±æ˜¯æ€ä¹ˆåšçš„ï¼Œè¦æœ‰æµç¨‹çš„ï¼Œä½“ç°å‡ºè‡ªå·±çš„åˆ›æ–°ç‚¹ã€æ ¸å¿ƒæŠ€æœ¯</li>
<li>ä¸è¦è¯´XXXæ“…é•¿ä»€ä¹ˆï¼Œå› ä¸ºéƒ½å¾ˆå¹´è½»ï¼Œè¦è¯´è´Ÿè´£ä»€ä¹ˆï¼ŒèŒä½æ˜¯ä»€ä¹ˆ</li>
<li>ä»‹ç»å›¢é˜Ÿï¼Œäººå°‘çš„æ—¶å€™æœ€å¥½æŠŠç…§ç‰‡æ”¾ä¸Šå»ï¼Œå¯ä»¥çš„è¯æ”¾å·¥ä½œåœ°çš„åˆç…§</li>
<li>è¦çªå‡ºå›¢é˜Ÿæˆå‘˜æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œä»€ä¹ˆä¼˜åŠ¿</li>
<li>è¦ç‚¹å‡ºå›¢é˜Ÿæˆå‘˜ã€èèµ„éœ€æ±‚ï¼Œä¸è¦æŠŠè¿‡å¤šçš„æ—¶é—´æ”¾åœ¨èƒŒæ™¯ä»‹ç»æ–¹é¢</li>
<li>ä¸è¦ç”¨å­¦ç©¶å¼çš„æªè¾ï¼Œæ¯”å¦‚â€œåŒ…æ‹¬ä½†ä¸é™äºâ€¦â€ï¼Œç›´æ¥ç”¨â€œå¦‚ï¼š...â€å°±å¤Ÿäº†</li>
<li>å¯ä»¥ä½¿ç”¨æ¬²æ‰¬å…ˆæŠ‘çš„æ‰‹æ®µå¼•èµ·æŠ•èµ„äººçš„å…´è¶£ï¼Œæ¯”å¦‚å¯ä»¥å…ˆè¯´ï¼šâ€œç°åœ¨äº’è”ç½‘æ€ç»´é¼“åŠ±å»ä¸­ä»‹åŒ–ï¼Œè€Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åŠ ä¸€å±‚ï¼Ÿâ€ï¼Œåé¢å†è§£é‡Šå…·ä½“åŸå› </li>
<li>å¦‚æœè‡ªå·±æœ‰æ ¸å¿ƒæŠ€æœ¯ï¼Œä¸€å®šè¦å¼ºè°ƒå‡ºæ¥</li>
<li>å“ç‰Œçš„åå­—è¦ç»Ÿä¸€ï¼Œä¸èƒ½ä¸€ä¼šå„¿ç”¨ä¸­æ–‡ä¸€ä¼šå„¿ç”¨è‹±æ–‡</li>
<li>ä¸è¦æ—¢å†™å…¬å¸æ€»ä¼°å€¼åˆå†™èèµ„é‡‘é¢ï¼Œåªç”¨å†™èèµ„é‡‘é¢å’Œå‡ºè®©è‚¡ä»½å°±å¥½</li>
<li>ä¸è¦ç…§ç€PPTå¿µç¨¿å­ï¼Œä¼šç»™äººä»¥è¿™ä¸æ˜¯ä½ è‡ªå·±å¹²å‡ºæ¥çš„è€Œæ˜¯copyæ¥çš„è¿™æ ·ä¸€ç§ä¸è‡ªä¿¡æ„Ÿ</li>
<li>å¦‚æœæœ‰æ ·æœºï¼Œä¸€å®šè¦å¸¦ç€æ ·æœºè¿‡æ¥ï¼Œä¸€ä¸ªæ ·å“èƒœè¿‡åƒè¨€</li>
<li>è¦è®²åŠ é€Ÿåº¦ä¸è¦è®²çº¯é€Ÿåº¦ã€‚å³ä½¿ç°åœ¨ä¸€ä¸ªäº§å“ä¹Ÿæ²¡æœ‰å–å‡ºå»ï¼Œåªè¦èƒ½æœŸæœ›å¾ˆé«˜çš„å¢é•¿ï¼Œä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ï¼›å³ä½¿ç°åœ¨é”€é‡ä¸é”™ï¼Œä¹‹åå¦‚æœå¢é•¿ä¸å¿«åªä¼šå¸¦æ¥åŠ£åŠ¿</li>
<li>æ ‡é¢˜ï¼šæˆ‘ä»¬æ¥è‡ªå“ªé‡Œï¼Ÿ/æˆ‘ä»¬æ˜¯è°ï¼Ÿ-&gt; ï¼ˆå¸‚åœºç—›ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿï¼‰ -&gt; æˆ‘ä»¬æƒ³åšä»€ä¹ˆï¼Ÿ-&gt; æˆ‘ä»¬åšæˆäº†ä»€ä¹ˆï¼Ÿ -&gt; æˆ‘ä»¬è¦ä»€ä¹ˆï¼Ÿ</li>
</ul>
]]></content>
      <tags>
        <tag>bussiness</tag>
        <tag>bussiness-plan</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‚¹çŸ³åˆ›æ ¡ç¬¬äºŒè¯¾â€”â€”å”é¡¾é—®åˆ†äº«</title>
    <url>/2018/04/07/dianshi-02/</url>
    <content><![CDATA[<h2 id="é—®å’Œè¯´çš„æŠ€å·§">é—®å’Œè¯´çš„æŠ€å·§</h2>
<h3 id="æé—®">æé—®</h3>
<ul>
<li>æ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ˜äº†ï¼Œè¨€ä¹‹æœ‰ç‰©ï¼ˆä¸è¦é—®ä¸€äº›å¤§çš„ç©ºçš„é—®é¢˜ï¼Œç²¾ç®€è¯­è¨€ï¼Œç›´è¯´é‡ç‚¹ï¼‰</li>
<li>ä¸ºä»€ä¹ˆï¼Ÿäº‹å…ˆåŠŸè¯¾å’Œé‡è¦æ€§</li>
<li>æƒ³ä»€ä¹ˆï¼Ÿå¸Œæœ›å¾—åˆ°çš„å†…å®¹</li>
</ul>
<span id="more"></span>
<h3 id="è‡ªæˆ‘ä»‹ç»">è‡ªæˆ‘ä»‹ç»</h3>
<ul>
<li>è®°ä½åå­—ï¼šè¦å¦‚ä½•è§£é‡Šæ‰èƒ½è®©åˆ«äººä¸€ä¸‹å­è®°ä½ä½ çš„åå­—</li>
<li>ä»¥å¬ä¸ºå‡†ï¼šä½ è¦ææ˜ç™½ä½ çš„ç›®æ ‡å¯¹è±¡æ˜¯è°ï¼Œåšå¥½â€œç”¨æˆ·è°ƒç ”â€ï¼Œä»è€Œâ€œçœ‹äººä¸‹èœâ€</li>
<li>åœºæ™¯å¸¦å…¥ï¼šä½¿ç”¨ä¸€äº›å°æ•…äº‹ï¼Œè®©åˆ«äººä¹äºå¬å¹¶å¬è¿›å»</li>
<li>ç»“æ„ï¼šè¦æœ‰é€»è¾‘ï¼Œè®©æ•´ä¸ªæ¼”è®²çš„è¿‡ç¨‹æœ‰è¿ç»­æ€§</li>
<li>å…³é”®è¯ä¸æ•…äº‹ï¼šä½ ä½¿ç”¨çš„å…³é”®è¯å†³å®šäº†ä½ ä¼šç»™åˆ«äººå½¢æˆçš„å°è±¡</li>
<li>æ•°æ®ï¼šå¦‚æœæœ‰ä¸€äº›æ•°æ®ï¼Œå¯ä»¥è®©åˆ«äººè¿…é€Ÿå½¢æˆä¸€ä¸ªå¯¹ä½ å¼ºçƒˆçš„å°è±¡</li>
</ul>
<h2 id="è¯´å†™çš„è‰ºæœ¯">è¯´å†™çš„è‰ºæœ¯</h2>
<h3 id="è¯´">è¯´</h3>
<ul>
<li>å…ˆå¬åè¯´ï¼šä¸æ‡‚è£…æ‡‚æ˜¯ä¸ªé¥­æ¡¶ï¼ˆåœ¨è‡ªå·±å¹¶æ²¡æœ‰æçš„å¾ˆæ‡‚çš„æ—¶å€™ä¸è¦å¼ºè¡Œå»å¼•æ•°æ®ã€ç”¨è‹±è¯­ï¼‰ï¼Œä»–å±±ä¹‹çŸ³å¯ä»¥æ”»ç‰ï¼ˆæ¯”å¦‚ç”¨â€œ10ä¸ªä¸œäº¬å¤§å­¦çš„å¤§å°â€æ¥è§£é‡Šåç§‘çš„å°ºå¯¸ï¼‰</li>
<li>é«˜äººè¯´çš„æ˜¯å¤§ç™½è¯ï¼Œæœ€å¥½æ˜¯æ·±å…¥æµ…å‡ºï¼Œå»ç¹å‡ºç®€</li>
</ul>
<h3 id="å†™">å†™</h3>
<ul>
<li>â€œæ´»æ‰æ—å¿—ç²â€ï¼šæ–‡ç« ç»™è°çœ‹ï¼Œæƒ³è¦è¯´ä»€ä¹ˆ</li>
<li>å–œæ¬¢çš„æ–‡ç¨¿ï¼šæ ‡é¢˜ä¸å†…å®¹ï¼Œè§„å¾‹å’Œç»éªŒï¼Œäº‹å®ä¸æ•°æ®ï¼Œä¸è¶³ä¸é—®é¢˜</li>
<li>è°ƒå‘³å“ï¼ˆæ¯”å¦‚ç»æœ›å¡çš„å¡åº¦æ•°æ®ç­‰ï¼Œæ— ä¼¤å¤§é›…çš„è°ƒå‰‚ï¼‰</li>
</ul>
<h2 id="ç«æŸ´äººæ„è¯†å¸¸è§é—®é¢˜">â€œç«æŸ´äººæ„è¯†â€å¸¸è§é—®é¢˜</h2>
<ul>
<li>è‡ªä»¥ä¸ºæ˜¯ï¼šä»¥è‡ªå·±ä¸ºä¸­å¿ƒï¼Œä¸æ‚é‡ä¸€ä¸ªæœºä¼šçš„é‡é‡ï¼Œå†…å¿ƒæ·±å¤„è®¤ä¸ºä¸–ç•Œå›´ç€è‡ªå·±è½¬</li>
<li>ä¸é è°±</li>
<li>è‡ªæˆ‘ç®¡ç†ï¼ˆå››è±¡æ³•5Sç®¡ç†ï¼‰</li>
<li>æˆæœ¬æ„è¯†ï¼ˆæ‰¾å¯¹è±¡æ¸¸æˆï¼‰</li>
<li>é£é™©è¯„ä¼°ï¼ˆä»ç§æ ‘è°ˆèµ·ï¼‰</li>
<li>è§£å†³é—®é¢˜ï¼ˆå˜è®®è®ºä¸ºè¡ŒåŠ¨ï¼‰</li>
</ul>
<h2 id="äººæƒ…ä¸–æ•…">äººæƒ…ä¸–æ•…</h2>
<ul>
<li>åšäººåšäº‹ï¼šè¦å…ˆåšäº‹ï¼Œå…ˆè¡ŒåŠ¨èµ·æ¥ã€‚å…ˆæŠŠäº‹æƒ…åšäº†ï¼Œåšäººæ–¹é¢è‡ªç„¶å°±æ˜¾ç°å‡ºæ¥äº†</li>
<li>å­¦ä¼šåƒå°äºï¼šä½ èƒ½ç®—è®¡åˆ°çš„é‚£äº›å°ç²¾æ˜åˆ«äººå¾ˆå¤§å¯èƒ½ä¹Ÿç®—åˆ°äº†ï¼Œåˆ«äººçŸ¥é“ä½ åœ¨ç²¾ç®—å°±ä¸æƒ³å’Œä½ åˆä½œäº†ã€‚ä½†æ˜¯ä¹Ÿè¦æ³¨æ„ä¸èƒ½åƒå¤§äºã€‚äºäº†100è¿˜å¯ä»¥ç¿»æœ¬ï¼Œäºäº†100ä¸‡æ€§è´¨å°±ä¸åŒäº†</li>
<li>æ„Ÿæ©ï¼Œå¯»æ‰¾ç”Ÿå‘½ä¸­çš„è´µäººï¼šè¦å¤§å£°å¯¹é‚£äº›åœ¨ä½ ç”Ÿå‘½ä¸­å¤§å¹…æ”¹å˜äº†ä½ äººç”Ÿè½¨è¿¹çš„äººè¯´è°¢è°¢ï¼Œæ„Ÿè°¢åˆ«äºº</li>
<li>ä¸‰ä¸ªå·¥å…·ï¼š
<ol type="1">
<li>å¾®ç¬‘ï¼ -&gt; å¾®ç¬‘å¸¦æ¥äº²å’ŒåŠ›ï¼Œå¢åŠ æœºä¼š</li>
<li>â€œExcuse me, thank you!â€ -&gt; å¤šè¯´è°¢è°¢ä¼šè®©äººæ„Ÿè§‰åˆ°ä½ çš„å°Šé‡</li>
<li>ä¼¸å‡ºæ‰‹ï¼-&gt;è¡¨æ€å’Œåšæ˜¯ä¸¤ä¸ªäº‹ï¼Œå³ä½¿å¿ƒæœ‰ä½™è€ŒåŠ›ä¸è¶³ï¼Œè‡³å°‘æ€åº¦ä¸Šè¦ç»™äºˆè¡¨ç¤º</li>
</ol></li>
<li>ä¸¤å¥è¯ï¼šç›¸äº’å¹æ§ï¼Œè‡ªæˆ‘æ‰¹è¯„</li>
</ul>
<h2 id="æˆæœ¬ä¸é£æ§">æˆæœ¬ä¸é£æ§</h2>
<h3 id="æˆæœ¬">æˆæœ¬</h3>
<ul>
<li>ç‰©è´¨æˆæœ¬</li>
<li>æ—¶é—´æˆæœ¬</li>
<li>æœºä¼šæˆæœ¬</li>
<li>é£é™©æˆæœ¬</li>
</ul>
<h3 id="é£æ§">é£æ§</h3>
<ul>
<li>6677ï¼šæœ‰6ã€7åˆ†æŠŠæ¡å°±å¯ä»¥å†²ä¸€å†²äº†ï¼Œå¦‚æœä¸€å®šè¦ç­‰åˆ°æ‰€æœ‰æ¡ä»¶éƒ½å…·å¤‡äº†å†æƒ³ç€å»å†²ï¼Œé‚£ä¸€å®šèµ¢ä¸äº†çš„</li>
</ul>
<h2 id="ä»€ä¹ˆäººèƒ½èµ°å¾—æ›´è¿œæƒ…æ€€æ¢¦æƒ³">ä»€ä¹ˆäººèƒ½èµ°å¾—æ›´è¿œï¼Ÿæƒ…æ€€ï¼Ÿæ¢¦æƒ³ï¼Ÿ</h2>
<ul>
<li>ä»·å€¼è§‚å’Œä½¿å‘½æ„Ÿ</li>
<li>å¤§æµ·å¯æ¸¡çš„åšæŒ</li>
<li>åšæŒä¸ºä»–äººè§£å†³é—®é¢˜ï¼šåˆ›ä¸šä¸æ˜¯è¯´ä½ è¦å¹²ä»€ä¹ˆï¼Œè€Œæ˜¯ä½ èƒ½ä¸ºåˆ«äººæä¾›ä»€ä¹ˆ</li>
<li>è¿œå¤§ç†æƒ³åŒè„šè¸å®åœ°å·¥ä½œä½œé£çš„ç»“åˆ</li>
<li>å¯¹ä¸Šè´Ÿè´£å¯¹ä¸‹è´Ÿè´£çš„ç»“åˆ</li>
<li>é«˜åº¦çš„åŸåˆ™æ€§é€šé«˜åº¦çš„çµæ´»æ€§çš„ç»“åˆ</li>
</ul>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<ul>
<li>äº‹äº‹æœ‰ç€è½</li>
<li>æœ‰æ•ˆç‡</li>
<li>èº«å…ˆå£«å’ï¼Œæ„ŸæŸ“ä»–äºº</li>
<li>åˆ°å‰çº¿å»æŒ‡æŒ¥ç‚®ç«</li>
<li>èŠ±è‡ªå·±èµšçš„é’±</li>
</ul>
<h2 id="èŠ‚ç‚¹å’Œç³»ç»Ÿ">èŠ‚ç‚¹å’Œç³»ç»Ÿ</h2>
<ul>
<li>100ä¸ªå°æ—¶å¯ä»¥ç”¨æ¥å¤§è‡´äº†è§£ä¸€ä¸ªé¢†åŸŸï¼Œç†æ¸…è„‰ç»œ</li>
<li>10000ä¸ªå°æ—¶æ˜¯ä¸æ–­å¡«å……çŸ¥è¯†ï¼Œä¸€æ­¥æ­¥å®Œå–„è‡ªå·±çš„çŸ¥è¯†ä½“ç³»</li>
</ul>
<h2 id="ç»ˆèº«å­¦ä¹ ">ç»ˆèº«å­¦ä¹ </h2>
<ul>
<li>åƒå°æœ‹å‹èˆ¬å¥½å¥‡</li>
<li>åšå¤§ç²¾æ·±â€”â€”æŠ€å¤šä¸å‹èº«</li>
<li>èä¼šè´¯é€šâ€”â€”è‡ªæˆ‘è§è§£</li>
<li>æœ‰å­—ä¹¦ä¸æ— å­—ä¹¦</li>
<li>å›½é™…è§†é‡â€”â€”å¤–è¯­å¾ˆé‡è¦</li>
<li>æ–°é—»é‡Œæœ‰å¤§è´¢å¯Œ</li>
</ul>
]]></content>
      <tags>
        <tag>investment</tag>
        <tag>management</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‚¹çŸ³åˆ›æ ¡ç¬¬ä¸€è¯¾ç†è®ºéƒ¨åˆ†ç¬”è®°</title>
    <url>/2018/03/24/dianshi-01-theory/</url>
    <content><![CDATA[<h1 id="ç‚¹çŸ³åˆ›æ ¡ç¬¬ä¸€è¯¾ç†è®ºéƒ¨åˆ†ç¬”è®°">ç‚¹çŸ³åˆ›æ ¡ç¬¬ä¸€è¯¾ç†è®ºéƒ¨åˆ†ç¬”è®°</h1>
<h2 id="ä¹¦ç±æ¨è">ä¹¦ç±æ¨è</h2>
<ul>
<li>ã€Šä»0åˆ°1ã€‹ï¼šåœ¨ç°ä»Šåˆ›ä¸šçš„å¤§çš„æµªæ½®ä¸­ï¼Œåœ¨ä»€ä¹ˆæƒ³æ³•ä¸Šä½ å’Œèº«è¾¹å…¶ä»–äººå®Œå…¨ä¸ä¸€æ ·ã€‚å·®å¼‚åŒ–æ˜¯åˆ¤æ–­ä¸€ä¸ªé¡¹ç›®å’Œä¸€ä¸ªåˆ›ä¸šè€…èƒ½åŠ›çš„æœ€é‡è¦çš„ç‚¹ã€‚<a href="https://pan.baidu.com/s/1HeoYvIRYPyr9Aa7-oO1-TQ">ä¸‹è½½é“¾æ¥:</a> å¯†ç :zbed</li>
<li>ã€Šè“æµ·æˆ˜ç•¥ã€‹ï¼šè“æµ·å¸‚åœºï¼šç”¨æˆ·çš„æŸç§æ¸´æœ›å°šæ²¡æœ‰è¢«æ»¡è¶³çš„å¸‚åœºï¼ˆæˆ–ä¸å‡†ç¡®çš„è¯´ï¼Œè¿˜æ²¡æœ‰è¢«å·¨å¤´ä»¬äº‰å¤ºçš„å¸‚åœºï¼‰</li>
</ul>
<span id="more"></span>
<h2 id="é£é™©æŠ•èµ„">é£é™©æŠ•èµ„</h2>
<ul>
<li>PEï¼šç§å‹ŸåŸºé‡‘ï¼ˆ<em>PE</em>ï¼ŒPrivate Equityï¼‰ï¼ŒæŠ•èµ„çš„ä¸»è¦æ˜¯è¾ƒä¸ºæˆç†Ÿçš„å…¬å¸ã€‚å®ƒç§å‹Ÿè‚¡æƒæŠ•èµ„çš„ä¸€ç§ï¼Œä¾æ®å›½å¤–ç›¸å…³ç ”ç©¶æœºæ„å®šä¹‰ï¼Œæ˜¯æŒ‡é€šè¿‡å‘ç‰¹å®šäººç¾¤å‹Ÿé›†èµ„é‡‘ï¼Œå¯¹éä¸Šå¸‚ä¼ä¸šè¿›è¡Œçš„æƒç›Šæ€§æŠ•èµ„ï¼Œåœ¨äº¤æ˜“å®æ–½è¿‡ç¨‹ä¸­é™„å¸¦è€ƒè™‘äº†å°†æ¥çš„é€€å‡ºæœºåˆ¶ï¼Œå³é€šè¿‡ä¸Šå¸‚ã€å¹¶è´­æˆ–ç®¡ç†å±‚å›è´­ç­‰æ–¹å¼ï¼Œå‡ºå”®æŒè‚¡è·åˆ©</li>
<li>VCï¼šé£é™©æŠ•èµ„ï¼ˆ<em>Venture Capital</em>ï¼‰ï¼ŒæŠ•èµ„çš„æ˜¯ä¸­å°å‹ä¼ä¸šï¼Œä½¿ç”¨ç¾å…ƒã€‚æ˜¯é£é™©æŠ•èµ„çš„ç®€ç§°ï¼Œåœ¨æˆ‘å›½æ˜¯ä¸€ä¸ªçº¦å®šä¿—æˆçš„å…·æœ‰ç‰¹å®šå†…æ¶µçš„æ¦‚å¿µï¼Œå…¶å®æŠŠå®ƒç¿»è¯‘æˆåˆ›ä¸šæŠ•èµ„æ›´åŠ åˆé€‚ï¼Œå®ƒæ˜¯ä»¥æƒç›Šèµ„æœ¬çš„æ–¹å¼å­˜åœ¨çš„ä¸€ç§ç§å‹Ÿè‚¡æƒæŠ•èµ„å½¢å¼ã€‚åœ¨å›½å†…ç”¨äººæ°‘å¸æŠ•èµ„çš„æ˜¯åˆ›ä¸šæŠ•èµ„</li>
<li>VCæŠ•èµ„æŠ•èµ„çš„æ˜¯å…¬å¸çš„æˆé•¿æ€§å’Œå†…åœ¨ä»·å€¼ï¼›PEæŠ•èµ„æŠ•èµ„çš„æ˜¯è´¢åŠ¡æŒ‡æ ‡ï¼Œä¸Šå¸‚å¯èƒ½ã€‚å‰è€…ç‰¹ç‚¹æ˜¯ä½ä¼°å€¼ï¼Œå•ç¬”æŠ•èµ„é¢åº¦å°ï¼ŒæŠ•èµ„è€…å¯ä»¥ä¸»åŠ¨æ§åˆ¶ï¼›åè€…çš„ç‰¹ç‚¹æ˜¯é«˜ä¼°å€¼ï¼Œå•ç¬”æŠ•èµ„é¢åº¦å¤§ï¼ŒæŠ•èµ„è€…è¢«åŠ¨ç›‘ç£</li>
<li>æœ€åˆæŠ•èµ„çš„æ—¶å€™ä¸€èˆ¬ä¸å¤ªåœ¨æ„å…¬å¸çš„ç« ç¨‹ï¼Œè€ŒåæœŸä¸€èˆ¬æ¯”è¾ƒåœ¨æ„ï¼Œå› ä¸ºè¿™äº›ç« ç¨‹å†³å®šäº†å„ç§æ³•å¾‹è´£ä»»å’Œæœºåˆ¶</li>
<li>å…¬å¸æ˜¯ä¼ä¸šçš„ä¸€ç§ç»„ç»‡å½¢å¼ã€‚å…¬å¸ç”±è‚¡ä¸œç»„æˆã€‚è‚¡ä¸œæŠ•é’±æ³¨å†Œæˆç«‹ä¸€å®¶å…¬å¸ï¼Œæˆç«‹è‚¡ä¸œä¼šï¼Œè‚¡ä¸œä¼šé€‰ä¸¾äº§ç”Ÿè‘£äº‹ä¼šï¼Œè‘£äº‹ä¼šä»»å‘½æ€»ç»ç†ã€‚å…¬å¸æ˜¯ç”±è‚¡ä¸œç»„æˆçš„ï¼Œå…¬å¸å†…éƒ¨è‚¡ä¸œä¼šæ‹¥æœ‰æœ€é«˜å†³ç­–æƒï¼Œè‚¡ä¸œä¼šé€‰å‡ºæ¥çš„è‘£äº‹ä¼šæ˜¯æ‰§è¡Œè€…ã€‚è°å‡ºçš„é’±å¤šï¼Œè°æ˜¯å…¬å¸çš„å¤§è‚¡ä¸œï¼Œè°æ‹¥æœ‰æ§è‚¡æƒå’Œæœ€é«˜å†³å®šæƒã€‚æ³•äººä»£è¡¨æ˜¯æŒ‡å…¬å¸çš„æ³•å¾‹è´£ä»»ç”±è°æ¥æ‰¿æ‹…ï¼Œä½†æ˜¯è¿™ä¸ªäººå’Œå…¬å¸çš„æ‹¥æœ‰è€…å¹¶ä¸ä¸€å®šæ˜¯ä¸€ä¸ªäºº</li>
<li>ä¼ä¸šçš„ç»„ç»‡å½¢å¼æœ‰ï¼š
<ol type="1">
<li>å…¬å¸åˆ¶</li>
<li>æœ‰é™åˆä¼™åˆ¶ -&gt; æ™®é€šåˆä¼™ä¼ä¸šä¸­æ‰€æœ‰åˆä¼™äººçš„è´£ä»»æ˜¯ä¸€æ ·çš„ï¼Œè€Œåœ¨æœ‰é™åˆä¼™åˆ¶ä¸­åˆä¼™äººåˆ†ä¸ºä¸¤ç§ï¼Œä¸€æ˜¯æ™®é€šåˆä¼™äººï¼ŒäºŒæ˜¯æœ‰é™åˆä¼™äººã€‚å‰è€…åªéœ€è¦å‡º1%çš„é’±ï¼Œåè€…å‡º99%çš„é’±ï¼›å‰è€…è´Ÿè´£ç»è¥ï¼Œæ˜¯ä¸“ä¸šçš„äººï¼›åè€…ä¸»è¦è´Ÿè´£å‡ºé’±ï¼Œæ²¡æœ‰å¤ªå¤šä¸“ä¸šçŸ¥è¯†ã€‚åœ¨è¿™ç§ç»„ç»‡å½¢å¼ä¸­ï¼Œæ™®é€šåˆä¼™äººè¯´äº†ç®—ï¼Œè´Ÿè´£å†³å®šæŠ•èµ„è°ã€‚å¦‚ï¼šä¼šè®¡äº‹åŠ¡æ‰€ï¼ŒæŠ•èµ„åŸºé‡‘</li>
<li>ä¿¡æ‰˜åˆ¶ -&gt; å—ã€Šä¿¡æ‰˜æ³•ã€‹ä¿æŠ¤</li>
</ol></li>
<li>å…¬å¸çš„ç»„æˆï¼šäººï¼Œé’±ï¼Œç‰©</li>
<li>æŠ•èµ„äººæŠŠé’±æŠ•èµ„å…¥ä¸€ä¸ªå£³ä¸­ï¼Œè¿™ä¸ªå£³ä¸­çš„èµ„é‡‘äº¤ç”±ç®¡ç†äººè¿›è¡Œç®¡ç†ã€‚æ ¹æ®æŠ•èµ„äººçš„èµ„é‡‘æ¥æºä¸åŒï¼Œåˆ†ä¸ºå…¬å‹Ÿèµ„é‡‘å’Œç§å‹Ÿèµ„é‡‘ï¼›è€Œè¿™ä¸ªå£³å­æ˜¯æŒ‡çš„æ˜¯æ³•å¾‹å…³ç³»ï¼Œå³ç»„ç»‡å½¢å¼ï¼›ç®¡ç†äººå†³å®šäº†æŠ•èµ„å¯¹è±¡å’ŒåŸºé‡‘ç±»åˆ«</li>
<li>æŠ•èµ„äººæŠ•èµ„çš„æ˜¯ä½ å…¬å¸çš„è‚¡æƒï¼Œå¹¶ä¸æ˜¯ä½ ä¸ªäººæˆ–æ˜¯ä½ çš„é¡¹ç›®</li>
<li>å…¨çƒ80%ä»¥ä¸Šçš„ç§å‹ŸåŸºé‡‘é‡‡ç”¨çš„æ˜¯æœ‰é™åˆä¼™åˆ¶ï¼Œè¿™æ˜¯ä¼ä¸šçš„ç¬¬äºŒç§ç»„ç»‡å½¢å¼ã€‚</li>
<li>æŠ•èµ„åŸºé‡‘çš„åˆä¼™äººå¯ä»¥èµšçš„ç›ˆåˆ©çš„20%</li>
<li>å…¬å¸å‘å±•ï¼šç§å­æœŸï¼ˆç§å­è½®ï¼‰ -&gt; åˆåˆ›æœŸï¼ˆå¤©ä½¿è½®ï¼‰ -&gt; æˆé•¿æœŸ -&gt; æˆç†ŸæœŸ -&gt; æ‰©å¼ æœŸ</li>
<li>åªæŠ•èµ„å‰ä¸‰ä¸ªæ—¶æœŸçš„æ˜¯VCï¼ŒæŠ•åé¢çš„äº¤PE</li>
<li>æŠ•èµ„äººçš„æŠ•èµ„ç›®çš„åªæœ‰ä¸€ä¸ªï¼šè¿½æ±‚å›æŠ¥</li>
<li>å¥½é¡¹ç›®çš„è¯„åˆ¤æ ‡å‡†ï¼š3å¹´ä¹‹å†…9~10äº¿ç¾å…ƒä»¥ä¸Š</li>
<li>å¸‚åœºå†³å®šäº†ä¸€ä¸ªé¡¹ç›®çš„å¤©èŠ±æ¿ï¼Œä¸€ä¸ª10äº¿çš„å¸‚åœºæ— æ³•æˆé•¿å‡ºä¸€ä¸ª50äº¿çš„ä¼ä¸š</li>
<li>ä½ çš„ç”¨æˆ·åˆ°åº•æ˜¯è°ï¼Ÿ -&gt; ç”¨æˆ·ä¸å®¢æˆ·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œç”¨æˆ·ç‰¹å¾å¦‚ä½•æè¿°</li>
<li>ç²¾å‡†å¯»æ‰¾ç”¨æˆ·éœ€æ±‚ï¼šåˆšæ€§éœ€æ±‚çš„å®šä¹‰ï¼Œè“æµ·å¸‚åœºçš„å®šä¹‰</li>
<li>åˆšæ€§éœ€æ±‚ï¼šä»·æ ¼ä¸æ•æ„Ÿçš„éœ€æ±‚ï¼Œæˆ–æ˜¯æ²¡æœ‰è¿™ä¸ªä¸œè¥¿äºº/å…¬å¸å°±ä¼šæ­»æ‰çš„éœ€æ±‚</li>
<li>æ»¡è¶³ç²¾ç¥å’Œå¿ƒç†éœ€æ±‚çš„æ˜¯æœ€é«˜çº§åˆ«çš„éœ€æ±‚ï¼Œè¶…è¶Šäº†åˆšæ€§éœ€æ±‚ã€‚æ¯”å¦‚å°ç±³ï¼Œæ¨å‡ºäº†â€œå‘çƒ§å‹â€çš„æ¦‚å¿µï¼Œå·æ¢äº†æ¦‚å¿µï¼Œä¸è¯´è‡ªå·±å¥½ï¼Œè€Œæ˜¯è½¬è€Œå»å¼ºè°ƒä½ èº«è¾¹ä¸“ä¸šçš„äººéƒ½åœ¨ç”¨å°ç±³ï¼›å…¶åˆæ‰“å‡ºäº†1999è¿™æ¡çº¿ï¼Œå¼ºè°ƒæ€§ä»·æ¯”ï¼Œå…¶å®æ˜¯åˆ©ç”¨äº†äººæ€§çš„è´ªå©ªé¢ã€‚å°ç±³åœ¨2016å¹´èµ°é”™äº†ä¸€æ­¥ï¼Œå½“å¹´äººå‡å¹´æ”¶å…¥è¶…è¿‡6w$ï¼Œäººä»¬å¼€å§‹æ›´åŠ é‡è§†ç²¾ç¥æ¶ˆè´¹ï¼Œè€Œå°ç±³æ²¡æœ‰è·Ÿä¸Š</li>
<li>äºŒçº§å¸‚åœºæŠ•èµ„çš„äººå¹¶æ— æ³•ç›´æ¥äº†è§£ä¸€ä¸ªå…¬å¸ï¼Œæ— æ³•çŸ¥é“åˆ°åº•æ˜¯å¦‚ä½•æˆåŠŸå¦‚ä½•å¤±è´¥çš„ï¼›ç›¸åï¼Œä¸€çº§å¸‚åœºä¸­çš„æŠ•èµ„äºº</li>
</ul>
<table>
<thead>
<tr class="header">
<th>è‚¡ä¸œ</th>
<th>å‘˜å·¥</th>
<th>èµ„äº§</th>
<th>ç°é‡‘æµ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>åŸºå› </td>
<td>è‚Œè‚‰</td>
<td>éª¨éª¼</td>
<td>è¡€æµ</td>
</tr>
</tbody>
</table>
<ul>
<li>åˆ›ä¸šè€…çš„æ ¼å±€ï¼š
<ol type="1">
<li>é«˜åº¦ï¼šé«˜åº¦æ˜¯åˆ¤æ–­ã€‚ç«™çš„æ˜¯å¦è¶³å¤Ÿé«˜ï¼Œæ˜¯å¦èƒ½çœ‹åˆ°å¹¶ä¸”åˆ†æå‡ºå‘å±•çš„è¶‹åŠ¿ï¼Œè€Œè¿™ä¸ªåˆ†æçš„ç»“æœèƒ½å¤Ÿå’ŒæŠ•èµ„äººçš„åˆ¤æ–­ç›¸ç¬¦åˆ</li>
<li>å¹¿åº¦ï¼šå¹¿åº¦æ˜¯ç»å†ã€‚çœ‹å¾—æœ‰å¤šå¹¿ï¼Œæ˜¯èƒ½äº†è§£å…¨å›½æ´»ç€å…¨çƒè·Ÿä½ åœ¨åšåŒæ ·äº‹æƒ…çš„äººï¼Œä»–ä»¬åœ¨åšä»€ä¹ˆï¼Œæ€ä¹ˆåš</li>
<li>æ·±åº¦ï¼šæ·±åº¦æ˜¯å·®åˆ«ã€‚è¿™æ˜¯ä¼˜ç§€åˆ›ä¸šè€…å’Œæ™®é€šåˆ›ä¸šè€…ä¸åŒä¹‹å¤„ã€‚æ¯”å¦‚ä½ æ˜¯å¦çŸ¥é“å¹¶äº²èº«ä½“éªŒè¿‡åŒè¡Œä¸šå…¶ä»–äººï¼Œå…¶ä»–å…¬å¸çš„å®é™…çŠ¶å†µçš„æ—¶å€™ï¼Œä½ çš„æ·±åº¦å°±ä¸Šæ¥äº†</li>
</ol></li>
</ul>
<h2 id="é™„å½•ä»€ä¹ˆæ˜¯-gplppevcfof">é™„å½•ï¼š<a href="https://www.zhihu.com/question/20062244">ä»€ä¹ˆæ˜¯ GPã€LPã€PEã€VCã€FOFï¼Ÿ</a></h2>
<p>å¤©ä½¿æŠ•èµ„ï¼ˆAngel Investmentï¼‰ï¼šå¤§å¤šæ•°æ—¶å€™ï¼Œå¤©ä½¿æŠ•èµ„é€‰æ‹©çš„ä¼ä¸šéƒ½ä¼šæ˜¯ä¸€äº›éå¸¸éå¸¸æ—©æœŸçš„ä¼ä¸šï¼Œä»–ä»¬ç”šè‡³æ²¡æœ‰ä¸€ä¸ªå®Œæ•´çš„äº§å“ï¼Œæˆ–è€…ä»…ä»…åªæœ‰ä¸€ä¸ªæ¦‚å¿µã€‚ï¼ˆæ‰“ä¸ªæ¯”æ–¹ï¼Œæˆ‘æœ‰ä¸ªæœ‹å‹ï¼Œä»–çš„æ¯•ä¸šè®¾è®¡ä½œå“æ˜¯ä¸€æ¬¾è®©äººä¿æŒæ¸…é†’çš„çœ¼é•œï¼Œåšå·¥éå¸¸ç²—ç³™ï¼Œå®Œå…¨ä¸èƒ½è¿›å…¥å¸‚åœºé”€å”®ã€‚ä½†ä»–å‡­å€Ÿè¿™ä¸ªæ¦‚å¿µä»¥åŠè¿™ä¸ªåŸå‹å“åœ¨ç¾å›½è·å¾—äº†å¤©ä½¿æŠ•èµ„ï¼Œå¹¶ä¸”ç›®å‰æ­£åœ¨è¯¥å¤©ä½¿æŠ•èµ„çš„æ·±åœ³æŸå­µåŒ–å™¨å·¥ä½œå®¤è¿›è¡Œå¼€å‘ç ”ç©¶ã€‚ï¼‰</p>
<p>è€Œå¤©ä½¿æŠ•èµ„çš„æŠ•èµ„é¢åº¦å¾€å¾€ä¹Ÿä¸ä¼šå¾ˆå¤§ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨5-100ä¸‡è¿™ä¸ªèŒƒå›´ä¹‹å†…ï¼Œæ¢å–çš„è‚¡ä»½åˆ™æ˜¯ä»10%-30%ä¸ç­‰ã€‚å•çº¯ä»æ•°å­—ä¸Šè€Œè¨€ï¼Œç¾å›½å’Œä¸­å›½æŠ•èµ„é¢åº¦åŸºæœ¬æ¥è¿‘ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œè¿™äº›ä¼ä¸šéƒ½éœ€è¦è‡³å°‘5å¹´ä»¥ä¸Šçš„æ—¶é—´æ‰æœ‰å¯èƒ½ä¸Šå¸‚ã€‚</p>
<p>æ­¤å¤–ï¼Œéƒ¨åˆ†å¤©ä½¿æŠ•èµ„ä¼šç»™ä¼ä¸šæä¾›ä¸€äº›æŒ‡å¯¼å’Œå¸®åŠ©ï¼Œç”šè‡³ä¼šç»™äºˆä¸€å®šäººè„‰ä¸Šçš„æ”¯æŒã€‚</p>
<p>å¦‚æœä½ è¿˜ä¸äº†è§£çš„è¯ï¼Œåˆ›æ–°å·¥åœºä¸€å¼€å§‹å°±åœ¨åšå¤©ä½¿æŠ•èµ„çš„äº‹æƒ…ã€‚</p>
<p>é£é™©æŠ•èµ„ï¼ˆVenture Capitalï¼‰ï¼šä¸€èˆ¬è€Œè¨€ï¼Œå½“ä¼ä¸šå‘å±•åˆ°ä¸€å®šé˜¶æ®µã€‚æ¯”å¦‚è¯´å·²ç»æœ‰ä¸ªç›¸å¯¹è¾ƒä¸ºæˆç†Ÿçš„äº§å“ï¼Œæˆ–è€…æ˜¯å·²ç»å¼€å§‹é”€å”®çš„æ—¶å€™ï¼Œå¤©ä½¿æŠ•èµ„é‚£100ä¸‡çš„èµ„é‡‘å¯¹äºä»–ä»¬æ¥è¯´å·²ç»çŠ¹å¦‚æ¯›æ¯›é›¨ä¸€èˆ¬ï¼Œæ— è¶³è½»é‡äº†ã€‚å› æ­¤ï¼Œé£é™©æŠ•èµ„æˆäº†ä»–ä»¬æœ€ä½³çš„é€‰æ‹©ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œé£é™©æŠ•èµ„çš„æŠ•èµ„é¢åº¦éƒ½ä¼šåœ¨200ä¸‡-1000ä¸‡ä¹‹å†…ã€‚å°‘æ•°é‡ç£…æŠ•èµ„ä¼šè¾¾åˆ°å‡ åƒä¸‡ã€‚ä½†å¹³å‡è€Œè¨€ï¼Œ200ä¸‡-1000ä¸‡æ˜¯ä¸ªåˆç†çš„æ•°å­—ï¼Œæ¢å–è‚¡ä»½ä¸€èˆ¬åˆ™æ˜¯ä»10%~20%ä¹‹é—´ã€‚èƒ½è·å¾—é£é™©æŠ•èµ„é’ççš„ä¼ä¸šä¸€èˆ¬éƒ½ä¼šåœ¨3-5å¹´å†…æœ‰è¾ƒå¤§å¸Œæœ›ä¸Šå¸‚ã€‚</p>
<p>å¦‚æœéœ€è¦ç°å®ä¾‹å­çš„è¯ï¼Œçº¢æ‰èµ„æœ¬å¯ä»¥ç®—å¾—ä¸Šæ˜¯VCé‡Œé¢æœ€çŸ¥åçš„ä¸€å®¶å…¬å¸äº†ã€‚åæœŸåˆ›æ–°å·¥åœºç»™è‡ªå·±ä¼ä¸šè¿½åŠ æŠ•èµ„çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯åœ¨åšç±»ä¼¼äºé£é™©æŠ•èµ„çš„ä¸šåŠ¡ã€‚</p>
<p>ç§å‹ŸåŸºé‡‘ï¼ˆPrivate Equityï¼‰ï¼šç§å‹ŸåŸºé‡‘é€‰æ‹©æŠ•èµ„çš„ä¼ä¸šå¤§å¤šæ•°å·²ç»åˆ°äº†æ¯”è¾ƒåæœŸçš„åœ°æ­¥ï¼Œä¼ä¸šå½¢æˆäº†ä¸€ä¸ªè¾ƒå¤§çš„è§„æ¨¡ï¼Œäº§ä¸šè§„èŒƒäº†ï¼Œä¸ºäº†è¿…é€Ÿå é¢†å¸‚åœºï¼Œè·å–æ›´å¤šçš„èµ„æºï¼Œä»–ä»¬éœ€è¦å¤§æ‰¹é‡çš„èµ„é‡‘ï¼Œé‚£ä¹ˆï¼Œè¿™æ—¶å€™ç§å‹ŸåŸºé‡‘å°±å‡ºåœºäº†ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œ5000ä¸‡<sub>æ•°äº¿çš„èµ„é‡‘éƒ½æ˜¯ç§å‹ŸåŸºé‡‘ç»å¸¸æŠ•èµ„çš„æ•°é¢ã€‚æ¢å–è‚¡ä»½å¤§å¤šæ•°æ—¶å€™ä¸ä¼šè¶…è¿‡20%ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œè¿™äº›è¢«é€‰æ‹©çš„å…¬å¸ï¼Œåœ¨æœªæ¥2</sub>3å¹´å†…éƒ½ä¼šæœ‰æå¤§çš„å¸Œæœ›ä¸Šå¸‚æˆåŠŸã€‚</p>
<p>å»å¹´æ³¨èµ„é˜¿é‡Œå·´å·´é›†å›¢16äº¿ç¾é‡‘çš„é“¶æ¹–èµ„æœ¬ï¼ˆSilver Lakeï¼‰å’Œæ›¾ç»æŠ•èµ„è¿‡çš„Digital Sky Technologyåˆ™æ˜¯ç§å‹Ÿï¼ˆå°¤å…¶åšç§‘æŠ€ç±»çš„ï¼‰ç¿˜æ¥šå…¬å¸ã€‚è€Œè¿™16äº¿çš„èµ„é‡‘ä¹Ÿæ˜¯å†å²ä¸Šæ’åå‰å‡ çš„ä¸€æ¬¡æ³¨èµ„äº†ã€‚</p>
]]></content>
      <tags>
        <tag>bussiness</tag>
        <tag>investment</tag>
      </tags>
  </entry>
  <entry>
    <title>é¾šé˜¿ç²â€”â€”åˆ›ä¸šé¢†å¯¼åŠ›è¯¾ç¨‹</title>
    <url>/2018/04/08/dianshi-03/</url>
    <content><![CDATA[<ul>
<li>ç›®å‰çš„å•†ä¸šæ¨¡å¼ä¸­åœ¨äº‰æŠ¢çš„æœ€åä¸€å—é˜µåœ°æ˜¯ä½ çš„æ—¶é—´ã€‚å½“å‰æœ‰å¤ªå¤šçš„ä¿¡æ¯å¯ä»¥å»è·å–ï¼Œä½†æ˜¯ä½ æ”¶åˆ°çš„ä¿¡æ¯ä¸ä¸€å®šéƒ½æ˜¯ä½ æƒ³çœ‹åˆ°çš„ï¼Œè€Œæ˜¯appæƒ³è®©ä½ çœ‹åˆ°çš„ã€‚å½“ä»£çš„å­¦ä¹ æ˜¯åœ¨åšå‡æ³•ï¼Œè€Œéåƒä¹‹å‰ä¿¡æ¯åŒ®ä¹çš„å¹´ä»£æ—¶çš„åšåŠ æ³•ã€‚</li>
<li>å¦‚æœåªæ˜¯è½¬è¿°åˆ«äººçš„è¯ï¼Œé‚£ä½ æ²¡æœ‰åœ¨å­¦ä¹ ã€‚å°±åƒä¸€ä¸ªcomputeræ¥å—äº†è¾“å…¥ï¼Œè€Œæ²¡æœ‰åšdata processingï¼Œä¸èƒ½ç®—æ˜¯çœŸæ­£å­¦åˆ°äº†ä¸œè¥¿ã€‚</li>
</ul>
<span id="more"></span>
<ul>
<li>å­¦ä¼šæ‰¾åˆ°çœŸæ­£çš„åŸå› æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚æ¯”å¦‚â€œä¸æƒ³åˆ›ä¸šâ€-&gt;â€œå®³æ€•æŠ€æœ¯å£å’â€-&gt;â€œå®³æ€•åˆ›ä¸šå¤±è´¥â€-&gt;â€œå®¶é‡Œæ²¡é’±ï¼Œè¾“ä¸èµ·â€-&gt;...</li>
<li>ä½ å°æ—¶å€™æœ€æƒ³æˆä¸ºçš„é‚£ä¸ªäººï¼Œæœ€æƒ³å¹²é‚£ç§èŒä¸šæ˜¯ä¼šè·Ÿéšä½ ä¸€ç”Ÿçš„ã€‚ä¸­é€”ä¹Ÿè®¸ä¼šæœ‰è®¸å¤šæ¬¡ä½ è§‰å¾—è‡ªå·±çš„æ¡ä»¶ä¸å…·å¤‡ç­‰åŸå› æš‚ä¸”æç½®ï¼Œä½†æ˜¯è¿™ä¸ªæƒ³æ³•æœ¬èº«æ˜¯ä¼šä¸€ç›´ä¼´ä½ å‰è¡Œçš„ã€‚</li>
<li>åˆä¼™äººæ‰¾å¯¹äº†ï¼ŒæˆåŠŸçš„æ¦‚ç‡æ˜¯ç›¸å½“ä¹‹å¤§çš„ï¼Œåªæ˜¯æ—¶é—´çš„æ—©æ™šé—®é¢˜ï¼›ä½†æ˜¯å¦‚æœåˆä¼™äººæ‰¾é”™äº†ï¼Œé‚£äºæŸä¹Ÿæ˜¯é“å®šçš„ã€‚</li>
<li>åˆ›ä¸šæˆ–æ˜¯å¹²å…¶ä»–äº‹æƒ…ä¹‹å‰è¦å…ˆæƒ³æ¸…æ¥šè‡ªå·±æƒ³è¦çš„æ˜¯ä»€ä¹ˆï¼Œç›®æ ‡æ˜¯ä»€ä¹ˆã€‚åˆ›ä¸šæ˜¯ä¸€æ¡è·¯ï¼Œä¸€ç§æ‰‹æ®µå’Œé€”å¾„ï¼Œä½ è¦å…ˆå¥½å¥½è€ƒé‡è¿™ä¸ªé€”å¾„å’Œä½ çš„ç›®æ ‡ä¹‹é—´æ˜¯å¦åŒ¹é…ã€‚</li>
<li>å¯¹äºå­¦ç”Ÿè€Œè¨€ï¼Œä¹Ÿè®¸æˆåŠŸçš„æ¡ˆä¾‹æ²¡æœ‰å¤±è´¥çš„æ¡ˆä¾‹å¯¹ä½ æ›´åŠ æœ‰ç”¨ã€‚å› ä¸ºäººå¾€å¾€æ˜¯è™šä¼ªçš„ï¼Œå™è¿°è‡ªå·±æˆåŠŸçš„ç»å†çš„æ—¶å€™å¾€å¾€ä¼šé€‰æ‹©æ€§çš„å¿½ç•¥ä¸€äº›å…³é”®çš„ä½†æ˜¯ä½ å¹¶ä¸å…·å¤‡çš„è¦ç´ ï¼Œè€Œå•çº¯çš„å˜æˆäº†ä¸€ä¸ªä¸ªåŠ±å¿—æ•…äº‹ã€‚</li>
<li>ä¸€ä¸ªå¥½çš„å­¦æ ¡æ¯”ä¸€ä¸ªå¥½çš„ä¸“ä¸šå¯èƒ½ç»™ä½ å¸¦æ¥çš„æ›´å¤šã€‚ä¸“ä¸šå¯èƒ½æ›´å¤šæ˜¯ä½ çš„ä¸Šä¸€ä¸ªé˜¶æ®µæƒ³å¹²çš„äº‹æƒ…ï¼Œä½†æ˜¯ä¸€ä¸ªå¥½çš„å­¦æ ¡å¯èƒ½æ›´å¤šçš„å‘Šè¯‰ä½ ä½ çœŸçš„æƒ³å¹²ä»€ä¹ˆã€‚ä¸€ä¸ªç»¼åˆå¤§å­¦å¯ä»¥ç»™ä½ çš„å¾€å¾€æ›´å¤šã€‚è·¨ç•Œçš„äººå¾€å¾€æ˜¯æ›´æœ‰åˆ›é€ åŠ›çš„ï¼Œè¦å¤šå»è®¤è¯†ä¸åŒä¸“ä¸šçš„äººã€‚</li>
<li>èƒ½åŠ›å¾ˆå¼ºæ²¡æœ‰ç”¨ï¼Œæ€æ ·å»è¿ç”¨ä½ çš„èƒ½åŠ›æœ€æœ‰ç”¨ã€‚æŠ•èµ„äººä¸æ„¿æ„å»æŠ•èµ„ä¸€ä¸ªå·¥å…·ï¼Œå› ä¸ºä¸€ä¸ªå·¥å…·æ€»æ˜¯ä¼šè¢«è¶…è¶Šçš„ï¼›ä½ çš„èƒ½åŠ›å†å¼ºï¼Œæ€»æœ‰æ¯”ä½ æ›´å¼ºçš„äººã€‚ä½†æ˜¯ä½ çš„åº”ç”¨åœºæ™¯å¾€å¾€æ˜¯ä¸æ˜“å¤åˆ¶çš„ï¼Œå­¦ä¼šå¦‚ä½•ç”¨å¥½ä½ çš„èƒ½åŠ›å¾€å¾€æ›´æœ‰ä»·å€¼ã€‚</li>
<li>ä¸­å›½äººåˆ›ä¸šçš„å†…å®¹æ›´å¤šæ˜¯æ¨¡å¼å’Œå†…å®¹ï¼Œè€Œéç§‘æŠ€æœ¬èº«ã€‚ä¸­å›½äººæœ‰å¾ˆå¤šç‚¹å­å’Œåˆ›æ„ï¼Œä½†æŠŠä½ çš„ç‚¹å­è¯æ˜ç»™åˆ«äººçœ‹ï¼Œè¯æ˜ä½ çš„ç‚¹å­èƒ½ç»™åˆ«äººå¸¦æ¥ä»·å€¼è¿™ä»¶äº‹æƒ…æ›´åŠ é‡è¦ã€‚æ€ä¹ˆè¯æ˜ä¸€ä¸ªé—®é¢˜æ—¶å¯¹çš„æ¯”å•çº¯çš„ç»“è®ºé‡è¦ã€‚</li>
<li>ä¸€ä¸ªæ—è§‚è€…å»è¯„ä»·å¥½åæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œè€Œä¸€ä¸ªçœŸæ­£å‚ä¸è¿‡ã€åšè¿‡è¿™ä¸ªè¡Œä¸šçš„äººçš„åˆ¤æ–­æ›´æœ‰ä»·å€¼ã€‚</li>
<li>æ‹¥æœ‰åˆ›ä¸šè€…é¢†å¯¼åŠ›çš„åˆ›ä¸šé¢†å¯¼è€…æ¯”åˆ›ä¸šè€…æ›´æœ‰ä»·å€¼ã€‚åè€…åªæ˜¯ä¸€åœºåˆ›ä¸šæ¸¸æˆçš„å‚ä¸è€…ï¼Œå¥½åæ­»æ´»å…¶å®äº‹å‰å¹¶æ— æ³•é¢„çŸ¥ã€‚è€Œä¸€ä¸ªåˆ›ä¸šé¢†å¯¼è€…è¦åšçš„äº‹æƒ…æ˜¯åˆ›é€ ä¸€ä¸ªç¦»å¼€äº†ä½ ä¹Ÿèƒ½æ­£å¸¸è¿è½¬çš„å…¬å¸ã€‚</li>
<li>æ®ç»Ÿè®¡ï¼Œç”·å¥³ç”Ÿæ“…é•¿çš„ä¿¡æ¯æ¥æ”¶æ–¹å¼æ˜¯æœ‰åŒºåˆ«çš„ã€‚ç”·ç”Ÿæ›´åå‘äºä½¿ç”¨è§†è§‰è®°å¿†ï¼Œè€Œå¥³ç”Ÿæ›´åå‘äºç”¨å¬è§‰æ¥è·å–ä¿¡æ¯ã€‚</li>
<li>æ‰¾åˆä¼™äººçš„æ—¶å€™é™¤äº†è¦çœ‹ä»–æœ¬äººçš„æ„æ„¿ï¼Œä¹Ÿè¦å…ˆè€ƒå¯Ÿå¥½ä»–çš„å¦ä¸€åŠã€‚å¦‚æœå…¶å¦ä¸€åŠä¸æ”¯æŒï¼Œå®¶åº­ä¸ä¹æ„è®©ä»–åˆ›ä¸šï¼Œæœ€åç»“æœå¾€å¾€ä¹Ÿä¸ä¼šå’Œä½ ç»§ç»­åˆä½œä¸‹å»ã€‚</li>
<li>æ¿€åŠ±ä»–äººæœ€å…³é”®çš„æ˜¯è¦äº†è§£åˆ«äººæœ€éœ€è¦çš„æ˜¯ä»€ä¹ˆã€‚ä½ è®¤ä¸ºåˆ«äººéœ€è¦çš„ä¸œè¥¿å¹¶ä¸ä¸€å®šæ˜¯åˆ«äººä¹Ÿè®¤åŒçš„ã€‚æ¯”å¦‚ä¸Šå¸ä»¥ä¸ºè¯·åƒé¥­è¯·æ—…æ¸¸èƒ½æ¿€åŠ±å‘˜å·¥ï¼Œä½†æ˜¯å‘˜å·¥ä¹Ÿè®¸æƒ³è¦çš„æ˜¯ç»æµä¸Šçš„è¡¥è´´ã€‚</li>
<li>å½“å‰ä¼ä¸šç»è¥çš„ç†å¿µã€æ¨¡å¼ç­‰ç­‰å·²ç»æ”¹å˜äº†å¤ªå¤šï¼Œå¦‚æœè¿˜æŒ‰ç…§ä¸Šä¸–çºªçš„è€è¯¾æœ¬æ¥æï¼Œåªèƒ½å¤§è‡´çœ‹åˆ°ä¸Šä¸ªæ—¶ä»£çš„äººæ˜¯æ€ä¹ˆå¤±è´¥çš„ã€‚æ¯”å¦‚ç°åœ¨çš„â€œç¾Šæ¯›å‡ºåœ¨ç‹—èº«ä¸Šâ€ã€å½“ä»£æˆæœ¬ä¸ç›ˆåˆ©æ¨¡å¼éƒ½å‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–ã€‚ç°åœ¨çš„ç»æµå­¦ç®¡ç†å­¦æ˜¯å»ºç«‹åœ¨è€çš„é‚£ä¸€å¥—ç”Ÿäº§æ¨¡å¼ä¸Šçš„ï¼Œå¾ˆå¤šå·²ç»ä¸åˆæ—¶å®œçš„äº†ã€‚</li>
<li>åŠ¨æœºï¼šçœŸå®éœ€æ±‚çš„åŠ¨æœºï¼ˆé‡‘é’±ï¼Œæƒåˆ©ï¼‰ï¼Œçˆ±å¥½å‹çš„ï¼ˆæ¯”å¦‚å› ä¸ºxxxåœ¨é‚£é‡Œï¼‰ã€‚ä»é•¿è¿œæ¥çœ‹ï¼Œåè€Œæ˜¯å‰è€…æ›´èƒ½é•¿è¿œã€‚</li>
<li>æŠ•èµ„äººä¸æ˜¯ä½ çš„æœ‹å‹ï¼Œæ˜¯æƒ³å ä½ ä¾¿å®œçš„äººã€‚ä¸€ä¸ªå¥½çš„æŠ•èµ„äººçš„è§’è‰²ä¸æ˜¯ä¸€ç›´é™ªä½ èµ°ä¸‹å»ï¼Œè€Œæ˜¯é™ªä½ èµ°è¿‡ç‰¹å®šçš„ä¸€æ®µè·¯çš„äººã€‚äººè¦å­¦ä¼šè®¤æ¸…è·¯ä¸Šé‡åˆ°çš„äººä»¬ç©¶ç«Ÿåœ¨ä½ çš„äººç”Ÿä¸­æ‰®æ¼”äº†ä»€ä¹ˆæ ·çš„è§’è‰²ã€‚</li>
<li>å®¢æˆ·è¯´çš„â€œè¿™ä¸ªäº§å“ä¸é”™ï¼Œå¦‚æœå¼€å‘å‡ºæ¥äº†æˆ‘ä¸€å®šä¼šä¹°â€è¿™ç§è¯å¹¶ä¸æ˜¯å¯ä¿¡çš„ï¼Œå¾ˆå¤šæ—¶å€™ä½ èŠ±äº†æ—¶é—´åšå‡ºæ¥äº†ï¼Œå®¢æˆ·æ­¤æ—¶å¹¶ä¸ä¼šå»ä¹°å•ã€‚</li>
<li>â€œä¸€ä¸ªç–¯å­å¸¦ä¸€ç¾¤å‚»å­â€æ˜¯æœ€å¥½çš„åˆåˆ›æœŸçš„ç»“æ„ã€‚ä¸€ä¸ªæœ‰æ¢¦æƒ³çš„é¢†å¯¼å¸¦ä¸Šä¸€ç¾¤èƒ½å¤Ÿç»å¯¹å¬ä½ å‘˜å·¥è°æœ€å¥½çš„ã€‚ä¸¤ä¸ªç–¯å­å¹²ä¸æˆäº‹ï¼Œéƒ½æ˜¯å‚»å­è·‘ä¸è¿œã€‚</li>
<li>èƒ½ä¸ºä½ å¸¦æ¥æ­£ç°é‡‘æµçš„æ˜¯ä½ çš„èµ„äº§ï¼Œä¼šä¸ºä½ å¸¦æ¥è´Ÿç°é‡‘æµçš„æ˜¯ä½ çš„è´Ÿå€ºã€‚æ¯”å¦‚ä¸€ä¸ªæˆ¿å­ï¼Œå¦‚æœæ²¡èƒ½ç»™ä½ å¸¦æ¥æˆ¿ç§Ÿè¿˜è¦ä¸æ–­äº¤ç‰©ä¸šè´¹ï¼Œå…¶å®åœ¨ç°é˜¶æ®µå¯ä»¥çœ‹åšä¸€ä¸ªè´Ÿå€ºçš„ã€‚åŒç†ï¼Œæœ‹å‹å†å¤šå¦‚æœå¹¶ä¸èƒ½ç»™ä½ å¸¦æ¥æˆé•¿å…¶å®å¹¶ä¸èƒ½çœ‹åšä½ çš„èµ„æºã€‚</li>
<li>ä¸è¦æŠŠäººçœ‹åšå•çº¯çš„â€œäººåŠ›èµ„æºâ€ã€‚äººåœ¨ç”Ÿäº§ä¸­æ—¢æ‰®æ¼”ç”Ÿäº§è€…åˆæ‰®æ¼”æœºå™¨ã€‚</li>
<li>ä½ è¦æ‰¾å‡†ä½ æ“…é•¿çš„ä¸€ä¸ªç‚¹ï¼Œä¸€ä¸ªç¯èŠ‚ï¼Œä¸€ç§èƒŒæ™¯ã€‚æ¯”å¦‚ä½ æ“…é•¿çš„æ˜¯æ”¹é©æµç¨‹ï¼Œé‚£ä¹ˆä½ åœ¨ä¸€ä¸ªåˆåˆ›å…¬å¸é‡Œé¢å°±æ²¡æœ‰å¤ªå¤§ä»·å€¼ï¼Œå› ä¸ºä»–ä»¬è¿˜æ²¡æœ‰å»ºç«‹èµ·æ¥ä¸€å¥—æµç¨‹ï¼›åè€Œæ˜¯åœ¨ä¸€äº›å·²ç»å‘å±•çš„æ¯”è¾ƒå¥½ï¼Œæ­£æœ‰æ„æ”¹é©çš„åœ°æ–¹ä½ çš„ä»·å€¼ä¼šæœ€å¤§åŒ–ã€‚</li>
<li>ä»æ‰“ç¿»äº†çš„é¥®æ–™çš„å±æœºå…¬å…³ï¼šStopåœæ­¢è¿™ä»¶äº‹æƒ…-&gt;å«ç›¸å…³çš„è´Ÿè´£äºº-&gt;ã€‚ã€‚ã€‚</li>
<li><a href="www.adream.org">çœŸçˆ±æ¢¦æƒ³å…¬ç›ŠåŸºé‡‘ä¼š</a></li>
</ul>
]]></content>
      <tags>
        <tag>investment</tag>
        <tag>management</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‚¹çŸ³åˆ›æ ¡ç¬¬å››è¯¾â€”â€”OKRä¸ç®¡ç†</title>
    <url>/2018/05/14/dianshi-04/</url>
    <content><![CDATA[<h2 id="okr-introduction">OKR Introduction</h2>
<ul>
<li>ä¼ ç»Ÿçš„æŒ‡ä»¤ç®¡ç†æ›´åŠ é€‚ç”¨äºåŠ³åŠ¨å¯†é›†å‹çš„ä¼ä¸šå’Œå‘˜å·¥æ•´ä½“æ–‡åŒ–æ°´å¹³ä¸å¤Ÿé«˜çš„ä¼ä¸šã€‚</li>
<li>ç›®æ ‡ç®¡ç†çš„ç›®æ ‡æ˜¯æ¿€åŠ±æˆå‘˜ï¼Œè€Œä¸æ˜¯ä¸ºäº†è€ƒæ ¸è€Œåˆ¶å®šçš„ä¸‰å…­ä¹ç­‰ï¼Œå°¤å…¶æ˜¯é€‚ç”¨äºåˆ›æ–°ä¼ä¸šå’Œæ ¸å¿ƒç®¡ç†å±‚</li>
<li>OKRåˆ¶å®šæµç¨‹ï¼šä¸ªäººæ„¿æ™¯ï¼ˆåˆå¿ƒï¼‰-&gt;ç›®æ ‡-&gt;å…³é”®ç»“æœ-&gt;ä»»åŠ¡æ¸…å•</li>
</ul>
<span id="more"></span>
<ul>
<li>æ‰¾åˆ°ä¸ªäººçš„æ„¿æ™¯æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºå…¬å¸çš„æ„¿æ™¯å¹¶æ²¡æ³•ç›´æ¥æ¿€åŠ±åˆ°ä¸ªäººçš„</li>
<li>ç›®æ ‡ ä¸€å®šè¦æœ‰æ¿€åŠ±ä½œç”¨ï¼Œä¸€èˆ¬ä¼šè®¾å®šä¸€ä¸ªå®Œæˆåº¦åœ¨60%~70%çš„ç›®æ ‡æ˜¯æœ€æœ‰æ•ˆçš„</li>
<li>OKRçš„åˆ¶å®šä¸­æœ€é‡è¦çš„ä¸€ç¯æ˜¯OKRä¼šè®®ã€‚è¿™ä¸ªé—®é¢˜çš„å…³é”®åœ¨äºâ€œå¹³ç­‰åå•†ï¼Œæåº¦é€æ˜ï¼Œæ±‚åŒå­˜å¼‚â€</li>
<li>OKRä¼šè®®ä¸æ˜¯ä¸Šçº§ç»™ä¸‹çº§å¸ƒç½®ä»»åŠ¡çš„è¿‡ç¨‹ï¼Œè€Œæ˜¯ä¸€ä¸ªå¹³ç­‰åå•†çš„è¿‡ç¨‹ã€‚ä¸Šä¸‹çº§ä¹‹é—´å¯¹åŒä¸€ä¸ªä»»åŠ¡çš„ç†è§£ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸åŒçš„ï¼Œæœ‰æ—¶å€™ä¸Šçº§å¯¹ä»»åŠ¡çš„éš¾åº¦æœ‰é”™è¯¯ä¼°è®¡ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œå…³é”®åœ¨äºåå•†ä¸­çš„äº¤æµ</li>
<li>ç›®æ ‡çš„åˆ¶å®šåŸåˆ™ï¼šå…·ä½“çš„ï¼Œå¯åº¦é‡çš„ï¼Œå¯å®ç°çš„ï¼Œé«˜ç›¸å…³æ€§çš„ï¼Œæ—¶é—´ç‚¹</li>
<li>æ¯ä¸ªå±‚çº§éƒ½è¦åˆ¶å®šè‡ªå·±çš„OKRï¼Œæ¯”å¦‚Dianå›¢é˜Ÿè¦æœ‰å›¢é˜ŸOKRï¼Œé¡¹ç›®ç»„è¦ç”±ç»„é•¿åˆ¶å®šé¡¹ç›®ç»„çš„OKRï¼Œåº•å±‚ä¸ªäººä¹Ÿè¦æœ‰è‡ªå·±çš„OKRï¼Œå„å¸å…¶èŒ</li>
</ul>
<h2 id="homework">Homework</h2>
<ul>
<li>åŠ å…¥ç§å­ç­çš„åˆå¿ƒæ˜¯ä»€ä¹ˆ</li>
<li>ä½ åœ¨é¡¹ç›®ç»„ä¸­è¦å®Œæˆçš„æœ¬å­£åº¦ç›®æ ‡æœ‰ä»€ä¹ˆ</li>
<li>è¦å®Œæˆæ¯ä¸ªç›®æ ‡çš„å…³é”®ç»“æœæœ‰å“ªäº›</li>
</ul>
]]></content>
      <tags>
        <tag>investment</tag>
        <tag>management</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerä¸Nivida-Dockerçš„ç”¨æ³•ä¸æ³¨æ„äº‹é¡¹</title>
    <url>/2020/04/26/docker-et-nvidia/</url>
    <content><![CDATA[<h2 id="docker-images-and-containers">Docker Images and Containers</h2>
<ul>
<li><p>æ¸…é™¤æ‰€æœ‰å·²ç»åœæ­¢çš„containerï¼š<code>docker container prune -f</code> ã€‚å…¶ä¸­ <code>-f</code> è¡¨ç¤ºä¸å¼¹å‡ºç¡®è®¤æç¤ºã€‚ä¹Ÿå¯ä½¿ç”¨<code>docker rm $(docker ps -a -q)</code>æ¥æ¸…ç†ã€‚å…¶ä¸­ï¼Œ<code>docker rm</code>ä»£è¡¨åˆ é™¤containerï¼Œè€Œ<code>docker rmi</code>åˆ™æ˜¯åˆ é™¤imageã€‚</p></li>
<li><p>å¦‚æœä½ éœ€è¦å®ä¾‹åŒ–ä¸€ä¸ªåªç”¨ä¸€æ¬¡çš„containerï¼Œé‚£ä¹ˆä½¿ç”¨<code>docker run --rm</code>å‚æ•°ï¼Œç»“æŸåä¼šè‡ªåŠ¨åˆ é™¤ã€‚</p>
<span id="more"></span></li>
<li><p><code>docker ps &lt;-a&gt;</code> å¯ä»¥åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„/å…¨éƒ¨çš„containerã€‚å…¶æ•ˆæœå’Œ<code>docker container ls &lt;-a&gt;</code>ç›¸åŒã€‚è€Œè‹¥æƒ³åˆ—å‡ºå…¨éƒ¨imagesï¼Œåˆ™è¦ä½¿ç”¨<code>docker images</code>ã€‚</p></li>
<li><p>docker imagesä¸­çš„ç¯å¢ƒå˜é‡æœ‰å››ä¸ªæ¥æºï¼š</p>
<ol type="1">
<li>Dockerfileä¸­é€šè¿‡<code>ENV</code>æŒ‡ä»¤æ·»åŠ çš„ç¯å¢ƒå˜é‡ï¼Œå¦‚<code>ENV PATH /opt/conda/bin:$PATH</code></li>
<li>Dockerfileä¸­é€šè¿‡ä¿®æ”¹<code>/root/.bashrc</code>æ–‡ä»¶ä½¿ç”¨<code>export</code>å‘½ä»¤æ·»åŠ åˆ°bashä¸­çš„ç¯å¢ƒå˜é‡ï¼Œå¦‚<code>export PATH=/OPT/conda/bin:$PATH</code>å‘½ä»¤ã€‚</li>
<li>åœ¨é€šè¿‡imageå®ä¾‹åŒ–containeræ—¶æ·»åŠ <code>-e</code>æˆ–<code>--env</code>å‚æ•°æ¥æ·»åŠ åˆ°ç¯å¢ƒä¸­çš„å˜é‡ã€‚è¿™ä¸ªæ–¹æ³•æœ‰å±€é™æ€§ï¼Œå®ƒä¸èƒ½å®Œæˆå¯¹å·²æœ‰å˜é‡çš„â€œæ·»åŠ â€æ“ä½œï¼Œåªèƒ½æ–°å»ºä¸€ä¸ªæ–°çš„ç¯å¢ƒå˜é‡ï¼Œå¦‚<code>--env NEW_VAR=/opt/conda/bin</code></li>
<li>åœ¨<code>docker run</code>æœ«ç«¯çš„containerå†…å‘½ä»¤çš„å‰é¢æ·»åŠ ä¸€å¥<code>export</code>å¼•å¯¼çš„å‘½ä»¤ï¼Œå¦‚ï¼š<code>docker run -it -v $(PWD):/app debian:jessie bash -c 'export PATH=$PATH:/opt/conda/bin; bash'</code>ã€‚å®ƒçš„ç¼ºç‚¹æ˜¯è¾ƒä¸ºå¤æ‚ã€‚</li>
</ol>
<p>å…¶ä¸­ï¼Œå¦‚æœèƒ½æ‰¾åˆ°æºDockerfileï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯é€šè¿‡ä¿®æ”¹Dockerfileç„¶åé‡æ–°buildå¾—åˆ°ä¸€ä¸ªè‡ªå·±çš„ç‰ˆæœ¬ã€‚å…¶æ¬¡æ˜¯æ–¹æ³•ä¸‰ï¼Œå®åœ¨ä¸è¡Œä½¿ç”¨æ–¹æ³•å››ã€‚å¦‚æœå…ˆè¿›å…¥bashå†è¿è¡Œå‘½ä»¤å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè€Œç›´æ¥ä½¿ç”¨<code>docker run</code>å‡ºç°äº†ç¯å¢ƒå˜é‡ç›¸å…³çš„å¤±è´¥æç¤ºï¼Œå¾ˆå¯èƒ½æ˜¯ç”±äºDockerfileå†™çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯åœ¨<code>/root/.bashrc</code>ä¸­æ·»åŠ ç¯å¢ƒå˜é‡çš„æ–¹æ³•æ‰€è‡´ã€‚</p></li>
<li><p>å¦‚æœéœ€è¦ä¸€ä¸ªcontaineré•¿æœŸåœ¨åå°å¾…æœºå€™å‘½ï¼Œé‚£å¯ä»¥ä½¿ç”¨<code>-d</code>æˆ–<code>--detach</code>é€‰é¡¹å»ºç«‹ä¸€ä¸ªä¸€ç›´å¾…æœºçš„dockerè¿›ç¨‹ã€‚ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ol type="1">
<li><code>docker run -itd --name NAME xxx/xxx:xx /bin/bash</code></li>
<li><code>docker exec -it NAME your-command</code></li>
</ol></li>
<li><p>å¯åŠ¨æ—¶å¦‚æœéœ€è¦å¯¹æœ¬åœ°æ–‡ä»¶å¤¹å’ŒDockerå†…éƒ¨æ–‡ä»¶å¤¹åšæ˜ å°„ï¼Œåˆ™ä½¿ç”¨<code>docker run -v &lt;LOCAL_FOLDER&gt;:&lt;DOCKER_FOLDER&gt;</code> ã€‚ è¯¥å‚æ•°å¯ä»¥å¤æ•°æ¬¡å‡ºç°ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run \</span><br><span class="line">    -v <span class="variable">$AUDIO_IN</span>:/input \</span><br><span class="line">    -v <span class="variable">$AUDIO_OUT</span>:/output \</span><br><span class="line">    -v <span class="variable">$MODEL_DIRECTORY</span>:/model \</span><br><span class="line">    -e MODEL_PATH=/model \</span><br><span class="line">    researchdeezer/spleeter \</span><br><span class="line">    separate -i /input/audio_1.mp3 /input/audio_2.mp3 -o /output</span><br></pre></td></tr></table></figure></li>
<li><p>docker runæ‰€æœ‰çš„å‚æ•°éƒ½åº”è¯¥å†™åœ¨é•œåƒåå­—<code>xxx/xxx:xx</code>å‰é¢ï¼Œå†™åœ¨å…¶åé¢çš„ç»Ÿç»Ÿä¼šè¢«è§†ä½œåœ¨docker containerä¸­è¿è¡Œçš„å‘½ä»¤æˆ–å‘½ä»¤å‚æ•°ã€‚</p></li>
<li><p>å¦‚æœä½ æœ‰äº†ä¸€ä¸ªåœ¨åå°æŒç»­è¿è¡Œçš„containerï¼Œä¸”ä½ æƒ³å¼„ä¸€ä¸ªäº¤äº’æ€§bashï¼Œæ­¤æ—¶ä½ ä»éœ€è¦åŠ ä¸Š<code>-it</code>å‚æ•°ï¼ŒåŒæ ·æ˜¯åœ¨<code>docker exec</code>åï¼Œcontaineråå­—å‰åŠ éœ€è¦çš„å‚æ•°ï¼Œrestartå’ŒstartåŒç†ã€‚</p></li>
<li><p>å¦‚æœä½ å¯¹ä½œè€…çš„Docker Imageä¸æ»¡æ„ï¼Œéœ€è¦ä¿®æ”¹ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ol type="1">
<li>æ‰¾åˆ°Dockerfileå¹¶ä¿®æ”¹ï¼Œ<code>docker build</code>ï¼Œ<code>docker push</code></li>
<li>ä½¿ç”¨bashè¿›å…¥ä¸€ä¸ªå®ä¾‹åŒ–çš„Imageï¼Œåœ¨é‡Œé¢åšä¸€é€šæ“ä½œï¼Œå‡ºæ¥åä½¿ç”¨<code>docker commit -m &lt;YOUR_MESSAGE&gt; -a &lt;AUTHOR_NAME&gt; &lt;CONTAINER_ID&gt; &lt;DOCKERHUB_USERNAME/NEW_IMAGE_NAME:TAG&gt;</code>æäº¤æ›´æ”¹ä½¿å…¶ä¿å­˜ä¸ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œæœ€åä½¿ç”¨<code>docker push</code>æ¨é€æ–°çš„é•œåƒåˆ°docker hubã€‚å¦‚æœå‘½åæœ‰è¯¯æˆ–å¿˜è®°æ·»åŠ docker hub usernameä½œä¸ºå‰ç¼€ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>docker tag &lt;existing-image&gt; &lt;hub-user&gt;/&lt;repo-name&gt;[:&lt;tag&gt;]</code>æ”¹åã€‚</li>
</ol>
<p>æ³¨æ„ï¼Œä½¿ç”¨<code>docker push</code>éœ€è¦æœ‰docker hubè´¦å·ï¼Œå¹¶åœ¨pushå‰ä½¿ç”¨<code>docker login</code>æ“ä½œç™»å½•ã€‚</p></li>
<li><p>ä¸€ä¸ªè¾¨æï¼š<code>docker commit</code>é’ˆå¯¹çš„æ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„containerï¼Œä½¿å…¶å›ºåŒ–ä¸ºä¸€ä¸ªimageï¼›è€Œ<code>docker push</code>æ¨é€çš„åˆ™æ˜¯ä¸€ä¸ªimageåˆ°docker hubã€‚å‰è€…æ˜¯æœ¬åœ°æ“ä½œï¼Œåè€…æ˜¯ä¸Šä¼ æ“ä½œã€‚</p></li>
<li><p>ä¸€ä¸ªåŒºåˆ«ï¼š<code>docker start</code>æ˜¯å¯åŠ¨ä¸€ä¸ªå·²ç»åœæ­¢çš„containerï¼Œè€Œ<code>docker restart</code>åˆ™æ˜¯å…ˆstopä¸€ä¸ªcontainerå†startã€‚å¦‚æœä¸€ä¸ªcontainerå·²ç»åœæ­¢äº†ï¼Œé‚£ä¹ˆäºŒè€…ç­‰æ•ˆã€‚</p></li>
</ul>
<h2 id="dockerfile">Dockerfile</h2>
<ul>
<li>Docker Hubä¸­å¹¶ä¸ç›´æ¥æä¾›Dockerfileï¼Œä½†å¯ä»¥é€šè¿‡æŸ¥çœ‹imageçš„â€œæ ‡ç­¾â€é¡µé¢çœ‹æ¯ä¸ªimageçš„dockerå»ºç«‹æ“ä½œã€‚ä½†ç”±äºDocker buildçš„æ—¶å€™ä½¿ç”¨gitä¼šå¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥å¾ˆå¤šä½œè€…ä¼šåœ¨å…¶Githubä¸Šå‘å¸ƒè¿™äº›Dockerfileï¼Œå¾€å¾€å¯ä»¥æŸ¥çœ‹ä»‹ç»é¡µé¢æ‰¾åˆ°é“¾æ¥ã€‚</li>
<li>Dockerfileä¸­è®¾ç½®è¿›å…¥ç‚¹å‘½ä»¤ï¼š<code>ENTRYPOINT ["spleeter"]</code>ã€‚</li>
</ul>
<ol type="1">
<li>è¿™é‡Œâ€spleeterâ€œæ˜¯ä¸€ä¸ªbinå¯æ‰§è¡Œæ–‡ä»¶ã€‚å®ƒçš„æ•ˆæœæ˜¯ï¼šæœ¬æ¥éœ€è¦ç”¨æˆ·åœ¨<code>docker run</code>æ—¶è¾“å…¥<code>docker run xxx/xxx:xx spleeter separate</code>ï¼Œ ç°åœ¨å°±åªç”¨è¾“å…¥<code>docker run xxx/xxx:xx separate</code>äº†ï¼Œå³runçš„æ—¶å€™å¸®ä½ å…ˆæ‰“äº†ä¸€ä¸ªå‘½ä»¤æ ‡è®°ä½†æ²¡ç»™ä½ æŒ‰å›è½¦ã€‚</li>
<li>å¦‚æœä½ å‘ç°è‡ªå·±åœ¨è¿è¡Œä¸€ä¸ªdocker imageæ—¶å€™æç¤ºäº†æŸä¸ªä½ æ²¡æœ‰è¾“å…¥çš„å‘½ä»¤çš„ç›¸å…³é—®é¢˜ï¼Œå¦‚<code>xxx don't have a parameter yyy, please input aaa, bbb, or ccc</code>ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯Dockerfileä¸­è®¾å®šäº†è¿›å…¥ç‚¹ã€‚</li>
<li>å¦‚æœä½œè€…åœ¨Dockerfileä¸­è®¾å®šäº†è¿›å…¥ç‚¹ï¼Œä½†ä½ éœ€è¦è¿›å…¥dockerè¿›è¡Œè°ƒè¯•æˆ–æ£€æŸ¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>docker run -it --entrypoint bash</code>æ¥åˆ‡æ¢å…¥ç‚¹ï¼Œè¿›å…¥ä¸€ä¸ªbashå‘½ä»¤è¡Œä¸­è°ƒè¯•ã€‚</li>
</ol>
<ul>
<li><code>docker build</code>é’ˆå¯¹çš„æ˜¯ä¸€ä¸ªurlæˆ–æ˜¯ä¸€ä¸ªæœ¬åœ°çš„æ–‡ä»¶å¤¹ã€‚å¦‚æœæ˜¯æœ¬åœ°çš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹å†…éœ€è¦å«æœ‰ä¸€ä¸ªä»¥<code>Dockerfile</code>ä¸ºåçš„æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦å¯¼å…¥æŸäº›æ–‡ä»¶åˆ°Docker Imageä¸­ï¼Œåˆ™è¿™äº›æ–‡ä»¶éœ€è¦åœ¨æ­£ç¡®çš„ä½ç½®ã€‚
<ol type="1">
<li>å¦‚æœdockerfileçš„åå­—ä¸æ˜¯<code>Dockerfile</code>ï¼Œåˆ™ä½¿ç”¨<code>-f/--file &lt;DOCKERFILE_NAME&gt;</code>æ¥æŒ‡å®šåç§°ã€‚</li>
<li>å¦‚æœéœ€è¦æŒ‡å®šè¾“å‡ºimageçš„åå­—å’Œtagï¼Œåˆ™ä½¿ç”¨<code>-t/--tag</code>æ ‡ç­¾ï¼Œä»¥<code>name:tag</code>å‘½åã€‚</li>
<li>å¦‚æœbuildçš„æ—¶å€™å¿˜è®°äº†å‘½åimageï¼Œåˆ™è¾“å‡ºçš„imageæ²¡æœ‰åå­—å’Œtagï¼Œåªæœ‰ä¸€ä¸ªéšæœºåºå·ã€‚æ­¤æ—¶å¦‚æœè¦é‡å‘½åï¼Œå¯ä»¥ç”¨<code>docker tag &lt;SERIAL_NUMBER&gt; &lt;NAME:TAG&gt;</code> å‘½ä»¤ã€‚é»˜è®¤tagä¸ºlatestã€‚</li>
<li>Docker Buildç¤ºä¾‹ï¼š
<ul>
<li>æœ¬åœ°æ–‡ä»¶å¤¹ï¼š<code>docker build -f &lt;NAME:TAG&gt; &lt;TARGET DICTIONARY&gt;</code></li>
<li>æœ¬åœ°æ–‡ä»¶ï¼š<code>docker build - &lt; &lt;Dockerfile_Path&gt;</code></li>
<li>URLï¼š<code>docker build https://github.com/&lt;USERNAME&gt;/&lt;REPONAME&gt;.git#&lt;BRUNCH&gt;:&lt;SUBFOLDERNAME&gt;</code></li>
</ul></li>
</ol></li>
</ul>
<h2 id="nivdia-docker">Nivdia Docker</h2>
<ul>
<li><p>å…ˆæ”¾<a href="https://github.com/NVIDIA/nvidia-docker">é“¾æ¥</a>ã€‚è¿™é‡Œæ˜¯Nvidia Dockerçš„Githubä»“åº“ã€‚</p></li>
<li><p>å†è¯´ä½œç”¨ã€‚è‹¥æƒ³åœ¨Dockerä¸­è¿è¡ŒGPUç¨‹åºï¼Œåˆ™æ™®é€šçš„Dockeræ˜¯åšä¸åˆ°çš„ï¼Œç¨‹åºæ— æ³•é»˜è®¤åœ¨Dockerä¸­ä½¿ç”¨GPUè®¡ç®—èµ„æºï¼›å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæœ¬åœ°å·²ç»å®‰è£…äº†æŸä¸ªç‰ˆæœ¬çš„CUDAï¼Œä½†ç›®æ ‡ç¨‹åºéœ€è¦ä¾èµ–å¦ä¸€ä¸ªç‰ˆæœ¬ï¼Œè¿™ä¹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ã€‚è€ŒNvidia Dockerçš„å‡ºç°åˆ™å¾ˆå¥½è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚å®ƒç›¸å½“äºåœ¨Dockerçš„ä¸‹é¢å¡è¿›äº†ä¸€å±‚CUDAå±‚ï¼Œä»‹äºContainerå’ŒOSä¹‹é—´ã€‚</p>
<figure>
<img src="/2020/04/26/docker-et-nvidia/inner.png" alt="Nvidia Docker åŸç†å›¾"><figcaption aria-hidden="true">Nvidia Docker åŸç†å›¾</figcaption>
</figure></li>
<li><p>ç„¶åæ˜¯å®‰è£…ã€‚</p>
<ol type="1">
<li><p>ä½œä¸ºå‰ç½®æ¡ä»¶ï¼Œéœ€è¦æœ¬æœºä¸Šå®‰è£…æœ‰Nvidia Driverï¼Œä¸å¼ºåˆ¶è¦æ±‚CUDAã€‚ï¼ˆä¸è¿‡æ—¢ç„¶éƒ½å®‰åˆ°Driveräº†ï¼Œä¸å¦‚æŠŠæœ¬æœºCUDAä¹Ÿè£…äº†ï¼‰å®˜æ–¹æ•™ç¨‹<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#ubuntu-installation">é“¾æ¥</a>ã€‚å½“ç„¶ï¼Œè¯·å®‰è£…Dockerã€‚</p></li>
<li><p>æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Add the package repositories</span></span><br><span class="line">distribution=$(. /etc/os-release;<span class="built_in">echo</span> $ID<span class="variable">$VERSION_ID</span>)</span><br><span class="line">curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -</span><br><span class="line">curl -s -L https://nvidia.github.io/nvidia-docker/<span class="variable">$distribution</span>/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list</span><br><span class="line"></span><br><span class="line">sudo apt-get update &amp;&amp; sudo apt-get install -y nvidia-container-toolkit</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>
<p>ä»£ç å¯èƒ½ä¼šéšç€Nvidia Dockerçš„çš„å‡çº§è€Œå‘ç”Ÿå˜åŒ–ï¼Œæœ€å¥½å‚é˜…æœ¬ç« ç¬¬ä¸€æ¡çš„é“¾æ¥ã€‚</p></li>
</ol></li>
<li><p>è¯•è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#### Test nvidia-smi with the latest official CUDA image</span></span><br><span class="line">docker run --gpus all nvidia/cuda:10.0-base nvidia-smi</span><br><span class="line"></span><br><span class="line"><span class="comment"># Start a GPU enabled container on two GPUs</span></span><br><span class="line">docker run --gpus 2 nvidia/cuda:10.0-base nvidia-smi</span><br><span class="line"></span><br><span class="line"><span class="comment"># Starting a GPU enabled container on specific GPUs</span></span><br><span class="line">docker run --gpus <span class="string">&#x27;&quot;device=1,2&quot;&#x27;</span> nvidia/cuda:10.0-base nvidia-smi</span><br><span class="line">docker run --gpus <span class="string">&#x27;&quot;device=UUID-ABCDEF,1&quot;&#x27;</span> nvidia/cuda:10.0-base nvidia-smi</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specifying a capability (graphics, compute, ...) for my container</span></span><br><span class="line"><span class="comment"># Note this is rarely if ever used this way</span></span><br><span class="line">docker run --gpus all,capabilities=utility nvidia/cuda:10.0-base nvidia-smi</span><br></pre></td></tr></table></figure>
<p>å…¶æ ‡å¿—æ€§ç‰¹ç‚¹å°±æ˜¯ä¸€ä¸ªå‚æ•°<code>--gpus &lt;PARAMETERS&gt;</code> ä¸€èˆ¬ä½¿ç”¨<code>--gpus all</code>å³å¯ï¼Œå…¶ä»–éƒ¨åˆ†å’Œæ™®é€šdockerä¸€æ¨¡ä¸€æ ·ã€‚</p></li>
</ul>
]]></content>
      <tags>
        <tag>deep-learning</tag>
        <tag>docker</tag>
        <tag>nvidia</tag>
        <tag>gpu</tag>
      </tags>
  </entry>
  <entry>
    <title>EMD, EEMDä¸CEEMD</title>
    <url>/2020/03/12/eemd/</url>
    <content><![CDATA[<h2 id="emd">EMD</h2>
<p>EMD: Empirical Mode Decomposition</p>
<h3 id="ç‰¹å¾">ç‰¹å¾</h3>
<ol type="1">
<li>è‡ªé€‚åº”ã€‚ä¸å°æ³¢åˆ†æç›¸æ¯”ï¼Œå…‹æœäº†åŸºå‡½æ•°æ— è‡ªé€‚åº”æ€§çš„é—®é¢˜ï¼Œè§£å†³äº†å…¨å±€æœ€ä¼˜å°æ³¢åŸºåœ¨å±€éƒ¨å¹¶éæœ€ä¼˜çš„é—®é¢˜ï¼Œæœ‰åŸºå‡½æ•°è‡ªé€‚åº”ç‰¹æ€§ã€‚</li>
<li>å¯ä»¥ç›´æ¥è¿›è¡Œåˆ†è§£ï¼Œä¸éœ€è¦é¢„åˆ†æå’Œç ”ç©¶ã€‚</li>
</ol>
<span id="more"></span>
<h3 id="å†…æ¶µæ¨¡æ€åˆ†é‡">å†…æ¶µæ¨¡æ€åˆ†é‡</h3>
<p>å†…æ¶µæ¨¡æ€åˆ†é‡ï¼ˆIntrinsic Mode Functions, IMFï¼‰å°±æ˜¯åŸå§‹ä¿¡å·è¢«EMDåˆ†è§£ä¹‹åå¾—åˆ°çš„å„å±‚ä¿¡å·åˆ†é‡ã€‚EMDçš„æå‡ºäººé»„é”·è®¤ä¸ºï¼Œä»»ä½•ä¿¡å·éƒ½å¯ä»¥æ‹†åˆ†æˆè‹¥å¹²ä¸ªå†…æ¶µæ¨¡æ€åˆ†é‡ä¹‹å’Œã€‚è€Œå†…æ¶µæ¨¡æ€åˆ†é‡æœ‰ä¸¤ä¸ªçº¦æŸæ¡ä»¶ï¼š</p>
<p>1ï¼‰åœ¨æ•´ä¸ªæ•°æ®æ®µå†…ï¼Œæå€¼ç‚¹çš„ä¸ªæ•°å’Œè¿‡é›¶ç‚¹çš„ä¸ªæ•°å¿…é¡»ç›¸ç­‰æˆ–ç›¸å·®æœ€å¤šä¸èƒ½è¶…è¿‡ä¸€ä¸ªã€‚</p>
<p>2ï¼‰åœ¨ä»»æ„æ—¶åˆ»ï¼Œç”±å±€éƒ¨æå¤§å€¼ç‚¹å½¢æˆçš„ä¸ŠåŒ…ç»œçº¿å’Œç”±å±€éƒ¨æå°å€¼ç‚¹å½¢æˆçš„ä¸‹åŒ…ç»œçº¿çš„å¹³å‡å€¼ä¸ºé›¶ï¼Œå³ä¸Šã€ä¸‹åŒ…ç»œçº¿ç›¸å¯¹äºæ—¶é—´è½´å±€éƒ¨å¯¹ç§°ã€‚</p>
<p>å•¥æ„æ€ï¼Ÿ</p>
<p>ç”¨ä¸ä¸¥è°¨çš„è¯­è¨€å’Œçµé­‚ç”»å¸ˆæ¥è§£é‡Šä¸€ä¸‹ï¼š</p>
<p>1ï¼‰å›¾çº¿è¦åå¤è·¨è¶Šxè½´ï¼Œåƒè¿™æ ·ï¼š</p>
<figure>
<img src="/2020/03/12/eemd/v2-0e5b832aee81e8a9068c9665e6eb2a3a_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>åœ¨æ•´ä¸ªæ•°æ®æ®µå†…ï¼Œæå€¼ç‚¹çš„ä¸ªæ•°å’Œè¿‡é›¶ç‚¹çš„ä¸ªæ•°å¿…é¡»ç›¸ç­‰æˆ–ç›¸å·®æœ€å¤šä¸èƒ½è¶…è¿‡ä¸€ä¸ª</p>
<p>è€Œä¸èƒ½åƒè¿™æ ·æŸæ¬¡ç©¿è¿‡é›¶ç‚¹åå‡ºç°å¤šä¸ªæç‚¹ï¼š</p>
<figure>
<img src="/2020/03/12/eemd/v2-921bc09334db7a4e443578091117788f_1440w.jpg" alt="æç‚¹æ•°ç›®åå¤š"><figcaption aria-hidden="true">æç‚¹æ•°ç›®åå¤š</figcaption>
</figure>
<p>2ï¼‰åŒ…ç»œçº¿è¦å¯¹ç§°ï¼Œåƒè¿™æ ·ï¼š</p>
<figure>
<img src="/2020/03/12/eemd/v2-8826ddaefd1cebee1841bf5ff083c494_1440w.jpg" alt="åŒ…ç»œçº¿å¯¹ç§°"><figcaption aria-hidden="true">åŒ…ç»œçº¿å¯¹ç§°</figcaption>
</figure>
<p>è€Œä¸èƒ½åƒè¿™æ ·ï¼š</p>
<figure>
<img src="/2020/03/12/eemd/v2-deb9cd0d0dcb8a154f8621276cce9972_1440w.jpg" alt="åŒ…ç»œçº¿ä¸å¯¹ç§°"><figcaption aria-hidden="true">åŒ…ç»œçº¿ä¸å¯¹ç§°</figcaption>
</figure>
<p>æ´—æ´—çœ¼ç›ï¼Œçœ‹ä¸ªæ­£å¸¸ç‚¹çš„ä¾‹å­å§ï¼š</p>
<figure>
<img src="/2020/03/12/eemd/v2-a609c2680a2f4c525648a414d9b0a358_1440w.jpg" alt="EMDåˆ†è§£"><figcaption aria-hidden="true">EMDåˆ†è§£</figcaption>
</figure>
<p>ä¸Šå›¾ç”±7å¼ å›¾ç‰‡ç»„æˆï¼Œå…¶ä¸­ç¬¬1å¼ ä¸ºåŸå§‹ä¿¡å·ï¼Œåè¾¹ä¾æ¬¡ä¸ºEMDåˆ†è§£ä¹‹åå¾—åˆ°çš„6ä¸ªåˆ†é‡ï¼Œåˆ†åˆ«å«åšIMF1~IMF5ï¼Œæœ€åä¸€å¼ å›¾ä¸ºæ®‹å·®ï¼Œæ¯ä¸€ä¸ªIMFåˆ†é‡ä»£è¡¨äº†åŸå§‹ä¿¡å·ä¸­å­˜åœ¨çš„ä¸€ç§å†…æ¶µæ¨¡æ€åˆ†é‡ã€‚å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸ªIMFåˆ†é‡éƒ½æ˜¯æ»¡è¶³è¿™ä¸¤ä¸ªçº¦æŸæ¡ä»¶çš„ã€‚</p>
<h3 id="åˆ†è§£æ­¥éª¤">åˆ†è§£æ­¥éª¤</h3>
<p>1ï¼‰æ ¹æ®åŸå§‹ä¿¡å·ä¸Šä¸‹æå€¼ç‚¹ï¼Œåˆ†åˆ«ç”»å‡ºä¸Šã€ä¸‹åŒ…ç»œçº¿ã€‚</p>
<p><img src="/2020/03/12/eemd/v2-c18c7b4e6d60711351a4d55cb8271320_1440w.jpg" alt="img">ä¸Šã€ä¸‹åŒ…ç»œçº¿</p>
<p>2ï¼‰æ±‚ä¸Šã€ä¸‹åŒ…ç»œçº¿çš„å‡å€¼ï¼Œç”»å‡ºå‡å€¼åŒ…ç»œçº¿ã€‚</p>
<p><img src="/2020/03/12/eemd/v2-d56c460e9dd9e245521140497afddb39_1440w.jpg" alt="img">å‡å€¼åŒ…ç»œçº¿</p>
<p>3ï¼‰åŸå§‹ä¿¡å·å‡å‡å€¼åŒ…ç»œçº¿ï¼Œå¾—åˆ°ä¸­é—´ä¿¡å·ã€‚</p>
<p><img src="/2020/03/12/eemd/v2-e74e49a23dda87df74a562809257ddda_1440w.jpg" alt="img">åŸå§‹ä¿¡å·å‡å‡å€¼åŒ…ç»œçº¿</p>
<p>4ï¼‰åˆ¤æ–­è¯¥ä¸­é—´ä¿¡å·æ˜¯å¦æ»¡è¶³IMFçš„ä¸¤ä¸ªæ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³ï¼Œè¯¥ä¿¡å·å°±æ˜¯ä¸€ä¸ªIMFåˆ†é‡ï¼›å¦‚æœä¸æ˜¯ï¼Œä»¥è¯¥ä¿¡å·ä¸ºåŸºç¡€ï¼Œé‡æ–°åš1ï¼‰~4ï¼‰çš„åˆ†æã€‚IMFåˆ†é‡çš„è·å–é€šå¸¸éœ€è¦è‹¥å¹²æ¬¡çš„è¿­ä»£ã€‚</p>
<p><img src="/2020/03/12/eemd/v2-8b6643d803c3bdfb47639e65a75d4c8d_1440w.jpg" alt="img">ä¸æ»¡è¶³çº¦æŸ2ï¼Œéœ€è¦ç»§ç»­è¿­ä»£</p>
<p>ä½¿ç”¨ä¸Šè¿°æ–¹æ³•å¾—åˆ°ç¬¬ä¸€ä¸ªIMFåï¼Œç”¨åŸå§‹ä¿¡å·å‡IMF1ï¼Œä½œä¸ºæ–°çš„åŸå§‹ä¿¡å·ï¼Œå†é€šè¿‡1ï¼‰~4ï¼‰çš„åˆ†æï¼Œå¯ä»¥å¾—åˆ°IMF2ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå®ŒæˆEMDåˆ†è§£ã€‚</p>
<p><img src="/2020/03/12/eemd/v2-f735266df804d187b1d173fe6f1bb168_1440w.jpg" alt="img">è¿­ä»£åˆ†è§£ç»“æœ</p>
<p>ä¸Šè¿°ä¾‹å­ä¸­çš„å›¾æ¥è‡ª<a href="http://perso.ens-lyon.fr/patrick.flandrin/emd.ppt">http://perso.ens-lyon.fr/patri</a></p>
<h2 id="eemd">EEMD</h2>
<p>EEMD: Ensemble Empirical Mode Decomposition</p>
<p>ç®€å•çš„è¯´ï¼ŒEEMDæ˜¯åœ¨EMDçš„åŸºç¡€ä¸Šï¼Œå¯¹åŸå§‹ä¿¡å·è¿›è¡Œäº†Næ¬¡æ·»åŠ å„å¼‚ç­‰å¹…ç™½å™ªå£°å¹¶åˆ†åˆ«è¿›è¡ŒEMDåˆ†è§£åï¼Œå¯¹æ¯ä¸ªIMFä¸­é—´åˆ†é‡è¿›è¡Œå¹³å‡ã€‚</p>
<p>å…¶åŸç†æ˜¯é€šè¿‡åŠ å…¥ç™½å™ªå£°æ¥æ”¹å˜ä¿¡å·æå€¼ç‚¹çš„åˆ†å¸ƒï¼Œå¾—åˆ°ç¬¦åˆä¿¡å·ç‰¹å¾çš„ä¸Šä¸‹åŒ…ç»œçº¿ï¼Œæ¶ˆé™¤æ¨¡æ€æ··å æ•ˆåº”ã€‚åŠ å…¥çš„ç™½å™ªå£°é€šè¿‡å¤šæ¬¡å¹³å‡æ¶ˆé™¤ã€‚</p>
<h2 id="ceemd">CEEMD</h2>
<p>CEEMDæ˜¯åœ¨EEMDçš„åŸºç¡€ä¸Šï¼ŒæŠŠéšæœºæ·»åŠ çš„Nç»„ç™½å™ªå£°æ”¹ä¸ºäº†N/2ç»„æ­£å™ªå£°å’ŒN/2ç»„è´Ÿå™ªå£°ï¼Œä¾æ—§æ˜¯æœ€åè¿›è¡Œå¹³å‡ã€‚</p>
<p>æ ¹æ® Yeh ç­‰äººçš„ç ”ç©¶ï¼Œåœ¨åŠ å…¥ç›¸åŒæ•°é‡ä»¥åŠç›¸åŒå¹…å€¼çš„ç™½å™ªå£°æ—¶ï¼ŒEEMD å‰©ä½™å™ªå£°ä¼šéšç€é›†æˆå¹³å‡çš„æ¬¡æ•°è€Œé€æ¸å‡å°ã€‚CEEMD çš„å‰©ä½™å™ªå£°ä¸€ç›´ç»´æŒåœ¨ä¸€ä¸ªè¾ƒå°çš„ç¨‹åº¦ï¼Œä¸è®ºé›†æˆå¹³å‡æ¬¡æ•°å¤šå°‘ã€‚åœ¨ä¸€å®šç¨‹åº¦ä¸Šä½¿ç”¨ CEEMDæ–¹æ³•è¿›è¡Œä¿¡å·åˆ†è§£ï¼Œå¯ä»¥ä½¿ç”¨ç›¸å¯¹è¾ƒå°‘çš„é›†æˆå¹³å‡æ¬¡æ•°ï¼Œä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼ŒCEEMDåœ¨ä¿è¯å°å‰©ä½™å™ªå£°å¹²æ‰°çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤ŸèŠ‚çœè®¡ç®—æ—¶é—´ã€‚</p>
<p><img src="/2020/03/12/eemd/931855-20190117162939850-50932674.png" alt="img"><img src="/2020/03/12/eemd/931855-20190117163017276-1187230461.png" alt="img"></p>
<h2 id="pythonåº“">Pythonåº“</h2>
<p>EMD, EEMD, CEEMDAN and some visualization support are contained in this repository.</p>
<p>We can use <code>pip install EMD-signal</code> to install this library.</p>
<h2 id="å¼•ç”¨">å¼•ç”¨</h2>
<ol type="1">
<li><a href="https://www.cnblogs.com/Dinging006/p/10282993.html">EMDâ€”â€”EEMDâ€”â€”CEEMDè¯­éŸ³å¢å¼ºç®—æ³•åŸºç¡€</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/40005057">è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ æ˜ç™½ç»éªŒæ¨¡æ€åˆ†è§£ï¼ˆEMDï¼‰â€”â€”åŸºç¡€ç†è®ºç¯‡</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/44833026">è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ æ˜ç™½ç»éªŒæ¨¡æ€åˆ†è§£ï¼ˆEMDï¼‰â€”â€”IMFçš„ç‰©ç†å«ä¹‰</a></li>
<li><a href="https://www.researchgate.net/publication/220531146_Ensemble_Empirical_Mode_Decomposition_a_Noise-Assisted_Data_Analysis_Method">Ensemble Empirical Mode Decomposition: a Noise-Assisted Data Analysis Method</a></li>
</ol>
]]></content>
      <tags>
        <tag>signal-processing</tag>
        <tag>audio</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬åå‘¨</title>
    <url>/2018/09/22/emc-lab-note-10w/</url>
    <content><![CDATA[<p>è·Œå®•èµ·ä¼è€Œæ”¶è·æ»¡æ»¡çš„ä¸€å‘¨ã€‚</p>
<p>æœ¬å‘¨ä¼Šå§‹ï¼Œåœ¨å’Œå¼ å²­å­¦é•¿ä»”ç»†è®¨è®ºå¹¶è§„åˆ’äº†PCBç”µè·¯æ¿ä¼˜åŒ–å¸ƒå±€çš„æ–¹æ¡ˆä¹‹åï¼Œæˆ‘å¼€å§‹äº†å‘æ·±åº¦å¼ºåŒ–å­¦ä¹ çš„è¿›ä¸€æ­¥è¿ˆè¿›ã€‚é’ˆå¯¹Jimå’ŒZurabæ•™æˆæå‡ºçš„ä¸€äº›æ–°çš„ä¼˜åŒ–é—®é¢˜ï¼Œæˆ‘æœ‰é’ˆå¯¹æ€§çš„ç¼–å†™äº†æ•°ä»½ä»£ç ã€‚ä½†å¥½æ™¯ä¸é•¿ï¼Œç”±äºè¿™äº›ä»£ç æœ‰å¾ˆå¤šå…¬å…±éƒ¨åˆ†ï¼Œè€Œè¿™äº›å…¬å…±éƒ¨åˆ†çš„ä»£ç éœ€è¦ä¸æ–­åœ°è¿­ä»£æ›´æ–°ï¼Œè¿™æ— ç–‘ä¼šé€ æˆå·¨å¤§çš„éº»çƒ¦ä»¥åŠæ½œåœ¨çš„é”™è¯¯å¯èƒ½ã€‚ä¸ºäº†åº”å¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘åˆ©ç”¨äº†Pythonç±»è¿™ä¸ªé­”æ³•æ£’å°†è¿™äº›å·¥ç¨‹ä»£ç ç¥å¥‡çš„åˆä¸ºä¸€ä½“ï¼Œæ¯æ¬¡åªéœ€åœ¨configè¡¨ä¸­æ”¹å˜ä¸€ä¸ªå‚æ•°å³å¯ã€‚æˆ‘å’Œå­¦é•¿éƒ½å¯¹è¿™ä¸ªé¡¹ç›®å……æ»¡äº†æœŸå¾…ï¼Œç”šè‡³è§‰å¾—è¿™æ˜¯ä¸€ä¸ªå­¦ç§‘ä¸­é‡Œç¨‹ç¢‘å¼çš„è¿›æ­¥ã€‚</p>
<span id="more"></span>
<p>åŒæ—¶ï¼Œä¹‹å‰ç»è¿‡å¤šå‘¨ç ”è®¨çš„é€šè¿‡æ·±åº¦å­¦ä¹ å¯¹Linuxç³»ç»Ÿä¸­å—åˆ°å¹²æ‰°ç«¯å£çš„ç‰¹å®šé¡¹ç›®ç»ˆäºæ‹‰å¼€äº†å¸·å¹•ã€‚åœ¨Pommerenkeæ•™æˆçš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘å’Œåˆ˜æ™“ç‘å­¦é•¿è¿…é€Ÿå¯¹æ•°æ®çš„ç±»å‹å’Œåè®®è¾¾æˆäº†å…±è¯†ï¼Œè¿ˆå‡ºäº†é¡¹ç›®çš„ç¬¬ä¸€æ­¥ã€‚æ¬¡æ—¥æ—©ä¸Šï¼Œå­¦é•¿å°†å¤„ç†å¥½çš„æ•°æ®äº¤ä»˜äºæˆ‘åï¼Œç»è¿‡ä¸€å¤©çš„å¥‹åŠ›æˆ˜æ–—ï¼Œåœ¨å¤©é»‘ä¹‹å‰å®Œæˆäº†æ•´ä¸ªä»£ç æ¡†æ¶çš„æ­å»ºã€‚ç»è¿‡ç®€å•çš„å‡ è½®è®­ç»ƒåï¼Œè®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šçš„å‡†ç¡®ç‡ç«Ÿç„¶éƒ½è¾¾åˆ°äº†æƒŠäººçš„100%ã€‚è™½ç„¶å†ç»è¿‡äº†ä¹‹å‰è´è´ç»„çš„â€œ100%å¤§ä¹Œé¾™â€äº‹ä»¶åæˆ‘å·²ç»ä¸æ•¢è½»æ˜“ç›¸ä¿¡å¦‚æ­¤é«˜çš„å‡†ç¡®ç‡ï¼Œä½†æ˜¯ç»è¿‡äº†ä»”ç»†çš„åˆ†æåè¿˜æ˜¯ç¡®è®¤äº†è¿™æ¬¡çš„ç»“æœæœ‰å¾ˆå¤§å¯èƒ½æ€§æ˜¯çœŸæ­£çš„100%ã€‚é¦–å…ˆæ˜¯è®­ç»ƒé›†å’Œæµ‹è¯•é›†è¡¨ç°ä¸€è‡´ï¼Œå¦å¤–æ˜¯ä¸å·¨å¤§çš„æ•°æ®é‡ç›¸å¯¹çš„åªæœ‰3ç±»çš„åˆ†ç±»æ•°ç›®ï¼Œå’Œå­¦é•¿å¯¹å¤§é‡æ•°æ®è¿›è¡Œäº†ä¼˜è´¨çš„æ‰“æ ‡ã€‚è¿™æ¬¡æˆåŠŸæˆ‘è®¤ä¸ºå¾ˆå¤§ç¨‹åº¦ä¸Šå¾—ç›Šäºä¹‹å‰çš„ä¸æ‡ˆç§¯ç´¯ï¼Œå› ä¸ºç»å¤§éƒ¨åˆ†ä»£ç éƒ½ç›´æ¥æºäºä¹‹å‰è¾›è‹¦æ„å»ºçš„æ·±åº¦å­¦ä¹ æ¨¡æ¿ä»£ç ï¼Œè€Œå®ƒä»¬çš„é«˜è´¨é‡å’Œç¨³å®šæ€§ä¹Ÿä½¿æˆ‘å¯ä»¥æ›´åŠ é›†ä¸­æ³¨æ„åŠ›äºæ•°æ®çš„å¤„ç†å’Œæ¨¡å‹çš„æ„å»ºè€Œä¸å¿…åˆ†å¿ƒäºå…¶ä»–åŠŸèƒ½æ€§ä»£ç ï¼Œæ¨¡æ¿ä»£ç æä¾›çš„è¯¸å¤šæ–¹ä¾¿çš„åŠŸèƒ½ä¹Ÿä½¿å¾—å¼€å‘è¿›åº¦å¤§å¤§åŠ å¿«ã€‚</p>
<figure>
<img src="/2018/09/22/emc-lab-note-10w/006tNbRwly1fwqax86xqej30e612mjtm.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æ›´åŠ ä»¤äººå…´å¥‹ä¸å·²çš„æ˜¯ï¼Œæ­£åœ¨å‚åŠ ä¼šè®®çš„Pommerenkeæ•™æˆå°†æˆ‘çš„æˆæœåˆ†äº«ç»™äº†Googleçš„ç›¸å…³éƒ¨é—¨ç ”ç©¶äººå‘˜ä¹‹åï¼Œä»–ä»¬è¡¨ç¤ºååˆ†æ„Ÿå…´è¶£å¹¶ä¸”å¸Œæœ›å°†åŒæ ·çš„æ–¹æ³•åº”ç”¨åˆ°Androidç³»ç»Ÿçš„ç”µå­å™ªéŸ³å¹²æ‰°çš„ç‰¹å®šä¸Šï¼Œä»¥åŠ å¼ºå…¶ç¨³å®šæ€§ã€‚Pommerenkeæ•™æˆä¹Ÿæå‡ºäº†ä¸€äº›æ–°çš„è¦æ±‚ï¼Œååˆ†æœŸå¾…è¯¥é¡¹ç›®çš„åç»­è¿›å±•ã€‚</p>
<p>ä½†å‡ ä¹ä¸æ­¤åŒæ—¶ï¼Œåœ¨å¯¹PCBç”µè·¯æ¿ä¼˜åŒ–å¸ƒå±€é¡¹ç›®çš„è¿›ä¸€æ­¥æ€è€ƒä¸­ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªä»¤äººæ— æ¯”æ²®ä¸§çš„é—®é¢˜ï¼šæˆ‘ä»¬çš„ç›®æ ‡å’Œæ–¹æ³•å­˜åœ¨ç€ä¸å¯è°ƒå’Œçš„å†²çªã€‚æ·±åº¦å¼ºåŒ–å­¦ä¹ è™½ç„¶ä¸éœ€è¦é¢„å¤„ç†å¥½çš„æ•°æ®è¾“å…¥ï¼Œä½†æ˜¯æ¯æ¬¡è®¡ç®—rewardæ—¶éƒ½éœ€è¦è°ƒç”¨ç›¸å…³ä»¿çœŸä»£ç æ¥åˆ¤å®šè¿™æ¬¡çš„æ­¥éª¤å¯¹æœ€ç»ˆçš„é˜»æŠ—æ˜¯å¦äº§ç”Ÿäº†æ­£å‘çš„å½±å“ï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹éœ€è¦è€—è´¹å·¨é‡çš„æ—¶é—´ã€‚ä»æŸç§æ„ä¹‰ä¸Šæ¥è®²ï¼Œè¿™ä¹Ÿæ˜¯å¯¹æ•°æ®çš„éœ€æ±‚ã€‚è€Œä¼˜åŒ–å¸ƒå±€è¿™ä¸ªé—®é¢˜çš„ç›®æ ‡åˆ™æ˜¯ç”¨æœ€å°‘çš„ä»¿çœŸæ•°æ¥è·å¾—å…¨å±€çš„æœ€ä¼˜å€¼ã€‚ä¸ºäº†è®­ç»ƒå¥½ä¸€ä¸ªæ¥å—é«˜ç»´inputçš„ç½‘ç»œï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸ªç‚¹éƒ½è¿›è¡Œå¤šæ¬¡çš„è®­ç»ƒï¼Œè€Œå½“ç½‘ç»œè®­ç»ƒå¥½çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ—©å·²æ‰¾åˆ°äº†å…¨å±€æœ€ä¼˜å€¼ï¼Œå¹¶ä¸”æ˜¯ä»¥è¿œé«˜äºä¹‹å‰æ–¹æ³•çš„ä»£ä»·æ‰¾åˆ°çš„ã€‚æ­¤æ—¶ï¼Œç¥ç»ç½‘ç»œå·²ç»æ²¡æœ‰æ„ä¹‰äº†ã€‚</p>
<p>æˆ‘å½“å³å’Œå¼ å²­å­¦é•¿è¿›è¡Œäº†å•†è®¨ï¼Œè™½ç„¶å¾ˆä¸ç”˜å¿ƒï¼Œä½†æ˜¯è¿˜æ˜¯å†³å®šæ”¾å¼ƒäº†ä½¿ç”¨æ·±åº¦å¼ºåŒ–å­¦ä¹ æ¥è§£å†³PCBç”µè·¯æ¿ä¼˜åŒ–å¸ƒå±€é—®é¢˜çš„å¿µå¤´ï¼Œå¹¶æŠŠé—®é¢˜å‘Zurabæ•™æˆåšäº†å¦‚å®çš„æ±‡æŠ¥ã€‚å¸Œæœ›ä¸‹å‘¨èƒ½å¤Ÿæƒ³å‡ºæ›´å¥½çš„è§£å†³åŠæ³•ã€‚</p>
<p>å¦å¤–å°±æ˜¯è®ºæ–‡äº†ã€‚æœ¬å‘¨ç»ˆäºåœ¨å¼ å²­å’Œå­™æ³½ä¸¤ä½å­¦é•¿çš„æŒ‡å¯¼ä¸‹å®Œæˆäº†åˆæ­¥çš„è®ºæ–‡çš„ä¿®æ”¹å·¥ä½œã€‚æœ¬å‘¨ä¸»è¦åŠ å…¥äº†å­™æ³½å­¦é•¿è´Ÿè´£çš„ç²’å­ä»¿çœŸéƒ¨åˆ†çš„ä»‹ç»å’Œå…¬å¼æ¨å¯¼ï¼Œå¹¶ä¸”ä½¿ç”¨äº†Zoteroè¿™ä¸ªè½¯ä»¶æˆåŠŸçš„å®Œæˆäº†æ–‡çŒ®çš„æ”¶é›†åˆ°å¼•ç”¨ä¸€æ¡é¾™çš„å·¥ä½œï¼ŒæŒæ¡äº†å…¬å¼çš„ç¼–å·ç­‰é—®é¢˜çš„è§£å†³æ–¹æ³•ï¼Œæ€»ä½“æ¥è¯´è¿˜æ˜¯æ”¶è·é¢‡ä¸°çš„ã€‚</p>
<p>ä¸‹å‘¨å°±è¦è€ƒGREäº†ï¼Œå°½åŠ›å‡†å¤‡å§ï¼(à¹‘Â´ Ï‰ï½€à¹‘)</p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬åäºŒå‘¨</title>
    <url>/2018/10/06/emc-lab-note-12w/</url>
    <content><![CDATA[<p>ä¸–ç•Œçº¿ä¸´è¿‘æ”¶æŸçš„ä¸€å‘¨ã€‚</p>
<p>åœ¨è¿‡å»çš„ä¸‰ä¸ªæœˆé‡Œï¼Œä¸€åŒæ¥åˆ°Labè¿™ä¸ªå¤§å®¶åº­çš„è¿‘äºŒååå®ä¹ ç”Ÿåˆ†åˆ«åº¦è¿‡äº†å„è‡ªä¸åŒä½†å´åˆéƒ½ç‹¬ä¸€æ— äºŒçš„æ—¶å…‰ï¼Œä½†æ— è®ºå¦‚ä½•ï¼Œåœ¨å›å›½è¿™ä¸ªæ”¶æŸç‚¹é¢å‰ï¼Œä¸€åˆ‡éƒ½ä¼šæ— å¯é¿å…çš„å‘ç€ç›¸åŒçš„æ–¹å‘å½’ç»“ã€‚è¿™æ®µæ—¶å…‰ä¸­çš„æˆ–èµ·ã€æˆ–è½ã€æˆ–ç²¾å½©ã€æˆ–å¤±è½ï¼Œéƒ½å°†ä¼šåŒ–ä¸ºæ—¶å…‰ä¸­çš„é—ªå…‰ã€è®°å¿†ä¸­çš„ç¢ç‰‡ï¼Œå¹¶èåˆè¿›è‡ªå·±äººç”Ÿçš„æ‹¼å›¾ä¸­ï¼Œæ‹¼æ¥å‡ºåªå±äºè‡ªå·±çš„å½¢çŠ¶ã€‚</p>
<span id="more"></span>
<p>åœ¨æœ€åçš„æ—¶é—´é‡Œï¼Œäººå¾€å¾€å¹¶ä¸æ„¿æ„é¢å¯¹å³å°†åˆ°æ¥çš„æˆ–æ–°æˆ–æ—§çš„ç”Ÿæ´»å’Œæ­¥æ­¥è¿«è¿‘çš„åˆ†ç¦»ä¸å†ä¼šï¼Œç›´åˆ°æŸä¸ªå®é™çš„é›¨å¤œï¼Œé»‘æš—ä¸­å€ç„¶è€Œé€çš„è½¦ç¯å…‰ç»™äººä¼šå¿ƒä¸€å‡»ã€‚æœªæ¥è¿™ä¸ªåºå¤§æ— æ¯”çš„è¯ä¹Ÿè®¸æ˜¯æ— å¯é¿å…çš„å‘½è¿ä¹‹é“¾çš„ä¸‹ä¸€ç¯ï¼Œä¹Ÿè®¸æ˜¯æœ‰å¾…è‡ªå·±ä¸€ç•ªæ¢ç´¢çš„æœªçŸ¥é»‘æ´ï¼Œç„¶è€Œæ‰€æœ‰ä»æœªæ¥å‘å‡ºçš„å…‰éƒ½ä¼šè¢«é”é“¾ç‰¢ç‰¢ç¼ ä½ã€è¢«é»‘æ´é‡æ–°æ‹‰å›ï¼Œæ—¶å…‰çš„è¿½æº¯è€…ä»¬ç”¨æ¸´æœ›è€Œæ€¥åˆ‡çš„ç›®å…‰çœ‹å‘å…¶ä¸­ï¼Œå´ç©ºä½™æ€…ç„¶äºå¿ƒã€‚å¼€æ‹“è€…ä»¬æ‰›èµ·å·²ç„¶å’Œè‡ªå·±æ‰‹èä¸ºä¸€ä½“çš„åŠ³å…·ï¼Œç»§ç»­å‘å‰ã€‚</p>
<p>åœ¨è¿™ä¸‰ä¸ªæœˆé‡Œï¼Œæˆ‘å‚ä¸äº†å››ä¸ªé¡¹ç›®ï¼Œå’Œå®éªŒå®¤çš„è®¸å¤šå¯¼å¸ˆå»ºç«‹èµ·äº†è”ç³»ï¼Œå¹¶æä¾›äº†åŠ›æ‰€èƒ½åŠçš„äº›è®¸å¸®åŠ©ï¼Œä¹Ÿåœ¨å¾ˆæ—©å°±æ‹¿åˆ°äº†å¯¼å¸ˆçš„å†…è¯ºï¼Œæ‰€ä»¥å¯¹äºæœ€ç»ˆç­”è¾©ï¼Œæˆ‘å¹¶ä¸æ˜¯å¾ˆç´§å¼ çš„ã€‚æ•´ç†æ•£è½åœ¨æ—¶å…‰ä¸­çš„ç¢ç‰‡ï¼Œç¼–ä¸€å¶æ‰èˆŸï¼Œæ‰¿è½½ç€ä¼—å¤šæ€ç»ªéšæ€¥æµè‡³ç»ˆç‚¹ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘çš„å¯¼å¸ˆã€æˆ‘çš„ä¸¤ä½mentoréƒ½ç»™äº†æˆ‘è«å¤§çš„å¸®åŠ©ï¼Œå°¤å…¶æ˜¯å²­ç¥ï¼Œç»™äº†æˆ‘ä»ç”Ÿæ´»åˆ°å­¦æœ¯çš„å…¨æ–¹é¢æ”¯æŒï¼Œæˆ‘ååˆ†æ„Ÿè°¢ä»–çš„æ‚‰å¿ƒæŒ‡å¯¼ï¼Œæ‰€è°“æ©äººè«è¿‡äºæ­¤ã€‚</p>
<figure>
<img src="/2018/10/06/emc-lab-note-12w/006tNbRwgy1fwqb1gsp3dj31k81604jn.jpg" alt="image-20181006230705572"><figcaption aria-hidden="true">image-20181006230705572</figcaption>
</figure>
<figure>
<img src="/2018/10/06/emc-lab-note-12w/006tNbRwgy1fwqb1jm9rpj31km15gx09.jpg" alt="image-20181006230728367"><figcaption aria-hidden="true">image-20181006230728367</figcaption>
</figure>
<p>ä»Šå¤©ï¼Œå‘¨å…­ï¼Œå­¦é•¿å¸¦æˆ‘ä»¬å»äº†åœ£è·¯æ˜“çš„æœºè½¦å†å²åšç‰©é¦†ã€‚ä»é”ˆè¿¹æ–‘æ–‘ã€ç™¾å²é«˜é¾„çš„è§è¯äº†å†å²çš„è¯¸å¤šç¯‡ç« çš„ç«è½¦ï¼Œåˆ°å……æ»¡äº†æœºæ¢°å…ƒç´ çš„è’¸æ±½æœºè½¦ï¼Œå†åˆ°æœ€é«˜æ—¶é€Ÿ80ç çš„ä¿å…»å®Œå¥½çš„åˆ—è½¦ã€å±‚æ»¡è½½ç‰›å¥¶çš„è¿è¾“è½¦ã€æ›¾ç››æ»¡å†°å—ç”¨æ¥è¿é€ç”Ÿé²œçš„åˆ—è½¦éƒ½è¢«å®‰æ”¾åœ¨ä¸€æ¡æ¡ä¸å†æœ‰ç»ˆç‚¹ç«™çš„é“è½¨ä¸Šï¼Œé™é™åœ°ç©å‘³ç€è€åæ‰èƒ½å“å‘³åˆ°çš„å®é™ã€è§‚å¯Ÿç€æ¯ä¸€ä¸ªèµ°è¿‘å®ƒã€èµ°è¿›å®ƒçš„è§‚è€…ã€‚æˆ‘ä»¬æœ‰å¹¸ç¢°åˆ°äº†ä¸€ä½é¢‡å…·é•¿è€…é£èŒƒã€ç‰¹ç«‹ç‹¬è¡Œè€Œé˜…å†ä¸°å¯Œçš„å·¥ä½œäººå‘˜ï¼Œä»–ä¸ºæˆ‘ä»¬è¯¦ç»†åœ°ä»‹ç»äº†ä¸€è¾†è¾†åˆ—è½¦çš„æ•…äº‹å’Œå®ƒä»¬æ›¾ç»çš„äº‹ä¸šï¼Œæ´»åŠ›å››å°„çš„è¯­è°ƒä¸­é¥±å«ç€å¯¹ç€ä¸€è¾†è¾†è½¦çš„çƒ­çˆ±ä¸ç†Ÿè¯†ã€‚åˆ—è½¦è™½å·²é€€å½¹ï¼Œä½†ä»æœ‰è®°å¾—å®ƒä»¬æ•…äº‹çš„äººåœ¨ï¼›è®²è¿°è€…ä¹Ÿè®¸ä¹Ÿæœ‰å…¶ç»ˆç‚¹ï¼Œä½†ä¸€ä¸ªä¸ªç‰‡æ®µå´ä¼šç»§ç»­ç•™åœ¨å¬è€…çš„è®°å¿†æ·±å¤„ï¼Œæƒ³æ¥è¿™ä¹Ÿè®¸å°±æ˜¯â€œå†å²â€çš„æ„ä¹‰å§ã€‚</p>
<figure>
<img src="/2018/10/06/emc-lab-note-12w/006tNbRwgy1fwqb1ls5f5j31400u00z7.jpg" alt="WechatIMG3"><figcaption aria-hidden="true">WechatIMG3</figcaption>
</figure>
<figure>
<img src="/2018/10/06/emc-lab-note-12w/006tNbRwgy1fwqb1e24zqj30wc16kqnv.jpg" alt="image-20181006230631504"><figcaption aria-hidden="true">image-20181006230631504</figcaption>
</figure>
<p>åœ¨å†å²çš„é“è½¨å°½å¤´çŸ—ç«‹ï¼Œåœ¨æœªæ¥çš„ä¿¡å·ç¯çš„æŒ‡å¼•ä¸‹å‘å‰ï¼Œæ‰‹æŒé“é•ï¼Œä¸€åŒå¼€æ‹“å§ï¼</p>
<figure>
<img src="/2018/10/06/emc-lab-note-12w/006tNbRwgy1fwqb1o4axij30i00sg7nm.jpg" alt="ç›¸å…³å›¾ç‰‡"><figcaption aria-hidden="true">ç›¸å…³å›¾ç‰‡</figcaption>
</figure>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬ä¸€å‘¨</title>
    <url>/2018/07/19/emc-lab-note-1w/</url>
    <content><![CDATA[<p>æœ¬å‘¨æ˜¯2018å¹´åä¸­ç§‘æŠ€å¤§å­¦åŒå­¦æ¥å¯†è‹é‡Œç§‘æŠ€å¤§å­¦è¿›è¡Œæš‘ç ”çš„ç¬¬ä¸€å‘¨ã€‚åŒå­¦ä»¬å…µåˆ†ä¸¤è·¯ï¼Œå…ˆåæŠµè¾¾å¯†è‹é‡Œå·é¦–åºœåœ£è·¯æ˜“æ–¯ã€‚å­¦é•¿ä»¬ä¸è¾è¾›è‹¦ï¼Œåœ¨æ·±å¤œé©±è½¦è‡³åœ£è·¯æ˜“æ–¯æœºåœºå°†æˆ‘ä»¬å®‰å…¨é€è¾¾ä½å¤„ï¼Œå¹¶åœ¨ä¹‹åçš„æ—¥å­é‡Œå¸®åŠ©æˆ‘ä»¬è§£å†³äº†å¹³æ—¶çš„ç»å¤§éƒ¨åˆ†äº¤é€šä»¥åŠæ—¥å¸¸ç”¨é¤é—®é¢˜ï¼Œè¿™ä»¤æˆ‘ä»¬ä¸èƒœæ„Ÿæ¿€ã€‚</p>
<span id="more"></span>
<p>åœ¨æœ¬æ¬¡æš‘ç ”ä¸­ï¼Œæˆ‘ã€ç‹æ™“çº¤ã€å½­å“²å¤ã€å¼ ç§€çå››ä½ç”±cscèµ„åŠ©çš„åŒå­¦é€‰æ‹©äº†11æ—¥çš„ç­æœºå‡ºè¡Œï¼Œå¹¶æå‰åœ¨å¯†è‹é‡Œç§‘æŠ€å¤§å­¦é™„è¿‘é¢„å®šäº†4é—´å•äººå…¬å¯“ã€‚åˆ°è¾¾ç½—æ‹‰åŸæœ€åˆçš„å‡ æ—¥ï¼Œç”±äº13ä¸ªå°æ—¶çš„æ—¶å·®åŸå› ï¼Œæˆ‘ä»¬åœ¨ç™½å¤©çš„ç²¾ç¥çŠ¶æ€ä¸€ç›´ä¸ç®—å¾ˆå¥½ã€‚åœ¨æ­¤æœŸé—´ï¼Œæˆ‘ä»¬å»æ²ƒå°”ç›é‡‡è´­äº†å„è‡ªçš„ç”Ÿæ´»å¿…éœ€å“ä»¥åŠå…¬å…±çš„å«ç”Ÿç”¨å“ä»¥åŠå¿…è¦çš„å¨å…·ã€‚å¦å¤–é­é¹å®‡å­¦é•¿ç”±äºå³å°†è¦å»è‹¹æœå…¬å¸å·¥ä½œï¼Œé‚å°†ä»–è‡ªå·±çš„ç»å¤§éƒ¨åˆ†å¨å…·å’Œä¸€éƒ¨åˆ†ç”Ÿæ´»ç”¨å“æ— å¿èµ ä¸äº†æˆ‘ä»¬å‡ ä¸ªåŒå­¦ï¼Œè¿™ä»¤æˆ‘ä»¬ååˆ†æ„ŸåŠ¨ã€‚è¿™é‡Œçš„å­¦é•¿å­¦å§ä»¬åœ¨ç”Ÿæ´»å’Œå­¦ä¹ çš„æ–¹æ–¹é¢é¢éƒ½ç»™äºˆäº†æˆ‘ä»¬è«å¤§çš„å¸®åŠ©ï¼Œä»å¸¦æˆ‘ä»¬å“å°ç½—æ‹‰çš„å„è‰²ç¾é£Ÿã€æ¸¸ç©é™„è¿‘é£æ™¯ï¼Œåˆ°ä¸ºæˆ‘ä»¬è¯¦ç»†è®²è§£è®ºæ–‡ã€å›ç­”ç•¥æ˜¾å¹¼ç¨šçš„é—®é¢˜ï¼Œè¿™äº›ç‚¹ç‚¹æ»´æ»´éƒ½æ˜¯æˆ‘ä»¬å€¼å¾—çè—çš„å›å¿†ã€‚<img src="/2018/07/19/emc-lab-note-1w/006tNc79ly1fthxanudkqj31kw23vx6r.jpg" alt="IMG_1391"></p>
<p>è¿™ä¸ªè¿œç¦»éƒ½å¸‚å–§åš£çš„å®é™å°åŸå¯è°“æ˜¯åšå­¦æœ¯ç†æƒ³ä¹‹å¤„ï¼Œè€ŒEMC Labåˆ™æ›´æ˜¯è¿™é‡Œçš„å­¦æœ¯åœ£åœ°ã€‚è¿›é—¨å³è½¬ï¼Œé•¿é•¿çš„èµ°å»Šä¸¤ä¾§å¢™ä¸ŠæŒ‚æ»¡äº†å‰è¾ˆä»¬çš„è®ºæ–‡ï¼Œä¸€çº¸ä¸€æ–‡ã€ä¸€è¯ä¸€å¥éƒ½æ˜¯å‰äººç•™ä¸‹çš„è¶³è¿¹ï¼Œå€¼å¾—æˆ‘ä»¬ä¸æ‡ˆè¿½å¯»ã€‚ç¯é¡¾å››å‘¨ï¼Œæ›´æ˜¯èƒ½å¤Ÿæ„Ÿå—åˆ°è¿™é‡Œæµ“åšçš„å­¦æœ¯æ°›å›´ã€‚å­¦ç”Ÿã€æ•™æˆï¼Œæ— è®ºæ˜¯å“ªä½éƒ½åœ¨ä¸“å¿ƒè‡´å¿—çš„åšç€è‡ªå·±æ‰‹å¤´çš„å·¥ä½œï¼›æˆ–è½¯æˆ–ç¡¬ï¼Œä½†éƒ½æ·±æ·±æŠ•å…¥å…¶ä¸­ã€‚æ¯å¤©æ™šä¸Š12ç‚¹å‡ºé—¨æ—¶ï¼Œæœ›ç€åœè½¦åœºä¾æ—§åœç€çš„æ•´æ•´é½é½çš„æ±½è½¦ï¼Œæˆ‘å¥½åƒæ¸æ¸èƒ½å¤Ÿç†è§£è¿™é‡Œä¸ºä½•èƒ½å¤Ÿæˆä¸ºå…¨ç¾EMCè¡Œä¸šä¹‹é¢†å†›äº†ã€‚</p>
<p>ç½—æ‹‰çš„ç¯å¢ƒä¼˜ç¾ï¼Œæ°”å€™å®œäººã€‚è¿™é‡Œçš„å¤©ä¼¼ä¹æ€»æ˜¯å¾ˆä½ï¼Œä½åˆ°è®©äººæƒ³ä¼¸æ‰‹å»é‡‡æ‘˜å¤©è¾¹æ‡’æ´‹æ´‹åœ°é£˜ç€çš„äº‘ï¼›è¿™é‡Œçš„ç©ºæ°”ä¹Ÿä¼¼ä¹æ€»æ˜¯é‚£ä¹ˆæ¸…æ–°ï¼Œå‡€åˆ°æ¯æ™šéƒ½èƒ½çœ‹åˆ°é«˜æŒ‚çš„æ»¡å¤©æ˜Ÿæ²³ã€‚è¿™é‡Œçš„æ¹–æ°´ç”šä¸ºæ¸…æ¾ˆï¼Œæ—¶è€Œæœ‰å‚é’“è€…å‚æ¹–è€Œæ¸”ï¼Œé¸Ÿå‡»æ°´è€Œé¸£ã€‚è½æ—¥ååˆ†æ›´æ˜¯ååˆ†åŠ¨äººï¼Œè¢«è½éœæ¸²æŸ“çš„äº”å…‰åè‰²çš„äº‘æœµé…ä¸Šæ³¢å…‰ç²¼ç²¼çš„æ¹–é¢æˆ–æ˜¯æ›²æŠ˜èœ¿èœ’çš„å…¬è·¯ï¼Œå†ä½ä»¥ä¸€æœ›æ— é™…çš„è‰åœ°å¸¦æ¥çš„å¼€é˜”è§†é‡ï¼Œå¯è°“æ˜¯è”šä¸ºå£®è§‚ã€‚<img src="/2018/07/19/emc-lab-note-1w/006tNc79ly1fthxbh1shvj31kw16o4qq.jpg" alt="IMG_1955"></p>
<p>LabåŒæ ·ä¹Ÿæœ‰ç€ä¸°å¯Œçš„æ´»åŠ¨ã€‚è¶³çƒã€ç¯®çƒã€ä¹’ä¹“çƒã€ä¿é¾„çƒç­‰è½®ç•ªç™»åœºï¼Œå­¦ä¹ å·¥ä½œä¹‹ä½™çš„è¿åŠ¨ç€å®ä»¤äººå€æ„Ÿèˆ’ç•…ã€‚åœ¨è¿™é‡Œçš„ç¬¬ä¸€åœºçƒèµ›æ˜¯åœ¨â€œçœŸè‰â€ä¸Šè¿›è¡Œçš„ï¼Œè¿™æ— ç–‘ä¹Ÿæ˜¯ä¸€æ¬¡ä¹…è¿çš„ä½“éªŒã€‚è™½ç„¶ç”±äºå¹³æ—¥ä¹…åä¹‹æ•…ï¼Œæ—¶è‡³ååŠåœºé˜Ÿå‘˜ä»¬å¤§å¤šä½“åŠ›æ§½å‘Šæ€¥ï¼Œä¹‹åä¹Ÿè¿‡äº†å‡ å¤©æ‰å…»å¥½èº«ä¸Šâ€œåƒæ˜¯è¢«æ¯’æ‰“äº†ä¸€é¡¿â€çš„é…¸çˆ½ï¼Œæ•´åœºæ¯”èµ›ç»™äººçš„æ„Ÿè§‰è¿˜æ˜¯ç›¸å½“å¯Œæœ‰é’æ˜¥æ´»åŠ›è€Œä»¤äººæ¿€åŠ¨çš„ã€‚<img src="/2018/07/19/emc-lab-note-1w/006tNc79ly1fthxb423dtj31kw16okjm.jpg" alt="IMG_1808"></p>
<p>å­¦é•¿å­¦å§ä»¬è¿˜åœ¨ä¸Šå‘¨æœ«å¸¦æˆ‘ä»¬å»äº†ä¸€æ¬¡â€œå¤§åŸå¸‚â€åœ£è·¯æ˜“æ–¯ï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬æ—¢å“å°äº†ç¾å‘³çš„è¥¿é¤å’Œåœ°é“çš„å·èœï¼Œåˆå‚è§‚äº†å½“åœ°æå…·ç‰¹è‰²çš„åšç‰©é¦†ã€é€›äº†ç²¾è‡´çš„è¡£å¦†ç™¾è´§æ»¡æ»¡çš„å¤§å•†åŸã€‚æ•´ä¸ªæ—…ç¨‹æ˜¯ç›¸å½“æƒ¬æ„è€Œæ„‰å¿«çš„ã€‚<img src="/2018/07/19/emc-lab-note-1w/006tNc79ly1fthxbx6pf8j31kw16o1l2.jpg" alt="IMG_1782"></p>
<p>å­¦ä¹ ç ”ç©¶æ–¹é¢ï¼Œè´Ÿè´£æŒ‡å¯¼æˆ‘çš„å¼ å²­å­¦é•¿ç»™å‡ºäº†ä¸¤ä¸ªé¢˜ç›®ï¼Œä¸€ä¸ªæ˜¯ç”¨æœºå™¨å­¦ä¹ æ–¹æ³•è§£å†³ä¸€ä¸ªä¸‰ç»´ç”µè·¯æ¿çš„ç”µæºç›¸å…³è°ƒå‚é—®é¢˜ï¼Œå¦ä¸€ä¸ªæ˜¯è‡ªè¡Œè®¾è®¡ç®—æ³•å–æ ·ä»¥æ›´åŠ æœ‰æ•ˆçš„æµ‹é‡ç”µè·¯æ¿ä¸Šçš„æ”¾å°„æºåˆ†å¸ƒã€‚å½“å‰å·²ç»åœ¨ç¬¬äºŒä¸ªé—®é¢˜ä¸Šå–å¾—äº†é˜¶æ®µæ€§çš„è¿›å±•ï¼Œå¸Œæœ›åç»­èƒ½å¤Ÿè¿›ä¸€æ­¥ä¼˜åŒ–ç®—æ³•ï¼Œå¾—åˆ°æ›´åŠ ä¼˜ç§€çš„ç»“æœã€‚</p>
<p>2018.7.21</p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬åä¸€å‘¨</title>
    <url>/2018/09/29/emc-lab-note-11w/</url>
    <content><![CDATA[<p>æ–‡ | å¼ ä¸­æ´‹</p>
<p>æ¸©é¦¨æœ‰è¶£çš„ä¸€å‘¨ã€‚</p>
<p>å‘¨äº”åœ¨å¯¼å¸ˆPommorenkeå®¶ä¸¾è¡Œäº†ä¸€æ¬¡ç«é”…partyï¼Œå‚ä¸è€…æœ‰æˆ‘ä»¬Labçš„ä¸€äº›åšå£«ç”Ÿã€å®ä¹ ç”Ÿï¼Œä»¥åŠMSTå¤§å­¦ä¸­å’Œå°å¸•ç†Ÿè¯†çš„ä¸€äº›ä¸­å›½å­¦ç”Ÿï¼Œä»¥åŠå…¶å„¿å­çš„ä¸€äº›åŒå­¦ã€‚å°å¸•æœ‰ä¸¤ä¸ªå¥³å„¿ã€ä¸€ä¸ªå„¿å­ï¼Œä»–ä»¬å„è‡ªéƒ½é€‰æ‹©åœ¨è‡ªå·±å–œæ¬¢çš„å¡«ç©ºä¸‹èµ°ç€è‡ªå·±çš„è·¯ï¼šå°å¸•çš„å„¿å­ååˆ†é˜³å…‰æ´»æ³¼ï¼Œé¢„è®¡ç•™åœ¨ç¾å›½ç»§ç»­å­¦ä¸šï¼›å¤§å¥³å„¿ä¼šè¯´æ³•è¯­å¾·è¯­å’Œè‹±è¯­ï¼Œå’Œç”·æœ‹å‹åœ¨ä¸€èµ·ï¼›è€Œå°å¥³å„¿é…·çˆ±è¯»ä¹¦ï¼Œå–œæ¬¢åœ¨å›¾ä¹¦é¦†å‘†ç€ï¼Œç”±äºè®¤ä¸ºç¾å›½çš„åŒ»ç”Ÿå¤ªè¿‡é‡è§†é’±è€Œä¸è¶³å¤Ÿå…³å¿ƒäººï¼Œå¥¹åœ¨ä¸‹å‘¨å››å³å°†å‰å¾€å¾·å›½è¿½æ±‚å…¶ç†æƒ³ä¸­çš„åŒ»è€…ä»å¿ƒã€‚å°å¸•å’Œå…¶å°å¥³å„¿éƒ½èƒ½å¤Ÿè¯´ä¸€å£æµåˆ©çš„ä¸­æ–‡ï¼Œå°å¥³å„¿è¿˜åœ¨å°æ¹¾äº¤æ¢ç•™å­¦è¿‡ä¸€å¹´ï¼Œå¯è°“ä¸€å®¶çš„ä¸­å›½é€šã€‚æœ€å¼€å§‹å…¶å®æˆ‘æ˜¯ä¸å¤ªé€‚åº”è¿™ç§partyçš„ï¼Œæ„Ÿè§‰åˆ°çš„åªæœ‰èº«å¤„äººç¾¤ä¸­çš„å­¤ç‹¬ï¼Œä½†æ˜¯æ¸æ¸å†…å¿ƒçš„æ„Ÿè§‰ä¹Ÿå¼€å§‹å‘ç”Ÿäº†å¾®å¦™çš„å˜åŒ–ï¼Œæ„Ÿè§‰è¿™ä¹Ÿè®¸æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„äº‹æƒ…ã€‚æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯å…¶ç»™äº†æˆ‘ä»¬ä¸€ä¸ªä»¥å·¥ä½œä»¥å¤–èº«ä»½ç¤ºäººçš„æœºä¼šã€‚å¤§å®¶åƒåœ¨ä¸€èµ·ï¼Œç©åœ¨ä¸€èµ·ï¼ŒèŠåœ¨ä¸€èµ·ï¼Œå¸¦æ¥çš„æ˜¯é£Ÿç‰©å’Œé…’ï¼Œå¸¦èµ°çš„æ˜¯å›å¿†çš„ç¢ç‰‡å’Œç¾å¥½çš„ç¬é—´ã€‚</p>
<span id="more"></span>
<p>å‘¨å…­MSTå¤§å­¦ä¸¾åŠäº†ä¸€ä¸ªå„å›½æ–‡åŒ–èŠ‚ä¸€æ ·çš„æ´»åŠ¨ï¼Œå„ä¸ªå›½å®¶çš„å›½æ——é£˜æ‰¬ï¼Œå¤§å®¶èº«ç€å„è‡ªçš„æ°‘æ—æœé¥°ï¼Œåœ¨è¡—ä¸Šä¸¾è¡Œäº†ç››å¤§çš„Paradeï¼Œè¿˜æœ‰å„ä¸ªå›½å®¶çš„å­¦ç”Ÿè”åˆæ‘†æ‘Šå‡ºæ¥å‘ç¾¤ä¼—ä»¬å”®å–ç‰¹è‰²é£Ÿå“ï¼Œèˆå°ä¸Šå­¦ç”Ÿä»¬çš„çºµæƒ…é«˜æ­Œèµ·èˆï¼Œè‰åœ°ä¸Šçš„ç½—æ‹‰ç¾¤ä¼—ä»¬æ‚ é—²çš„èŠå¤©ï¼Œå…±åŒåœ¨è¿™ç§‹æ—¥æ¸…çˆ½çš„è“å¤©æš–é˜³ä¸‹æ„ç­‘äº†ä¸€é“é“ä¸½çš„é£æ™¯çº¿ã€‚</p>
<figure>
<img src="/2018/09/29/emc-lab-note-11w/006tNbRwgy1fwqb02u6o4j30de0a2qbs.jpg" alt="image-20181030155634727"><figcaption aria-hidden="true">image-20181030155634727</figcaption>
</figure>
<p>å‘¨ä¸‰æ™šä¸Šåˆ°äº†æ°å¼—é€ŠåŸä½ä¸‹ï¼Œç­‰å¾…ç€æ¬¡æ—¥çš„è€ƒè¯•ã€‚è¿™æ¬¡è€ƒè¯•å¹¶æ²¡æœ‰è€ƒå¥½ï¼ŒåŸå› ä¹Ÿå¾ˆæ˜¾ç„¶ï¼Œè¿™å›å¹¶æ²¡æœ‰åšå¥½è¶³å¤Ÿçš„å‡†å¤‡ã€‚è¿˜æ˜¯å¸Œæœ›ä¸‹æ¬¡èƒ½å¤Ÿæ‹¿å‡ºè¶³å¤Ÿçš„æ—¶é—´å‡†å¤‡çš„ã€‚å½“æ—¥å»äº†å·ç«‹åšç‰©é¦†ï¼Œé‚£é‡Œçš„ç©¹é¡¶å¾ˆæ˜¯æ¢å¼˜å£®è§‚ã€‚</p>
<figure>
<img src="/2018/09/29/emc-lab-note-11w/006tNbRwgy1fwqb082jauj30de0a2gtn.jpg" alt="image-20181030155642677"><figcaption aria-hidden="true">image-20181030155642677</figcaption>
</figure>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬ä¸‰å‘¨</title>
    <url>/2018/08/04/emc-lab-note-3w/</url>
    <content><![CDATA[<p>æœºç¿¼æ‹‚è¿‡åœ°è¡¨çš„é£ï¼Œç©¿è¿‡å¤©è¾¹çš„äº‘ï¼Œè¶Šè¿‡æ— å çš„å¤§æµ·ä¸èµ·ä¼çš„ä¸˜é™µï¼›æç›®è¿œçœºï¼Œæ— æ•°çš„ç¯ç«ç‚¹ç¼€ç€è¿™ç‰‡å®é™çš„å¤œã€‚Los Angelesï¼Œæˆ‘ä»¬çš„è„šå°–è½»è§¦è¿™ç‰‡å¤šæƒ…çš„åœ°ï¼Œä»»ç”Ÿå‘½çš„ç”»å·è¢«è¿™åº§åŸæµ¸æŸ“ã€‚</p>
<p>çºµæ¨ªäº¤é”™çš„è·¯æºæ‰‹å«æƒ…è„‰è„‰çš„ç¯ï¼Œç¼–ç»‡å‡ºäº†ä¸€æ¡æ¡é—ªçƒçš„é‡‘çº¿ï¼›ä»é«˜ç©ºä¿¯ç°ï¼Œè¿™åº§å››å››æ–¹æ–¹çš„åŸå¸‚å¥½ä¼¼ä¸€å—ç¡•å¤§æ— æœ‹çš„ç”µè·¯æ¿ï¼ŒæµåŠ¨çš„è½¦ä¸äººåˆ™å¥½ä¼¼è‚¡è‚¡ç”µæµï¼Œäºå…¶é—´ä¸çŸ¥ç–²å€¦çš„ç©¿æ¢­å¾€å¤ã€‚çŸ­çŸ­äº”å¤©çš„æ´›æ‰çŸ¶ä¹‹è¡Œï¼Œå°±æ­¤å®£å‘Šæ‹‰å¼€äº†å¸·å¹•ã€‚</p>
<span id="more"></span>
<p>æœ¬æ¬¡å‡ºè¡Œæ˜¯å‚åŠ IEEEç»„ç»‡çš„EMCè¡Œä¸šç›¸å½“äºå¹´ä¼šçš„Symposiumï¼Œæ—¢æœ‰å­¦ç•Œå„è·¯å¤§ä½¬ç‰›äººå®£è®²å…¶paperï¼Œä¹Ÿæœ‰ä¸šç•Œå„å¤§å…¬å¸å•†è¡Œæ¥æ­¤åšExhibitionï¼Œæ¨å¹¿å®£ä¼ å…¶è½¯ç¡¬ä»¶äº§å“ã€‚æˆ‘ä»¬ä¸€è¡Œäººä¸­ï¼Œæ—¢æœ‰æ¥åšæŠ¥å‘Šçš„å¯¼å¸ˆåŠPhDçš„å­¦é•¿å­¦å§ï¼Œä¹Ÿæœ‰æ¥åšä¼šè®®å¿—æ„¿è€…çš„å®ä¹ ç”Ÿå’Œç ”ç©¶ç”Ÿä»¬ï¼Œå¤§å®¶æ­ä¹˜é£æœºï¼Œäºå‘¨æ—¥æ™šæŠµè¾¾æ´›æ‰çŸ¶ã€‚</p>
<figure>
<img src="/2018/08/04/emc-lab-note-3w/006tKfTcly1fty8o7ib95j31kw16rtyp.jpg" alt="IMG_2164"><figcaption aria-hidden="true">IMG_2164</figcaption>
</figure>
<p>æ´›æ‰çŸ¶é•¿æ»©æµ·æ»©</p>
<p>ç»†æ•°èµ·è¿™å‡ å¤©çš„ç»å†ï¼ŒæƒŠå–œåœ°å‘ç°äº†è¯¸å¤šäººç”Ÿä¸­çš„â€œç¬¬ä¸€æ¬¡â€ã€‚å¤§åˆ°ç¬¬ä¸€æ¬¡åœ¨å¤§å‹Symposiumä¸Šåšå¿—æ„¿è€…ã€ç¬¬ä¸€æ¬¡ä¸é åˆ«äººå¼•èåœ¨å®´ä¼šå’ŒGala Banquetä¸Šå’Œæ¥è‡ªå„ä¸ªå›½å®¶çš„å¤§ä½¬ä»¬â€œSocialâ€ã€ç¬¬ä¸€æ¬¡çœŸæ­£æ„ä¹‰ä¸Šäº¤åˆ°å¤–å›½æœ‹å‹ã€ç¬¬ä¸€æ¬¡ç”¨æ—¥è¯­å’Œä¸€æ¡Œæ—¥æœ¬æ•™æˆæ„‰å¿«äº¤æµã€ç¬¬ä¸€æ¬¡æ‹¿åˆ°åˆ«äººçš„åç‰‡ï¼Œå°åˆ°ç¬¬ä¸€æ¬¡ä½motelã€ç¬¬ä¸€æ¬¡åœ¨ç¾å›½æ­ä¹˜Uberå‡ºè¡Œï¼Œç¬¬ä¸€æ¬¡æ¸¸ç©ç¯çƒå½±åŸï¼Œç¬¬ä¸€æ¬¡åƒç”œç”œåœˆçŠ¶çš„æ±‰å ¡ã€‚</p>
<figure>
<img src="/2018/08/04/emc-lab-note-3w/006tKfTcly1fty8oh72bxj30u0140wjy.jpg" alt="IMG_2755"><figcaption aria-hidden="true">IMG_2755</figcaption>
</figure>
<p>ç¯çƒå½±åŸæ ‡å¿—</p>
<figure>
<img src="/2018/08/04/emc-lab-note-3w/006tKfTcly1fty8ovh6e7j31420u0tc6.jpg" alt="IMG_2757"><figcaption aria-hidden="true">IMG_2757</figcaption>
</figure>
<p>å“ˆåˆ©æ³¢ç‰¹å°åŸ</p>
<figure>
<img src="/2018/08/04/emc-lab-note-3w/006tKfTcly1fty8p1s5lcj31420u0juy.jpg" alt="IMG_2758"><figcaption aria-hidden="true">IMG_2758</figcaption>
</figure>
<p>ä¸â€œå“ˆå¼â€å·¥ä½œäººå‘˜åˆå½±</p>
<figure>
<img src="/2018/08/04/emc-lab-note-3w/006tKfTcly1ftymtaeda3j31kw16r4qp.jpg" alt="IMG_2826"><figcaption aria-hidden="true">IMG_2826</figcaption>
</figure>
<p>ç›ä¸½çš‡åå·</p>
<p>è¿™ç‰‡é™Œç”Ÿçš„åœŸåœ°ä¹Ÿå‘Šè¯‰äº†æˆ‘è®¸å¤šç†Ÿæ‚‰çš„é“ç†ï¼šå¤–è¯­å£è¯­åªæœ‰å¤šç”¨æ‰èƒ½äº§ç”Ÿè‡ªä¿¡ã€åŠªåŠ›å·¥ä½œå°†ä¼šå¾—åˆ°èµè¯†ã€åªæœ‰å¤§èƒ†è¿½æ±‚æœºä¼šæ‰ä¼šæ¥ä¸´ã€é™Œç”Ÿäººé€šè¿‡äº¤æµä¼šå˜æˆå¯çˆ±å¯æ•¬çš„äººã€‚åˆšæ¥åˆ°è¿™é‡Œæ—¶å…¶å®èƒ†æ€¯å’Œä¿å®ˆå¿ƒç†è¿˜æ˜¯å æ®ä¸Šé£çš„ï¼Œå°½é‡é¿å…å’Œé™Œç”Ÿäººäº§ç”Ÿä¸å¿…è¦çš„ä¼šè¯ï¼Œå°½é‡å°‘æ­è¯é˜²æ­¢æ‰“æ‰°å¤§ä½¬ä»¬ï¼Œå±•ä¼šä¸Šå±•ç¤ºçš„ä¸œè¥¿éƒ½æ˜¯æˆ‘ä¸æ¸…æ¥šçš„è€Œä¸”ä¹Ÿä¸ä¼šå»ä¹°æ‰€ä»¥è¿˜æ˜¯åˆ«å»ä»¥é˜²å°´å°¬ï¼Œç¤¾äº¤æ™šä¼šå¾ˆåº¸ä¿—å°½é‡è¿œç¦»ä¸ºå¥½ç­‰ç­‰ã€‚ä½†è¿™äº›å¤©ä¸­ä¸æ–­å‘ç”Ÿç€çš„Aåˆ°Zï¼Œéƒ½æ¸æ¸æ‰­è½¬äº†æˆ‘ä¹‹å‰æ‰§æ‹—è€Œæœ‰å¤±åé¢‡çš„æƒ³æ³•ã€‚å¤§ä½¬ä»¬è™½ç„¶ç¡®å®å¾ˆä¼˜ç§€ï¼Œä½†ä»–ä»¬ä¹Ÿå¹¶ä¸ä¼šå› æ­¤å°±é„™è§†åˆ«äººï¼Œæ‹’ç»è°ˆè¯ï¼›è™½ç„¶å±•ä¼šä¸Šå±•å‡ºçš„ä¸œè¥¿çš„ç¡®ä½ éƒ½ä¸ä¼šä¹°ï¼Œä½†é‚£ä¹Ÿä¸æ˜¯æƒ³å–ç»™ä¸ªäººçš„ï¼Œå»è½¬è½¬è¿˜æ˜¯æŒºæœ‰è¶£çš„ï¼›ç¤¾äº¤æ™šå®´ç¡®å®æŒºåµé—¹ï¼Œä½†å°±æ˜¯åœ¨é‚£é‡Œæˆ‘ç»ˆäºå’ŒåŒä¸ºå®ä¹ ç”Ÿçš„3ä½éŸ©å›½å°å“¥æˆä¸ºäº†æœ‹å‹ï¼Œå¹¶å¾—ä»¥è®¤è¯†äº†ä¸å°‘æ¥è‡ªä¸–ç•Œå„åœ°çš„æœ‰è¶£è€Œæœ‰æ–™çš„æ•™æˆå’Œä¼šç¤¾äººï¼›å¤šå¼ å£é—®åˆ«äººé—®é¢˜ã€ä¸äººäº¤æµå¹¶ä¸ä¼šå› ä¸ºpoorçš„å£è¯­è€Œè¢«å˜²ç¬‘ï¼Œè€Œæ˜¯æ¸æ¸å¢å¼ºäº†è‡ªä¿¡ï¼Œæ›´æ•¢äºå’Œåˆ«äººç”¨å„ç§å¤–è¯­äº¤æµäº†ã€‚</p>
<figure>
<img src="/2018/08/04/emc-lab-note-3w/006tKfTcly1ftymw51rhqj31kw16onpd.jpg" alt="IMG_2879"><figcaption aria-hidden="true">IMG_2879</figcaption>
</figure>
<p>å¿—æ„¿è€…è¯ä¸åœ¨Banquetæ”¶åˆ°çš„åç‰‡</p>
<figure>
<img src="/2018/08/04/emc-lab-note-3w/006tKfTcly1fty8pf5qmpj31kw16r4qp.jpg" alt="IMG_2868"><figcaption aria-hidden="true">IMG_2868</figcaption>
</figure>
<p>åœ¨ç›ä¸½çš‡åå±•é¦†ä¸­å’ŒéŸ©å›½å°å“¥ä»¬åˆå½±</p>
<p>å½“ç„¶ï¼Œé™¤äº†æˆé•¿ï¼Œæ´›æ‰çŸ¶ä¹Ÿç»™æˆ‘ä»¬å¸¦æ¥äº†å®å®åœ¨åœ¨çš„å ªç§°äº«å—çš„å¨±ä¹æ´»åŠ¨ã€‚é•¿æ»©åˆåæµ·æ»¨çš„æ…µæ‡’ä¸æ”¾æ¾ï¼Œç¯çƒå½±åŸå„ç§é¡¹ç›®å¸¦æ¥çš„å¥½è±åçº§åˆ«çº§åˆ«çš„æ„Ÿå®˜åˆºæ¿€ã€èº«ä¸´å…¶å¢ƒçš„ç”µå½±è‰ºæœ¯ä½“éªŒã€ä»å†å²åˆ°å½“ä»£æœ€å…ˆè¿›ç”µå½±æŠ€æœ¯å¸¦æ¥çš„æ€æƒ³ç¢°æ’ï¼Œç›ä¸½çš‡åå·ä¸Šå¯¹æ²§æ¡‘å†å²çš„è®¤çŸ¥å’Œé¡¶çº§banquetå¸¦æ¥çš„æè‡´å¥¢åçš„ä½“éªŒï¼Œå¦‚æœå¹³æ—¥é‡Œçš„æˆé•¿ä¸ä½“éªŒæ˜¯æ²™æ¼ ä¸­çš„é£å¯¹å²©çŸ³çš„é›•ç¢ï¼Œé‚£ç›¸ä¿¡è¿™äº›å¤©æ¥æ‰€æœ‰ç»å†è¿‡çš„è¿™ä¸€åˆ‡ä¼šåƒåœ°éœ‡å’Œç«å±±å–·å‘èˆ¬ä»¥æå…¶æµ“ç¼©çš„èƒ½é‡å‰§çƒˆåœ°å¡‘é€ æˆ‘å¿ƒä¸­çš„ç‰ˆå›¾ï¼Œæ’¼åŠ¨åœ°åŸºæ·±åšçš„åè§çš„é«˜å±±ï¼Œå¹¶ç”¨å–·è–„è€Œå‡ºçš„å…»åˆ†é€ å°±ä¸€ç‰‡ç‰‡æ–°çš„æ²ƒåœŸã€‚</p>
<p>æ–°çš„ä¸€å‘¨åˆå³å°†æ¥ä¸´ï¼Œå‘½è¿çŸ³ä¹‹é—¨åˆä¼šå¸¦æ¥äº›ä»€ä¹ˆæƒŠå–œå‘¢ï¼Ÿ</p>
<p>2018.8.3</p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬å››å‘¨</title>
    <url>/2018/08/11/emc-lab-note-4w/</url>
    <content><![CDATA[<p>æœ¬å‘¨æ˜¯æ•ˆç‡æ‹”ç¾¤çš„ä¸€å‘¨ã€‚ä»æ´›æ‰çŸ¶å›æ¥åï¼Œé©¬ä¸Šç€æ‰‹äº†èµ°ä¹‹å‰å’Œå¼ å²­å­¦é•¿è®¨è®ºçš„æœºå™¨å­¦ä¹ é¡¹ç›®ï¼Œå¹¶å·²ç»å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœï¼Œè¿™ä»¤æˆ‘ä»¬ååˆ†æŒ¯å¥‹ã€‚è¿™ä¸ªé¡¹ç›®æ˜¯æ³¢éŸ³å…¬å¸ä¸»å¯¼çš„ä¸€ä¸ªç ”ç©¶å‹é¡¹ç›®ï¼Œæˆ‘è´Ÿè´£çš„æ˜¯å°†ä¹‹å‰ä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•ç”±ç¬æ—¶äºŒæç®¡ä¸­çš„ç”µè·å’Œç©ºç©´åˆ†å¸ƒæ±‚è§£å‡ºå™¨ä»¶ä¸­å„åº—ç”µå‹åˆ†å¸ƒçš„è¿‡ç¨‹ç”¨æ·±åº¦å­¦ä¹ äºˆä»¥ä¼˜åŒ–ã€‚</p>
<span id="more"></span>
<p>çœŸæ­£ä»¤äººç€è¿·çš„ä¹Ÿè®¸ä¸æ˜¯åé¢çš„å®ç°è¿‡ç¨‹ï¼Œå°½ç®¡è¿™ä¸ªè¿‡ç¨‹ä¹ŸåŒæ ·æœ‰è¶£ï¼Œè€Œæ˜¯ä¸å­¦é•¿ä»¬è®¨è®ºçš„è¿™ä¸ªè¿‡ç¨‹ã€‚å¦‚ä½•å®šä¹‰é—®é¢˜ï¼Œå¦‚ä½•å°†ä¸€ä¸ªå¤æ‚çš„é—®é¢˜æ‹†åˆ†æˆä¸€ä¸ªä¸ªå®¹æ˜“ç€æ‰‹çš„ç‚¹ï¼Œåˆæ€æ ·å°†ä¸€ä¸ªæŠ½è±¡çš„é—®é¢˜åˆç†åœ°è½¬åŒ–ä¸ºä¸€ç»„ç»„â€œInputâ€â€œOutputâ€â€œLoss Functionâ€ï¼Œè¿™ä¸ªæ¿€çƒˆè®¨è®ºçš„è¿‡ç¨‹ç€å®é…£ç•…æ·‹æ¼“ï¼Œä¹Ÿç»™äºˆäº†åç»­çš„è¿‡ç¨‹ä¸€ä¸ªå¾ˆæ‰å®çš„å¼€ç«¯ã€‚åŒæ—¶æ„Ÿè§‰è‡ªå·±çœŸçš„éå¸¸éå¸¸å¹¸è¿ï¼Œèƒ½å¤Ÿé‡åˆ°ä¸€ä¸ªå¯ä»¥ç†è§£è‡ªå·±çš„ä¼˜ç§€mentorï¼Œåšç€è‡ªå·±äº«å—çš„å·¥ä½œå¹¶æŒç»­å­¦ä¹ ç€ä»¤äººæ¿€åŠ¨çš„æ–°çŸ¥ï¼Œå¹¶å¾—åˆ°æ•ˆæœç›¸å½“ä¸é”™çš„ç»“æœã€‚ä»è®¨è®ºé—®é¢˜çš„ç€åŠ›ç‚¹åˆ°ç€æ‰‹æ­å»ºæ·±åº¦å­¦ä¹ ä»£ç æ¡†æ¶ï¼Œæ€è€ƒæ¨¡å‹ç»“æ„å¹¶å®ç°ï¼Œä¸æ–­çš„å°è¯•ä¸æ‘¸ç´¢æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œç›´åˆ°æœ€åå­¦ä¹ äº†ä¼˜è´¨è€Œç®€æ´çš„æ¨¡å‹åŠç»“æœå¯è§†åŒ–å·¥å…·ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½å¦‚æ­¤çš„æµç•…è€Œèˆ’å±•ã€‚</p>
<p>ä»”ç»†æƒ³æ¥ï¼Œä¸å¹ä¸é»‘ï¼Œè¿™ç§é¢å¯¹æ–°é—®é¢˜æ—¶èƒ½å¤Ÿæ²‰ç€å†·é™åˆ†æå¹¶è‡ªä¿¡äºé«˜è´¨é‡å®ç°çš„æ€åº¦ç»å¯¹æ˜¯åœ¨Dianå›¢é˜Ÿè¿™ä¸€å¹´æ¥çš„çœŸå®é¡¹ç›®é”»ç‚¼ä¸­ä¸çŸ¥ä¸è§‰ä¸­å­¦åˆ°çš„ã€‚åœ¨å›¢é˜Ÿé‡Œå­¦åˆ°çš„ä¸ä»…ä»…æ˜¯å®å®åœ¨åœ¨ã€èƒ½å¤Ÿæ‹¿æ¥ç”¨çš„æœºå™¨å­¦ä¹ çŸ¥è¯†å’Œç¼–ç¨‹æŠ€èƒ½ï¼Œæ›´é‡è¦çš„æ˜¯æ•¢äºç³»ç»Ÿåˆ†æé—®é¢˜çš„èƒ½åŠ›ã€‚æ¯å½“æƒ³èµ·è¿™é‡Œï¼Œæ— ä¸åº†å¹¸äºå½“åˆèƒ½å¤ŸåŠ å…¥ç§å­ç­ã€æ„Ÿæ©äºå›¢é˜Ÿå¯¼å¸ˆå’Œå­¦é•¿ä»¬çš„æŒ‡å¯¼ã€‚</p>
<p>çœŸæ­£ä»¤äººæ„å¤–çš„äº‹æƒ…åœ¨è®­ç»ƒå‡ºæ¥çš„ç»“æœä¸ä½†å¾ˆå¥½çš„å¯¹ä¸Šäº†å„ä¸ªæ—¶é—´ç‚¹çš„è¶‹åŠ¿ï¼Œè¿˜å®Œç¾çš„æ¶ˆé™¤äº†æ•°æ®è‡ªèº«å­˜åœ¨çš„å™ªéŸ³ï¼Œè¿™æƒ³å¿…ä¹Ÿæ˜¯æ¥æºäºå¤§é‡æ•°æ®çš„è®­ç»ƒé€ æˆçš„æ³›åŒ–æ€§æé«˜ä»¥åŠç½‘ç»œå‡ºè‰²çš„æ‹Ÿåˆèƒ½åŠ›ã€‚<img src="/2018/08/11/emc-lab-note-4w/0069RVTdly1fu6fan9edsj31520nwtfo.jpg" alt="2091533836248_.pic_hd"></p>
<p>é™¤äº†é¡¹ç›®ï¼Œä¸Šå‘¨æœ«çš„å¨±ä¹æ´»åŠ¨ä¹Ÿæ˜¯æå…¶ç²¾å½©åˆºæ¿€çš„ã€‚å­¦é•¿ä»¬å¸¦æˆ‘ä»¬å»äº†é‚»å¸‚çš„ä¸“ä¸šå°„å‡»åº—ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½“éªŒäº†ä»2.2mmçš„æ‰‹æªå’ŒçŒæªåˆ°5.56mmçš„æ­¥æªã€ç”šè‡³æ˜¯7.62mmçš„AKMæ­¥æªã€‚å°½ç®¡ä¹‹å‰å·²ç»åœ¨æ¸¸æˆä¸­æ— æ•°æ¬¡ä½“éªŒå°„å‡»ï¼Œä½†æ˜¯çœŸæ­£çš„å°„å‡»å¸¦ç»™äººçš„é‚£ç§æºäºå±é™©çš„ä¸€ä¸ä¸ç´§å¼ ã€æºè‡ªæ¸´æœ›æ­£ä¸­é¶å¿ƒçš„æ³¨æ„åŠ›é«˜åº¦é›†ä¸­ã€æ‰‹æŒ‡æ‰£åŠ¨æ‰³æœºçš„ç¬é—´æ‰‘é¢è€Œæ¥çš„å·¨å¤§çˆ†ç ´å£°å“å’Œéšä¹‹è€Œæ¥åä½œç”¨åŠ›é€ æˆçš„åˆ‡åˆ‡å®å®çš„å†²å‡»ï¼Œä»¥åŠå‘½ä¸­æ—¶è¿¸å‘å‡ºçš„æ¿€åŠ¨ä¸å…´å¥‹ç­‰ç­‰å¯¹æˆ‘è€Œè¨€éƒ½æ˜¯æ— æ¯”æ–°é²œçš„ã€‚<img src="/2018/08/11/emc-lab-note-4w/0069RVTdly1fu6fsd78s6j31kw23v1ky.jpg" alt="IMG_2990"></p>
<figure>
<img src="/2018/08/11/emc-lab-note-4w/0069RVTdly1fu6frhczdbj31kw23vkjl.jpg" alt="IMG_2965"><figcaption aria-hidden="true">IMG_2965</figcaption>
</figure>
<p>å¦å¤–å€¼å¾—ä¸€æçš„æ˜¯æˆ‘ä»¬å››ä½ä½åœ¨ä¸€èµ·çš„å°ä¼™ä¼´ä»¬ä»ä¸‹å¨çš„é—¨å¤–æ±‰ä¹Ÿå¼€å§‹ä¸€ç‚¹ä¸€æ»´åœ°å­¦ä¼šäº†è®¸å¤šå¥½åƒçš„èœçš„åšæ³•ï¼Œè¿™æ— ç–‘ä»¤æˆ‘ä»¬çš„ç”Ÿæ´»æ»¡æ„åº¦æ›´ä¸Šäº†ä¸€å±‚æ¥¼ã€‚</p>
<figure>
<img src="/2018/08/11/emc-lab-note-4w/0069RVTdly1fu6fvbr7irj31kw23vnpe.jpg" alt="IMG_3016"><figcaption aria-hidden="true">IMG_3016</figcaption>
</figure>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬äºŒå‘¨</title>
    <url>/2018/07/26/emc-lab-note-2w/</url>
    <content><![CDATA[<p>â€‹ æœ¬å‘¨æ˜¯2018å¹´åä¸­ç§‘æŠ€å¤§å­¦åŒå­¦æ¥å¯†è‹é‡Œç§‘æŠ€å¤§å­¦è¿›è¡Œæš‘ç ”çš„ç¬¬äºŒå‘¨ã€‚å¦‚æœç”¨ä¸€ä¸ªè¯æ¥æ¦‚æ‹¬æœ¬å‘¨çš„æ„Ÿè§‰ï¼Œé‚£â€œæ¸è‡»ä½³å¢ƒâ€å°†ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ç¬¬ä¸€å‘¨ç”Ÿæ´»åˆ’ä¸‹çš„ç•¥æ˜¾æ‚ä¹±çš„è½¨è¿¹çº¿åœ¨æ­¤å»¶é•¿ã€ä¼¸å±•ã€æ”¾å°„ï¼Œå½¢æˆäº†ä¸€é“ä¼˜ç¾è€Œæœ‰åºçš„çº¿æ¡ã€‚</p>
<p>â€‹ é¦–å…ˆæ˜¯ç”Ÿæ´»æ–¹é¢ï¼Œç”±äºåˆæ¥ä¹åˆ°çš„æˆ‘ä»¬æ²¡æœ‰åˆé€‚çš„å¨å…·ã€æ²¡æœ‰æ–™ç†çš„åŸæ–™ï¼Œè€Œä¸”æ›´æ‰å¿ƒçš„æ˜¯ä¸€èµ·ç”Ÿæ´»çš„å››ä¸ªå°ä¼™ä¼´éƒ½ä¸ä¼šåšé¥­ï¼Œæ‰€ä»¥æˆ‘ä»¬å‡ ä¹åƒéäº†ç½—æ‹‰åŸä¸­å¿ƒåœ°å¸¦çš„å„ç§ä¸­é¤å…æ—¥æ–™åº—ï¼Œæ›´æ˜¯æ¶ˆè€—æ‰äº†å‡ å¤§åŒ…æ³¡é¢ã€‚è€Œåœ¨å³å°†æ¯•ä¸šå­¦é•¿çš„å¸®åŠ©ä¸‹ï¼Œæˆ‘ä»¬å‡‘ é½äº†å¨å…·ï¼Œå»æ²ƒå°”ç›è´­ä¹°åˆ°äº†åŸæ–™ï¼Œå¹¶ä¸”ä¸‹è½½äº†â€œä¸‹å¨æˆ¿â€Appå¼€å§‹äº†é›¶åŸºç¡€çš„æ–™ç†å­¦ä¹ ã€‚æ¯å¤©ä¸€åˆ°é¥­ç‚¹ï¼Œå¤§å®¶å°±ä¼šé½å¿ƒååŠ›çƒ¹åˆ¶ä¸€é“é“è™½ç„¶ç®€å•ä½†æ˜¯å´ä¹Ÿå¯å£çš„é¥­èœã€‚èƒ½å¤Ÿè‡ªå·±åšé¥­æ— ç–‘å¤§å¹…é™ä½äº†æˆ‘ä»¬åœ¨åƒé¥­æ–¹é¢çš„å¼€é”€ï¼ŒåŒæ—¶ä¹Ÿä¸ºä¹‹åçš„ç•™å­¦ç”Ÿæ´»æ‰“ä¸‹äº†å¿…è¦çš„åŸºç¡€ã€‚</p>
<span id="more"></span>
<figure>
<img src="/2018/07/26/emc-lab-note-2w/006tKfTcly1ftqbfpfa9uj31kw1kw4qp.jpg" alt="IMG_1977"><figcaption aria-hidden="true">IMG_1977</figcaption>
</figure>
<p>â€‹ ä¹‹åä¾¿æ˜¯å­¦ä¹ ç ”ç©¶æ–¹é¢ã€‚åœ¨ç ”ç©¶æ–¹é¢ï¼Œç”±äºä¹‹å‰åœ¨Dianå›¢é˜Ÿæ‰“ä¸‹äº†åšå®çš„ç¼–ç¨‹ä¸ç®—æ³•çš„åŸºç¡€ã€åŸ¹å…»äº†å¿…è¦çš„å¿«é€Ÿå­¦ä¹ èƒ½åŠ›ï¼Œæ•´ä½“æ¥è¯´æˆ‘è¿›å…¥çŠ¶æ€è¿˜æ˜¯ç›¸å¯¹è¾ƒå¿«çš„ã€‚æˆ‘åšçš„ç¬¬ä¸€ä¸ªé¡¹ç›®æ˜¯ç”¨matlabé€šè¿‡æ™ºèƒ½ç®—æ³•ä¼˜åŒ–é™å®šæ¡ä»¶ä¸‹ESMæ”¾å°„æºæ‰«æä¸­çš„é‡‡æ ·ç‚¹é€‰å–é—®é¢˜ã€‚é€šè¿‡å°†è¿‘ä¸€å‘¨çš„ä¸æ–­ä¼˜åŒ–ï¼ŒåŒæ—¶ä¹Ÿå¾—ç›Šäºå­¦é•¿å’Œå„ä½å¯¼å¸ˆä»¬è€å¿ƒçš„æŒ‡å¯¼å’Œæ¿€çƒˆçš„è®¨è®ºï¼Œåœ¨æˆ‘ä»¬æ‰€ç‰¹å®šçš„æ¡ä»¶ä¸‹ï¼Œç›®å‰å·²ç»å–å¾—äº†ç›¸å½“ä¸é”™çš„ç»“æœã€‚</p>
<figure>
<img src="/2018/07/26/emc-lab-note-2w/006tKfTcly1ftqaz36trlj31kw0l47wh.jpg" alt="image-20180728165436778"><figcaption aria-hidden="true">image-20180728165436778</figcaption>
</figure>
<p>â€‹ è¿™ä¸ªé¡¹ç›®ç¨å¾®å‘Šä¸€æ®µè½åï¼Œç´§æ¥ç€å¼ å²­å­¦é•¿ç»“åˆèŒƒæ•™æˆå¾—åˆ°çŸ¥é“ï¼Œç»™æˆ‘å®‰æ’äº†å¦å¤–ä¸€ä¸ªæ›´å…·æœ‰æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡å°†ä¸»è¦é€šè¿‡æ·±åº¦å­¦ä¹ æ–¹æ³•å®Œæˆï¼Œå¦‚æœæ•ˆæœè¾¾åˆ°é¢„æœŸï¼Œå…¶å°†ä½œä¸ºä¸€ä¸ªå¤§å‹ä»¿çœŸé¡¹ç›®çš„ä¸€éƒ¨åˆ†è¢«æ•´åˆã€‚</p>
<p>â€‹ æœ¬å‘¨çš„æ´»åŠ¨ä¾æ—§ä¸°å¯Œã€‚æˆ‘ä»¬å’Œå®éªŒå®¤çš„å¯¼å¸ˆä»¥åŠå­¦é•¿ä»¬ä¸€åŒè¸¢äº†è¶³çƒï¼Œå‚åŠ äº†é‡å¤–çƒ§çƒ¤ã€å»ç”µå½±é™¢è§‚çœ‹äº†åˆšåˆšä¸Šæ˜ çš„ç¢Ÿä¸­è°ã€‚ç”±äºè¿™é‡Œçš„ç”µå½±é™¢æ”¯æŒèººç€è§‚å½±ï¼Œæ‰€ä»¥è§‚å½±ä½“éªŒç¡®å®æ˜¯ç›¸å½“ä¸é”™çš„ã€‚ä¸è¿‡çœ‹äº†è¿™ç§æ²¡æœ‰å­—å¹•çš„ç”µå½±ï¼Œä¸ç”±æ„Ÿåˆ°åº”è¯¥èµ¶ç´§æé«˜è‡ªå·±è¿™ä¾æ—§ä»¤äººæ‰æ€¥çš„è‹±è¯­å¬åŠ›äº†ã€‚è™½ç„¶å¹³æ—¶å’Œæ•™æˆä»¬è®¨è®ºä»¥åŠè´­ç‰©ç­‰åœºæ™¯è¿˜æ˜¯èƒ½å¤Ÿåº”ä»˜çš„ï¼Œä¸è¿‡åˆ°äº†æ›´åŠ å¤æ‚çš„ç”Ÿæ´»åœºæ™¯ä¸­æ—¶è¿˜æ˜¯ä¼šæ„Ÿåˆ°å·®çš„å¾ˆè¿œã€‚é•¿è·¯æ¼«æ¼«ï¼Œä¸”è¡Œä¸”æ€ï¼</p>
<figure>
<img src="/2018/07/26/emc-lab-note-2w/006tKfTcly1ftqbiogksaj31kw16o4qq.jpg" alt="IMG_1975"><figcaption aria-hidden="true">IMG_1975</figcaption>
</figure>
<h5 id="èººç€çš„ç”µå½±é™¢">â€œèººç€çš„â€ç”µå½±é™¢</h5>
<p><img src="/2018/07/26/emc-lab-note-2w/006tKfTcly1ftqbifpudoj31kw0w01l0.jpg" alt="IMG_2090"> ##### å¤•é˜³ä¸‹çš„åˆå½±</p>
<p><img src="/2018/07/26/emc-lab-note-2w/006tKfTcly1ftqbixud7tj31kw11oe84.jpg" alt="IMG_2087"> ##### è¶³çƒåœºé£é‡‡</p>
<p>ä¸‹å‘¨æˆ‘ä»¬å°†å’Œå®éªŒå®¤çš„å¯¼å¸ˆå­¦é•¿ä»¬ä¸€åŒå»åŠ å·å‚åŠ ä¸€ä¸ªé¢†åŸŸå†…çš„ç ”è®¨ä¼šï¼Œååˆ†æœŸå¾…ï¼</p>
<p>2018.7.28</p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬äº”å‘¨</title>
    <url>/2018/08/18/emc-lab-note-5w/</url>
    <content><![CDATA[<p>è¾›è‹¦è€Œåˆºæ¿€çš„ä¸€å‘¨ã€‚</p>
<p>ä¸Šå‘¨å®Œæˆäº†æ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ­å»ºä¹‹åï¼Œæœ¬å‘¨å¼€å§‹äº†å¤æ‚è€Œè‰°éš¾çš„æµ‹è¯•å·¥ä½œã€‚ä¹‹æ‰€ä»¥å¦‚æ­¤å¤æ‚ï¼Œæ˜¯å› ä¸ºæ¨¡å‹éªŒè¯åªèƒ½å»ºç«‹åœ¨è¿ç»­æ¨¡æ‹Ÿå¾—å‡ºçš„æ›²çº¿ä¹‹ä¸Šã€‚è€Œæƒ³è¦å¾—åˆ°è¶³å¤Ÿçš„éªŒè¯æ•°æ®ï¼Œå¿…é¡»æŠŠä¹‹å‰å­¦é•¿æ‰€æ­å»ºçš„MATLABä»¿çœŸä»£ç å’Œè‡ªå·±åŸºäºPythonçš„æ·±åº¦å­¦ä¹ ä»£ç è¿›è¡Œç»“åˆã€‚å¤§è‡´çš„æ–¹æ³•æœ‰ä¸‰ï¼š</p>
<span id="more"></span>
<ol type="1">
<li><p>å°†3500è¡ŒMATLABä»£ç ç›´æ¥ç¿»è¯‘æˆPythonä»£ç ã€‚</p>
<ul>
<li><p>ä¼˜ç‚¹ï¼šæœ€ç›´è§‚ï¼Œé€‚é…æ€§æœ€å¼ºï¼ŒGitHubæœ‰ç›¸å…³è½¬æ¢è„šæœ¬</p></li>
<li><p>ç¼ºç‚¹ï¼šè€—æ—¶å¤§ï¼Œæš—bugéš¾ä»¥è°ƒè¯•</p></li>
</ul></li>
<li><p>å°†Matlabä»£ç æ‹†åˆ†æˆå‡ ä¸ªå¤§å‡½æ•°ï¼Œå°è£…å¥½åç”¨Pythonè¿è¡Œè¿™äº›æ–‡ä»¶</p>
<ul>
<li><p>ä¼˜ç‚¹ï¼šå¤§å¤§é™ä½å·¥ä½œé‡ï¼Œè€Œä¸”èƒ½å¤Ÿä¿è¯å°è£…çš„æ–‡ä»¶è¿è¡Œå¾—åˆ°æ­£ç¡®çš„ç»“æœ</p></li>
<li><p>ç¼ºç‚¹ï¼šè°ƒç”¨æ³Šæ¾æ–¹ç¨‹éƒ¨åˆ†çŸ¥è¯†ä¸€ä¸ªå°è°ƒç”¨ï¼Œæ•´ä¸ªMainæ–‡ä»¶å¤§ä½“è¿˜è¦æ”¹ï¼Œlistç­‰çš„ä¼ å‚ä¹Ÿå¾ˆæˆé—®é¢˜</p></li>
</ul></li>
<li><p>å°†æœºå™¨å­¦ä¹ éƒ¨åˆ†åšæˆLinuxæœåŠ¡å™¨ç«¯ï¼Œåœ¨Matlabç«¯åªè°ƒç”¨æ¥å£</p>
<ul>
<li><p>ä¼˜ç‚¹ï¼šå¿«é€Ÿï¼Œå¯å¤ç”¨</p></li>
<li><p>ç¼ºç‚¹ï¼šåŒæ ·çš„é—®é¢˜æ—¶å­¦ä¹ æˆæœ¬è¾ƒé«˜ã€‚æœ‰åšä¸å‡ºæ¥çš„å¯èƒ½ï¼Œè€—æ—¶è¾ƒé•¿</p></li>
</ul></li>
</ol>
<p>èµ·åˆæˆ‘å°è¯•äº†ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå€ŸåŠ©GitHubä¸Šå¼€æºçš„MATLABè½¬Pythonçš„ä¸œé£ï¼Œåªç”¨äº†å‡ ä¸ªå°æ—¶ä¾¿å®Œæˆäº†å¤§è‡´çš„è½¬æ¢ï¼Œæœ¬æ¥ä¿¡å¿ƒæ»¡æ»¡å‡†å¤‡ç€æ‰‹æµ‹è¯•æ—¶ï¼Œå´æ„å¤–çš„å‘ç°å°½ç®¡å¤§éƒ¨åˆ†è¯­æ³•éƒ½å¾—åˆ°äº†æ­£ç¡®çš„è½¬æ¢ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è®¸è®¸å¤šå¤šç»†èŠ‚é—®é¢˜éœ€è¦ä¸€æ­¥æ­¥è°ƒæ•´ã€‚æ•´ä¸ªè°ƒè¯•æŒç»­äº†æ•´æ•´ä¸‰å¤©ï¼Œå½“æœ€ç»ˆå¯ä»¥è¿è¡Œæ˜¯å´å†æ¬¡å‘ç°äº†ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol type="1">
<li>è¿è¡Œé€Ÿåº¦ç›¸è¾ƒäºMATLABåŸç”Ÿç¨‹åºæ…¢äº†å¤ªå¤šã€‚MATLABä¸Šåªè¦0.4ç§’çš„ç¨‹åºè½¬æˆäº†Pythonç«Ÿç„¶éœ€è¦ä¸Šåƒç§’ã€‚ç»è¿‡ä»”ç»†çš„åˆ†æï¼ŒåŸå› ä¸»è¦æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯MATLABæœ¬èº«å°±å¯¹çŸ©é˜µè¿ç®—è¿›è¡Œçš„å¤§é‡çš„ä¼˜åŒ–ï¼Œè€ŒPythonæƒ³è¦å®ç°ç›¸ä¼¼åŠŸèƒ½åªèƒ½å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“å‡½æ•°ã€‚äºŒæ˜¯è‡ªåŠ¨è½¬æ¢è„šæœ¬ä¸ºäº†ä¿è¯æ•°ç»„ä¸‹æ ‡ç­‰çš„æ­£ç¡®æ€§å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç±»matlab arrayã€‚æ¯ä¸ªæ•°ç»„éƒ½ä¼šè¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªå®ä¾‹ï¼Œè€Œè¿™æœ¬èº«å°±æ˜¯å¾ˆè€—æ—¶é—´çš„ã€‚ä¸‰æ˜¯å…¶ä¸­æ¶‰åŠäº†å¾ˆå¤šç±»å‹è½¬æ¢ï¼Œè€Œæ•°ç»„æœ‰å¾ˆå¤§å¾ˆå¤šï¼Œä¸å°‘æ•°ç»„éƒ½æœ‰å¤šè¾¾æ•°ä¸‡ä¸ªå…ƒç´ ï¼Œæ‹·è´å¼çš„è½¬æ¢ä¼šæ¶ˆè€—æ‰å·¨é‡çš„æ—¶é—´ã€‚</li>
<li>ç»“æœä¸æ­£ç¡®ã€‚æœ‰éƒ¨åˆ†å‡½æ•°å’Œæ–¹æ³•MATLABå’ŒPythonçš„è§£è¯»ä¸åŒã€‚è¿™ç§é—®é¢˜å¤§éƒ¨åˆ†æ˜¯å¯ä»¥è¢«å‘ç°çš„ï¼Œä½†æ˜¯å®é™…ä¸Šdebugçš„éš¾åº¦éšç€ä»£ç é•¿åº¦å’Œå¤æ‚åº¦è€Œæ€¥å‰§ä¸Šå‡ï¼Œå°¤å…¶æ˜¯åŸæ¥çš„ä»£ç æœ¬èº«å°±è¾ƒä¸ºdirtyï¼Œè€Œä¸æ˜¯ç»“æ„åŒ–çš„è¿ç®—æ—¶ã€‚å¦å¤–è¿˜æœ‰éƒ¨åˆ†ä¸ä»”ç»†åˆ†æè°ƒè¯•æ–­ç‚¹æ ¹æœ¬æ— æ³•å‘ç°çš„éšè—å¼çš„bugï¼Œè¿™äº›éƒ½ä½¿å¾—è¿™ä¸ªåºç„¶å¤§ç‰©ä¼¼çš„ä»£ç æéš¾è°ƒè¯•ã€‚</li>
</ol>
<p>ä¹‹åï¼Œæˆ‘è¯•ç€åªæ‰‹åŠ¨é‡å†™mainç¨‹åºï¼Œå…¶ä»–çš„æ¨¡å—å…¨éƒ¨å°è£…åŒ–ï¼Œä½†ç»“æœä¾æ—§ä¸ç†æƒ³ã€‚ç”±äºç¨‹åºä¸æ–­åœ°åœ¨MATLABå’ŒPythonè§£é‡Šç¯å¢ƒä¸­åˆ‡æ¢ï¼Œè¿™å¿…ç„¶æ¶‰åŠåˆ°å¤§é‡çš„ä¼ å‚ï¼Œè€ŒMATLABå’ŒPythonä¹‹é—´çš„ä¼ å‚ç”šè‡³æ¯”æ™®é€šçš„ç±»å‹è½¬æ¢æ›´åŠ è€—æ—¶ï¼Œå¾€å¾€ä¸€ä¸ªå¾ªç¯è¦æ¶ˆè€—æ•°ç™¾ç§’ã€‚Pythonä¸­ä¸€ä¸ªMATLABçš„å‡½æ•°è°ƒç”¨ä¼ å‚è½¬æ¢èŠ±çš„æ—¶é—´å’Œæœ¬èº«èŠ±å»çš„æ—¶é—´ä¹‹æ¯”æ ¹æ®å‚æ•°æ•°é‡å’Œå¤§å°ç”šè‡³å¯ä»¥è¾¾åˆ°äº†1:200ä»¥ä¸Šã€‚è¿™æ— ç–‘æ˜¯ä¸€ä¸ªä»¤äººéœ‡æƒŠçš„æ¯”ä¾‹ã€‚ä½†æ˜¯å¦‚æœå¸Œæœ›é€šè¿‡ä¸æ–­è°ƒç”¨MATLABå‡½æ•°å¹¶å°†é•¿è¾¾400è¡Œå·¦å³çš„mainå‡½æ•°é€šè¿‡Pythonæ‰§è¡Œï¼Œå¤§é‡çš„ä¼ å‚å°±æ˜¯æ— æ³•é¿å…çš„ã€‚</p>
<p>äºæ˜¯ï¼Œç»è¿‡å……åˆ†çš„æ€è€ƒåï¼Œæˆ‘æœæ–­æ”¾å¼ƒäº†ä¹‹å‰äº”å¤©çš„æˆæœï¼Œé€‰æ‹©äº†ä¸‹ä¸€ç§æ–¹æ³•ï¼šåªåœ¨Pythonä¸­æ§åˆ¶ä¸»å¾ªç¯ä»¥åŠå‡ ä¸ªå…³é”®è€Œå°çš„å˜é‡ï¼ŒæŠŠä¹‹å‰çš„mainé•¿é•¿çš„ä»£ç æ‹†æˆäº†æ•°ä¸ªä»£ç å—ï¼Œæ‰“åŒ…æˆä¸€ä¸ªä¸ªå¯ä¾›Pythonè°ƒç”¨çš„å‡½æ•°ï¼Œå¹¶æŠŠå‡½æ•°æ–‡ä»¶é—´çš„æ²Ÿé€šâ€œå¤§ä»»â€ä»Pythonä¸»ç¨‹åºè½¬ç§»åˆ°äº†ä¸­é—´matæ–‡ä»¶ã€‚æ¯ä¸ªMATLABè„šæœ¬æ‰§è¡Œä¹‹å‰éƒ½ä¼šLoadä¹‹å‰å­˜ä¸‹çš„ä¸­é—´å˜é‡å¹¶åœ¨ç»“å°¾å‚¨å­˜å½“å‰æ‰€æœ‰çš„ä¸­é—´å˜é‡ã€‚é€šè¿‡è¿™ç§æ–¹æ³•ï¼ŒPythonä¸­æ¯ä¸ªå¾ªç¯çš„æ‰§è¡Œé€Ÿåº¦ä¹Ÿç”±ç›´æ¥ä¼ å‚çš„æ•°ç™¾ç§’é™ä½åˆ°äº†å¯ä»¥æ¥å—çš„0.5ç§’ã€‚ä¹‹åä¾¿æ˜¯æŠŠè‡ªå·±çš„æœºå™¨å­¦ä¹ ä»£ç å†™äº†ä¸€ä¸ªç®€å•è€Œè¿…é€Ÿçš„æ¥å£ï¼Œæ›¿æ¢æ‰äº†åŸæœ‰çš„æ³Šæ¾æ–¹ç¨‹æ±‚è§£éƒ¨åˆ†ã€‚é¢„è®¡ä¸‹ç§å¯ä»¥å‡ºæ¥æ­£å¼çš„æ‹Ÿåˆæ›²çº¿ã€‚</p>
<p>è¯´å®Œä¸Šé¢æ´‹æº¢ç€æ»¡æ»¡æŠ€æœ¯å‘³çš„æœ¬å‘¨è¿›å±•æƒ…å†µï¼Œä¸‹é¢å°±æ˜¯ç²¾å½©åˆºæ¿€çš„â€œç»åœ°æ±‚ç”Ÿâ€â€œè’é‡è¡ŒåŠ¨â€äº†ã€‚æœ¬å‘¨äº”labç»„ç»‡å…¨å‘˜å‚ä¸äº†ç‹¬æœ¨èˆŸæ¼‚æµæ´»åŠ¨ã€‚æ´»åŠ¨æè¿°å¾ˆç®€å•ï¼šä¸‰ä¸ªäººä¸€æ¡å°èˆŸï¼Œå¸¦ä¸Šå……é¥¥çš„é£Ÿå“ï¼Œä»æ¼‚æµçš„èµ·ç‚¹åˆ’åˆ°ç»ˆç‚¹ã€‚ä½†æ˜¯åˆ°äº†ç°åœºæ‰å‘ç°ï¼šè¿™ä¸ªæ´»åŠ¨å’Œæœ€åˆæˆ‘ä»¬çš„å°è±¡å®Œå…¨ä¸ä¸€æ ·ã€‚é¦–å…ˆæ¼‚æµå¹¶ä¸æ˜¯ç®€å•çš„é¡ºæ°´æ¼‚ä¸‹ï¼Œè€Œæ˜¯çœŸæ­£ç”¨æ¡¨æŠŠä¸€ä¸ªé“è´¨çš„å°èˆŸåˆ’èµ·æ¥ã€‚ç¯å¢ƒä¹Ÿè®©äººæ„Ÿåˆ°ååˆ†æƒŠå¼‚ï¼šå’Œå›½å†…ç»è¿‡å¼€å‘çš„æ™¯ç‚¹å®Œå…¨ä¸åŒï¼Œæ²³å²¸ä¸¤è¾¹éƒ½æ˜¯èŒ‚å¯†çš„æ£®æ—ï¼Œæ•´ä¸ªæ—…ç¨‹ä¸­çš„å¤§åŠæ—¶é—´éƒ½å¤„åœ¨â€œå‰æ— å¤äººåæ— æ¥è€…â€çš„çŠ¶æ€ï¼Œç´§å¼ åˆºæ¿€çš„åŒæ—¶åˆçš„ç¡®å……æ»¡äº†å±é™©çš„æ°”æ¯ã€‚å…¶æ¬¡æ˜¯æ°´é“çš„çŠ¶æ€ï¼šæ€¥æµã€é™©æ»©ã€æš—ç¤ã€å·¨å¤§æ ‘æã€æ·±æµ…æ°´åŸŸã€ææµ…åœ°å¸¦ç­‰éƒ½ç»™åˆ’è¡Œé€ æˆäº†å·¨å¤§çš„å›°éš¾ã€‚è€Œæœ€å…³é”®çš„ä¸‰ç‚¹æ˜¯ï¼š</p>
<ol type="1">
<li>æˆ‘ä»¬ä¸‰åæ¥è‡ªç§å­ç­çš„åŒå­¦è¢«åˆ†é…åˆ°äº†åŒä¸€æ¡èˆ¹ä¸Šï¼Œä½†æˆ‘ä»¬éƒ½æ²¡æœ‰åˆ’èˆ¹çš„ç»éªŒ</li>
<li>æ•´ä¸ªæ°´é“æµåŸŸå¾ˆé•¿ï¼Œå½“æˆ‘ä»¬åˆ’äº†4ä¸ªåŠå°æ—¶è¢«å‘ŠçŸ¥è¿˜æœ‰ä¸€åŠçš„æ—¶å€™çœŸçš„å¯¹ç»æœ›æœ‰äº†å¾ˆå¥½çš„ç†è§£</li>
<li>æ²¡äººæ•‘æ´ã€‚è™½ç„¶åŒè¡Œçš„äººå¾ˆå¤šï¼Œä½†æ˜¯å› ä¸ºå‡ åæ•™æˆå’Œå­¦é•¿ä¸ºäº†å¢åŠ æ—…ç¨‹çš„ä¹è¶£ç”¨å„ç§æ–¹æ³•ç¿»è¿‡è·¯çš„èˆ¹ï¼Œè€Œæˆ‘ä»¬éƒ½æ˜¯æ–°æ‰‹ï¼Œä¸ºäº†é¿å…ä¸æ–­è¢«ç¿»èˆ¹é€‰æ‹©äº†ç­‰åˆ°æ‰€æœ‰äººèµ°äº†ä¹‹åå†åŠ¨èº«</li>
</ol>
<p>æˆ‘ä»¬ä¸‰äººåœ¨ä¸€å¤©ä¸­åˆ’è¡Œäº†æ•´æ•´7ä¸ªå°æ—¶ï¼Œå¯è°“æ˜¯ç›¸å½“â€œå‹‡çŒ›â€äº†ã€‚å®é™…ä¸Šï¼Œæœ€å¿«çš„ç»„4ä¸ªå°æ—¶ä¾¿åˆ°è¾¾äº†ç»ˆç‚¹ï¼Œè€Œæˆ‘ä»¬åˆ™å› ä¸ºä¸­é€”è¢«ç¿»äº†4æ¬¡èˆ¹ã€ç­‰å¾…ç¿»èˆ¹å¤§ä½¬ä»¬å…ˆè¡Œå’Œç”±äºå¯¹åˆ’èˆ¹ä¸ç†Ÿç»ƒé€ æˆçš„è½¬å‘ã€æ’æš—ç¤å’Œå…¶ä»–å„ç§éšœç¢ç‰©ã€ææµ…ç­‰åŸå› è€Œå»¶è¯¯äº†å¾ˆä¹…ã€‚ä¸è¿‡ä»¤äººæ¬£æ…°çš„æ˜¯æˆ‘ä»¬åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åœ¨çƒ­å¿ƒè€å¤–çš„æŒ‡å¯¼ä¸‹æˆåŠŸå­¦ä¼šäº†é…åˆåˆ’èˆ¹ï¼Œè€Œä¸”ç”±äºæˆ‘ä»¬é€‰ç”¨äº†éš”æ°´æ€§èƒ½å¾ˆå¥½çš„ä¿é²œè¢‹ï¼Œè‡³å°‘ä¿è¯äº†ä¸€å¤©çš„é£Ÿç‰©è¿™ä¸¤ç‚¹ã€‚</p>
<p>ä¸€è·¯ä¸Šè™½ç„¶éå¸¸è¾›è‹¦ï¼Œç”šè‡³éƒ½å¤šå¤šå°‘å°‘å—äº†äº›ä¼¤ï¼Œä½†æ˜¯æ³›èˆŸäºä¸›æ—æ·±å¤„ã€ç©å‘³å¤æ—¥çš„è“å¤©ä¸ç¿ æ—ã€æ„Ÿå—â€œè‰å™ªæ—é€¾é™ï¼Œé¸Ÿé¸£å±±æ›´å¹½â€çš„é™è°§è¿˜æ˜¯è®©äººååˆ†æ„‰å¿«è€Œæ”¾æ¾çš„ã€‚åœ¨å›æ¥çš„è·¯ä¸Šï¼Œæˆ‘ä»¬è¿˜æœ‰å¹¸çœ‹åˆ°äº†å¤©ç©ºä¸­é«˜æŒ‚çš„å½©è™¹ï¼Œå¯è°“æ˜¯ç¾å¦™çš„ä¸€å¤©ã€‚<img src="/2018/08/18/emc-lab-note-5w/006tNbRwgy1fuejycdf41j31400u0q7a.jpg" alt="IMG_3058"></p>
<p>å¦å¤–çœŸçš„å¤šè°¢æ—©æ—©åˆ’å®Œå…¨ç¨‹è¿˜ä¸æ–­æ‹…å¿ƒæˆ‘ä»¬å‡ ä¸ªçš„è¯¸ä½å­¦é•¿è€å¸ˆï¼Œå½“åˆ’åˆ°æœ€åç­‹ç–²åŠ›å°½æ—¶å€™çœ‹åˆ°ä¸“ç¨‹ä»å²¸è¾¹è·‘å›æ¥ç­æœ›æˆ‘ä»¬çš„æ•™æˆä»¬æ—¶ï¼Œå½“æœ€ç»ˆä¸Šå²¸è¢«å­¦é•¿ä»¬çƒ­æƒ…è¿æ¥æ—¶ï¼ŒçœŸçš„æ„Ÿè§‰éå¸¸éå¸¸çš„æ¸©æš–ã€‚è°¢è°¢å¤§å®¶ï¼</p>
<p>æ­¤å¤–ï¼Œæœ¬å‘¨æˆ‘ä»¬è¿˜æœ‰å¹¸çœ‹åˆ°äº†è‹±ä»™åº§æµæ˜Ÿé›¨ï¼Œå°½ç®¡æ˜¯åœ¨æˆ‘ä»¬çš„å…¬å¯“åçš„åœè½¦åœºçš„ç®€å•è‚‰çœ¼è§‚æµ‹ï¼Œä½†æ˜¯è¿˜æ˜¯æ„Ÿåˆ°äº†æ— æ¯”çš„æ¢¦å¹»è€Œç¾å¥½ã€‚æ¼«å¤©æ˜Ÿæµ·ä¸­çš„é‚£é“ä¸½çš„ä¸€é—ªè€Œè¿‡ï¼Œæè‹¥æ¨±èŠ±èˆ¬ç¿çƒ‚è€ŒçŸ­æš‚ï¼Œå°½ç®¡åªæ¶ˆä¸€ç¬ï¼Œä½†å´æ°¸é©»è§‚è€…å¿ƒé—´ã€‚â€œWish upon the shooting starâ€ã€‚<img src="/2018/08/18/emc-lab-note-5w/006tNbRwgy1fuejz7guf0j30u01o0ad9.jpg" alt="IMG_3045"></p>
<p>æœ¬å‘¨å¨è‰ºä¾æ—§åœ¨ç¨³æ­¥è¿›æ­¥ï¼Œç°åœ¨å·²ç»æ¸æ¸èƒ½å¤Ÿçƒ§åˆ¶ä¸€äº›å¯å£çš„é¥­èœäº†ï¼Œå¹¸ç¦æŒ‡æ•°åˆèƒ½++äº†ã€‚</p>
]]></content>
      <tags>
        <tag>matlab</tag>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬å…­å‘¨</title>
    <url>/2018/08/27/emc-lab-note-6w/</url>
    <content><![CDATA[<p>å¼€ç–†æ‹“åœŸã€é«˜æ­ŒçŒ›è¿›çš„ä¸€å‘¨ã€‚</p>
<p>æœ¬å‘¨å°è¯•äº†è®¸å¤šæ–°æŠ€æœ¯ï¼Œå­¦åˆ°äº†å¾ˆå¤šæ–°æ“ä½œï¼Œå…¶ä¸­æœ‰çš„åƒæ˜¯â€œå¤™æ„¿â€çš„æ„¿æœ›ä¹Ÿåœ¨æœ€è¿‘è¢«å®ç°äº†ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œæœ¬å‘¨çš„è¿›å±•ç›¸å½“æˆåŠŸã€‚ç®€å•åˆ—ä¸¾ä¸€ä¸‹æœ€è¿‘åœ¨æŠ€æœ¯æ–¹é¢çš„æˆæœï¼š</p>
<span id="more"></span>
<ol type="1">
<li>MATLABå’ŒPythonçš„è”åˆç¼–ç¨‹è¢«å ªç§°å®Œç¾çš„å®ç°äº†å‡ºæ¥ï¼Œæ•´ä¸ªé€Ÿåº¦ç›¸æ¯”ä¹‹å‰ç‰ˆæœ¬å¿«äº†è¿‘400å€</li>
<li>æœºå™¨å­¦ä¹ ä»£ç åœ¨ç½‘ç»œæœåŠ¡å™¨ç«¯å¾…æœºæä¾›æœåŠ¡çš„æ¥å£å³å°†å‡ºç‚‰</li>
<li>Pythonå¤šçº¿ç¨‹æ“ä½œæ·±å…¥åˆ°æœºå™¨å­¦ä¹ çš„é«˜IOæ“ä½œéƒ¨åˆ†ä½¿å¾—æ•´ä¸ªè¿‡ç¨‹è¿œä¸ºæµç•…</li>
<li>Pytorchæ¡†æ¶ä¸‹å¤šGPUåˆ†å¸ƒå¼è®¡ç®—ä¹Ÿè¢«æˆåŠŸåº”ç”¨åˆ°äº†è‡ªå·±çš„ä»£ç ä¸Šï¼Œå¹¶å’Œå¤šçº¿ç¨‹ä¸€èµ·æé«˜äº†è®­ç»ƒé€Ÿåº¦é«˜è¾¾6å€</li>
<li>å…¥é—¨å¼ºåŒ–å­¦ä¹ åˆè§æˆæ•ˆï¼Œå¼„æ‡‚äº†ä¸€äº›åŸºæœ¬åŸç†</li>
<li>åˆæ­¥äº†è§£äº†GANå’Œé£æ ¼è¿ç§»çš„åŸç†å¹¶ç ”ç©¶äº†Pytorchå®ç°çš„ä»£ç </li>
<li>ä¸ªäººåšå®¢çš„é˜…è¯»äººæ•°å’Œæ‰“èµç­‰åŠŸèƒ½çš„æ·»åŠ </li>
<li>å¯¹æ­è½½Linuxç³»ç»Ÿçš„GPUæœåŠ¡å™¨åšäº†è¾ƒä¸ºè¯¦å°½çš„è°ƒç ”å¹¶æ¨èç»™äº†å¯¼å¸ˆ</li>
<li>ç¼–å†™ä»¿çœŸæ•°æ®ç”Ÿæˆæ¨¡å—ï¼Œé€šè¿‡åŒæ—¶æ‰§è¡Œ6ä¸ªMATLABè¿›ç¨‹ï¼Œå¹¶æ§åˆ¶CPUæ ¸å¿ƒçš„ä½¿ç”¨åœ¨ä¸€å¤©ä¹‹å†…ä»¿çœŸå¾—åˆ°äº†ä¹‹å‰è¦è·‘ä¸€å‘¨ä»¿çœŸæ‰èƒ½å¾—åˆ°çš„2.6Gçš„æ•°æ®</li>
<li>é‡æ–°ç¼–å†™å¯å¤ç”¨æ˜“å¤ç”¨çš„MATLABè¯»å–ä»¿çœŸæ•°æ®å¹¶ç”Ÿæˆæ•°æ®é›†çš„ä»£ç æ›¿æ¢æ‰ä¹‹å‰çš„å¯è¯»æ€§å¤ç”¨æ€§å·®çš„ä»£ç </li>
<li>é…ç½®äº†å‘½ä»¤è¡Œä¸‹ç™¾åº¦äº‘é«˜é€Ÿä¸‹è½½å™¨æ–¹ä¾¿è¿œç¨‹ä¼ è¾“å¤§å‹æ•°æ®é›†</li>
<li>ä¿®å¤äº†Labå…¬ç”¨æœº1å·æœºWin10ç³»ç»Ÿçš„å¼€å§‹èœå•åŠå…¶ä»–ä¸€äº›ç³»ç»Ÿç»„ä»¶æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜</li>
<li>æ”¶é›†æ•´ç†ä»å…¥é—¨Pythonåˆ°æ·±åº¦å¼ºåŒ–å­¦ä¹ çš„å„ç§èµ„æºå¹¶åˆ¶ä½œæˆPDFä¸å­¦é•¿ä»¬åˆ†äº«</li>
</ol>
<p>å¦å¤–ï¼Œæœ€è¿‘è¿˜å…»æˆäº†æ¯å¤©ç»ƒä¹ è‹±è¯­å£è¯­å’Œæ³•è¯­çš„ä¹ æƒ¯ï¼Œå¸Œæœ›å¯ä»¥ä¸€ç›´åšæŒä¸‹å»ã€‚è‹±è¯­å£è¯­ä¸€ç›´æ˜¯æˆ‘çš„ç¡¬ä¼¤ï¼Œè™½è¯´èƒ½å¤Ÿä½¿ç”¨è‹±è¯­å’Œå¯¼å¸ˆè¿›è¡Œä¸€äº›åŸºæœ¬çš„å­¦æœ¯äº¤æµï¼Œä½†æ˜¯è‡ªçŸ¥è¹©è„šçš„å£è¯­è¿Ÿæ—©ä¼šæˆä¸ºå‰è¿›è·¯ä¸Šçš„ä¸€å—ç»Šè„šçŸ³ï¼Œåº”è¯¥å°½æ—©é™¤æ‰ã€‚ä¸‹ä¸ªæœˆå¯èƒ½è¿˜ä¼šè€ƒä¸€æ¬¡GREï¼Œå¸Œæœ›æœ€è¿‘èƒ½å¤šæŠ½å‡ºäº›æ—¶é—´æŠŠä¹‹å‰æ²¡æœ‰èƒŒå®Œçš„å•è¯ç»™èƒŒå®Œï¼Œå¼ºåŒ–ä¸€ä¸‹verbaléƒ¨åˆ†å§ã€‚</p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬ä¸ƒå‘¨</title>
    <url>/2018/09/04/emc-lab-note-7w/</url>
    <content><![CDATA[<p>æ‹¨äº‘è§æ—¥çš„ä¸€å‘¨ã€‚</p>
<p>åƒæ·˜ä¸‡æ¼‰è™½è¾›è‹¦ï¼Œå¹å°½ç‹‚æ²™å§‹åˆ°é‡‘ã€‚ç»è¿‡è¿‘ä¸€ä¸ªæœˆçš„é’»ç ”ä¸æ‰“ç£¨ï¼Œé€šè¿‡æ·±åº¦å­¦ä¹ æ–¹æ³•è§£æ³Šæ¾æ–¹ç¨‹çš„ä»»åŠ¡ç»ˆäºç»“å‡ºäº†ç¿˜é¦–ä»¥ç›¼çš„æˆæœã€‚åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘è¿ç”¨äº†æ·±åº¦å­¦ä¹ çš„æ–¹æ³•ï¼Œå°†äºŒæç®¡å†…éƒ¨å¾®è§‚è¿ç»­ä»¿çœŸä¸­çš„ä¼ ç»Ÿè¿­ä»£å¼æ³Šæ¾æ–¹ç¨‹æ±‚è§£å™¨ç”¨æ·±åº¦å­¦ä¹ çš„æ–¹æ³•è¿›è¡Œäº†æ›¿æ¢ã€‚åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œç†è®ºæ–¹é¢å€¼å¾—ä¸€æçš„å‡ ç‚¹æ˜¯è¾¹ç•Œæ¡ä»¶çš„ç²¾ç¡®æ‹Ÿåˆã€é¿å…è¿ç»­ä»¿çœŸä¸­çš„ç´¯è®¡è¯¯å·®ä»¥åŠä½œä¸ºç»“æœçš„I-V Curveçš„ç²¾ç¡®æ‹Ÿåˆï¼›è€Œåœ¨æŠ€æœ¯æ–¹é¢ï¼Œæˆ‘ä¹Ÿæ›´è¿›ä¸€æ­¥å¼„æ¸…æ¥šäº†MATLABä¸Pythonçš„è”åˆç¼–ç¨‹æ–¹æ³•ã€Pythonå¤šçº¿ç¨‹ç¼–ç¨‹çš„æ–¹æ³•ã€Pythoné€šè¿‡Flaskæ­å»ºæä¾›æ·±åº¦å­¦ä¹ æœåŠ¡çš„æœåŠ¡ç«¯çš„æ–¹æ³•ã€Pytorchå¤šGPUå¹¶è¡Œè®¡ç®—çš„æ–¹æ³•ç­‰ï¼Œå¯è°“æ˜¯æ”¶è·é¢‡ä¸°ã€‚è€Œå½“æœ€ç»ˆç»“æœå’Œä¼ ç»Ÿæ–¹æ³•å¾—å‡ºçš„ç»“æœå–å¾—äº†å‡ ä¹å®Œå…¨ä¸€è‡´çš„è§£æ³•æ—¶ï¼Œå¿ƒä¸­çš„æ¿€åŠ¨ä¹‹æƒ…æ˜¯çš„ç¡®éš¾ä»¥æŠ‘åˆ¶çš„ã€‚</p>
<span id="more"></span>
<p>å¦å¤–ä¸€ä»¶ä»¤æˆ‘å°è±¡æ·±åˆ»çš„äº‹æ˜¯åœ¨å­¦é•¿ä»¬çš„å¸®åŠ©ä¸‹ä¿®è®¢ç»„ä¼šPPTã€‚è™½ç„¶æˆ‘ä¹Ÿå¾ˆä¹ æƒ¯äºåšPPTï¼Œä½†æ˜¯æœ‰è®¸å¤šç†å¿µæ€§çš„é—®é¢˜ä¾ç„¶å­˜åœ¨ç€ä¸è¶³ä¹‹å¤„ã€‚æ¯”å¦‚æˆ‘ä»¬åº”è¯¥ç«™åœ¨å¬ä¼—çš„è§’åº¦è®²è§£è‡ªå·±åšå‡ºçš„é¡¹ç›®ï¼Œè¦è®²æ˜ç™½è‡ªå·±é¡¹ç›®çš„åŸå› å’Œèµ·æºï¼›ä¹Ÿè¦ç‚¹æ˜ä¹‹å‰åˆ«äººåšè¿‡çš„ç±»ä¼¼çš„é¡¹ç›®å’Œè‡ªå·±é¡¹ç›®çš„ä¸åŒä¹‹å¤„ï¼Œä»¥åŠè‡ªå·±é¡¹ç›®çš„â€œäº®ç‚¹â€åœ¨å“ªé‡Œã€‚å½“ç„¶ï¼Œèƒ½ç”¨å›¾ç‰‡è§£é‡Šçš„é¡¹ç›®åŸç†éƒ½å°½é‡ä½¿ç”¨æµç¨‹å›¾è§£é‡Šï¼Œè€Œéå¤§æ®µæ–‡å­—â€¦â€¦ è¿™äº›ç»†èŠ‚éƒ½è®©äººæ„Ÿåˆ°ä¸€è‚¡ä¸“ä¸šæ„Ÿå’Œå¯¹å¬ä¼—çš„å°Šé‡ã€‚æœ€åå°±æ˜¯å½“è‹±æ–‡è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰æ—¶æå‰é¢„è®²ä¸€éæ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºè¿™æ ·èƒ½å¤Ÿå…ˆè¸©ä¸€éæœ¬åº”è¸©åˆ°çš„é›·ï¼Œä¹Ÿä¼šä½¿ä½ çš„æ¼”è®²è¿‡ç¨‹æ›´åŠ è¿è´¯ã€‚</p>
<p>ä¸‹å‘¨æˆ‘çš„mentorå°†ä¼šæœ‰ä¸€åœºåšå£«çš„Qualifyè€ƒè¯•ï¼Œè€Œæˆ‘ä¹Ÿå°†åœ¨ä»–ç»™å‡ºçš„æŒ‡å¯¼çš„åŸºç¡€ä¸Šå°†å‰æœŸçš„å·¥ä½œåšæ•´ç†æˆè®ºæ–‡ï¼Œå¸Œæœ›å¯ä»¥é¡ºåˆ©è¿›è¡Œã€‚åœ¨å½“å‰é¡¹ç›®çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥ä¼˜åŒ–é¡¹ç›®ï¼Œè·‘å‡ºæ›´å¤šæ•°æ®ã€å­¦ä¹ å¼ºåŒ–å­¦ä¹ å°†æ˜¯ä¹‹åçš„ç›®æ ‡ã€‚</p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬å…«å‘¨</title>
    <url>/2018/09/08/emc-lab-note-8w/</url>
    <content><![CDATA[<p>æ–‡ | å¼ ä¸­æ´‹</p>
<p>ç¹å¤ç¼ ç»•è€Œç²¾å½©çº·å‘ˆçš„ä¸€å‘¨ã€‚</p>
<p>ä¸Šä¸ªå‘¨å…­ï¼Œåœ¨å¼ å²­å­¦é•¿çƒ­å¿ƒè€Œç»†å¿ƒçš„å¸®åŠ©ä¸‹ï¼Œæˆ‘ä»¬å®Œæˆäº†è®ºæ–‡çš„å¤§çº²éƒ¨åˆ†ï¼Œä¹‹åä¾¿æ­£å¼å¼€å§‹äº†è®ºæ–‡çš„æ’°å†™ã€‚ä¸‡äº‹å¼€å¤´éš¾ï¼Œä¸€å¼€å§‹æˆ‘æƒ³æŒ‰ç…§æ™®é€šçš„è®ºæ–‡è¡Œæ–‡çš„é¡ºåºå†™ï¼Œå³å…ˆå†™èƒŒæ™¯ä»‹ç»Introductionéƒ¨åˆ†ï¼Œç„¶è€Œå‚è€ƒå…¶ä»–è®ºæ–‡æˆ‘å‘ç°å…¶ä¸­æ¶‰åŠåˆ°äº†å¤§é‡çš„å¼•ç”¨æ–‡çŒ®ï¼Œè€Œè¿™è®©æˆ‘æ„Ÿè§‰æœ‰ç‚¹éš¾ä»¥ä¸‹ç¬”ã€‚æ²¡æœ‰è°ƒæŸ¥å°±æ²¡æœ‰å‘è¨€æƒï¼Œçš„ç¡®æ˜¯è¿™æ ·ï¼Œç”±äºæ²¡æœ‰ç»è¿‡è¶³å¤Ÿçš„æ–‡çŒ®è°ƒæŸ¥ï¼Œæ‰€ä»¥å¾ˆéš¾å‘å‰æ¨è¿›ã€‚</p>
<span id="more"></span>
<p>å‘å­¦é•¿è¯·æ•™ä¹‹åï¼Œä»–å‘Šè¯‰æˆ‘å…ˆæŠŠåŸç†ã€å®éªŒè¿‡ç¨‹ã€ç»“æœéƒ¨åˆ†å†™å®Œï¼Œä¹‹åå†è¿›è¡Œç³»ç»Ÿçš„ç›¸å…³æ–‡çŒ®è°ƒæŸ¥ï¼Œå®ŒæˆIntroductionéƒ¨åˆ†ä¹Ÿè®¸æ˜¯æ›´ä¸ºæ˜æ™ºçš„é€‰æ‹©ã€‚æŒ‰ç…§è¿™ä¸ªæ€è·¯å¼€å§‹å†™ä¹‹åï¼Œä¹‹åçš„è¿‡ç¨‹å°±å˜å¾—å®¹æ˜“äº†èµ·æ¥ï¼Œè¿™äº›è‡ªå·±å·²ç»å¾ˆç†Ÿæ‚‰çš„åŸç†ç»“æœç­‰å¾ˆå¿«å°†æ–‡ç« çš„ä¸»é¢˜æ¶æ„æ”¯æ’‘äº†èµ·æ¥ï¼Œå†å°†æ ¼å¼äºˆä»¥æ•´ç†åï¼Œæ•´ç¯‡æ–‡ç« çš„æ¡†æ¶å·²ç»ç•¥æ˜¾å……å®ã€‚å¸Œæœ›ä¸‹å‘¨èƒ½å¤Ÿå°½å¿«å°†ä»‹ç»ä»¥åŠå¼•ç”¨éƒ¨åˆ†å®Œæˆï¼Œå¹¶å’Œå­¦é•¿ä¸€åŒå°†åˆç¨¿åšå‡ºæ¥äº¤äºˆå¯¼å¸ˆä¿®æ”¹ã€‚</p>
<p>æœ¬å‘¨å¦å¤–ä¸€ä»¶å¤§äº‹æ˜¯å®Œæˆäº†æ•°å­—å›¾åƒå¤„ç†çš„è¯¾ç¨‹è®¾è®¡ä»»åŠ¡ã€‚è™½ç„¶åœ¨æ ¡æœŸé—´å·²ç»å®Œæˆäº†æ•°æ®æ”¶é›†ä»¥åŠé€šè¿‡animationå›¾åƒå¯¹cosplayè¿›è¡Œæ‰“åˆ†çš„å¤§éƒ¨åˆ†ä»»åŠ¡ï¼Œä½†æ˜¯å‡ºæ¥çš„æ•ˆæœä¸€ç›´ä¸å¤Ÿç†æƒ³ï¼Œè€Œä¸”ç”¨åˆ°çš„åŸç†ä¹Ÿä¸å¤Ÿæ–°é¢–å’Œå‡ºè‰²ã€‚æ°å·§ä¸Šå‘¨æˆ‘å¯¹å¯¹æŠ—ç”Ÿæˆç½‘ç»œGANæœ‰äº†ä¸€ä¸ªåˆæ­¥çš„äº†è§£å¹¶ç ”ç©¶äº†ä¸€éƒ¨åˆ†ä»£ç ï¼Œæˆ‘ä¾¿è½¬å˜äº†æ€è·¯å†³å®šæŠŠé¡¹ç›®ä¸»é¢˜æ”¹ç”±ç”¨åŠ¨æ¼«å›¾ç‰‡ç”Ÿæˆcosplayå›¾ç‰‡ã€‚ä»»åŠ¡åˆšå¼€å§‹å¯è°“æ˜¯è¿›è¡Œçš„å¾ˆé¡ºåˆ©ï¼Œç”±äºå¯¹æ¡†æ¶å’Œæ¨¡å‹å·²ç»æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œåªç”¨äº†ä¸€å¤©çš„æ—¶é—´å°±æ­å¥½äº†èƒ½å¤Ÿè¿è¡Œè®­ç»ƒå’Œæµ‹è¯•çš„æ·±åº¦å­¦ä¹ ç¨‹åºï¼Œä½†é—®é¢˜æ˜¯è®­ç»ƒçš„æ•ˆæœä¸€ç›´æ— æ³•å¾—åˆ°æœ‰æ•ˆçš„ä¿éšœï¼Œè€Œä¸”å¯¹äºè®­ç»ƒæ•°æ®çš„å¢å¼ºæ–¹é¢ä¹Ÿå’Œä¹‹å‰åšè¿‡çš„åˆ†ç±»ç½‘ç»œå·®åˆ«å¾ˆå¤§ï¼Œç”±äºä½¿ç”¨äº†éšæœºæ—‹è½¬ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡è®­ç»ƒå‡ºæ¥çš„å›¾åƒæ€»æ˜¯æœ‰ç§æ‰­æ›²çš„æ„Ÿè§‰ã€‚ä¹‹åç»è¿‡å¯¹æ•´ä¸ªæ•°æ®å¤„ç†æµç¨‹çš„ä¼˜åŒ–å’Œç½‘ç»œçš„æ”¹é€ ï¼Œç»ˆäºå¾—å‡ºäº†è¿˜ä¸é”™çš„è®­ç»ƒç»“æœâ€”â€”å·²ç»å¯ä»¥ç”±åŠ¨æ¼«å›¾ç‰‡ç”Ÿæˆcosplayå›¾ç‰‡å•¦ï¼è™½ç„¶å—é™äºæœºå™¨è¿ç®—é€Ÿåº¦ç­‰é—®é¢˜è®­ç»ƒè½®æ•°ä¾æ—§ä¸è¶³ï¼Œå›¾åƒä¾æ—§æœ‰ç€å¤šå°‘çš„æ¨¡ç³Šï¼Œä½†æ˜¯ç”Ÿæˆçš„å›¾åƒå·²ç»å¯ä»¥å¤§è‡´åˆ†è¾¨å‡ºæ¥äººç‰©äº†ã€‚ç¬¬ä¸€æ¬¡åšGANï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆæœ‰è¶£çš„ã€‚</p>
<figure>
<img src="/2018/09/08/emc-lab-note-8w/006tNc79ly1fvawrm7yk5j31841tg45o.jpg" alt="Work Flow"><figcaption aria-hidden="true">Work Flow</figcaption>
</figure>
<p>ä¸‹å‘¨æ¥å‚åŠ æœ¬æ¬¡æš‘æœŸå®ä¹ çš„æµ™å¤§åŒå­¦ä»¬å°±è¦å›å›½äº†ï¼Œæƒ³æ¥çš„ç¡®ååˆ†ä¸èˆè¿™æ®µå…±åº¦çš„ç¾å¥½æ—¶å…‰ï¼Œä¹Ÿå¸Œæœ›ä»–ä»¬èƒ½ä¸€è·¯å¹³å®‰ï¼Œé¡ºåˆ©å›å›½ç»§ç»­å­¦ä¸šã€‚æˆ‘ä»¬çš„æ—¥ç¨‹ä¹Ÿå·²è¿‡å¤§åŠï¼Œåªæœ‰ä¸€ä¸ªæœˆå°±è¦å½’å›½äº†ï¼Œä¸ç”±æ„Ÿå¹æ—¶å…‰ä¹‹æ˜“é€ï¼Œæ›´è¦å……å®çš„åº¦è¿‡ä½™ä¸‹çš„æ—¶å…‰ã€‚</p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæš‘ç ” ç¬¬ä¹å‘¨</title>
    <url>/2018/09/15/emc-lab-note-9w/</url>
    <content><![CDATA[<p>æ–‡ | å¼ ä¸­æ´‹</p>
<p>ç”±ç¹å…¥ç®€çš„ä¸€å‘¨ã€‚</p>
<p>æœ¬å‘¨çš„ä¸»è¦ä»»åŠ¡æ˜¯æ„å»ºåŸºäºå¼ºåŒ–å­¦ä¹ ç®—æ³•Policy Gradientçš„é’ˆå¯¹Toy Problemçš„å¥å£®ä»£ç ä»¥åŠä¹‹å‰é¡¹ç›®è®ºæ–‡çš„ç»§ç»­ã€‚ä¸‹ä¸€ä¸ªä»»åŠ¡å°†æ˜¯åŸºäºå¼ºåŒ–å­¦ä¹ çš„PCBæ¿è¿‡å­”åŠç”µå®¹çš„æ•°ç›®ã€ä½ç½®ã€å¤§å°ç­‰å‚æ•°çš„ä¼˜åŒ–ï¼Œæˆ‘å’Œå¼ å²­å­¦é•¿å‡†å¤‡é¦–å…ˆé‡‡ç”¨Policy Gradientç®—æ³•å¯¹ä¸€äº›ç®€å•å‡½æ•°å†™ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œä»¥ç¡®ä¿åç»­ç ”ç©¶çš„å¯è¡Œæ€§ã€‚ç”±äºä¹‹å‰å·²ç»æœ‰äº†å¤§é‡çš„ç›¸å…³ç¼–ç¨‹ç»éªŒï¼Œæ•´ä¸ªè¿‡ç¨‹ä¹Ÿè¿›è¡Œçš„ååˆ†å¹³ç¨³è€Œé¡ºåˆ©ï¼Œç›®å‰å·²ç»åŸºæœ¬å®Œæˆäº†æ‰€æœ‰çš„ä»£ç æ¡†æ¶æ„å»ºå·¥ä½œå¹¶å¾—åˆ°äº†ä¸€éƒ¨åˆ†â€œå¯äººâ€çš„æµ‹è¯•ç»“æœã€‚å…¶å®ä¹‹å‰å¹¶æ²¡æœ‰æ­£å¼æ¥å—è¿‡æ·±åº¦å¼ºåŒ–å­¦ä¹ çš„é¡¹ç›®ï¼Œæ‰€ä»¥ä»å­¦ä¹ åŸºç¡€ç†è®ºçŸ¥è¯†åˆ°äº²è‡ªåŠ¨æ‰‹å®è·µï¼Œç”šè‡³åšå‡ºç›¸å½“çš„ä¼˜åŒ–çš„è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯ååˆ†ä»¤äººäº«å—çš„ã€‚å…¶ä¸­ä¹Ÿå‘ç°äº†æ·±åº¦å¼ºåŒ–å­¦ä¹ å’Œä¼ ç»Ÿæ·±åº¦å­¦ä¹ çš„ä¸€äº›æå¤§ä¸åŒä¹‹å¤„ï¼Œå¦‚scoreå¹¶ä¸åƒæ·±åº¦å­¦ä¹ çš„lossä¸€èˆ¬æ•´ä½“ä¸Šå››å¹³å…«ç¨³çš„ä¸‹é™ï¼Œè€Œæ˜¯åƒæ˜¯æœ‰ç€å‘¨æœŸæ€§ä¸Šå‡ä¸‹é™è§„å¾‹çš„æ³¢å½¢ä¸€èˆ¬èµ·ä¼ä¸å®šï¼›åˆå¦‚æ¨¡å‹çš„è®¾è®¡æœ¬èº«ä¸æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†äº†ï¼Œè€Œå¯¹äºrewardè¿™ä¸ªæ–°çš„å˜é‡çš„å®šä¹‰å’Œæ•´ä½“â€œç­–ç•¥â€çš„åˆ¶å®šæ›´åŠ é‡è¦ã€‚</p>
<span id="more"></span>
<figure>
<img src="/2018/09/15/emc-lab-note-9w/006tNc79ly1fvawo5ni4uj31kw0pvdm3.jpg" alt="image-20180915154540586"><figcaption aria-hidden="true">image-20180915154540586</figcaption>
</figure>
<figure>
<img src="/2018/09/15/emc-lab-note-9w/006tNc79ly1fvawo6zen0j30tm0qwafz.jpg" alt="image-20180915154628840"><figcaption aria-hidden="true">image-20180915154628840</figcaption>
</figure>
<p>å•è®ºç¼–ç¨‹æ–¹é¢ï¼Œæˆ‘çš„ä»£ç é£æ ¼ä»åˆšå¼€å§‹å…¥é—¨æœºå™¨å­¦ä¹ æ—¶çš„ç®€é™‹å’Œä¸å®Œå¤‡åˆ°ä¹‹å‰ä¸€æ®µæ—¶é—´çš„äº‹æ— å·¨ç»†ã€æåŠ›åšåˆ°ç¼œå¯†ä½†å´åˆå¤±ä¹‹ç®€çº¦å’Œæ˜“æ‡‚çš„ç‰¹æ€§ï¼Œå†åˆ°æœ€è¿‘çš„å±‚å±‚å°è£…ï¼Œå……åˆ†ä½¿ç”¨Pythonçš„å„ç§é«˜çº§ç‰¹æ€§ï¼Œåœ¨ä¿è¯äº†ç¼œå¯†æ€§å’Œå®Œå¤‡æ€§çš„åŒæ—¶æ¸æ¸åšåˆ°äº†æœ€å¤§ç¨‹åº¦çš„è§£è€¦åˆå’Œæ˜“è¯»æ€§ï¼Œè¿™äº›å˜åŒ–è®©æˆ‘æ„Ÿåˆ°ååˆ†å¼€å¿ƒã€‚æ˜¯å¯è°“ç”±ç®€å…¥ç¹æ˜“ï¼Œç”±ç¹å…¥ç®€éš¾ã€‚å¦‚æœè¯´â€œç”±ç®€å…¥ç¹â€æ˜¯è¾ƒä¸ºå•çº¯çš„ç»éªŒå’Œä»£ç ç§¯ç´¯ï¼Œé‚£ä¹ˆâ€œç”±ç¹å…¥ç®€â€åˆ™æ˜¯åœ¨å¯¹é«˜çº§ç”¨æ³•çš„ç†è§£çš„åŸºç¡€ä¸Šçš„å†æ¬¡è¿›åŒ–äº†ã€‚</p>
<p>æœ‰è¶£çš„æ˜¯æˆ‘å‘ç°Pytorchåœ¨ä»Šå¹´4æœˆæ›´æ–°ç‰ˆæœ¬ä¹‹åå¼•å…¥äº†è®¸å¤šæ–°çš„ç‰¹æ€§ï¼Œè¿™äº›æ–°ç‰¹æ€§æ— ç–‘å†æ¬¡æé«˜äº†å…¶æ˜“ç”¨ç¨‹åº¦ï¼Œåœ¨ä»£ç å¯¹å„ç§è®¾å¤‡çš„å…¼å®¹æ€§æ–¹é¢ä¹Ÿåšå‡ºäº†æ˜¾è‘—çš„æå‡ï¼Œå¸Œæœ›Pytorchå’ŒPythonèƒ½è¶Šæ¥è¶Šå¥½ï¼</p>
<p>è®ºæ–‡ä¹Ÿç»ˆäºè¿›å…¥äº†ä¿®æ”¹é˜¶æ®µï¼Œå¸Œæœ›ä¸‹å‘¨èƒ½ç»™å‡ºä¸€ç‰ˆåƒæ ·çš„ç¨¿å­äº¤ç”±è€å¸ˆä¿®æ”¹ã€‚</p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC LABå·¥ä½œæ—¥å¿— Day1</title>
    <url>/2018/07/29/emclab-day1/</url>
    <content><![CDATA[<h1 id="ganç½‘ç»œ">GANç½‘ç»œ</h1>
<ul>
<li>åŸºæœ¬æ¶æ„ï¼š</li>
</ul>
<figure>
<img src="/2018/07/29/emclab-day1/../../../å›¾ç‰‡/Markdown_Image_Temp/v2-61e1b1a6d1feb23a7d3c52966d11be08_hd.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li>å¦‚ä½•è®­ç»ƒGANç½‘ç»œï¼Ÿ</li>
</ul>
<figure>
<img src="/2018/07/29/emclab-day1/006tKfTcly1ft8wo4ne7uj30k00cajsu.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<ul>
<li>GANçš„ä¼˜ç‚¹ï¼š</li>
</ul>
<span id="more"></span>
<blockquote>
<ol type="1">
<li>ä»å®é™…ç»“æœæ¥çœ‹,GANçœ‹èµ·æ¥èƒ½äº§ç”Ÿæ›´å¥½çš„ç”Ÿæˆæ ·æœ¬</li>
<li>GANæ¡†æ¶å¯ä»¥è®­ç»ƒä»»ä½•ç”Ÿæˆç½‘ç»œ(ç†è®ºä¸Šï¼Œç„¶è€Œåœ¨å®è·µä¸­,å¾ˆéš¾ä½¿ç”¨å¢å¼ºå­¦ä¹ å»è®­ç»ƒæœ‰ç¦»æ•£è¾“å‡ºçš„ç”Ÿæˆå™¨),å¤§å¤šæ•°å…¶ä»–æ¶æ„éœ€è¦ç”Ÿæˆå™¨æœ‰ä¸€äº›ç‰¹å®šçš„å‡½æ•°å½¢å¼,å°±åƒè¾“å‡ºå±‚å¿…é¡»æ˜¯é«˜æ–¯åŒ–çš„. å¦å¤–æ‰€æœ‰å…¶ä»–æ¡†æ¶éœ€è¦ç”Ÿæˆå™¨æ•´ä¸ªéƒ½æ˜¯éé›¶æƒå€¼(put non-zero mass everywhere),ç„¶è€Œ,GANså¯ä»¥å­¦ä¹ åˆ°ä¸€ä¸ªåªåœ¨é è¿‘çœŸå®æ•°æ®çš„åœ°æ–¹(ç¥ç»ç½‘ç»œå±‚)äº§ç”Ÿæ ·æœ¬ç‚¹çš„æ¨¡å‹( GANs can learn models that generate points only on a thin manifold that goes near the data.)</li>
<li>æ²¡æœ‰å¿…è¦éµå¾ªä»»ä½•ç§ç±»çš„å› å­åˆ†è§£å»è®¾è®¡æ¨¡å‹,æ‰€æœ‰çš„ç”Ÿæˆå™¨å’Œé‰´åˆ«å™¨éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œ</li>
<li>ç›¸æ¯”PixelRNN, GANç”Ÿæˆé‡‡æ ·çš„è¿è¡Œæ—¶é—´æ›´çŸ­,GANsä¸€æ¬¡äº§ç”Ÿä¸€ä¸ªæ ·æœ¬,ç„¶è€ŒPixelRNNséœ€è¦ä¸€ä¸ªåƒç´ ä¸€ä¸ªåƒç´ çš„å»äº§ç”Ÿæ ·æœ¬;</li>
<li>ç›¸æ¯”VAE, GANsæ²¡æœ‰å˜åˆ†ä¸‹ç•Œ,å¦‚æœé‰´åˆ«å™¨è®­ç»ƒè‰¯å¥½,é‚£ä¹ˆç”Ÿæˆå™¨å¯ä»¥å®Œç¾çš„å­¦ä¹ åˆ°è®­ç»ƒæ ·æœ¬çš„åˆ†å¸ƒ.æ¢å¥è¯è¯´,GANsæ˜¯æ¸è¿›ä¸€è‡´çš„,ä½†æ˜¯VAEæ˜¯æœ‰åå·®çš„</li>
<li>ç›¸æ¯”æ·±åº¦ç»å°”å…¹æ›¼æœº, GANsæ²¡æœ‰å˜åˆ†ä¸‹ç•Œ,ä¹Ÿæ²¡æœ‰æ£˜æ‰‹çš„é…åˆ†å‡½æ•°,æ ·æœ¬æ˜¯ä¸€æ¬¡ç”Ÿæˆçš„,è€Œä¸æ˜¯é‡å¤çš„åº”ç”¨é©¬å°”ç§‘å¤«é“¾æ¥ç”Ÿæˆçš„</li>
<li>ç›¸æ¯”GSNs, GANsäº§ç”Ÿçš„æ ·æœ¬æ˜¯ä¸€æ¬¡ç”Ÿæˆçš„,è€Œä¸æ˜¯é‡å¤çš„åº”ç”¨é©¬å°”ç§‘å¤«é“¾æ¥ç”Ÿæˆçš„;</li>
<li>ç›¸æ¯”NICEå’ŒReal NVE,GANsæ²¡æœ‰å¯¹æ½œåœ¨å˜é‡(ç”Ÿæˆå™¨çš„è¾“å…¥å€¼)çš„å¤§å°è¿›è¡Œé™åˆ¶;</li>
</ol>
</blockquote>
<h1 id="ç»å°”å…¹æ›¼æœº">ç»å°”å…¹æ›¼æœº</h1>
<ul>
<li>ç»å°”å…¹æ›¼æœºçš„å®šä¹‰ï¼š</li>
</ul>
<blockquote>
<p>ç»å°”å…¹æ›¼æœº(Boltzmann Machine)å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªéšæœºåŠ¨åŠ›ç³»ç»Ÿ(Stochas- tic Dynamical System)ï¼Œæ¯ä¸ªå˜é‡çš„çŠ¶æ€éƒ½ä»¥ä¸€å®šçš„æ¦‚ç‡å—åˆ°å…¶å®ƒå˜é‡çš„å½± å“ã€‚ç»å°”å…¹æ›¼æœºå¯ä»¥ç”¨æ¦‚ç‡æ— å‘å›¾æ¨¡å‹æ¥æè¿°ã€‚</p>
</blockquote>
<ul>
<li>ç»å°”å…¹æ›¼æœºçš„ç‰¹ç‚¹</li>
</ul>
<figure>
<img src="/2018/07/29/emclab-day1/../../../å›¾ç‰‡/Markdown_Image_Temp/image-20180713160524512.png" alt="image-20180713160524512"><figcaption aria-hidden="true">image-20180713160524512</figcaption>
</figure>
<ul>
<li>å—é™ç»å°”å…¹æ›¼æœºï¼š</li>
</ul>
<figure>
<img src="/2018/07/29/emclab-day1/../../../å›¾ç‰‡/Markdown_Image_Temp/image-20180713160614434.png" alt="image-20180713160614434"><figcaption aria-hidden="true">image-20180713160614434</figcaption>
</figure>
<ul>
<li>ç»å°”å…¹æ›¼æœºä¸å—é™ç»å°”å…¹æ›¼æœºçš„åŒºåˆ«ï¼šæ˜¯å¦æ˜¯å…¨è¿æ¥çš„ã€‚å‰è€…æ˜¯æ‰€æœ‰èŠ‚ç‚¹å…¨è¿æ¥ï¼Œåè€…åªè¦æ±‚ä¸åŒå±‚ä¹‹é—´çš„èŠ‚ç‚¹ä¸å¦ä¸€å±‚ä¸­æ‰€æœ‰èŠ‚ç‚¹è¿æ¥ã€‚</li>
<li>ç»å°”å…¹æ›¼æœºå¯ä»¥è§£å†³çš„é—®é¢˜ï¼š</li>
</ul>
<blockquote>
<ol type="1">
<li>æœç´¢é—®é¢˜ã€‚å½“ç»™å®šå˜é‡ä¹‹é—´çš„ è¿æ¥æƒé‡ï¼Œéœ€è¦æ‰¾åˆ°ä¸€ç»„äºŒå€¼å‘é‡ï¼Œä½¿å¾—æ•´ä¸ªç½‘ç»œçš„èƒ½é‡æœ€ä½ã€‚</li>
<li>å­¦ä¹ é—®é¢˜ã€‚å½“ç»™ä¸€ç»„å®šéƒ¨åˆ†å˜é‡çš„è§‚æµ‹å€¼æ—¶ï¼Œè®¡ç®—ä¸€ç»„æœ€ä¼˜çš„æƒé‡ã€‚</li>
</ol>
</blockquote>
<h1 id="æ·±åº¦ä¿¡å¿µç½‘ç»œ">æ·±åº¦ä¿¡å¿µç½‘ç»œ</h1>
<ul>
<li><p>å®šä¹‰ï¼šæ·±åº¦ä¿¡å¿µç½‘ç»œ(Deep Belief Networkï¼ŒDBN)æ˜¯ä¸€ç§æ·±å±‚çš„æ¦‚ç‡æœ‰å‘å›¾æ¨¡ å‹ï¼Œå…¶å›¾ç»“æ„ç”±å¤šå±‚çš„èŠ‚ç‚¹æ„æˆã€‚æ¯å±‚èŠ‚ç‚¹çš„å†…éƒ¨æ²¡æœ‰è¿æ¥ï¼Œç›¸é‚»ä¸¤å±‚çš„èŠ‚ç‚¹ ä¹‹é—´ä¸ºå…¨è¿æ¥ã€‚ç½‘ç»œçš„æœ€åº•å±‚ä¸ºå¯è§‚æµ‹å˜é‡ï¼Œå…¶å®ƒå±‚èŠ‚ç‚¹éƒ½ä¸ºéšå˜é‡ã€‚æœ€é¡¶éƒ¨ çš„ä¸¤å±‚é—´çš„è¿æ¥æ˜¯æ— å‘çš„ï¼Œå…¶ä»–å±‚ä¹‹é—´çš„è¿æ¥æ˜¯æœ‰å‘çš„ã€‚</p>
<figure>
<img src="/2018/07/29/emclab-day1/../../../å›¾ç‰‡/Markdown_Image_Temp/image-20180713162115387.png" alt="image-20180713162115387"><figcaption aria-hidden="true">image-20180713162115387</figcaption>
</figure></li>
<li><p>è®­ç»ƒæ–¹å¼ï¼šåœ¨é¢„è®­ç»ƒé˜¶æ®µï¼Œé‡‡ç”¨é€å±‚è®­ç»ƒçš„æ–¹å¼ï¼Œå°†æ·±åº¦ä¿¡å¿µç½‘ç»œçš„è®­ç»ƒç®€åŒ–ä¸ºå¯¹å¤šä¸ªå—é™ç»å°”å…¹æ›¼æœºçš„è®­ç»ƒã€‚</p></li>
</ul>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>GAN</tag>
        <tag>Missouri U of S&amp;T</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Šæµæµªåœ°çƒã€‹å½±è¯„</title>
    <url>/2019/07/06/film-review-the-wandering-earth/</url>
    <content><![CDATA[<p>çœ‹å®Œç”µå½±ï¼Œæ·±è§‰ã€Šæµæµªåœ°çƒã€‹å®ä¸ºä¸€éƒ¨å¡«è¡¥äº†å›½å†…ç”µå½±ç§‘å¹»ã€å°¤å…¶æ˜¯ç¡¬ç§‘å¹»æ¿å—é•¿æœŸç©ºç¼ºçš„ç”µå½±ï¼Œåº”è¯¥ç§°ä¹‹ä¸ºâ€œèµ·ç‚¹â€è€Œéå•çº¯çš„â€œé‡Œç¨‹ç¢‘â€ã€‚å¯¹äºè¿™æ ·ä¸€ä¸ªæ–°ç”Ÿå„¿ï¼Œé¼“åŠ±è¿˜æ˜¯åº”è¯¥å¤§äºæ‰¹è¯„çš„ï¼Œä¸ªäººè€Œè¨€ä¹Ÿç¡®å®å¸Œæœ›å…¶èƒ½å¾—åˆ°ä¸€ä¸ªä¸é”™çš„ç¥¨æˆ¿ï¼Œä»è€Œæ›´å¥½çš„æ”¯æŒè¿™ä¸ªåˆšåˆšèµ·æ­¥çš„èˆªæ¯ï¼è™½è¯´å‰§æœ¬è¿›è¡Œäº†è¾ƒå¤§çš„æ”¹ç¼–ï¼Œç”šè‡³å¯ä»¥è¯´åªæ˜¯å€Ÿç”¨äº†åŸä½œçš„å£³å­ï¼Œä½†æ•´ä½“çš„æ„Ÿè§‰æ˜¯å¯ä»¥æ¥å—çš„ï¼Œæ¯•ç«Ÿç”¨ä¸€éƒ¨ç”µå½±çš„æ—¶é—´ç”¨æ¥åˆ»ç”»ä¸€ä¸ªé•¿æ—¶é—´çº¿ä¸Šçš„æ¢å¼˜æ•…äº‹å¾ˆå®¹æ˜“é€ æˆçºµæ·±ä¸å¤Ÿçš„é—®é¢˜ï¼Œå¾ˆå¤šåœºæ™¯ä¹Ÿç¡®å®ä¸å¤ªå¥½æ‹å‡ºã€‚é€‰æ‹©åœ¨è¿™æ ·ä¸€ä¸ªèƒŒæ™¯ä¸‹çš„ä¸€ä¸ªå…³é”®èŠ‚ç‚¹ï¼Œæè¿°ä¸€ä¸ªåœ¨å¤§æ—¶ä»£ä¸­å°äººç‰©çš„æ€è€ƒã€é€‰æ‹©ä¸ç»“æœè¿˜æ˜¯è¾ƒä¸ºç°å®å’Œæœ‰è¡¨ç°åŠ›çš„ã€‚ç‰¹æ•ˆæ–¹é¢å¾ˆæ˜æ˜¾æ˜¯ä¸‹åŠŸå¤«äº†çš„ï¼Œä¸ªäººæ„Ÿè§‰å¹¶æ²¡æœ‰å–§å®¾å¤ºä¸»ï¼Œè€Œæ˜¯è¾ƒä¸ºåˆé€‚çš„èµ·åˆ°äº†æ¸²æŸ“æ°”æ°›çš„ä½œç”¨ï¼Œçªå‡ºäº†æœ«ä¸–è‹å‡‰çš„å¤§èƒŒæ™¯ï¼Œå°¤å…¶æ˜¯ä¸€äº›ä»å¾®è§‚æ¸æ¸æ‹‰ä¼¸åˆ°è¿œæ™¯çš„é•œå¤´åšçš„å¾ˆç²¾å½©ï¼Œå€¼å¾—å……åˆ†è‚¯å®šã€‚åšä¸ºä¸€ä¸ªä¸œæ–¹ç§‘å¹»ç”µå½±ï¼Œä¹Ÿè¾ƒä¸ºåˆé€‚çš„åšåˆ°äº†åŒºåˆ†åŒ–ï¼Œæ²¡æœ‰ç›²ç›®ç…§æ¬ç±»ä¼¼çš„ç¾å›½ç§‘å¹»ï¼Œè€Œæ˜¯å°†ç€åŠ›ç‚¹æ”¾åˆ°äº†ä¸­å›½å¼çš„å¯¹å®¶åº­ã€æ•…åœŸã€æ€å¿µçš„æ‰§ç€ä¸Šï¼Œå¾ˆèµï¼</p>
<span id="more"></span>
<p>ä½†é—®é¢˜ä¹Ÿæ˜¯å­˜åœ¨çš„ï¼šé¦–å…ˆä¹Ÿæ­£æ˜¯åœ¨ä¸Šä¸ªç‚¹ä¸Šæœ‰ç”¨åŠ›ç¨å¾®è¿‡çŒ›çš„æ„Ÿè§‰ï¼Œä¸€å®šç¨‹åº¦ä¸Šå½±å“åˆ°äº†å‰§æƒ…çš„åˆç†æ€§ï¼›å¦å¤–å‰§ä¸­äººç‰©å…³é”®æ—¶åˆ»æ„Ÿæƒ…åŒ–å› ç´ æ¯”è¾ƒå¤šï¼ˆè¿™ä¸ªä¸å¥½è¯´æ˜¯å¥½æ˜¯åï¼Œä¸ªäººè§‰å¾—å¯¹ä¸¥è°¨æ€§æœ‰ä¼¤ï¼Œä½†æ˜¯å‰§æƒ…ç¡®å®éœ€è¦ä¸å¤šè¯´äº†ï¼‰ï¼Œç”·ä¸»å’Œå…¶çˆ¸çˆ¸å­˜åœ¨éš”é˜‚çš„åŸå› ä¹Ÿæœ‰æ ·æ¿åŒ–ä¹‹å«Œï¼Œæ²¡æœ‰å¾ˆå¥½çš„è¡¨ç°å‡ºæ¥ã€‚å…¶æ¬¡æ˜¯ä¸€äº›ç§‘å¹»ç‰‡ä¸­å¸¸å‡ºç°çš„æ¼æ´é—®é¢˜ï¼Œå¦‚æ²¡å¤‡ä»½ç›´æ¥è¢«ä¸€ç“¶é…’çƒ§äº†çš„äººå·¥æ™ºèƒ½ï¼ˆè¿™â€¦â€¦ï¼‰ã€è§„åˆ’æ··ä¹±çš„åœ°ä¸‹åŸã€â€œä¾¿åˆ©â€çš„èº«ä»½ç®¡ç†ç³»ç»Ÿã€ä»¥åŠä½œä¸ºä¸€ä¸ªåä½™å¹´ç»éªŒçš„å®‡èˆªå‘˜è¢«å…³åˆ°å†¬çœ ç®±æƒ³å‡ºå»æ—¶å€™ä¸æ˜¯è¿…é€ŸæŒ‰ç…§ç´§æ€¥æ–¹æ¡ˆæ‰“å¼€ç®±å­ï¼ˆåˆ«å‘Šè¯‰æˆ‘å°±æ˜¯è¿›å»å°±å‡ºä¸æ¥äº†ï¼‰ï¼Œè€Œæ˜¯ä¸€é¡¿æš´åŠ›ä¹±é”¤ğŸ˜‚ï¼Œç«Ÿç„¶è¿˜çœŸçš„ç»™é”¤å¼€äº†ï¼ˆæƒŠäº†ï¼‰ç­‰ï¼Œè¿˜æœ‰ä¸€ä¸ªåˆšè¢«å‰¥å¤ºäº†å…¨éƒ¨æƒé™çš„äººè¿›å…¥â€œç¥åœ£çš„â€ä¸»æ§å®¤ç«Ÿç„¶ç•…é€šæ— é˜»ï¼ˆè‡³å°‘è¦ç»™è£…ä¸ªè¿›å…¥æƒé™ç®¡ç†å§ï¼‰ï¼Œè¿˜èƒ½è¿›å»ä¸€é¡¿æ“ä½œï¼ˆå½“æ—¶å°±æ€•ä¸»è§’è¿›å»ç›´æ¥ç ¸ä¸»æ§å®¤â€¦â€¦æ²¡æƒ³åˆ°æ˜¯å…ˆç ¸æ‘„åƒå¤´å†æŠŠAIçƒ§äº†ï¼‰ï¼Œæœ€åè”åˆå›½ç»™çš„å›å¤ç«Ÿç„¶åŠ å…¥äº†â€œä½œä¸ºä¸ªäººâ€çš„è€ƒé‡ï¼Œå˜›å•Šè¿™ç§è®¾å®šç¡®å®æ˜¯å‰§æƒ…éœ€è¦å¯ä»¥ç†è§£ï¼Œä½†æ˜¯æ€»è§‰å¾—ä½œä¸ºå…³é”®ç¯èŠ‚è®¾å®šæœ‰ç‚¹å°éšæ„äº†ã€‚è¿˜æœ‰å°±æ˜¯äººç‰©çš„è®¾å®šéƒ¨åˆ†æœ‰ç‚¹ä¹±ï¼ˆæˆ–è€…æ˜¯æˆ‘æ²¡çœ‹æ˜ç™½ï¼‰ï¼Œéƒ¨åˆ†äººç‰©çš„æ€§æ ¼æ²¡æœ‰è¡¨ç°å¥½ï¼Œæ¯”å¦‚å¦¹å¦¹æ•´ä¸ªè¿‡ç¨‹ä¸­ä½œç”¨æœ‰é™ï¼Œè€Œä¸”ä½œä¸ºä¸ºæ•°ä¸å¤šè¿›è¡Œæè¿°çš„å¥³æ€§å†™çš„å®åœ¨æœ‰ç‚¹å¼±äº†ï¼Œæ„ä¹‰ä¼¼ä¹åªæ˜¯è¢«æ•‘å’Œåé¢çš„å‘¼å”¤å¤§å®¶å¸®åŠ©ã€‚è€Œä¸”å‘¼å”¤å¸®åŠ©éƒ¨åˆ†æœ‰ç‚¹æ„ä¹‰ä¸æ˜ï¼Œå¤§å®¶çš„ä½œç”¨å¥½åƒä»…é™äºäººæµ·æ¨â€œé’ˆâ€éƒ¨åˆ†ï¼Œä½†è¿™ä¸ªéƒ¨åˆ†æœ¬èº«æœ‰ç‚¹æ„ä¹‰ä¸æ˜ï¼Œç”šè‡³æ˜¯ä¸ºäº†æŠŠè¿™æ³¢äººç”¨ä¸Šæ‰è¿›è¡Œçš„è®¾å®šçš„æ„Ÿè§‰ï¼ˆå˜›å•Šè™½ç„¶çœ‹çš„æ—¶å€™è¿˜æ˜¯çœŸé¦™çš„è¢«æ„ŸåŠ¨åˆ°äº†hhhï¼‰ã€‚è¿˜æœ‰é‚£ä¸ªç¨‹åºå‘˜å‰åäººç‰©æ€§æ ¼æ³¢åŠ¨å‰§çƒˆï¼Œä¸å¤ªçœ‹å¾—é€å…·ä½“æƒ³åˆ»ç”»ä¸€ä¸ªä»€ä¹ˆæ ·çš„äººç‰©ï¼Œä»¥åŠå…¶å®ƒé˜Ÿå‘˜ç”šè‡³æ˜¯çˆ·çˆ·çš„äººç‰©å½¢è±¡éƒ½ä¸å¤Ÿä¸°æ»¡ï¼Œæœ‰ç§ä¸ºäº†é‡ä¼¤å’Œæ­»äº¡è€Œå­˜åœ¨çš„é¾™å¥—æ„Ÿï¼Œè¿™é‡Œå…¶å®å¯ä»¥åšå¾—æ›´å¥½äº›ã€‚</p>
<p>æ€»ä½“ä¸Šæ¥è¯´ï¼Œè™½ç„¶æœ‰ä¸€äº›å°é—®é¢˜ï¼Œä½†å¹¶ä¸ç¢å…¶æˆä¸ºä¸­å›½ç§‘å¹»ç”µå½±â€œèµ·ç‚¹â€å’Œå…¶ç¡®ä¸ºä¸€ç”¨å¿ƒè‰¯ä½œè¿™ä¸€äº‹å®ã€‚æ”¯æŒï¼Œé¼“åŠ±ï¼Œä½†åŒæ—¶ä¹ŸæŒ‡å‡ºå…¶å¯ä»¥æ”¹è¿›ä¹‹å¤„ï¼Œå¸Œæœ›ä¸­å›½ç§‘å¹»ç”µå½±ä»¥æ­¤ä¸ºå§‹ã€æ›´è¿›ä¸€æ­¥ã€è¶Šæ¥è¶Šå¥½ï¼ï¼ï¼</p>
]]></content>
      <tags>
        <tag>film-review</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€å¦‚ä½•è·å¾—ç²¾ç¡®æ—¶é—´</title>
    <url>/2018/08/01/get-pre-time/</url>
    <content><![CDATA[<h1 id="cè¯­è¨€å¦‚ä½•è·å¾—ç²¾ç¡®æ—¶é—´">Cè¯­è¨€å¦‚ä½•è·å¾—ç²¾ç¡®æ—¶é—´</h1>
<h2 id="ç²¾ç¡®åˆ°ç§’">ç²¾ç¡®åˆ°ç§’</h2>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;  </span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">time_t</span> t_start, t_end;</span><br><span class="line">    t_start = time(<span class="literal">NULL</span>) ;</span><br><span class="line">    sleep(<span class="number">3000</span>);</span><br><span class="line">    t_end = time(<span class="literal">NULL</span>) ;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;time: %.0f s\n&quot;</span>, difftime(t_end,t_start)) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h2 id="ç²¾ç¡®åˆ°å¾®ç§’">ç²¾ç¡®åˆ°å¾®ç§’</h2>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/timeb.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getSystemTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">timeb</span> <span class="title">t</span>;</span></span><br><span class="line">    ftime(&amp;t);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1000</span> * t.time + t.millitm;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> start=getSystemTime();</span><br><span class="line">    sleep(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> end=getSystemTime();</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;time: %lld ms\n&quot;</span>, end-start);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>c</tag>
        <tag>time</tag>
      </tags>
  </entry>
  <entry>
    <title>å°è¯•ä½¿ç”¨ Hexo åšå®¢</title>
    <url>/2018/03/07/first-post/</url>
    <content><![CDATA[<p>æœ¬æ¬¡è¯•éªŒä½¿ç”¨Hexoéƒ¨ç½²ä¸€ä¸ªä¸ªäººåšå®¢ç³»ç»Ÿï¼Œæ€»ç»“å‡ ç‚¹ï¼š</p>
<ol>
<li>Hexoæ˜¯è¦å®‰è£…åœ¨æœ¬åœ°çš„ï¼ŒæœåŠ¡å™¨ç«¯å®‰è£…çš„æ˜¯NginxæœåŠ¡å™¨</li>
<li>NginxæœåŠ¡å™¨çš„ä¸»ç›®å½•ä¸‹é¢çš„<code>/etc/nginx/nginx.conf.default</code> å’Œ<code>etc/nginx/nginx.conf</code>ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œä»¥åè€…ä¸ºä¸»ï¼Œä¿®æ”¹é…ç½®ä¹Ÿæ˜¯åœ¨åè€…é‡Œé¢ä¿®æ”¹çš„ï¼Œæ”¹å‰é¢çš„æ–‡ä»¶æ²¡ç”¨</li>
<li>æ›´æ¢ä¸»é¢˜æ—¶è¦å…ˆåœ¨æœ¬åœ°è¿›è¡Œ<code>hexo clean ; hexo genarate</code>æ“ä½œå†<code>hexo deploy</code>æ‰ä¼šç”Ÿæ•ˆ</li>
<li>å¯ä»¥é€šè¿‡<code>hexo s â€”debug</code>åœ¨æœ¬åœ°æµ‹è¯•è¿è¡ŒæœåŠ¡å™¨</li>
<li>å¯ä»¥é€šè¿‡ä¿®æ”¹æœ¬åœ°ä¸»ç›®å½•ä¸‹çš„<code>_config.yml</code>æ–‡ä»¶æ¥ç¡®ä¿å¿…é¡»å…ˆå†™è‰ç¨¿å†è¿›è¡Œå‘å¸ƒã€‚æ–°å»ºæ–‡ç« çš„æ–¹å¼ä¸º<code>hexo new first-post</code>ï¼Œå‘å¸ƒæ–¹å¼ä¸º<code>hexo publish name_of_file</code></li>
<li>æ›´æ¢ä¸»é¢˜åï¼Œè¦å…ˆè¿›å…¥ä¸»é¢˜çš„ä¸»ç›®å½•ä¸‹ï¼Œè¾“å…¥<code>npm install</code>å‘½ä»¤åä¼šè‡ªåŠ¨å®‰è£…æ‰€æœ‰éœ€è¦çš„åŒ…</li>
</ol>
]]></content>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Quick Tutorial on how to find e-books, movies and musics</title>
    <url>/2018/12/12/get-resource/</url>
    <content><![CDATA[<h2 id="download-a-chrome-or-use-your-safari">1. Download a chrome, or use your safari</h2>
<ul>
<li>If you donâ€™t have a chrome, <a href="https://www.google.com/chrome/">install</a> it!</li>
<li>This tutorial is based on chrome, you can do almost the same on safari.</li>
</ul>
<span id="more"></span>
<h2 id="add-tampermonkey-on-chrome-webapp">2. Add TamperMonkey on Chrome WebApp</h2>
<ul>
<li>Click <a href="https://chrome.google.com/webstore/category/extensions">This Link</a> to access chrome web app page, or simply click here:</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwgy1fxvw2cf5ktj31di0u0afi.jpg"></p>
<ul>
<li>Search <strong>TamperMonkey</strong> in the search box which located at the left top corner of the page.</li>
<li>Click <strong>Add to Chrome</strong> button on the right on the div.</li>
<li>Wait until the installation finished, during the process some verification is needed.</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwly1fxvw6lcz9tj32760l8q51.jpg"></p>
<ul>
<li>After installation, you can see this icon showing on your tab bar.</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwgy1fxvwcf8s9dj327y0qq773.jpg"></p>
<ul>
<li>Click this icon, and go into the script searching page by clicking <strong>â€œGet new scriptsâ€</strong> button.</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwgy1fxvwemi0bqj30ai0ggaa8.jpg"></p>
<ul>
<li>Then you will be in this page, choose to visit <strong>â€œGreasyForkâ€</strong> Website.</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwgy1fxvwfoidyyj31d80u042t.jpg"></p>
<ul>
<li>Search â€œè±†ç“£èµ„æºå¤§å¸ˆâ€ in the searching box.</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwgy1fxvwhys9xcj31da0u078u.jpg"></p>
<ul>
<li>Visit the next page shown.</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwly1fxvwiu64hxj32700pg423.jpg"></p>
<ul>
<li>Click â€œInstall this scriptâ€ button to install this script.</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwgy1fxvwkir266j31260u00x2.jpg"></p>
<ul>
<li>Ok, the installation stage is finished, you can start download resources!</li>
</ul>
<h2 id="browse-httpdouban.com-to-search-and-download-your-resource">3. Browse http://douban.com/ to search and download your resource!</h2>
<ul>
<li>For example, you want to get a book associated with <strong>machine learning</strong>, you just need to search it in douban books.</li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwly1fxvwomvv7aj30u00xhadu.jpg"></p>
<ul>
<li><p>Then, if you want to download the machine learning book with flowers on its cover :), click it and go into the item page. Notice, the scrip installed just now uses multi-thread and is memory-consuming, so your browser may be stuck there for a little while, thatâ€™s normal and donâ€™t shut down the tab!</p></li>
<li><p>Then you will notice that on the right of the page, you can see resources from any website. The script will detect whether the resource exists, and display the result in different color. Light blue ones mean that you can find resources by visiting this link, while yellow ones tell you that this certain resource doesn't exist here. And these websites are classified, so if you have a certain preference, just follow the label and you will get what you want!</p></li>
</ul>
<p><img src="/2018/12/12/get-resource/006tNbRwgy1fxvwvabpr4j30ws0u0105.jpg"></p>
<h2 id="also-you-can-search-for-movies-and-music-in-the-same-way">4. Also, you can search for movies and music in the same way!</h2>
]]></content>
      <tags>
        <tag>tech</tag>
        <tag>tool</tag>
      </tags>
  </entry>
  <entry>
    <title>How to make a good paper presentation Slides</title>
    <url>/2018/10/27/good-ppt/</url>
    <content><![CDATA[<ol type="1">
<li><p>å¤šæ’å›¾ï¼Œä¸‰å¼ å›¾å¾€å¾€å¯ä»¥è¡¨è¾¾æ¸…æ¥šä¸€ç¯‡æ–‡ç« çš„åŸºæœ¬æ€è·¯ã€‚å¦‚æœéœ€è¦å±•ç¤ºç»“æœï¼Œå¦å¤–åŠ å›¾æˆ–æ˜¯è¡¨æ ¼ã€‚</p></li>
<li><p>é¦–é¡µå¹²å‡€æ•´æ´ï¼Œæ ‡é¢˜è¦å¤§è€Œæ¸…æ™°ï¼ŒåŒæ—¶è¦æœ‰ä½œè€…ï¼Œæ¼”è®²è€…åå­—ï¼Œå¯èƒ½çš„è¯æ·»åŠ æœºæ„å›¾æ ‡ã€‚</p></li>
<li><p>æ•´ä¸ªPPTé…è‰²è¦ç»Ÿä¸€ï¼Œæœ€å¥½ä½¿ç”¨æœºæ„æ ‡å¿—è‰²ã€‚å¦‚å­¦æ ¡å›¾æ ‡ä½¿ç”¨çš„æ·±çº¢è‰²ï¼Œé‚£è¿™é‡Œä¹Ÿå¯ä»¥ç”¨æ·±çº¢ä½œä¸ºæ·±è‰²ã€å¼ºè°ƒè‰²ã€‚</p></li>
<li><p>ä¸­è‹±æ–‡ç»Ÿä¸€ã€‚å¦‚æœä½¿ç”¨ä¸­æ–‡é‚£ä¹ˆç»Ÿä¸€ä½¿ç”¨ä¸­æ–‡ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
<span id="more"></span></li>
<li><p>å¦‚æœæ”¾ä¸€å¼ è¾ƒä¸ºå¤æ‚çš„å›¾ï¼Œè¦ç”¨çº¢é»„åœˆåœˆç®­å¤´æŠŠé‡è¦éƒ¨åˆ†ã€éœ€è¦å…³æ³¨çš„ç‚¹æ ‡è®°å‡ºæ¥ï¼ŒåŒæ—¶æ—è¾¹å¯ä»¥åŠ ä¸€äº›æ³¨é‡Šã€‚</p></li>
<li><p>Backgroundé¡µé¢æœ€å¥½æœ‰ä¸€ä¸ªæ¦‚è¿°å›¾ï¼Œè€Œéåªæœ‰æ–‡å­—ï¼Œä»¥æœŸå¸®åŠ©è§‚ä¼—ç†è§£ã€‚</p></li>
<li><p>èƒ½ç”»å›¾è¯´æ˜çš„é—®é¢˜ä¸è¦æ”¾å¤§æ®µæ–‡å­—ã€‚</p></li>
<li><p>å¦‚æœæœ‰å¾ˆå¤šç»“æœï¼Œè¯·é€‰æ‹©éƒ¨åˆ†æœ€ç»ˆè¦çš„ç»“æœï¼Œè€Œéå…¨éƒ¨æˆªå–ï¼Œâ€œä¼¤å…¶åæŒ‡ä¸å¦‚æ–­å…¶ä¸€æŒ‡â€ã€‚åŒç†ï¼Œè®ºæ–‡æœ¬èº«å†…å®¹è¾ƒå¤šï¼Œå†…å®¹é€‰å–æ–¹é¢ä¹Ÿè¦åšåˆ°ç²¾é€‰ï¼Œè€Œéå…¨æ”¾ã€‚</p></li>
<li><p>è¦ä¸»åŠ¨å‘ç°è®ºæ–‡çš„ç¼ºç‚¹å’Œä¸è¶³ä¹‹å¤„åœ¨å“ªé‡Œï¼Œåªæœ‰æ˜ç¡®äº†å…¶å±€é™ï¼Œæ‰èƒ½åšå‡ºè¶…è¶Šå…¶æœ¬èº«çš„æˆæœï¼Œå³åˆ›æ–°ã€‚</p></li>
<li><p>ç»“å°¾è¦æœ‰Q&amp;Aä»¥åŠThanksé¡µé¢ã€‚</p></li>
</ol>
]]></content>
      <tags>
        <tag>ppt</tag>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title>â€œHi thereâ€ ã® â€œthereâ€ ã£ã¦ä½•ï¼Ÿ</title>
    <url>/2018/03/08/hi-there/</url>
    <content><![CDATA[<h1 id="hi-there-ã®-there-ã£ã¦ä½•">â€œHi thereâ€ ã® â€œthereâ€ ã£ã¦ä½•ï¼Ÿ</h1>
<p>â€œHi thereâ€ ã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’è€³ã«ã—ãŸã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ</p>
<p>ç§ã¯ãƒ‹ãƒ¥ãƒ¼ã‚¸ãƒ¼ãƒ©ãƒ³ãƒ‰ã«æ¥ã¦ã‹ã‚‰åˆã‚ã¦çŸ¥ã£ãŸã®ã§ã™ãŒã€ãŠåº—ã‚„ã‚«ãƒ•ã‚§ãªã©ã§ã¯åº—å“¡ã•ã‚“ã« â€œHi there!â€ ã¨å£°ã‚’ã‹ã‘ã‚‰ã‚Œã‚‹ã“ã¨ãŒã¨ã£ã¦ã‚‚å¤šã„ã‚“ã§ã™ã€‚</p>
<p>ãªãœã“ã‚“ãªã¨ã“ã‚ã« â€œthereâ€ ãŒå‡ºã¦ãã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿã“ã® â€œthereâ€ ã£ã¦ã©ã‚“ãªæ„å‘³ãªã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<span id="more"></span>
<h2 id="è¬ã®æŒ¨æ‹¶-hi-there">è¬ã®æŒ¨æ‹¶ â€œHi thereâ€</h2>
<p>â€œHi thereâ€ ã¯ â€œHiâ€ ãŒã¤ã„ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã‚‚æƒ³åƒã§ãã‚‹ã¨æ€ã„ã¾ã™ãŒã€æŒ¨æ‹¶ã®1ã¤ã§ã™ã€‚ ãƒˆãƒ¼ãƒ³ã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒã€ãŸã„ã¦ã¯ã¨ã£ã¦ã‚‚ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªæ„Ÿã˜ã§ã€åº—å“¡ã•ã‚“ã‹ã‚‰ã‚ˆãè€³ã«ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ã“ã‚“ãªãµã†ã§ã™ã€‚</p>
<p>ã‚«ãƒ•ã‚§ã®ãƒ¬ã‚¸ã§æ³¨æ–‡ã®é †ç•ªå¾…ã¡ã‚’ã—ã¦ã„ã¦ã€ã¤ã„ã«è‡ªåˆ†ã®ç•ªã«ãªã£ãŸã‚‰ãƒ¬ã‚¸ã®åº—å“¡ã•ã‚“ã‹ã‚‰ã€</p>
<ul>
<li>Hi there. What would you like?</li>
</ul>
<p>ã¨è¨€ã‚ã‚ŒãŸã‚Šã—ã¾ã™ã€‚ ã¾ãŸã€æ´‹æœå±‹ã•ã‚“ã«å…¥ã£ã¦å•†å“ã‚’è¦‹ã¦ã‚¦ãƒ­ã‚¦ãƒ­ã—ã¦ã„ã‚‹ã¨ã€åº—å“¡ã•ã‚“ãŒå¯„ã£ã¦ãã¦ã€</p>
<ul>
<li>Hi there. Do you need any help at all?</li>
<li>Hi there. <a href="https://kiwi-english.net/23950">Are you alright?</a></li>
</ul>
<p>ã®ã‚ˆã†ã«å£°ã‚’ã‹ã‘ã‚‰ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
<h4 id="ã‚¹ãƒãƒ³ã‚µãƒ¼ãƒªãƒ³ã‚¯">ã‚¹ãƒãƒ³ã‚µãƒ¼ãƒªãƒ³ã‚¯</h4>
<p>ã„ãšã‚Œã«ã—ã¦ã‚‚ã€â€Hiâ€ ã‚„ â€œHelloâ€ ã®ä»£ã‚ã‚Šã« â€œHi thereâ€ã€â€Hello thereâ€ ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã ã‘ã§ã€å¤§ã—ãŸæ„å‘³ã®é•ã„ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ã§ã¯ã€ãªãœ â€œthereâ€ ãŒç™»å ´ã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
<h2 id="there-ã¯ãã“ã§ã¯ãªã„">â€œthereâ€ ã¯ã€Œãã“ã€ã§ã¯ãªã„</h2>
<p>â€œthereâ€ ã«ã¯ã€Œãã“ï¼ˆã«ã€ã§ï¼‰ã€ã¨ã„ã†æ„å‘³ãŒã‚ã‚Šã¾ã™ã‚ˆã­ã€‚</p>
<p>ãªã®ã§ã€ç§ã¯æœ€åˆã¯ â€œHi thereï¼Hi ãã“ã®ã‚ãªãŸâ€ ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã®ã‹ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€å®Ÿã¯ã¡ã‚‡ã£ã¨é•ã†ã‚“ã§ã™ã€‚</p>
<p>ã“ã® â€œthereâ€ ã¯ã€ã“ã‚“ãªæ„å‘³ã§ä½¿ã‚ã‚Œã¦ã„ã¾ã™â†“</p>
<blockquote>
<ul>
<li>used to attract somebodyâ€™s attentionï¼ˆ<a href="https://kiwi-english.net/14950">ã‚ªãƒƒã‚¯ã‚¹ãƒ•ã‚©ãƒ¼ãƒ‰ç¾ä»£è‹±è‹±è¾å…¸</a>ï¼‰</li>
<li>used as an indefinite substitute for a nameï¼ˆ<a href="https://www.merriam-webster.com/dictionary/there">Merriam-Webster Dictionary</a>ï¼‰</li>
</ul>
</blockquote>
<p>ã“ã® â€œthereâ€ ã«ç‰¹ã«æ„å‘³ã¯ãªãã€ç›¸æ‰‹ã®æ³¨æ„ã‚’å¼•ããŸã‚ã®å‘¼ã³ã‹ã‘ã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚“ã§ã™ã­ã€‚â€Hi thereï¼ã‚„ãâ€ ãã‚‰ã„ã®æ„Ÿã˜ã§ã—ã‚‡ã†ã‹ã€‚</p>
<p>ãã—ã¦ã€èˆˆå‘³æ·±ã„ã®ã¯2ã¤ç›®ã® â€œsubstitute for a nameâ€ ã¨ã„ã†è§£é‡ˆã§ã™ã€‚</p>
<h2 id="è‹±èªã§ã¯æŒ¨æ‹¶ã«ç›¸æ‰‹ã®åå‰ã‚’å…¥ã‚Œã‚‹ã“ã¨ãŒå¤šã„">è‹±èªã§ã¯æŒ¨æ‹¶ã«ç›¸æ‰‹ã®åå‰ã‚’å…¥ã‚Œã‚‹ã“ã¨ãŒå¤šã„</h2>
<p>ç§ã¯ã€â€substitute for a nameâ€ ã¨ã„ã†è§£é‡ˆã‚’è¦‹ãŸæ™‚ã«ã€ã¨ã¦ã‚‚ã—ã£ãã‚ŠããŸã®ã‚’è¦šãˆã¦ã„ã¾ã™ã€‚</p>
<p>ä¾‹ãˆã°ã€â€Hi Johnâ€ ã‚„ â€œHello Dianaâ€ ã¿ãŸã„ãªæ„Ÿã˜ã§ã™ã­ã€‚ç›¸æ‰‹ã®åå‰ã‚’çŸ¥ã£ã¦ã„ã‚‹å ´åˆã«ã¯ã€â€Hi/Helloâ€ ã®å¾Œã‚ã«ç›¸æ‰‹ã®åå‰ã‚’å…¥ã‚Œã¦æŒ¨æ‹¶ã™ã‚‹ã®ãŒæ™®é€šã§ã™ã€‚</p>
<p>ã§ã‚‚ã€åº—å“¡ã•ã‚“ã¯ã‚‚ã¡ã‚ã‚“ãŠå®¢ã•ã‚“1äºº1äººã®åå‰ã‚’çŸ¥ã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã“ã§ â€œHi thereâ€ ã‚„ â€œHello thereâ€ ã¨ã„ã†æŒ¨æ‹¶ã‚’ä½¿ã†ã“ã¨ãŒå¤šã„ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>
<p>â€œHi/Hello thereâ€ ã¯çŸ¥ã£ã¦ã„ã‚‹äººã«å¯¾ã—ã¦ã‚‚ä½¿ã†ã“ã¨ãŒã‚ã‚‹ãã†ã§ã™ãŒã€ç§ã¯ã“ã®ä½¿ã„æ–¹ã¯ã»ã¨ã‚“ã©è€³ã«ã—ãŸã“ã¨ãŒãªãã€åº—å“¡ã•ã‚“ãªã©ã®é¢è­˜ã®ãªã„äººã‹ã‚‰ã®ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªæŒ¨æ‹¶ã¨ã—ã¦è€³ã«ã™ã‚‹ã“ã¨ãŒåœ§å€’çš„ã«å¤šã„ã§ã™ã€‚</p>
<p>ãã—ã¦ã€ã“ã‚Œã¯ãƒ¡ãƒ¼ãƒ«ã§ã‚‚åŒã˜ã§ã€é¢è­˜ã®ãªã„äººã‹ã‚‰ã®ãƒ¡ãƒ¼ãƒ«ã‚„ãƒ¡ãƒ¼ãƒ«ãƒã‚¬ã‚¸ãƒ³ãªã©ã§ã¯ã€â€Hiâ€ ã‚„ â€œHelloâ€ ã®ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ï¼†ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªæŒ¨æ‹¶ã¨ã—ã¦ â€œHi thereâ€ ã¨ã„ã†æ›¸ãå‡ºã—ã‚’ã¨ã¦ã‚‚ã‚ˆãç›®ã«ã—ã¾ã™ã€‚</p>
<h2 id="there-ã«æ·±ã„æ„å‘³ã¯ãªã„">â€œthereâ€ ã«æ·±ã„æ„å‘³ã¯ãªã„</h2>
<p>â€œHi thereâ€ ã® â€œthereâ€ ã«ã¯ã€ç‰¹ã«æ·±ã„æ„å‘³ã¯ãªã„ã®ã§ã€Œâ€thereâ€ ã£ã¦ä½•ï¼Ÿã€ã¨æ‚©ã¾ãªãã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚</p>
<p>å˜ãªã‚‹ â€œHiâ€ ã‚„ â€œHelloâ€ ã¨æ„å‘³çš„ã«ã¯å¤‰ã‚ã‚‰ãªã„ã®ã§ã€â€Hi thereâ€ ã¨è¨€ã‚ã‚ŒãŸã‚‰ â€œHiâ€ ã‚„ â€œHelloâ€ ã§è¿”ã—ãŸã‚‰OKã€‚</p>
<p>ã“ã‚“ãª â€œthereâ€ ã®ä½¿ã„æ–¹ã‚‚ã‚ã‚‹ã‚“ã ãªãã¨ä½•ã‹ã®å‚è€ƒã«ã—ã¦ã‚‚ã‚‰ãˆã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚</p>
]]></content>
      <tags>
        <tag>learn-English</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨PythonæŠ¢æ•‘ä½ çš„Hexoåšå®¢å›¾åºŠé“¾æ¥åˆ°æœ¬åœ°</title>
    <url>/2019/10/02/hexo-image-migrator/</url>
    <content><![CDATA[<h2 id="é—®é¢˜èƒŒæ™¯">é—®é¢˜èƒŒæ™¯</h2>
<p>ç”±äºè¿‘æœŸå„å¤§å…è´¹å›¾åºŠçº·çº·åŠ å…¥äº†é˜²ç›—é“¾æœºåˆ¶ï¼ˆå¦‚æ–°æµªï¼‰å¹¶åœæ­¢å¯¹ä¸ªäººåšå®¢ç”¨çš„å›¾åºŠé“¾æ¥è¿›è¡Œè®¿é—®æˆæƒï¼Œåšå®¢ä¸Šçš„å›¾ç‰‡å‡ºç°äº†å¤§é¢ç§¯çš„æ— æ³•æ˜¾ç¤ºï¼ˆå¦‚æœ¬åšå®¢ï¼‰ï¼Œä¸¥é‡å½±å“äº†åšå®¢çš„æµè§ˆä½“éªŒã€‚ç„¶è€Œç°åœ¨ç›´æ¥ä½¿ç”¨æ–‡ä¸­é“¾æ¥å°šè¿˜å¯ä»¥å°†å›¾ç‰‡ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä½†è¿™ä¹Ÿå¹¶æ— æ³•å¾—åˆ°ä»»ä½•å®˜æ–¹ä¿éšœï¼Œæ‰€ä»¥å½“åŠ¡ä¹‹æ€¥æ˜¯æŠŠæ‰€æœ‰å›¾åºŠç…§ç‰‡ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç”¨hexoåŸç”Ÿçš„å›¾ç‰‡æ’å…¥æ ¼å¼è¿›è¡Œæ’å…¥ã€‚</p>
<p>è€Œåœ¨å…è´¹å›¾åºŠæ¸æ¸ä¸å†å¯ç”¨çš„ç°åœ¨ï¼Œå½“åŠ¡ä¹‹æ€¥å…¶å®å·²ç»ä¸æ˜¯å†æ¬¡æ›´æ¢å›¾åºŠï¼Œè€Œæ˜¯æŠŠè¿™äº›å›¾ç‰‡æŠ¢æ•‘åˆ°æœ¬åœ°ï¼Œå¹¶ç›´æ¥å°†åŸå›¾éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼›æˆ–æ˜¯è‡ªå·±æ­å»ºå›¾åºŠã€‚ä¸ºäº†èŠ‚çœæ—¶é—´å’Œæˆæœ¬ï¼Œæˆ‘è¿™é‡Œé‡‡ç”¨äº†ç›´æ¥å°†åŸå›¾éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šçš„æ“ä½œã€‚</p>
<span id="more"></span>
<h2 id="è¿™ä¸ªé—®é¢˜å¯ä»¥æ‹†è§£ä¸ºä»¥ä¸‹å‡ ç‚¹">è¿™ä¸ªé—®é¢˜å¯ä»¥æ‹†è§£ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</h2>
<ol type="1">
<li>åœ¨_postæ–‡ä»¶å¤¹ä¸­å»ºç«‹ä¸markdownæ–‡ä»¶åŒåæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾å›¾ç‰‡ã€‚</li>
<li>éå†æ–‡ä»¶å¤¹ä¸­æ–‡ä»¶å¹¶ç”¨æ­£åˆ™åŒ¹é…çš„æ–¹å¼åŒ¹é…å¾—åˆ°å¾…æ›¿æ¢çš„é“¾æ¥ã€‚</li>
<li>ä¸‹è½½æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶å¹¶å­˜å‚¨åˆ°ç›¸åº”ä½ç½®ã€‚</li>
<li>å°†åŸæ–‡ä»¶ä¸­çš„<code>![name](link)</code>æ›¿æ¢ä¸ºå¯åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºçš„è¯­å¥ã€‚</li>
</ol>
<p>äºæ˜¯æˆ‘ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨pythonå†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œä½¿å¾—ä¸Šé¢è¿™å‡ æ­¥å¯ä»¥è‡ªåŠ¨å®Œæˆã€‚ä¸‹é¢è´´ä¸Šä¸»è¦ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    names=os.listdir(root)</span><br><span class="line">    files=[i <span class="keyword">for</span> i <span class="keyword">in</span> names <span class="keyword">if</span> i.endswith(<span class="string">&#x27;.md&#x27;</span>) <span class="keyword">and</span> <span class="keyword">not</span> os.path.isdir(os.path.join(root, i)) <span class="keyword">and</span> <span class="keyword">not</span> i.startswith(<span class="string">&#x27;.&#x27;</span>)]</span><br><span class="line">    file_paths = [os.path.join(root, i) <span class="keyword">for</span> i <span class="keyword">in</span> files]</span><br><span class="line">    dirs=[i <span class="keyword">for</span> i <span class="keyword">in</span> names <span class="keyword">if</span> os.path.isdir(os.path.join(root, i)) <span class="keyword">and</span> <span class="keyword">not</span> i.startswith(<span class="string">&#x27;.&#x27;</span>)]</span><br><span class="line">    dir_paths = [os.path.join(root, i) <span class="keyword">for</span> i <span class="keyword">in</span> dirs]</span><br><span class="line">    print(files)</span><br><span class="line">    <span class="keyword">for</span> file_iter <span class="keyword">in</span> files:</span><br><span class="line">        name_temp = os.path.splitext(os.path.split(file_iter)[-<span class="number">1</span>])[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> name_temp <span class="keyword">not</span> <span class="keyword">in</span> dirs:</span><br><span class="line">            dir_temp = os.path.join(root, name_temp)</span><br><span class="line">            os.mkdir(dir_temp)</span><br><span class="line">        download(os.path.join(root,file_iter))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹æ¯ä¸ªæ–‡ä»¶ä¸­çš„é“¾æ¥åˆ†åˆ«è¿›è¡Œä¸‹è½½å’Œæ›¿æ¢é“¾æ¥å¤„ç†</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span>(<span class="params">file_path</span>):</span></span><br><span class="line">    print(<span class="string">&quot;==&gt; Now dealing with file:&quot;</span>, file_path)</span><br><span class="line">    dir_name = os.path.splitext(os.path.split(file_path)[-<span class="number">1</span>])[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># filename = &quot;test&quot;</span></span><br><span class="line">    name = file_path.split(<span class="string">u&quot;/&quot;</span>)</span><br><span class="line">    filename = name[-<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">with</span> codecs.<span class="built_in">open</span>(file_path, encoding=<span class="string">&quot;UTF-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        text = f.read()</span><br><span class="line">    <span class="comment"># regex</span></span><br><span class="line">    result = re.findall(<span class="string">&#x27;!\[(.*)\]\((.*)\)&#x27;</span>, text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, content <span class="keyword">in</span> <span class="built_in">enumerate</span>(result):</span><br><span class="line">        image_quote = content[<span class="number">0</span>]</span><br><span class="line">        image_url = content[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># download img</span></span><br><span class="line">            img_data = requests.get(image_url).content</span><br><span class="line">            <span class="comment"># img name spell</span></span><br><span class="line">            image_name = image_url.strip(<span class="string">&quot;/&quot;</span>).split(<span class="string">&quot;/&quot;</span>)[-<span class="number">1</span>]</span><br><span class="line">            image_path = os.path.join(root, dir_name, image_name)</span><br><span class="line">            print(<span class="string">&quot;==&gt;&quot;</span>, image_path, <span class="string">&#x27;~~~&#x27;</span>, image_url)</span><br><span class="line">            <span class="comment"># write to file</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(image_path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> handler:</span><br><span class="line">                handler.write(img_data)</span><br><span class="line"></span><br><span class="line">            text=text.replace(<span class="string">&quot;![&quot;</span>+image_quote+<span class="string">&quot;](&quot;</span>+image_url+<span class="string">&quot;)&quot;</span>, <span class="string">&quot;![&quot;</span>+image_quote+<span class="string">&quot;](&quot;</span>+image_name+<span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">with</span> codecs.<span class="built_in">open</span>(file_path, mode=<span class="string">&quot;w+&quot;</span>, encoding=<span class="string">&quot;UTF-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(text)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœ‰éœ€æ±‚ï¼Œæ¨èæŸ¥çœ‹æ›´åŠ è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œæ³¨æ„äº‹é¡¹ã€‚é¡¹ç›®åœ¨<a href="https://link.zhihu.com/?target=https%3A//github.com/miracleyoo/hexo-migrator">Github</a>ä¸Šï¼Œå¹¶é™„æœ‰step-by-stepçš„è¯´æ˜ï¼Œå³ä½¿æ²¡æœ‰ç¼–ç¨‹åŸºç¡€ä¹Ÿå¯ä»¥è½»æ˜“ä¸Šæ‰‹ã€‚</p>
<p>å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œæ¬¢è¿Staræ”¯æŒä¸€ä¸‹hhh~ :-)</p>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>tool</tag>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title>åå½©äººç”Ÿâ€”â€”åç§‘æ¨¡æ‹Ÿå™¨æ¸¸æˆä»‹ç»</title>
    <url>/2018/06/18/hua-cai-ren-sheng/</url>
    <content><![CDATA[<h1 id="åå½©äººç”Ÿåç§‘æ¨¡æ‹Ÿå™¨">åå½©äººç”Ÿâ€”â€”åç§‘æ¨¡æ‹Ÿå™¨</h1>
<p>åå½©äººç”Ÿ -- ä¸€æ¬¾ä¸ºåç§‘ï¼ˆåä¸­ç§‘æŠ€å¤§å­¦ï¼‰é‡èº«æ‰“é€ çš„æ¸¸æˆï¼›ä¸€æ¬¾åœ¨åç§‘è¿™ç‰‡ç¥å¥‡åœŸåœ°ä¸Šå±•å¼€çš„å¥‡å¹»RPGæ¸¸æˆï¼›ä¸€æ¬¾é«˜ä»¿çœŸçš„åç§‘æ¨¡æ‹Ÿå™¨ã€‚æƒ³è¦äº†è§£åç§‘çš„åŒå­¦è¯·åŠ¡å¿…æ¥ç©å“¦~ç›¸ä¿¡ä¸ä¼šè®©ä½ å¤±æœ›ï¼ å¼•æ“ï¼šRPGMaker MV</p>
<h3 id="å£°æ˜">å£°æ˜</h3>
<ul>
<li><p>æ¸¸æˆåœ¨çº¿ä½“éªŒè¯·èµ°è¿™é‡Œ<a href="https://miracleyoo.github.io/HCRS-Online/">åœ¨çº¿æ¸¸æˆ</a>æˆå“æ¸¸æˆä¸‹è½½è¯·ç§»æ­¥<a href="https://pan.baidu.com/s/1YMZMC7-RC8dQWvwbvfjTJQ">Windowsç‰ˆæœ¬</a>/<a href="https://github.com/miracleyoo/HCRS-Online/">Webç‰ˆæœ¬</a>ã€‚</p>
<span id="more"></span></li>
<li><p>è¯·æ³¨æ„ï¼Œå› ä¸ºæ¸¸æˆè¾ƒå¤§ï¼Œæ‰€ä»¥åœ¨çº¿ä½“éªŒæ—¶å¾ˆå¯èƒ½ä¼šå‡ºç°</p>
<ol type="1">
<li>â€œNow Loadingâ€æ—¶é—´è¾ƒé•¿</li>
<li>â€œFailed to load Game Fontâ€</li>
<li>â€œcannot read _actorCMData of nullâ€ç­‰é—®é¢˜ï¼Œè¯·ä¸è¦ç€æ€¥ï¼Œè¯·åœ¨ç½‘é€Ÿå¥½çš„åœ°æ–¹ç¨ç­‰ä¸€ä¼šå„¿ï¼Œé‡æ–°åŠ è½½ä¸€éå³å¯ã€‚</li>
</ol></li>
<li><p>å¦‚æœå‡ºç°â€œYour Browser does not support Web Audio APIâ€ï¼Œè¯·æ›´æ¢æµè§ˆå™¨ä½¿ç”¨ã€‚ï¼ˆSafariã€Chromeç­‰ä¸»æµæµè§ˆå™¨éƒ½æä¾›æ”¯æŒï¼‰</p></li>
<li><p>æœ¬æ¸¸æˆåˆ¶ä½œç»„ç»‡ä¸ºåä¸­ç§‘æŠ€å¤§å­¦Dianå›¢é˜Ÿ707å·¥ä½œç»„ï¼Œæ€»ç›‘åˆ¶ã€æ€»ç­–åˆ’ä¸º707ç»„ç»„é•¿å¼ ä¸­æ´‹ï¼ˆmiracleyooï¼‰ã€‚</p></li>
<li><p>æœ¬æ¸¸æˆçš„ç›®çš„æ˜¯å®£ä¼ åä¸­ç§‘æŠ€å¤§å­¦ï¼Œå¯ä»¥ä½¿ç©å®¶åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­ç†Ÿæ‚‰åç§‘çš„åœ°å›¾ï¼Œäº†è§£åç§‘åœ°æ ‡å»ºç­‘ç­‰ï¼›ä½†åŒæ—¶ï¼Œæœ¬æ¸¸æˆä¹Ÿå…¼å…·å¼ºå¤§çš„å¯ç©æ€§ï¼Œå¯ä¾›åœ¨æ ¡åŒå­¦ã€æ¯•ä¸šæ ¡å‹ã€ä»¥åŠæ‰€æœ‰å¯¹åç§‘æˆ–æ˜¯æœ¬ä½œå“æœ‰å…´è¶£çš„åŒå­¦äº«ç”¨ã€‚</p></li>
<li><p>æœ¬æ¸¸æˆä½¿ç”¨çš„æ¸¸æˆå¼•æ“ä¸ºRPGMaker MVï¼ŒåŒæ—¶å‚è€ƒäº†<strong>atelierrgss</strong>åˆ¶ä½œçš„éƒ¨åˆ†æ’ä»¶ï¼Œåœ¨æ­¤ä¸€å¹¶è¡¨ç¤ºæ„Ÿè°¢ã€‚</p></li>
<li><p>å‚ä¸æœ¬æ¬¡æ¸¸æˆåˆ¶ä½œçš„æˆå‘˜æœ‰Dianå›¢é˜Ÿé˜Ÿå‘˜ï¼š å¼ ä¸­æ´‹ã€ä¼ç€šç¼˜ã€æœ±æ™“å…‰ã€é»„æ¶›ã€å­™ç´«æª€ã€å¼ å­å­ºã€ç”°ç¥ºäº‘ã€‚å¯¹æ•´ä¸ªåˆ¶ä½œæµç¨‹ä¸­è¯¸ä½çš„è´¡çŒ®ä¸ä»˜å‡ºè‡´ä»¥è¯šæŒšçš„æ„Ÿè°¢ã€‚</p></li>
<li><p>å¼€å‘è€…åå•ç®€ä»‹<a href="https://www.bilibili.com/video/av25115108/">è§†é¢‘</a>ã€‚æ¸¸æˆå®£ä¼ <a href="https://www.bilibili.com/video/av25150711/">è§†é¢‘</a>ï¼ˆéœ‡æ’¼ï¼æ¨èï¼ï¼‰</p></li>
<li><p>å¦‚æœæ‚¨åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­å‘ç°bugæˆ–æœ‰æƒ³è¦æå‡ºçš„å»ºè®®ï¼Œè¯·ç›´æ¥æå‡ºissueæˆ–é‚®ä»¶è”ç³»æˆ‘ã€‚</p></li>
<li><p>å¦‚æœæ‚¨å‡†å¤‡åŸºäºæœ¬é¡¹ç›®è¿›è¡Œæ”¹ç¼–æˆ–æ˜¯å†å¼€å‘ï¼Œè¯·åŠ¡å¿…è”ç³»ä½œè€…å¼ ä¸­æ´‹(miracleyoo@163.com)ï¼Œå¹¶æ³¨æ˜å‡ºå¤„ã€‚</p></li>
</ul>
<h3 id="æ¸¸æˆç‰¹å¾">æ¸¸æˆç‰¹å¾</h3>
<ul>
<li>æ¸¸æˆç»“åˆäº†ä¼ ç»Ÿçš„æ–‡å­—ç±»æ¸¸æˆå’ŒRPGæ¸¸æˆçš„ä¼˜ç‚¹ï¼Œæ—¢æœ‰æ–‡å­—ç±»æ¸¸æˆå¼çš„å¼•å¯¼å’Œä»‹ç»ï¼Œåˆæœ‰RPGæ¸¸æˆå¼çš„å¹¿é˜”åœ°å›¾å¯ä¾›æ¢ç´¢ã€‚</li>
<li>æ¸¸æˆæœ‰å¤šè¾¾7æ¡æ”¯çº¿å¯ä¾›é€‰æ‹©ï¼Œæ¯ä¸€æ¡éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œæ—¢æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œåˆå„æœ‰ç‰¹è‰²ã€‚</li>
<li>æ¸¸æˆä¸»åœ°å›¾ä¸ºåç§‘æ‰‹ç»˜ç”»é£åœ°å›¾ï¼Œåªæ ‡æ³¨äº†ä¸»è¦å»ºç­‘ç‰©ï¼Œä¾¿äºç©å®¶ç†Ÿæ‚‰åœ°å›¾ã€‚</li>
<li>æ¸¸æˆä¸­æœ‰å¤§é‡å¯¹å»ºç­‘ç‰©å’Œæ¸¸æˆç©æ³•ç­‰è¿›è¡Œä»‹ç»çš„NPCï¼Œç›¸ä¿¡ä½ å¯ä»¥å¿«é€Ÿä¸Šæ‰‹ã€‚</li>
<li>æ¸¸æˆæ•´ä½“ç”»é£åå¯çˆ±ï¼ŒåŒæ—¶é…æœ‰æ”¾æ¾æ„‰æ‚¦çš„èƒŒæ™¯éŸ³ä¹ï¼Œæ¸¸æˆä½“éªŒè‰¯å¥½ã€‚</li>
<li>æ¸¸æˆæˆ˜æ–—éƒ¨åˆ†ä¸‹è¶³äº†åŠŸå¤«ï¼Œé‡‡ç”¨äº†åŠå›åˆåˆ¶æˆ˜æ–—æ¨¡å¼ï¼Œç´§å¼ åˆºæ¿€ï¼›åŒæ—¶ç•Œé¢å‹å¥½ï¼Œæ“ä½œç®€å•ï¼Œä½ å¯ä»¥å¾ˆå¿«ä¸Šæ‰‹æˆ˜æ–—å¹¶ä¸æ–­å–å¾—æˆå°±ã€‚</li>
<li>æ¸¸æˆçš„å¹³è¡¡æ€§ç»è¿‡äº†ä»”ç»†çš„è°ƒèŠ‚ï¼Œä½ å¯ä»¥åŠ¨ç”¨ä½ çš„æ™ºæ…§å‡»è´¥åŒçº§åˆ«ç”šè‡³ç¨é«˜çº§çš„æ€ªç‰©ï¼ŒåŒæ—¶ä¼šæœ‰éšæœºé“å…·æ‰è½ï¼Œä¾›ä½ åç»­æˆ˜æ–—ä¸­ä½¿ç”¨ã€‚</li>
<li>æ¸¸æˆä¸­è®¾ç½®å¾ˆå¤šå½©è›‹ä¾›ä½ æ¢ç´¢ï¼Œè¿™äº›å½©è›‹æ—¢æœ‰è¶£ï¼Œåˆä¼šæä¾›ç»™ä½ ä¸å°‘æœ‰è¶£çš„â€œåç§‘çŸ¥è¯†â€ã€‚</li>
<li>æ¸¸æˆè®¾æœ‰çœŸæ­£å¯æŠ•å…¥ä½¿ç”¨çš„åç§‘å…¨æ ¡è½¦ç³»ç»Ÿï¼Œç«™ç‚¹ä¾æ®å®é™…ç«™ç‚¹è®¾ç½®ã€‚</li>
<li>æ¸¸æˆä¸­çš„ç½‘å§å’ŒKTVéƒ½å¯ä»¥è¿›å…¥ã€‚å®é™…ä¸Šï¼Œéšç€ä½ å»ç½‘å§çš„æ¬¡æ•°è¶Šå¤šï¼Œä½ åƒé¸¡çš„æ°´å¹³ä¹Ÿä¼šè¶Šé«˜ï¼Œä½†åŒæ—¶ï¼Œä¼šæœ‰ä½ æ„æƒ³ä¸åˆ°å‘å±•å‡ºç°ã€‚</li>
<li>æ¸¸æˆä¸­æ ‡æœ‰åç§‘ä¸»è¦çš„ä¸€äº›é£Ÿå ‚ï¼Œå®ƒä»¬å¯ç”¨äºåŠ è“ï¼Œå¹¶ä¸”ä¼šéšæœºæ‰è½å…·æœ‰è¯¥é£Ÿå ‚ç‰¹è‰²çš„é“å…·ï¼›ä¸¤ä¸ªæ ¡åŒ»é™¢å¯ç”¨äºæˆ˜æ–—åå›å¤è¡€é‡ä½¿ç”¨ã€‚</li>
</ul>
<h3 id="æ¸¸æˆå®£ä¼ ">æ¸¸æˆå®£ä¼ </h3>
<p>ä½ çœ‹è¿‡ä»€ä¹ˆå½¢å¼çš„åç§‘å®£ä¼ ï¼Ÿæ–‡ç« ï¼ŸNONONOï¼Œå¤ªè¿‡æ¯ç‡¥ï¼›æµ·æŠ¥ï¼ŸNONONOï¼Œä¿¡æ¯å¤ªå°‘ï¼›çŸ­è§†é¢‘ï¼ŸNONONOï¼Œè®°ä¸ç‰¢é ã€‚ ä¸ºä½•æ— è®ºçœ‹äº†è¿™ä¹ˆå¤šå®£ä¼ ï¼Œä½ è¿˜æ˜¯ä¼šè¿·è·¯ï¼Ÿä¸ºä»€ä¹ˆéƒ½è¯´åç§‘é£Ÿå ‚å¥½åƒï¼Œä½ å´è¿˜æ˜¯æ»¡è„¸èŒ«ç„¶ï¼Ÿä¸ºä»€ä¹ˆåç§‘æ— è®ºæ˜¯ä½“è‚²è®¾æ–½è¿˜æ˜¯äººæ–‡ç¾æ™¯éƒ½è´¨é‡ä¸Šä¹˜ï¼Œä½ å´å¾ˆä¹…ä¸çŸ¥å…¶å­˜åœ¨ï¼Ÿ ç­”ï¼šæœ‰è¶£çš„å®£ä¼ å¤ªæŠ½è±¡ï¼Œæœ‰è´§çš„å®£ä¼ å¤ªæ— èŠï¼ å°±ä¸èƒ½æœ‰ä¸€ä¸ªæ—¢æœ‰è¶£åˆæœ‰è´§çš„ä»‹ç»å—ï¼Ÿï¼Ÿï¼Ÿ å½“ç„¶å¯ä»¥ï¼è¿™å°±æ˜¯æˆ‘ä»¬çš„â€œåç§‘æ¨¡æ‹Ÿå™¨â€ï¼ åœ¨è¿™é‡Œï¼Œä½ å°†åŒ–èº«ä¸ºæ¸¸æˆä¸­ä¸€ä¸ªå³å°†å…¥å­¦åç§‘çš„æ–°ç”Ÿï¼Œé¢ä¸´ä»ä½ è¸è¿›æ ¡é—¨çš„é‚£ä¸€åˆ»å¼€å§‹å°†è¦é¢å¯¹çš„ä¸€ä¸ªåˆä¸€ä¸ªé€‰æ‹©ï¼ŒçœŸå®å±•ç°ä½ å°†è¦é¢ä¸´çš„ä¸°å¯Œå¤šå½©çš„åç§‘ç”Ÿæ´»ã€‚ æ¸¸æˆé‡‡ç”¨ç»å…¸çš„æ‰“æ€ªå‡çº§æ¨¡å¼ï¼Œä¿ƒä½¿ç©å®¶åœ¨æ¢ç´¢å’Œæœå¯»ä¸­ä¸æ–­åŠ æ·±å¯¹åç§‘çš„äº†è§£ã€‚ è·¯è¾¹çš„NPCä¼šç»™äºˆç©å®¶å¯¹é‡è¦å»ºç­‘ç‰©çš„è¯¦ç»†ä»‹ç»ï¼Œåªæœ‰æ–¹ä½ï¼ŸCertainly Notï¼ä»ä½ç½®åˆ°ç‰¹è‰²åˆ°å­¦ç”Ÿè¯„ä»·éƒ½æœ‰æœºçš„èå…¥å…¶ä¸­ã€‚ è€Œå¯¹åç§‘å„ä¸ªé£Ÿå ‚ç‰¹è‰²çš„ä»‹ç»æ›´æ˜¯â€œè¾¨æâ€äº†åç§‘å¼•ä»¥ä¸ºè±ªçš„è¯¸å¤šé£Ÿå ‚ã€‚ä»‹ç»å¯ä»¥è¯¦ç»†åˆ°æ¯ä¸€å±‚ï¼Œè€ŒåŒæ ·ï¼Œæ¯ä¸ªé£Ÿå ‚å¯ä»¥éšæœºè·å¾—çš„é“å…·ï¼šç‰¹è‰²é£Ÿå“ä¹Ÿå„æœ‰åƒç§‹ã€‚ æœ¬æ¸¸æˆå†…æ ¸å¼ºåŠ¿å¼˜æ‰¬åç§‘ä»·å€¼è§‚â€”â€”â€œä¸å­¦ä¹ ï¼Œå°±å‡‰å‡‰â€ï¼Œå¦‚æœä½ åœ¨æ¸¸æˆä¸­ç»å¸¸æ··è¿¹ç½‘å§KTVæˆ–è¢«æœ‹å‹åŠè¯´å¼€é»‘åƒé¸¡ï¼Œé‚£ä¹ˆï¼Œå—¯ï¼Œä½ å°±æˆäº†ä¸€ä¸ªå­¦æ¸£ã€‚ æœ¬æ¸¸æˆæœ‰ç²¾å¿ƒåˆ¶ä½œçš„å¤šæ¡æ”¯çº¿ï¼Œè¿™ä¸ä½†ç»™äº†ä½ å¾ˆå¤§çš„è‡ªç”±é€‰æ‹©ç©ºé—´ï¼Œæ›´æä¾›äº†ä¸€ä¸ªè®©ä½ äº†è§£åç§‘å„ç§ç±»å‹å»ºç­‘çš„æœºä¼šâ€”â€”</p>
<ul>
<li>è½»éŸ³ä¹çº¿ï¼šåç§‘çš„å„ç§è‰ºæœ¯ç±»å»ºç­‘ï¼Œé›•å¡‘ï¼Œæ ¡å²é¦†ï¼Œæ°´æ± æ¹–æ³Šç”šè‡³æ£®æ—å…¬å›­éƒ½ä¼šæˆä¸ºç›¸åº”å…³é”®æ€ªç‰©çš„è§¦å‘ç‚¹ï¼Œè¿™ä¹Ÿè®©ä½ åœ¨æœå¯»å’Œé—®è·¯çš„è¿‡ç¨‹ä¸­æ›´åŠ æ·±å…¥çš„äº†è§£äº†åç§‘ã€‚</li>
<li>ç½‘çƒçº¿ï¼šåç§‘çš„å„ç±»ä½“è‚²åœºé¦†ã€æ“åœºã€ç¯®çƒåœºã€ç½‘çƒåœºç­‰éƒ½æˆäº†æ´»è·ƒçš„ä¸­å¿ƒï¼Œä½ ä¹Ÿå¯ä»¥å€Ÿæ­¤æœºç‰¢è®°å®ƒä»¬çš„ä½ç½®ï¼Œå¹¶åœ¨ç°å®ç”Ÿæ´»ä¸­ä¹Ÿå¯ä»¥æ¥ç—›å¿«â€œæ‰“â€çƒã€‚</li>
<li>å­¦éœ¸çº¿ï¼šåç§‘çš„å„ç±»æ•™å­¦æ¥¼ã€å®éªŒå®¤ã€å­¦é™¢å¤§æ¥¼éƒ½ä¼šç•™ä¸‹ä½ çš„è¶³è¿¹ã€‚å¼€å­¦ï¼Ÿç›¸ä¿¡æ¥ä¹‹å‰ä½ å·²ç»æˆä¸ºäº†ä¸€åè€å¸æœºã€‚</li>
</ul>
<p>å¬è¯´ä½ æ¥å­¦æ ¡ä¸€å­¦æœŸè¿˜ä¸çŸ¥é“æ ¡è½¦ç«™ä½ç½®ï¼Ÿä¸å¦‚æ¥è¿™é‡Œå®å®åœ¨åœ¨æ­ä¹˜ä¸€æ³¢ï¼ä½ æœ‰ç†ç”±ç›¸ä¿¡çœŸæ˜¯çš„åç§‘æ ¡è½¦ç³»ç»Ÿå’Œå®ƒä¸€æ ·ç»™åŠ›ï¼ å½“ç„¶ï¼Œåç§‘è¿‘é‚»æ£®æ—å…¬å›­ï¼Œè€Œå…¬å›­é‡Œç©¶ç«Ÿåˆéšè—ç€ä»€ä¹ˆç­‰å¾…ç€ä½ çš„æ¢ç´¢ï¼Ÿå¦‚æœä½ å·²ç»è¿«ä¸åŠå¾…äº†ï¼Œé‚£å°±èµ¶ç´§æ¥ä¸‹è½½æˆ‘ä»¬çš„æ¸¸æˆï¼Œäº²è‡ªä½“éªŒä¸€ç•ªå§ï¼~</p>
<h3 id="æ¸¸æˆæˆªå›¾">æ¸¸æˆæˆªå›¾</h3>
<figure>
<img src="/2018/06/18/hua-cai-ren-sheng/006tNbRwgy1fuen6a1f5ij31a612a4qq.jpg" alt="WX20180618-140837@2x"><figcaption aria-hidden="true">WX20180618-140837@2x</figcaption>
</figure>
<figure>
<img src="/2018/06/18/hua-cai-ren-sheng/../../../../Desktop/åå½©äººç”Ÿ/æ¸¸æˆæˆªå›¾/WX20180618-141546@2x.png" alt="WX20180618-141546@2x"><figcaption aria-hidden="true">WX20180618-141546@2x</figcaption>
</figure>
<figure>
<img src="/2018/06/18/hua-cai-ren-sheng/../../../../Desktop/åå½©äººç”Ÿ/æ¸¸æˆæˆªå›¾/WX20180618-142254@2x.png" alt="WX20180618-142254@2x"><figcaption aria-hidden="true">WX20180618-142254@2x</figcaption>
</figure>
<figure>
<img src="/2018/06/18/hua-cai-ren-sheng/../../../../Desktop/åå½©äººç”Ÿ/æ¸¸æˆæˆªå›¾/WX20180618-142718@2x.png" alt="WX20180618-142718@2x"><figcaption aria-hidden="true">WX20180618-142718@2x</figcaption>
</figure>
<figure>
<img src="/2018/06/18/hua-cai-ren-sheng/../../../../Desktop/åå½©äººç”Ÿ/æ¸¸æˆæˆªå›¾/WX20180618-142840@2x.png" alt="WX20180618-142840@2x"><figcaption aria-hidden="true">WX20180618-142840@2x</figcaption>
</figure>
<figure>
<img src="/2018/06/18/hua-cai-ren-sheng/../../../../Desktop/åå½©äººç”Ÿ/æ¸¸æˆæˆªå›¾/WX20180618-143132@2x.png" alt="WX20180618-143132@2x"><figcaption aria-hidden="true">WX20180618-143132@2x</figcaption>
</figure>
]]></content>
      <tags>
        <tag>game</tag>
        <tag>rpg maker</tag>
      </tags>
  </entry>
  <entry>
    <title>æä¾›ä¸€ä¸ªåŸºäºå®˜æ–¹æ¨¡æ¿ä¼˜åŒ–å‡çº§åçš„æ¯•è®¾Wordæ¨¡æ¿</title>
    <url>/2019/05/02/hust-paper-template/</url>
    <content><![CDATA[<p>ç”±äºæ¯•è®¾æŸ¥é‡ç­‰ä¼šä½¿ç”¨åˆ°wordç‰ˆæœ¬ï¼Œä¸”æœ€ç»ˆæäº¤ä¹Ÿè¦æœ‰wordï¼Œè€Œç»è¿‡15çº§çš„æµ‹è¯•ï¼Œç°æœ‰çš„å‡ ä¹æ‰€æœ‰pdfè½¬wordæ–¹æ³•éƒ½æœ‰ç€æˆ–å¤šæˆ–å°‘çš„é—®é¢˜ï¼Œæ”¹èµ·æ¥éå¸¸éº»çƒ¦ã€‚</p>
<p>ç»è¿‡å¯¹å®˜æ–¹wordæ¨¡æ¿çš„ç ”ç©¶ä»¥åŠä¸Latexæ•ˆæœçš„å¯¹æ¯”ï¼Œæœ€ç»ˆåˆ¶ä½œè¯¥æ¨¡æ¿ï¼Œä¾›å¤§å®¶åé¢ä½¿ç”¨ã€‚</p>
<p>å…ˆæ”¾ä¸Š<a href="https://github.com/miracleyoo/HUST-Grad-Paper-Word-Template">é¡¹ç›®åœ°å€</a>ï¼Œæ¬¢è¿å¤§å®¶ä½¿ç”¨ã€æå»ºè®®ã€å®Œå–„å’Œç»´æŠ¤ã€‚</p>
<span id="more"></span>
<h2 id="ä¸‹é¢æ˜¯é¡¹ç›®ä»‹ç»">ä¸‹é¢æ˜¯é¡¹ç›®ä»‹ç»ï¼š</h2>
<p>æœ¬é¡¹ç›®ä¸ºåç§‘ï¼ˆåä¸­ç§‘æŠ€å¤§å­¦ï¼‰æœ¬ç§‘ç”Ÿæ¯•ä¸šè®¾è®¡è®ºæ–‡çš„è¿›é˜¶ä¼˜åŒ–ç‰ˆWordæ¨¡æ¿ã€‚å®ƒæºäºå®˜æ–¹ä½†é«˜äºå®˜æ–¹ï¼Œç”±äºå®˜æ–¹çš„Wordæ¨¡æ¿éš¾ä»¥ä½¿ç”¨ä¸”é—®é¢˜å¤šå¤šï¼Œè‡ªåŠ¨åŒ–ç¨‹åº¦ä½ï¼Œæ•…æœ‰æœ¬é¡¹ç›®ã€‚</p>
<p>æœ¬é¡¹ç›®è™½ä¸ºåŸºäºåä¸­ç§‘æŠ€å¤§å­¦è®¾è®¡çš„ï¼Œä½†é™¤å»å°é¢å’Œæ ‡é¢˜æ ¼å¼ç­‰æœ‰ç•¥å¾®æ”¹åŠ¨ï¼Œå…¶å®ƒå¤§éƒ¨åˆ†ä¹Ÿå¯ä»¥ä¾›å…¶å®ƒå­¦æ ¡åŒå­¦å€Ÿé‰´å‚è€ƒã€‚</p>
<p>å¦‚æœ‰æ ¼å¼é—®é¢˜æˆ–å…¶å®ƒå»ºè®®ï¼Œæ¬¢è¿æå‡ºissueï¼</p>
<h2 id="æœ¬é¡¹ç›®ä¼˜åŒ–å†…å®¹">æœ¬é¡¹ç›®ä¼˜åŒ–å†…å®¹ï¼š</h2>
<ul>
<li>é¡µç çš„ä¼˜åŒ–ã€‚æœ¬é¡¹ç›®å¯¹å°é¢ã€åŸåˆ›æ€§å£°æ˜é¡µã€æ‘˜è¦é¡µç­‰è¿›è¡Œåˆ†èŠ‚ï¼Œä½¿å¾—é¡µç ç¼–å·ä¸æ­£æ–‡åŒºåˆ†å¼€æ¥ã€‚åŒæ—¶ä¼˜åŒ–äº†é¡µç çš„æ˜¾ç¤ºã€‚</li>
<li>å°é¢çš„ä¼˜åŒ–ã€‚å°é¢åŸæ¨¡æ¿ä¸Šå¡«å†™éƒ¨åˆ†ä¸ºä¸‹åˆ’çº¿ï¼Œä¸æ–¹ä¾¿ä½¿ç”¨ä¸”å­˜åœ¨æ‰‹åŠ¨å±…ä¸­ã€æ¨ªçº¿é•¿åº¦æœ‰å¾®å¦™å·®ç­‰é—®é¢˜ã€‚æœ¬é¡¹ç›®æ”¹ç”¨è¡¨æ ¼çº¿æ˜¾ç¤ºã€‚</li>
<li>åˆ†çº§æ ‡é¢˜çš„ä¼˜åŒ–ã€‚å„çº§æ ‡é¢˜é‡‡ç”¨äº†Wordæ ·å¼ï¼Œå¹¶ä¸å¤šçº§åˆ—è¡¨è¿›è¡Œäº†ç»‘å®šè®¾ç½®ã€‚åªè¦ä½¿ç”¨â€œæ ‡é¢˜1â€â€œæ ‡é¢˜2â€â€œæ ‡é¢˜3â€â€œæ ‡é¢˜4â€ç­‰æ ·å¼ï¼Œå°±å¯ä»¥ä¿è¯æ ¼å¼çš„æ­£ç¡®æ€§ï¼Œå¹¶èƒ½è‡ªåŠ¨é“¾æ¥åˆ°ç›®å½•ã€‚</li>
<li>æ•°å­¦å…¬å¼çš„ä¼˜åŒ–ã€‚æ­¤å¤„å»ºè®®ä½¿ç”¨<strong><a href="http://www.mathtype.cn/">Mathtype</a></strong>ã€‚Mathtypeä¼šè‡ªåŠ¨å®‰è£…Wordæ’ä»¶ï¼Œæ–¹ä¾¿ä¸€é”®è½¬æ¢Latexå…¬å¼ã€æ”¯æŒè¡Œå†…å…¬å¼ã€è¡Œé—´å…¬å¼ã€å…¬å¼ç¼–å·æ ¼å¼è®¾ç½®ã€å…¬å¼äº¤å‰å¼•ç”¨ç­‰ï¼Œååˆ†æ–¹ä¾¿ã€‚</li>
<li>å›¾è¡¨é¢˜æ³¨ä¸äº¤å‰å¼•ç”¨çš„ç¤ºä¾‹ä¸æ³¨æ„äº‹é¡¹ã€‚ä½¿ç”¨é¢˜æ³¨å’Œäº¤å‰å¼•ç”¨å¯ä»¥å®¹æ˜“åœ°è¿›è¡Œå…¨å±€æ›´æ–°ï¼Œé¿å…ç”±äºä¸­é—´æ’å…¥æ–°çš„å›¾è¡¨è€Œå…¨å±€æ›´æ”¹æˆ–è¯¯æ”¹æ¼æ”¹ã€‚</li>
<li>å‚è€ƒæ–‡çŒ®å¼•ç”¨ã€‚æ­¤å¤„æ¨èä½¿ç”¨<strong><a href="https://www.zotero.org/">Zotero</a></strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„è®ºæ–‡å¼•ç”¨å·¥å…·ï¼Œä¸”è®¾æœ‰Chromeä»¥åŠChromeçš„æ’ä»¶æ”¯æŒï¼Œå¹¶èƒ½å¤Ÿè‡ªåŠ¨è·å–æ–‡ç« å„ç§ç›¸å…³ä¿¡æ¯ã€‚æœ‰Wordæ’ä»¶æ”¯æŒï¼Œä¸”å¯ä»¥å¯¼å‡ºbibæ–‡ä»¶ï¼Œå¯¹Latexä¹Ÿå¾ˆå‹å¥½ã€‚</li>
<li>å¯¹å†…å®¹çš„æç¤ºã€‚å¯¹å„ç« èŠ‚çš„å¤§è‡´å†…å®¹è¿›è¡Œäº†é€‚å½“çš„æç¤ºã€‚</li>
</ul>
<h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹ï¼š</h2>
<ul>
<li>æ³¨æ„æœ€å¥½ä¸è¦ä¿®æ”¹å‡ ä¸ªæ ‡é¢˜æ ·å¼å’Œå¤šçº§åˆ—è¡¨è®¾ç½®ï¼Œä»¥å…é€ æˆæ··ä¹±ã€‚</li>
<li>è‹¥ä½¿ç”¨è‡ªåŠ¨å¼•æ–‡ç®¡ç†è½¯ä»¶ï¼Œè¯·åœ¨å¯¼å‡ºBibliographyæ—¶é€‰æ‹©Chinese Std GB/T 7714-2005 (numeric, Chinese) æ ¼å¼ã€‚</li>
<li>è¯·æ³¨æ„æ¯æ¬¡æ›´æ”¹åéšæ—¶æ›´æ–°ç›®å½•ã€‚</li>
<li>è¯·æ³¨æ„æ¯ç« åæ’å…¥åˆ†é¡µç¬¦ã€‚</li>
<li>è¯·æ³¨æ„ä¸ºæ¯å¼ å›¾å’Œè¡¨æ’å…¥é¢˜æ³¨ã€‚å›¾çš„é¢˜æ³¨åœ¨ä¸‹ï¼Œè¡¨çš„é¢˜æ³¨åœ¨ä¸Šã€‚</li>
<li>æ³¨æ„æœ‰çš„å¼•æ–‡å¯èƒ½æ²¡æœ‰è‡ªåŠ¨æ ‡å‡ºæ—¶é—´ï¼Œæ­¤æ—¶è¦è‡ªè¡Œæ’æŸ¥ä¸€ä¸‹ã€‚æ ¼å¼åªè¦ä½¿ç”¨Zoteroï¼Œé€‰å¯¹æ ·å¼ï¼Œä¸€èˆ¬ä¸ä¼šæœ‰é—®é¢˜ã€‚</li>
</ul>
<p>ç¥å¤§å®¶éƒ½èƒ½é¡ºåˆ©é«˜æ•ˆå®Œæˆæ¯•è®¾è®ºæ–‡å†™ä½œï¼</p>
]]></content>
      <tags>
        <tag>paper</tag>
        <tag>word</tag>
        <tag>template</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸ç”¨çš„æ¨¡å¼è¯†åˆ«ä¸­çš„å›¾åƒç‰¹å¾ä»‹ç»</title>
    <url>/2018/04/02/img-features/</url>
    <content><![CDATA[<h2 id="å±€éƒ¨äºŒå€¼æ¨¡å¼è‹±æ–‡local-binary-patternsç¼©å†™lbp"><a href="https://blog.csdn.net/u013207865/article/details/49720509">å±€éƒ¨äºŒå€¼æ¨¡å¼ï¼ˆè‹±æ–‡ï¼šLocal binary patternsï¼Œç¼©å†™ï¼šLBPï¼‰</a></h2>
<p>åœ¨æœ€ç®€ç®€åŒ–çš„æƒ…å†µä¸‹ï¼Œå±€éƒ¨äºŒå€¼æ¨¡å¼ç‰¹å¾å‘é‡å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è®¡ç®—ï¼š</p>
<ul>
<li><p>å°†æ£€æµ‹çª—å£åˆ‡åˆ†ä¸ºåŒºå—ï¼ˆcellsï¼Œä¾‹å¦‚ï¼Œæ¯ä¸ªåŒºå—16x16åƒç´ ï¼‰ã€‚</p></li>
<li><p>å¯¹åŒºå—ä¸­çš„æ¯ä¸ªåƒç´ ï¼Œä¸å®ƒçš„å…«ä¸ªé‚»åŸŸåƒç´ è¿›è¡Œæ¯”è¾ƒï¼ˆå·¦ä¸Šã€å·¦ä¸­ã€å·¦ä¸‹ã€å³ä¸Šç­‰ï¼‰ã€‚å¯ä»¥æŒ‰ç…§é¡ºæ—¶é’ˆæˆ–è€…é€†æ—¶é’ˆçš„é¡ºåºè¿›è¡Œæ¯”è¾ƒã€‚</p></li>
<li><p>å¯¹äºä¸­å¿ƒåƒç´ å¤§äºæŸä¸ªé‚»åŸŸçš„ï¼Œè®¾ç½®ä¸º1ï¼›å¦åˆ™ï¼Œè®¾ç½®ä¸º0ã€‚è¿™å°±è·å¾—äº†ä¸€ä¸ª8ä½çš„äºŒè¿›åˆ¶æ•°ï¼ˆé€šå¸¸æƒ…å†µä¸‹ä¼šè½¬æ¢ä¸ºåè¿›åˆ¶æ•°å­—ï¼‰ï¼Œä½œä¸ºè¯¥ä½ç½®çš„ç‰¹å¾ã€‚</p>
<span id="more"></span></li>
<li><p>å¯¹æ¯ä¸€ä¸ªåŒºå—è®¡ç®—ç›´æ–¹å›¾ã€‚</p></li>
<li><p>æ­¤æ—¶ï¼Œå¯ä»¥é€‰æ‹©å°†ç›´æ–¹å›¾å½’ä¸€åŒ–ï¼›</p></li>
<li><p>ä¸²è”æ‰€æœ‰åŒºå—çš„ç›´æ–¹å›¾ï¼Œè¿™å°±å¾—åˆ°äº†å½“å‰æ£€æµ‹çª—å£çš„ç‰¹å¾å‘é‡ã€‚</p></li>
<li><p>Pythonå®ç°åº“å‡½æ•°ï¼š<a href="http://scikit-image.org/docs/stable/api/skimage.feature.html#local-binary-pattern">è¯·ç‚¹è¿™é‡Œ</a></p></li>
</ul>
<img src="/2018/04/02/img-features/04/02/img-features/20131025114220937.png" class title="å±€éƒ¨äºŒå€¼æ¨¡å¼">
<h2 id="æ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾è‹±è¯­histogram-of-oriented-gradientç®€ç§°hog"><a href="https://www.jianshu.com/p/395f0582c5f7">æ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾ï¼ˆè‹±è¯­ï¼šHistogram of oriented gradientï¼Œç®€ç§°HOGï¼‰</a></h2>
<ul>
<li><strong>æ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾</strong>æ˜¯åº”ç”¨åœ¨<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89">è®¡ç®—æœºè§†è§‰</a>å’Œ<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86">å›¾åƒå¤„ç†</a>é¢†åŸŸï¼Œç”¨äº<a href="https://zh.wikipedia.org/w/index.php?title=%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B&amp;action=edit&amp;redlink=1">ç›®æ ‡æ£€æµ‹</a>çš„ç‰¹å¾æè¿°å™¨ã€‚è¿™é¡¹æŠ€æœ¯æ˜¯ç”¨æ¥è®¡ç®—å±€éƒ¨å›¾åƒæ¢¯åº¦çš„æ–¹å‘ä¿¡æ¯çš„ç»Ÿè®¡å€¼ã€‚è¿™ç§æ–¹æ³•è·Ÿ<a href="https://zh.wikipedia.org/w/index.php?title=%E8%BE%B9%E7%BC%98%E6%96%B9%E5%90%91%E7%9B%B4%E6%96%B9%E5%9B%BE&amp;action=edit&amp;redlink=1">è¾¹ç¼˜æ–¹å‘ç›´æ–¹å›¾</a>ï¼ˆedge orientation histogramsï¼‰ã€<a href="https://zh.wikipedia.org/wiki/%E5%B0%BA%E5%BA%A6%E4%B8%8D%E5%8F%98%E7%89%B9%E5%BE%81%E5%8F%98%E6%8D%A2">å°ºåº¦ä¸å˜ç‰¹å¾å˜æ¢</a>ï¼ˆscale-invariant feature transform descriptorsï¼‰ä»¥åŠ<a href="https://zh.wikipedia.org/w/index.php?title=%E5%BD%A2%E7%8A%B6%E4%B8%8A%E4%B8%8B%E6%96%87%E6%96%B9%E6%B3%95&amp;action=edit&amp;redlink=1">å½¢çŠ¶ä¸Šä¸‹æ–‡æ–¹æ³•</a>ï¼ˆ shape contextsï¼‰æœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œä½†ä¸å®ƒä»¬çš„ä¸åŒç‚¹æ˜¯ï¼šHOGæè¿°å™¨æ˜¯åœ¨ä¸€ä¸ªç½‘æ ¼å¯†é›†çš„å¤§å°ç»Ÿä¸€çš„ç»†èƒå•å…ƒï¼ˆdense grid of uniformly spaced cellsï¼‰ä¸Šè®¡ç®—ï¼Œè€Œä¸”ä¸ºäº†æé«˜æ€§èƒ½ï¼Œè¿˜é‡‡ç”¨äº†é‡å çš„å±€éƒ¨å¯¹æ¯”åº¦å½’ä¸€åŒ–ï¼ˆoverlapping local contrast normalizationï¼‰æŠ€æœ¯</li>
<li>HOGæè¿°å™¨æœ€é‡è¦çš„æ€æƒ³æ˜¯ï¼šåœ¨ä¸€å‰¯å›¾åƒä¸­ï¼Œå±€éƒ¨ç›®æ ‡çš„è¡¨è±¡å’Œå½¢çŠ¶ï¼ˆappearance and shapeï¼‰èƒ½å¤Ÿè¢«æ¢¯åº¦æˆ–è¾¹ç¼˜çš„æ–¹å‘å¯†åº¦åˆ†å¸ƒå¾ˆå¥½åœ°æè¿°ã€‚å…·ä½“çš„å®ç°æ–¹æ³•æ˜¯ï¼šé¦–å…ˆå°†å›¾åƒåˆ†æˆå°çš„è¿é€šåŒºåŸŸï¼Œæˆ‘ä»¬æŠŠå®ƒå«ç»†èƒå•å…ƒã€‚ç„¶åé‡‡é›†ç»†èƒå•å…ƒä¸­å„åƒç´ ç‚¹çš„æ¢¯åº¦çš„æˆ–è¾¹ç¼˜çš„æ–¹å‘ç›´æ–¹å›¾ã€‚æœ€åæŠŠè¿™äº›ç›´æ–¹å›¾ç»„åˆèµ·æ¥å°±å¯ä»¥æ„æˆç‰¹å¾æè¿°å™¨ã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠè¿™äº›å±€éƒ¨ç›´æ–¹å›¾åœ¨å›¾åƒçš„æ›´å¤§çš„èŒƒå›´å†…ï¼ˆæˆ‘ä»¬æŠŠå®ƒå«åŒºé—´æˆ–blockï¼‰è¿›è¡Œå¯¹æ¯”åº¦å½’ä¸€åŒ–ï¼ˆcontrast-normalizedï¼‰ï¼Œæ‰€é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼šå…ˆè®¡ç®—å„ç›´æ–¹å›¾åœ¨è¿™ä¸ªåŒºé—´ï¼ˆblockï¼‰ä¸­çš„å¯†åº¦ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå¯†åº¦å¯¹åŒºé—´ä¸­çš„å„ä¸ªç»†èƒå•å…ƒåšå½’ä¸€åŒ–ã€‚é€šè¿‡è¿™ä¸ªå½’ä¸€åŒ–åï¼Œèƒ½å¯¹å…‰ç…§å˜åŒ–å’Œé˜´å½±è·å¾—æ›´å¥½çš„æ•ˆæœã€‚</li>
<li>ä¸å…¶ä»–çš„ç‰¹å¾æè¿°æ–¹æ³•ç›¸æ¯”ï¼ŒHOGæè¿°å™¨æœ‰å¾ˆå¤šä¼˜ç‚¹ã€‚é¦–å…ˆï¼Œç”±äºHOGæ–¹æ³•æ˜¯åœ¨å›¾åƒçš„å±€éƒ¨ç»†èƒå•å…ƒä¸Šæ“ä½œï¼Œæ‰€ä»¥å®ƒå¯¹å›¾åƒå‡ ä½•çš„ï¼ˆgeometricï¼‰å’Œå…‰å­¦çš„ï¼ˆphotometricï¼‰å½¢å˜éƒ½èƒ½ä¿æŒå¾ˆå¥½çš„ä¸å˜æ€§ï¼Œè¿™ä¸¤ç§å½¢å˜åªä¼šå‡ºç°åœ¨æ›´å¤§çš„ç©ºé—´é¢†åŸŸä¸Šã€‚å…¶æ¬¡ï¼Œä½œè€…é€šè¿‡å®éªŒå‘ç°ï¼Œåœ¨ç²—çš„ç©ºåŸŸæŠ½æ ·ï¼ˆcoarse spatial samplingï¼‰ã€ç²¾ç»†çš„æ–¹å‘æŠ½æ ·ï¼ˆfine orientation samplingï¼‰ä»¥åŠè¾ƒå¼ºçš„å±€éƒ¨å…‰å­¦å½’ä¸€åŒ–ï¼ˆstrong local photometric normalizationï¼‰ç­‰æ¡ä»¶ä¸‹ï¼Œåªè¦è¡Œäººå¤§ä½“ä¸Šèƒ½å¤Ÿä¿æŒç›´ç«‹çš„å§¿åŠ¿ï¼Œå°±å®¹è®¸è¡Œäººæœ‰ä¸€äº›ç»†å¾®çš„è‚¢ä½“åŠ¨ä½œï¼Œè¿™äº›ç»†å¾®çš„åŠ¨ä½œå¯ä»¥è¢«å¿½ç•¥è€Œä¸å½±å“æ£€æµ‹æ•ˆæœã€‚ç»¼ä¸Šæ‰€è¿°ï¼ŒHOGæ–¹æ³•æ˜¯ç‰¹åˆ«é€‚åˆäºåšå›¾åƒä¸­çš„è¡Œäººæ£€æµ‹çš„ã€‚</li>
<li>Pythonå®ç°åº“å‡½æ•°ï¼š<a href="http://scikit-image.org/docs/stable/api/skimage.feature.html#hog">è¯·ç‚¹è¿™é‡Œ</a></li>
</ul>
<img src="/2018/04/02/img-features/04/02/img-features/v2-890c6f08045598e83c90f2d52b946c17_hd.jpg" class title="æ¢¯åº¦ç›´æ–¹å›¾">
<img src="/2018/04/02/img-features/04/02/img-features/v2-f356313f5806fdaaf59ec9196af353b7_hd.jpg" class title="8*8ç½‘æ ¼ç›´æ–¹å›¾">
<img src="/2018/04/02/img-features/04/02/img-features/v2-802e88923e7e26459250d31086e033ea_hd.jpg" class title="visualizing_histogram">
<h2 id="å°ºåº¦ä¸å˜ç‰¹å¾è½¬æ¢scale-invariant-feature-transform-æˆ–-sift"><a href="https://blog.csdn.net/zddblog/article/details/7521424">å°ºåº¦ä¸å˜ç‰¹å¾è½¬æ¢(Scale-invariant feature transform æˆ– SIFT)</a></h2>
<ul>
<li><p>å°ºåº¦ä¸å˜ç‰¹å¾è½¬æ¢(Scale-invariant feature transformæˆ–SIFT)æ˜¯ä¸€ç§ç”µè„‘è§†è§‰çš„ç®—æ³•ç”¨æ¥ä¾¦æµ‹ä¸æè¿°å½±åƒä¸­çš„å±€éƒ¨æ€§ç‰¹å¾ï¼Œå®ƒåœ¨ç©ºé—´å°ºåº¦ä¸­å¯»æ‰¾æå€¼ç‚¹ï¼Œå¹¶æå–å‡ºå…¶ä½ç½®ã€å°ºåº¦ã€æ—‹è½¬ä¸å˜é‡ï¼Œæ­¤ç®—æ³•ç”± David Loweåœ¨1999å¹´æ‰€å‘è¡¨ï¼Œ2004å¹´å®Œå–„æ€»ç»“ã€‚å…¶åº”ç”¨èŒƒå›´åŒ…å«ç‰©ä½“è¾¨è¯†ã€æœºå™¨äººåœ°å›¾æ„ŸçŸ¥ä¸å¯¼èˆªã€å½±åƒç¼åˆã€3Dæ¨¡å‹å»ºç«‹ã€æ‰‹åŠ¿è¾¨è¯†ã€å½±åƒè¿½è¸ªå’ŒåŠ¨ä½œæ¯”å¯¹ã€‚å±€éƒ¨å½±åƒç‰¹å¾çš„æè¿°ä¸ä¾¦æµ‹å¯ä»¥å¸®åŠ©è¾¨è¯†ç‰©ä½“ï¼ŒSIFT ç‰¹å¾æ˜¯åŸºäºç‰©ä½“ä¸Šçš„ä¸€äº›å±€éƒ¨å¤–è§‚çš„å…´è¶£ç‚¹è€Œä¸å½±åƒçš„å¤§å°å’Œæ—‹è½¬æ— å…³ã€‚å¯¹äºå…‰çº¿ã€å™ªå£°ã€äº›å¾®è§†è§’æ”¹å˜çš„å®¹å¿åº¦ä¹Ÿç›¸å½“é«˜ã€‚åŸºäºè¿™äº›ç‰¹æ€§ï¼Œå®ƒä»¬æ˜¯é«˜åº¦æ˜¾è‘—è€Œä¸”ç›¸å¯¹å®¹æ˜“æ’·å–ï¼Œåœ¨æ¯æ•°åºå¤§çš„ç‰¹å¾æ•°æ®åº“ä¸­ï¼Œå¾ˆå®¹æ˜“è¾¨è¯†ç‰©ä½“è€Œä¸”é²œæœ‰è¯¯è®¤ã€‚ä½¿ç”¨ SIFTç‰¹å¾æè¿°å¯¹äºéƒ¨åˆ†ç‰©ä½“é®è”½çš„ä¾¦æµ‹ç‡ä¹Ÿç›¸å½“é«˜ï¼Œç”šè‡³åªéœ€è¦3ä¸ªä»¥ä¸Šçš„SIFTç‰©ä½“ç‰¹å¾å°±è¶³ä»¥è®¡ç®—å‡ºä½ç½®ä¸æ–¹ä½ã€‚åœ¨ç°ä»Šçš„ç”µè„‘ç¡¬ä»¶é€Ÿåº¦ä¸‹å’Œå°å‹çš„ç‰¹å¾æ•°æ®åº“æ¡ä»¶ä¸‹ï¼Œè¾¨è¯†é€Ÿåº¦å¯æ¥è¿‘å³æ—¶è¿ç®—ã€‚SIFTç‰¹å¾çš„ä¿¡æ¯é‡å¤§ï¼Œé€‚åˆåœ¨æµ·é‡æ•°æ®åº“ä¸­å¿«é€Ÿå‡†ç¡®åŒ¹é…ã€‚</p></li>
<li><p>SIFTç®—æ³•çš„ç‰¹ç‚¹æœ‰ï¼š</p>
<ol type="1">
<li><p>SIFTç‰¹å¾æ˜¯å›¾åƒçš„å±€éƒ¨ç‰¹å¾ï¼Œå…¶å¯¹æ—‹è½¬ã€å°ºåº¦ç¼©æ”¾ã€äº®åº¦å˜åŒ–ä¿æŒä¸å˜æ€§ï¼Œå¯¹è§†è§’å˜åŒ–ã€ä»¿å°„å˜æ¢ã€å™ªå£°ä¹Ÿä¿æŒä¸€å®šç¨‹åº¦çš„ç¨³å®šæ€§ï¼›</p></li>
<li><p>ç‹¬ç‰¹æ€§ï¼ˆDistinctivenessï¼‰å¥½ï¼Œä¿¡æ¯é‡ä¸°å¯Œï¼Œé€‚ç”¨äºåœ¨æµ·é‡ç‰¹å¾æ•°æ®åº“ä¸­è¿›è¡Œå¿«é€Ÿã€å‡†ç¡®çš„åŒ¹é…ï¼›</p></li>
<li><p>å¤šé‡æ€§ï¼Œå³ä½¿å°‘æ•°çš„å‡ ä¸ªç‰©ä½“ä¹Ÿå¯ä»¥äº§ç”Ÿå¤§é‡çš„SIFTç‰¹å¾å‘é‡ï¼›</p></li>
<li><p>é«˜é€Ÿæ€§ï¼Œç»ä¼˜åŒ–çš„SIFTåŒ¹é…ç®—æ³•ç”šè‡³å¯ä»¥è¾¾åˆ°å®æ—¶çš„è¦æ±‚ï¼›</p></li>
<li><p>å¯æ‰©å±•æ€§ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¸å…¶ä»–å½¢å¼çš„ç‰¹å¾å‘é‡è¿›è¡Œè”åˆã€‚</p></li>
</ol></li>
<li><p>SIFTç®—æ³•å¯ä»¥è§£å†³çš„é—®é¢˜ï¼š</p>
<p>ç›®æ ‡çš„è‡ªèº«çŠ¶æ€ã€åœºæ™¯æ‰€å¤„çš„ç¯å¢ƒå’Œæˆåƒå™¨æçš„æˆåƒç‰¹æ€§ç­‰å› ç´ å½±å“å›¾åƒé…å‡†/ç›®æ ‡è¯†åˆ«è·Ÿè¸ªçš„æ€§èƒ½ã€‚è€ŒSIFTç®—æ³•åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯è§£å†³ï¼š</p>
<ol type="1">
<li><p>ç›®æ ‡çš„æ—‹è½¬ã€ç¼©æ”¾ã€å¹³ç§»ï¼ˆRSTï¼‰</p></li>
<li><p>å›¾åƒä»¿å°„/æŠ•å½±å˜æ¢ï¼ˆè§†ç‚¹viewpointï¼‰</p></li>
<li><p>å…‰ç…§å½±å“ï¼ˆilluminationï¼‰</p></li>
<li><p>ç›®æ ‡é®æŒ¡ï¼ˆocclusionï¼‰</p></li>
<li><p>æ‚ç‰©åœºæ™¯ï¼ˆclutterï¼‰</p></li>
<li><p>å™ªå£°</p></li>
</ol></li>
<li><p>Loweå°†SIFTç®—æ³•åˆ†è§£ä¸ºå¦‚ä¸‹å››æ­¥ï¼š</p>
<ol type="1">
<li><p>å°ºåº¦ç©ºé—´æå€¼æ£€æµ‹ï¼šæœç´¢æ‰€æœ‰å°ºåº¦ä¸Šçš„å›¾åƒä½ç½®ã€‚é€šè¿‡é«˜æ–¯å¾®åˆ†å‡½æ•°æ¥è¯†åˆ«æ½œåœ¨çš„å¯¹äºå°ºåº¦å’Œæ—‹è½¬ä¸å˜çš„å…´è¶£ç‚¹ã€‚</p></li>
<li><p>å…³é”®ç‚¹å®šä½ï¼šåœ¨æ¯ä¸ªå€™é€‰çš„ä½ç½®ä¸Šï¼Œé€šè¿‡ä¸€ä¸ªæ‹Ÿåˆç²¾ç»†çš„æ¨¡å‹æ¥ç¡®å®šä½ç½®å’Œå°ºåº¦ã€‚å…³é”®ç‚¹çš„é€‰æ‹©ä¾æ®äºå®ƒä»¬çš„ç¨³å®šç¨‹åº¦ã€‚</p></li>
<li><p>æ–¹å‘ç¡®å®šï¼šåŸºäºå›¾åƒå±€éƒ¨çš„æ¢¯åº¦æ–¹å‘ï¼Œåˆ†é…ç»™æ¯ä¸ªå…³é”®ç‚¹ä½ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹å‘ã€‚æ‰€æœ‰åé¢çš„å¯¹å›¾åƒæ•°æ®çš„æ“ä½œéƒ½ç›¸å¯¹äºå…³é”®ç‚¹çš„æ–¹å‘ã€å°ºåº¦å’Œä½ç½®è¿›è¡Œå˜æ¢ï¼Œä»è€Œæä¾›å¯¹äºè¿™äº›å˜æ¢çš„ä¸å˜æ€§ã€‚</p></li>
<li><p>å…³é”®ç‚¹æè¿°ï¼šåœ¨æ¯ä¸ªå…³é”®ç‚¹å‘¨å›´çš„é‚»åŸŸå†…ï¼Œåœ¨é€‰å®šçš„å°ºåº¦ä¸Šæµ‹é‡å›¾åƒå±€éƒ¨çš„æ¢¯åº¦ã€‚è¿™äº›æ¢¯åº¦è¢«å˜æ¢æˆä¸€ç§è¡¨ç¤ºï¼Œè¿™ç§è¡¨ç¤ºå…è®¸æ¯”è¾ƒå¤§çš„å±€éƒ¨å½¢çŠ¶çš„å˜å½¢å’Œå…‰ç…§å˜åŒ–ã€‚</p></li>
</ol></li>
<li><p>Pythonå®ç°åº“å‡½æ•°ï¼š<a href="http://scikit-image.org/docs/stable/api/skimage.feature.html#daisy">è¯·ç‚¹è¿™é‡Œ</a> ï¼ˆè¿™ä¸ªå®ç°æœ‰è¿‘ä¼¼æˆåˆ†ï¼‰</p></li>
</ul>
<h2 id="ä»¥ä¸Šå†…å®¹çš„pythonå®ç°-github-åœ°å€è¯·ç‚¹è¿™é‡Œ">ä»¥ä¸Šå†…å®¹çš„Pythonå®ç° Github åœ°å€ï¼š<a href="https://github.com/miracleyou/cs231n_assignment_HUST/blob/master/cs231n_assignment1_HUST.ipynb">è¯·ç‚¹è¿™é‡Œ</a></h2>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>CV</tag>
        <tag>image-processing</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorchä¸­å¸¸ç”¨å›¾åƒå˜æ¢</title>
    <url>/2018/04/13/img-pre-process/</url>
    <content><![CDATA[<h1 id="pytorch-torchvision-transform">pytorch torchvision transform</h1>
<ol type="1">
<li><a href="https://ptorch.com/docs/1/transforms#transforms-on-pil-image">å¯¹PIL.Imageè¿›è¡Œå˜æ¢</a></li>
<li><a href="https://ptorch.com/docs/1/transforms#transforms-on-torch-tensor">å¯¹Tensorè¿›è¡Œå˜æ¢</a></li>
<li><a href="https://ptorch.com/docs/1/transforms#conversion-transforms">Conversion Transforms</a></li>
<li><a href="https://ptorch.com/docs/1/transforms#generic-transforms">é€šç”¨å˜æ¢</a></li>
</ol>
<span id="more"></span>
<hr>
<p>å˜æ¢æ˜¯å¸¸ç”¨çš„å›¾åƒå˜æ¢ã€‚å®ƒä»¬å¯ä»¥ç”¨<code>Compose</code>è¿æ¥åœ¨ä¸€èµ·ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">Compose</span>(<span class="params">transforms</span>)</span></span><br></pre></td></tr></table></figure>
<p>å°†å¤šä¸ªtransformç»„åˆèµ·æ¥ä½¿ç”¨ã€‚</p>
<p>transformsï¼š ç”±transformæ„æˆçš„åˆ—è¡¨. ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">transforms.Compose([</span><br><span class="line">     transforms.CenterCrop(<span class="number">10</span>),</span><br><span class="line">    transforms.ToTensor(),</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<h4 id="å¯¹pil.imageè¿›è¡Œå˜æ¢">å¯¹PIL.Imageè¿›è¡Œå˜æ¢</h4>
<hr>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">Scale</span>(<span class="params">size, interpolation=<span class="number">2</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>æŒ‰ç…§è§„å®šçš„å°ºå¯¸é‡æ–°è°ƒèŠ‚<code>PIL.Image</code>ã€‚</p>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ol type="1">
<li>size (sequence or int) - æœŸæœ›è¾“å‡ºå°ºå¯¸ã€‚å¦‚æœsizeæ˜¯ä¸€ä¸ªåƒ(w, h)çš„åºåˆ—ï¼Œè¾“å‡ºå¤§å°å°†æŒ‰ç…§w,håŒ¹é…åˆ°ã€‚å¦‚æœå¤§å°æ˜¯intï¼Œåˆ™å›¾åƒå°†åŒ¹é…åˆ°è¿™ä¸ªæ•°å­—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåŸå›¾çš„<code>height&gt;width</code>,é‚£ä¹ˆæ”¹å˜å¤§å°åçš„å›¾ç‰‡å¤§å°æ˜¯<code>(size*height/width, size)</code>ã€‚</li>
<li>interpolation (int, optional) -éœ€è¦æ·»åŠ å€¼ã€‚é»˜è®¤çš„æ˜¯<code>PIL.Image.BILINEAR</code></li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">CenterCrop</span>(<span class="params">size</span>)</span></span><br></pre></td></tr></table></figure>
<p>å°†ç»™å®šçš„PIL.Imageè¿›è¡Œä¸­å¿ƒåˆ‡å‰²ï¼Œå¾—åˆ°ç»™å®šçš„sizeï¼Œsizeå¯ä»¥æ˜¯tupleï¼Œ(target_height, target_width)ã€‚sizeä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªIntegerï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ‡å‡ºæ¥çš„å›¾ç‰‡çš„å½¢çŠ¶æ˜¯æ­£æ–¹å½¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">RandomCrop</span>(<span class="params">size, padding=<span class="number">0</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>åˆ‡å‰²ä¸­å¿ƒç‚¹çš„ä½ç½®éšæœºé€‰å–ã€‚sizeå¯ä»¥æ˜¯tupleä¹Ÿå¯ä»¥æ˜¯Integerã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">RandomHorizontalFlip</span></span></span><br></pre></td></tr></table></figure>
<p>éšæœºæ°´å¹³ç¿»è½¬ç»™å®šçš„PIL.Image,æ¦‚ç‡ä¸º0.5ã€‚å³ï¼šä¸€åŠçš„æ¦‚ç‡ç¿»è½¬ï¼Œä¸€åŠçš„æ¦‚ç‡ä¸ç¿»è½¬ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">RandomSizedCrop</span>(<span class="params">size, interpolation=<span class="number">2</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>å…ˆå°†ç»™å®šçš„PIL.Imageéšæœºåˆ‡ï¼Œç„¶åå†resizeæˆç»™å®šçš„sizeå¤§å°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">Pad</span>(<span class="params">padding, fill=<span class="number">0</span></span>)</span></span><br></pre></td></tr></table></figure>
<p>å°†ç»™å®šçš„PIL.Imageçš„æ‰€æœ‰è¾¹ç”¨ç»™å®šçš„pad valueå¡«å……ã€‚ paddingï¼šè¦å¡«å……å¤šå°‘åƒç´  fillï¼šç”¨ä»€ä¹ˆå€¼å¡«å……</p>
<h4 id="å¯¹tensorè¿›è¡Œå˜æ¢">å¯¹Tensorè¿›è¡Œå˜æ¢</h4>
<hr>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">Normalize</span>(<span class="params">mean, std</span>)</span></span><br></pre></td></tr></table></figure>
<p>ç»™å®šå‡å€¼ï¼š(R,G,B) æ–¹å·®ï¼šï¼ˆRï¼ŒGï¼ŒBï¼‰ï¼Œå°†ä¼šæŠŠTensoræ­£åˆ™åŒ–ã€‚å³ï¼šNormalized_image=(image-mean)/stdã€‚</p>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ol type="1">
<li>mean (sequence) â€“ åºåˆ—R, G, Bçš„å‡å€¼ã€‚</li>
<li>std (sequence) â€“ åºåˆ— R, G, B çš„å¹³å‡æ ‡å‡†åå·®.</li>
</ol>
<p><strong>call(tensor)</strong> å‚æ•°: tensor (Tensor) â€“ è§„èŒƒåŒ–çš„å¤§å°ï¼ˆcï¼Œhï¼Œwï¼‰çš„å¼ é‡å›¾åƒ. è¿”å›ç»“æœ: è§„èŒƒåŒ–çš„å›¾ç‰‡. è¿”å›æ ·å¼: Tensorå¼ é‡</p>
<h4 id="å¯¹conversionè¿›è¡Œå˜æ¢">å¯¹Conversionè¿›è¡Œå˜æ¢</h4>
<hr>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">ToTensor</span></span></span><br></pre></td></tr></table></figure>
<p>æŠŠä¸€ä¸ªå–å€¼èŒƒå›´æ˜¯[0,255]çš„PIL.Imageæˆ–è€…shapeä¸º(H,W,C)çš„numpy.ndarrayï¼Œè½¬æ¢æˆå½¢çŠ¶ä¸º[C,H,W]ï¼Œå–å€¼èŒƒå›´æ˜¯[0,1.0]çš„torch.FloadTensor</p>
<p><strong>call(pic)</strong></p>
<ol type="1">
<li>å‚æ•°: pic (PIL.Image or numpy.ndarray) â€“ å›¾ç‰‡è½¬æ¢ä¸ºå¼ é‡.</li>
<li>è¿”å›ç»“æœ: è½¬æ¢åçš„å›¾åƒã€‚</li>
<li>è¿”å›æ ·å¼: Tensorå¼ é‡</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">ToPILImage</span></span></span><br></pre></td></tr></table></figure>
<p>å°†shapeä¸º(C,H,W)çš„Tensoræˆ–shapeä¸º(H,W,C)çš„numpy.ndarrayè½¬æ¢æˆPIL.Imageï¼Œå€¼ä¸å˜ã€‚</p>
<p><strong>call(pic)</strong></p>
<ol type="1">
<li>å‚æ•°: pic (Tensor or numpy.ndarray) â€“ å›¾åƒè½¬æ¢ä¸ºpil.imageã€‚</li>
<li>è¿”å›ç»“æœ: å›¾åƒè½¬æ¢ä¸ºPIL.Image.</li>
<li>è¿”å›æ ·å¼: PIL.Image</li>
</ol>
<h4 id="é€šç”¨å˜æ¢">é€šç”¨å˜æ¢</h4>
<hr>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">torchvision</span>.<span class="title">transforms</span>.<span class="title">Lambda</span>(<span class="params">lambd</span>)</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨lambdä½œä¸ºè½¬æ¢å™¨ã€‚</p>
<p>å‚æ•°è¯´æ˜: lambd (function) â€“ Lambda/function ç”¨äºè½¬æ¢.</p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨IPV6å’Œè¿œç¨‹æ¡Œé¢è¿æ¥å±€åŸŸç½‘ä¸­çš„ä¸»æœº</title>
    <url>/2019/09/18/ipv6-out/</url>
    <content><![CDATA[<p>å‰å‡ å¤©è£…é…äº†ä¸€ä¸ªæ€§èƒ½å’Œä½“éªŒéƒ½ååˆ†ä¸é”™çš„ä¸»æœºä¹‹åï¼Œè€ƒè™‘åˆ°åé¢å¯èƒ½å¤§å¤šæ•°æ—¶é—´æˆ‘å¯èƒ½è¿˜æ˜¯ä¼šåœ¨å®éªŒå®¤é‡Œå·¥ä½œï¼Œæ‰€ä»¥ä¸ºäº†éšæ—¶èƒ½å¤Ÿè®¿é—®ä¸»æœºä¸­çš„å„ç§èµ„æ–™ã€ç¨‹åºä»¥åŠæ¸¸æˆè€Œä¸ç”¨éšæ—¶æ’æ‹”å¹¶èƒŒä¸Šæ²‰é‡çš„ç¡¬ç›˜ç­‰è®¾å¤‡ï¼Œä½¿ç”¨è¿œç¨‹æ¡Œé¢è¿›è¡Œè®¿é—®æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹æŒç»­äº†æ¥è¿‘ä¸€å¤©ï¼Œæœ€ç»ˆåšåˆ°äº†ï¼š<strong>ä¸ç”¨èŠ±ä¸€åˆ†é’±ï¼ˆå‰ææ˜¯ä½ æ‹¥æœ‰ä¸€ä¸ªå¯ç”¨çš„åŸŸåï¼‰ï¼Œä¸ä½¿ç”¨èŠ±ç”Ÿå£³ä¹‹ç±»çš„æœåŠ¡ï¼Œèƒ½åœ¨ç›¸äº’é—´é“¾è·¯æ”¯æŒIPV6çš„è®¾å¤‡è®¿é—®è‡ªå·±çš„ä¸»æœºã€‚(è¿™ä¸€å‡è®¾èƒ½å¦æˆç«‹ç”±ç›¸äº’é—´ç‰©ç†è·ç¦»ä»¥åŠèº«è¾¹ipv6æ™®åŠæƒ…å†µè€Œå®š)</strong>ä¸‹é¢æ˜¯è¯¦ç»†çš„æ­¥éª¤è¯´æ˜ï¼š</p>
<span id="more"></span>
<h2 id="æŸ¥çœ‹ä¸»æœºä¸è·¯ç”±å™¨çš„åŸºæœ¬ä¿¡æ¯">æŸ¥çœ‹ä¸»æœºä¸è·¯ç”±å™¨çš„åŸºæœ¬ä¿¡æ¯</h2>
<p>ä¸ºäº†è¿œç¨‹è®¿é—®æˆ‘ä»¬çš„ä¸»æœºï¼Œé¦–å…ˆæœ‰å¿…è¦ææ¸…æ¥šä¸€äº›åŸºæœ¬çš„ä¿¡æ¯ï¼Œå¦‚ä½¿ç”¨<code>ipconfig</code>ç¡®å®šIPV4/IPV6åœ°å€ï¼Œå¹¶åˆ¤æ–­å…¶ipæ˜¯å±äºå±€åŸŸç½‘è¿˜æ˜¯å…¬ç½‘ã€‚å±€åŸŸç½‘æœ‰ä¸‰æ®µåœ°å€ï¼Œåˆ¤æ–­æ–¹å¼å¦‚ä¸‹ï¼š</p>
<p>Aç±»ï¼Œç¬¬ä¸€æ®µä¸º10çš„éƒ½ä¸ºç§ç½‘åœ°å€ï¼Œæˆ–10.0.0.1--10.255.255.254ï¼Œå…¶ä¸­10.0.0.0è¡¨ç¤ºæ•´ä¸ªç½‘æ®µï¼Œ10.0.0.255æ˜¯å¹¿æ’­åœ°å€ã€‚ Bç±»ï¼Œä»¥172.16--172.31å¼€å¤´çš„éƒ½æ˜¯ç§ç½‘åœ°å€ï¼Œæˆ–172.16.0.0.1--172.31.255.254ï¼Œå…¶ä¸­172.16.0.0è¡¨ç¤ºæ•´ä¸ªç½‘æ®µï¼Œ172.16.255.255æ˜¯å¹¿æ’­åœ°å€ Cç±»ï¼Œä»¥192.168å¼€å¤´çš„éƒ½æ˜¯ç§ç½‘åœ°å€ï¼Œæˆ–192.168.0.1--192.168.255.254ï¼Œå…¶ä¸­192.168.0.0è¡¨ç¤ºæ•´ä¸ªç½‘æ®µï¼Œ192.168.0.255æ˜¯å¹¿æ’­åœ°å€</p>
<p><img src="/2019/09/18/ipv6-out/006y8mN6ly1g7lwr7qshmj30qo0dcjsm.jpg"></p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å®¶ä¸­æˆ–å®éªŒå®¤ä¸­çš„è®¾å¤‡è¢«åˆ†é…çš„éƒ½æ˜¯å†…ç½‘ipï¼Œæ³¨æ„è¿™é‡Œçš„ipæŒ‡çš„éƒ½æ˜¯ipv4ï¼Œä¹‹åå†ç»ç”±NAT(Net Adress Translation)è¢«æ˜ å°„å‡ºå¤–ç½‘ã€‚</p>
<p>æŸ¥è¯¢è·¯ç”±å™¨å¯¹åº”çš„å…¬ç½‘ipç”±è°ƒæŸ¥æ‰€çŸ¥æœ‰ä¸¤ç§æ˜“è¡Œæ–¹æ¡ˆï¼š</p>
<ol type="1">
<li>ç›´æ¥ç™»å½•è·¯ç”±å™¨çš„ç®¡ç†é¡µé¢æŸ¥çœ‹ æ¯”å¦‚æˆ‘ä½¿ç”¨çš„xfinityè·¯ç”±å™¨ï¼Œç™»å½•ç•Œé¢å°±æ˜¯è¿™æ ·ã€‚è€Œç™»å½•ç½‘å€ï¼Œå¾€å¾€æ˜¯ä¸Šå›¾ä¸­çš„â€œé»˜è®¤ç½‘å…³â€çš„ipåœ°å€ï¼Œåœ¨æˆ‘è¿™é‡Œå°±æ˜¯10.0.0.1</li>
</ol>
<p><img src="/2019/09/18/ipv6-out/006y8mN6ly1g7lwr40md9j30xf0u0wh2.jpg" alt="è·¯ç”±å™¨ç™»å½•ç•Œé¢"> <img src="/2019/09/18/ipv6-out/006y8mN6ly1g7lwr2xyohj30u0133wi0.jpg" alt="è·¯ç”±å™¨è¯¦ç»†ä¿¡æ¯"></p>
<ol start="2" type="1">
<li>ä½¿ç”¨ä¸€äº›æä¾›å…¬ç½‘ipæŸ¥è¯¢çš„<a href="https://ifconfig.me">ç½‘ç«™</a>è¿›è¡ŒæŸ¥è¯¢ã€‚ç”±äºå†…ç½‘ä¸­çš„è®¾å¤‡éƒ½ç»è¿‡äº†NATçš„è½¬æ¢ï¼Œæ‰€ä»¥æŸ¥å‡ºæ¥çš„è¿™ä¸ªipæ—¢æ˜¯ä½ å¯¹å¤–æš´éœ²çš„ipv4åœ°å€ï¼Œä¹Ÿæ˜¯è·¯ç”±å™¨çš„ipv4åœ°å€ï¼Œä½†è¿™ç§æ–¹å¼æ¯”èµ·ç›´æ¥ç™»å½•æŸ¥çœ‹å¯èƒ½ä¼šå·®ä¸€äº›ï¼Œé€‚ç”¨äºæ²¡æœ‰è·¯ç”±å™¨æƒé™æ—¶ä½¿ç”¨ã€‚ <img src="/2019/09/18/ipv6-out/006y8mN6ly1g7lwra8jl2j30u013gq70.jpg"></li>
</ol>
<h2 id="æ‰“å¼€ä¸»æœºä¸Šçš„å…³äºè¿œç¨‹è¿æ¥çš„è®¾ç½®">æ‰“å¼€ä¸»æœºä¸Šçš„å…³äºè¿œç¨‹è¿æ¥çš„è®¾ç½®</h2>
<p>å…·ä½“æ“ä½œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ‰“å¼€æ§åˆ¶é¢æ¿ä¸­çš„è¿œç¨‹è®¾ç½®ï¼Œå‹¾é€‰ç›¸åº”é€‰é¡¹å³å¯ã€‚</p>
<p><img src="/2019/09/18/ipv6-out/006y8mN6ly1g7lwr6gm1wj31hb0u0djp.jpg"></p>
<h2 id="å±€åŸŸç½‘ä¸‹éªŒè¯ipv4è¿æ¥ä¸ipv6è¿æ¥">å±€åŸŸç½‘ä¸‹éªŒè¯ipv4è¿æ¥ä¸ipv6è¿æ¥</h2>
<p>åœ¨ä¸»æœºä»¥å¤–çš„è®¾å¤‡ä¸Šå°è¯•å¯¹ä¸»æœºè¿›è¡Œè¿æ¥ï¼Œç¡®è®¤å±€åŸŸç½‘ä¸‹å¯ä»¥è¿›è¡Œè¿æ¥ã€‚è¿™é‡Œæ¨èå¾®è½¯çš„<strong>Microsoft Remote Desktop</strong>è½¯ä»¶ã€‚å…¶æ”¯æŒWindowsã€Macã€iOSã€Androidç­‰ä¸»æµå¹³å°ï¼Œä½¿ç”¨ååˆ†ç®€æ˜“æ–¹ä¾¿ã€‚æ­¤å¤„ä¸å±•å¼€ã€‚</p>
<h2 id="è®¾ç½®äºŒçº§åŸŸåä¸è§£æ">è®¾ç½®äºŒçº§åŸŸåä¸è§£æ</h2>
<h3 id="ç™»å½•åŸŸåæœåŠ¡å•†">ç™»å½•åŸŸåæœåŠ¡å•†</h3>
<p><img src="/2019/09/18/ipv6-out/006y8mN6ly1g7lwr8uolrj31p10u0goq.jpg"></p>
<p>ç‚¹å‡»å¯¹åº”åŸŸåæœ€å³ä¾§çš„â€œè§£æâ€æŒ‰é’®ï¼ˆåœ¨æˆªå›¾å¤–é¢ï¼‰ï¼Œè¿›å…¥åŸŸåè§£æè®¾ç½®ã€‚ç”±äºipv4è¢«è®¾ç½®äº†NATï¼Œæ‰€ä»¥å¾ˆéš¾åœ¨ä¸åšå†…ç½‘ç©¿é€çš„æƒ…å†µä¸‹è¿›è¡Œä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨æ²¡æœ‰æœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œè€Œç§ŸèµæœåŠ¡å™¨çš„ä»·æ ¼å¹¶ä¸ä¾¿å®œï¼Œä¸”é“¾æ¥é€Ÿåº¦å°†ä¼šåŒæ—¶å—åˆ°ç©¿é€æœåŠ¡å™¨çš„ç½‘é€Ÿåˆ¶çº¦ï¼Œæ‰€ä»¥å¹¶ä¸æ¨èã€‚</p>
<h3 id="æ·»åŠ äºŒçº§åŸŸåè§£æè®°å½•">æ·»åŠ äºŒçº§åŸŸåè§£æè®°å½•</h3>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œè¿™é‡Œå†³å®šé‡‡ç”¨IPV6ç›´æ¥è§£æï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯IPV6æ˜¯ä¸åšNATçš„ï¼Œä¹Ÿå³å…¶å’Œè®¾å¤‡æ˜¯å”¯ä¸€å¯¹åº”çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„åœ°æ–¹ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°†åœ¨æˆ‘ä»¬å·²ç»å…¥æ‰‹çš„åŸŸåä¸Šæ·»åŠ ä¸€ä¸ªäºŒçº§åŸŸåï¼Œå³åœ¨ä¸€çº§åŸŸåå‰å†åŠ ä¸€ä¸ªå‰ç¼€ï¼Œå¦‚<code>domainname.com</code>å¯ä»¥æ‹¥æœ‰æ— æ•°ä¸ª<code>xxx.domainname.com</code>ï¼Œè¿™ä¸ªxxxå¯ä»¥è‡ªå®šä¹‰ã€‚</p>
<p>ç”±äºæˆ‘ä»¬è¦åšçš„æ˜¯å¯¹ipv6çš„è§£æï¼Œæ‰€ä»¥è¿™é‡Œæ·»åŠ ä¸€æ¡<strong>AAAA</strong>è®°å½•ã€‚è€Œè¿™ä¸ªè®°å½•æ˜¯ä¸ºäº†æˆ‘çš„windowsåŸŸåè§£ææœåŠ¡ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä½¿ç”¨äº†â€œwinâ€è¿™ä¸ªå‰ç¼€ï¼ˆè¿™ä¸ªéšæ„å…¶å®ï¼‰ã€‚</p>
<p><img src="/2019/09/18/ipv6-out/006y8mN6ly1g7lwr58axpj33k60mqq77.jpg"></p>
<p>è¿™æ¡è®°å½•å¯¹åº”çš„è®°å½•å€¼å³ä¸ºåˆšæ‰æˆ‘ä»¬ç”¨ipconfigæŸ¥å‡ºæ¥çš„é‚£ä¸ªâ€œä¸´æ—¶ipv6åœ°å€â€ã€‚ä¿å­˜é€€å‡ºã€‚</p>
<h2 id="åœ¨ç”µè„‘ä¸Šéƒ¨ç½²ddnsæœåŠ¡">åœ¨ç”µè„‘ä¸Šéƒ¨ç½²DDNSæœåŠ¡</h2>
<p>æˆ‘ä»¬ç°åœ¨å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªä¸ä¸»æœºipv6å¯¹åº”çš„åŸŸåï¼Œå³æˆ‘ä»¬ç°åœ¨å·²ç»å¯ä»¥ä½¿ç”¨åŸŸåè®¿é—®æˆ‘ä»¬çš„ä¸»æœºäº†ï¼ˆå‰ææ˜¯å‰é¢åœ¨å±€åŸŸç½‘å†…æµ‹è¯•é€šè¿‡ï¼‰ï¼Œæˆ‘ä»¬åœ¨Microsoft Remote Desktopä¸Šæ–°å»ºä¸€ä¸ªè¿æ¥ï¼ŒæŠŠåˆšæ‰è¾“å…¥ipçš„åœ°æ–¹è¿™æ¬¡è¾“æˆåˆšæ‰è§£æçš„åŸŸåï¼Œåœ¨æˆ‘è¿™å³ä¸ºâ€œwin.xxxxxxxx.xxxâ€ã€‚åšä¸€æ¬¡è¿æ¥æµ‹è¯•ï¼Œå¦‚æœè¿æ¥æˆåŠŸï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ çš„ipv6åœ°å€å·²ç»å¾ˆå¥½çš„ç»‘å®šåˆ°åŸŸåä¸Šäº†ï¼Œæˆ‘ä»¬å¯è¿›è¡Œä¸‹ä¸€æ­¥â€”â€”éƒ¨ç½²DDNSæœåŠ¡ã€‚</p>
<p>è‡³äºä»€ä¹ˆäº‹DDNSï¼Œæ—¢ç„¶æœ‰ç°æˆçš„è§£é‡Šï¼Œæˆ‘å°±ä¸å¼ºè¡Œå†åŠ å·¥äº†ï¼Œä¸‹é¢é™„ä¸Š<a href="https://zhuanlan.zhihu.com/p/46580280">çŸ¥ä¹</a>ä¸Šä¸€æ®µè¯´æ˜ï¼š &gt; DDNSçš„å…¨ç§°æ˜¯åŠ¨æ€åŸŸåæœåŠ¡ï¼Œç®€å•çš„è¯´å°±æ˜¯æŠŠä¸€ä¸ªIPåœ°å€æ˜ å°„åˆ°ä¸€ä¸ªåŸŸåèº«ä¸Šï¼Œä¸€èˆ¬å¤§å…¬å¸è¯¸å¦‚ç™¾åº¦è¿™äº›IPéƒ½æ˜¯å›ºå®šçš„ï¼Œè€Œå¯¹ä¸ªäººç”¨æˆ·æ¥è¯´ï¼Œæƒ³æœ‰ä¸€ä¸ªå›ºå®šçš„å®¶åº­ç½‘ç»œIPåœ°å€æ˜¾ç„¶æ˜¯ä¸€ä»¶ä¸ç°å®çš„äº‹æƒ…ï¼Œå› ä¸ºé¦–å…ˆä¸è¯´å¤§éƒ¨åˆ†äººéƒ½æ˜¯è¿è¥å•†çš„å†…ç½‘IPï¼Œå³ä¾¿å°‘éƒ¨åˆ†äººç”³è¯·åˆ°äº†å…¬ç½‘IPï¼Œä¹Ÿéƒ½ä¸æ˜¯å›ºå®šçš„ï¼Œå› ä¸ºIPV4èµ„æºå¾ˆç´§å¼ ï¼Œä¸å¯èƒ½ç»™æ¯ä¸ªäººéƒ½åˆ†é…å…¬ç½‘IPï¼Œè¿™ä¸ªé—®é¢˜åˆ°IPV6å¯ä»¥è§£å†³ï¼Œä½†æ˜¯é‚£ä¹Ÿæ˜¯ä»¥åçš„äº‹æƒ…äº†ï¼Œè€Œä¸”å›ºå®šIPè´¹ç”¨éå¸¸é«˜æ˜‚ï¼Œä¸æ˜¯ä¸€èˆ¬äººå¯ä»¥æ‰¿å—çš„ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨å¤–ç½‘æƒ³è¦è®¿é—®æˆ‘ä»¬çš„å®¶åº­ç½‘ç»œæ€ä¹ˆåŠå‘¢ï¼Ÿè¿™å°±éœ€è¦DDNSäº†ï¼ŒDDNSå°†ç”¨æˆ·çš„åŠ¨æ€IPåœ°å€æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šçš„åŸŸåè§£ææœåŠ¡ä¸Šï¼Œç”¨æˆ·æ¯æ¬¡è¿æ¥ç½‘ç»œçš„æ—¶å€™å®¢æˆ·ç«¯ç¨‹åºå°±ä¼šé€šè¿‡ä¿¡æ¯ä¼ é€’æŠŠè¯¥ä¸»æœºçš„åŠ¨æ€IPåœ°å€ä¼ é€ç»™ä½äºæœåŠ¡å•†ä¸»æœºä¸Šçš„æœåŠ¡å™¨ç¨‹åºï¼Œè€ŒæœåŠ¡å™¨ç¨‹åºè´Ÿè´£æä¾›DNSæœåŠ¡å¹¶å®ç°åŠ¨æ€åŸŸåè§£æã€‚è¿™æ ·æˆ‘ä»¬åªè¦åœ¨å¤–éƒ¨è¾“å…¥æˆ‘ä»¬çš„åŸŸåå°±å¯ä»¥è®¿é—®äº†ï¼Œå³ä¾¿IPæ¢äº†ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>å½“ç„¶ï¼ŒåŸæ–‡æ˜¯è®²ç”¨ipv4åšDDNSï¼Œå¹¶è¦æ¶‰åŠåˆ°èŠ±ç”Ÿå£³å’Œè·¯ç”±å™¨è®¾ç½®ï¼Œä½†å¾ˆå¤šæƒ…å†µä¸‹ç€å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦å’Œæƒ³è¦æ‰¿å—çš„è´Ÿæ‹…ã€‚é‚£ä¹ˆå¦‚ä½•åœ¨æ²¡æœ‰è·¯ç”±å™¨æƒé™çš„æƒ…å†µä¸‹åšåˆ°åŠ¨æ€çš„åŸŸåè§£æï¼Ÿ</p>
<p>è¿™é‡Œæˆ‘ä½¿ç”¨äº†ç äº‘ä¸Šä¸€ä¸ª<a href="https://gitee.com/XuChaoProject/AliyunDdnsCSharp">Windowsçš„åŠ¨æ€åŸŸåè§£ææœåŠ¡</a>ï¼Œè¯¦æƒ…è¯·è‡ªè¡Œç‚¹å‡»é“¾æ¥ç ”ç©¶ï¼Œè¿™é‡Œä¸åšè¿‡å¤šè¯´æ˜ã€‚ç®€å•çš„åŸç†å°±æ˜¯å®ƒåœ¨åå°å¼€äº†ä¸€ä¸ªWindowsæœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡æ¯éš”xåˆ†é’Ÿä¾¿ä¼šå°†ä½ ç”µè„‘å½“å‰çš„ipv6åœ°å€è§£æåˆ°é˜¿é‡Œäº‘çš„äº‘è§£ææœåŠ¡å™¨ä¸Šï¼Œæœ€ä¼˜ç§€çš„æ˜¯å®ƒæ˜¯é»˜è®¤å¼€æœºå¯åŠ¨çš„ï¼Œä»æ­¤å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘çš„åŸŸåæ²¡æ³•å®æ—¶è§£æï¼</p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ æ˜¯linuxç”¨æˆ·ï¼Œå…¶å®ä½ çš„é€‰æ‹©æ›´å¤šï¼ŒGitHubä¸Šæœ‰å¥½å‡ ä¸ªåŠ¨æ€è§£æä»£ç å¯ä¾›ä½¿ç”¨ï¼Œè¿™é‡Œåˆ—å‡ºå‡ ä¸ªï¼š 1. https://github.com/yyqian/aliyun-ddns 2. https://github.com/AlanLang/aliyun-ddns-server 3. https://github.com/rfancn/aliyun-ddns-client ï¼ˆè¿™ä¸ªæ˜¯pyè„šæœ¬ï¼Œä¸è¿‡åªæ”¯æŒipv4è§£æï¼Œå§‘ä¸”åˆ—ä¸Šæ¥ï¼‰</p>
<p>é…ç½®å¥½åï¼Œç†è®ºä¸Šä½ å°±æ‹¥æœ‰äº†ä¸€ä¸ªå¯ä»¥è¢«å¤–ç½‘è®¿é—®åˆ°çš„ä¸»æœºäº†ï¼Œæ­å–œä½ ï¼</p>
]]></content>
      <tags>
        <tag>tech</tag>
        <tag>tool</tag>
        <tag>ipv6</tag>
        <tag>reverse-proxy</tag>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>æ—¥æœ¬ã®é«˜ç­‰æ•™è‚²ã‚·ã‚¹ãƒ†ãƒ ã®ç´¹ä»‹</title>
    <url>/2018/07/29/japanese-u/</url>
    <content><![CDATA[<h1 id="æ—¥æœ¬ã®é«˜ç­‰æ•™è‚²ã‚·ã‚¹ãƒ†ãƒ ã®ç´¹ä»‹">æ—¥æœ¬ã®é«˜ç­‰æ•™è‚²ã‚·ã‚¹ãƒ†ãƒ ã®ç´¹ä»‹</h1>
<h2 id="overall-introduction">Overall Introduction</h2>
<h3 id="å¤§å­¦">å¤§å­¦</h3>
<p>ã€€ã€€æ—¥æœ¬çš„å¤§å­¦åˆ†ä¸ºä¸‰ç§ï¼šå›½ç«‹å¤§å­¦ã€å…¬ç«‹å¤§å­¦å’Œç§ç«‹å¤§å­¦ã€‚å›½ç«‹å¤§å­¦å°±æ˜¯å›½å®¶è®¾ç«‹çš„å­¦æ ¡ï¼Œæ¯”å¦‚ä¸œäº¬å¤§å­¦;å…¬ç«‹å¤§å­¦ä¸ºåœ°æ–¹è®¾ç½®çš„å¤§å­¦ï¼Œæ¯”å¦‚ä¸œäº¬éƒ½ç«‹å¤§å­¦;ç§ç«‹å¤§å­¦æ˜¯å­¦æ ¡æ³•äººè®¾ç«‹çš„å­¦æ ¡ï¼Œæ¯”å¦‚æ—©ç¨»ç”°ã€åº†åº”å¤§å­¦ã€‚ä¸è®ºå›½ç«‹ã€å…¬ç«‹æˆ–æ˜¯ç§ç«‹çš„å­¦æ ¡ï¼Œéƒ½éœ€ç»å›½å®¶æ•™è‚²ä¸»ç®¡éƒ¨é—¨çš„æ‰¹å‡†å’Œç›‘ç£ã€‚</p>
<span id="more"></span>
<p>ã€€ã€€åœ¨æ—¥æœ¬ï¼Œæ— è®ºå›½ç«‹ã€å…¬ç«‹æˆ–ç§ç«‹å¤§å­¦éƒ½æœ‰å°‘æ•°ä¸€æµå¤§å­¦ï¼Œæ¯”å¦‚å›½ç«‹çš„ä¸œäº¬å¤§å­¦ã€äº¬éƒ½å¤§å­¦ï¼Œç§ç«‹çš„æ—©ç¨»ç”°å¤§å­¦å’Œåº†åº”ä¹‰å¡¾å¤§å­¦ç­‰ï¼Œéƒ½æ˜¯ä¸–ç•Œé—»åçš„ä¼˜ç§€å­¦åºœã€‚æ€»ä¹‹ï¼Œä¸èƒ½ä»¥å›½ç«‹æˆ–æ˜¯ç§ç«‹çš„æ¦‚å¿µä½œä¸ºè¯„ä»·å¤§å­¦çš„æ ‡å‡†ã€‚è¿™äºŒè€…çš„åŒºåˆ«åªæ˜¯åœ¨äºï¼Œå›½ã€å…¬ç«‹å¤§å­¦çš„ç»è´¹ä¸»è¦ç”±å›½å®¶è´¢æ”¿æ‹¨æ¬¾ï¼Œå…¶å­¦è´¹ç›¸å¯¹ç§ç«‹å¤§å­¦è¦ä¾¿å®œä¸€äº›ã€‚</p>
<h3 id="å¤§å­¦é™¢">å¤§å­¦é™¢</h3>
<p>ã€€ã€€æ—¥æœ¬çš„<strong>å¤§å­¦é™¢</strong>æ˜¯è¯»<strong>ç¡•å£«å’Œåšå£«</strong>çš„åœ°æ–¹ã€‚æ—¥æœ¬çš„<strong>ç¡•å£«</strong>å«åš<strong>ä¿®å£«</strong>ï¼Œå­¦åˆ¶ä¸º<strong>ä¸¤å¹´</strong>ã€‚è™½ç„¶æ—¥æœ¬ä¹Ÿæœ‰ç ”ç©¶ç”Ÿè¿™ä¸ªæ¦‚å¿µï¼Œä½†æ˜¯ä¸ä¸­å›½çš„â€œç ”ç©¶ç”Ÿâ€æœ‰æ‰€ä¸åŒï¼š <em>ä¸­å›½çš„â€œç ”ç©¶ç”Ÿâ€æŒ‡çš„å°±æ˜¯ç¡•å£«ï¼Œè€Œæ—¥æœ¬çš„â€œ<strong>ç ”ç©¶ç”Ÿ</strong>â€æ˜¯æ—¥æœ¬ä¸€ç§ç‰¹æ®Šçš„åˆ¶åº¦ï¼Œæ˜¯ç”±äºå­¦ç”Ÿå°šæœªè¾¾åˆ°è¯»ä¿®å£«çš„æ°´å¹³ï¼Œéœ€èŠ±ä¸€å¹´å·¦å³çš„æ—¶é—´è·Ÿå¯¼å¸ˆè¡¥å……ç›¸åº”çš„çŸ¥è¯†è€Œè®¾ç«‹çš„åˆ¶åº¦ï¼Œå¤§çº¦ç›¸å½“äºç¡•å£«æˆ–æ˜¯åšå£«çš„é¢„ç§‘ï¼Œæ˜¯æ²¡æœ‰å­¦ä½çš„ã€‚</em> ä¸å¯ä»¥ä¸å›½å†…çš„ç ”ç©¶ç”Ÿåˆ’ç­‰å·ã€‚</p>
<p>ã€€ã€€æ—¥æœ¬çš„è¿˜æœ‰ä¸ºæ•°ä¸å°‘çš„çŸ­å¤§åŠä¸“é—¨å­¦æ ¡ã€‚çŸ­å¤§çš„å­¦åˆ¶ä¸º2åˆ°3å¹´ï¼Œå¤§çº¦ç›¸å½“äºæˆ‘å›½çš„å¤§ä¸“ï¼Œä¸»è¦æ˜¯å®¶æ”¿ã€äººæ–‡ã€æ•™è‚²åŠç¤¾ä¼šæ–¹é¢çš„ä¸“ä¸šã€‚ä¸“é—¨å­¦æ ¡ä¹Ÿç›¸å½“äºæˆ‘å›½çš„å¤§ä¸“ï¼Œä¸è¿‡ï¼Œæ—¥æœ¬çš„ä¸“ä¸šå­¦æ ¡æ˜¯è¿›è¡ŒèŒä¸šæ•™è‚²ï¼Œå¹¶æ•™æˆå¯å®é™…åº”ç”¨çš„æŠ€æœ¯ã€çŸ¥è¯†å’ŒæŠ€èƒ½ï¼Œä¸“ä¸šä»¥ç”µ å­ã€æœºæ¢°ã€åŒ–å·¥ä¸ºä¸»ï¼Œæ˜¯åŸ¹å…»é«˜çº§æŠ€æœ¯å·¥äººçš„å­¦æ ¡ã€‚</p>
<h3 id="è¯­è¨€å­¦æ ¡ä¸å¤§å­¦é¢„ç§‘">è¯­è¨€å­¦æ ¡ä¸å¤§å­¦é¢„ç§‘</h3>
<p>ã€€ã€€å¦‚æœç•™å­¦ç”Ÿå¸Œæœ›ç›´æ¥ç”³è¯·å¤§å­¦ã€å¤§å­¦é™¢æˆ–æ˜¯ä¸“é—¨å­¦æ ¡ï¼Œæ—¥è¯­å¿…é¡»è¾¾åˆ°äºŒçº§æ°´å¹³(å¦‚æœæƒ³è¿›ä¸€æµå¤§å­¦åˆ™å¿…é¡»è¾¾åˆ°ä¸€çº§)æ˜¯ç›¸å½“å…³é”®çš„ã€‚ä½†æ˜¯ï¼Œèƒ½æ»¡è¶³å¤§å­¦æ‰€æœ‰å…¥å­¦æ¡ä»¶çš„å­¦ç”Ÿæ¯•ç«Ÿæ˜¯å°‘æ•°ï¼Œå› æ­¤ï¼Œä¸ºäº†ç»™ç•™å­¦ç”Ÿä»¬æä¾›ä¸€ä¸ªè¿‡æ¸¡çš„ç¯å¢ƒï¼Œæ—¥æœ¬å‡ºç°äº†è¯­è¨€å­¦æ ¡å’Œå¤§å­¦é¢„ç§‘ã€‚ç•™å­¦ç”Ÿåœ¨å°±è¯»è¯­è¨€å­¦æ ¡å’Œå¤§å­¦é¢„ç§‘æ—¶ï¼Œä¸»è¦æ˜¯åŸ¹å…»è‡ªå·±çš„æ—¥è¯­èƒ½åŠ›å¹¶è¡¥ä¹ ä¸€äº›æ–‡åŒ–è¯¾çŸ¥è¯†ï¼Œä¸ºå‡å…¥å¤§å­¦åšå‡†å¤‡ã€‚</p>
<h2 id="merit-of-going-to-japan-to-continue-your-study-as-a-syuushi">Merit of Going to Japan to continue your study as a SyuuShi</h2>
<ol type="1">
<li>å›½ã€å…¬ç«‹å¤§å­¦åœ¨å…¥å›½ç®¡ç†å±€å’Œå¤§ä½¿é¦†æœ‰å¾ˆé«˜çš„ä¿¡èª‰ï¼Œæ‰€ä»¥ï¼Œç”³è¯·æ‰‹ç»­æ¯”è¾ƒç®€å•ï¼Œç­¾è¯ç‡ç™¾åˆ†ä¹‹ç™¾</li>
<li>æ˜¯ç•™æ—¥é¡¹ç›®ä¸­è´¹ç”¨æœ€ä½çš„ï¼Œæ­£å¼å…¥å­¦å<strong>å­¦è´¹å…¨å…æˆ–åŠå…çš„æ¯”ç‡å¾ˆé«˜</strong>ï¼Œ<strong>è·å¾—å¥–å­¦é‡‘çš„æœºä¼šå¾ˆå¤š</strong></li>
<li>å›½ã€å…¬ç«‹å¤§å­¦ä¸€èˆ¬éƒ½è®¾æœ‰é¢å‘ç•™å­¦ç”Ÿçš„å…è´¹è¯­è¨€è¯¾ç¨‹ï¼Œçœå»è¯»è¯­è¨€å­¦æ ¡çš„æ—¶é—´å’Œé‡‘é’±</li>
<li>å®¶å±å¯ä»¥ç”³è¯·é™ªè¯»</li>
<li>ç•™å­¦ç”Ÿå…¬å¯“</li>
<li>äº«å—å›½æ°‘å¥åº·ä¿é™©</li>
<li>æ¯•ä¸šåå°±ä¸šå‰æ™¯å¹¿é˜”</li>
</ol>
<h2 id="go-to-japan-to-study-cs">Go to Japan to study CS</h2>
<p>é¦–å…ˆè¿™ä¸ªé—®é¢˜çš„äº§ç”Ÿå’Œæ—¥æœ¬å›½æƒ…æœ‰å…³ï¼Œä½œä¸ºæ—©å·²è¿›å…¥å‘è¾¾å›½å®¶ï¼ˆå…±äº§ä¸»ä¹‰ï¼‰çš„æ—¥æœ¬ï¼Œ<em>å„ä¸ªè¡Œä¸šå‘å±•çš„éƒ½éå¸¸å¹³è¡¡ï¼Œæ¯ä¸ªè¡Œä¸šçš„å¾…é‡ä¹Ÿéƒ½å·®ä¸å¤š</em>ã€‚æ—¢ç„¶æ¯ä¸ªè¡Œä¸šéƒ½å·®ä¸å¤šï¼Œæ—¥æœ¬ITè¡Œä¸šå¥½åƒå¬èµ·æ¥å°±æ¯”è¾ƒç´¯ï¼Œå¹¶ä¸”åˆæœ‰ç€â€œ3Kå…šâ€çš„ä¼ è¯´ï¼ˆãã¤ã„ã€å³ã—ã„ã€å¸°ã‚Œãªã„ï¼‰ï¼Œè‡ªç„¶åœ¨æ—¥æœ¬æœ¬åœŸå®Œå…¨å°±æ²¡æœ‰æˆä¸ºçƒ­é—¨ä¸“ä¸šã€‚åè§‚å›½å†…ä¸ºä»€ä¹ˆè®¡ç®—æœºè¿™ä¹ˆç«ï¼Ÿè¯´ç™½äº†è¿˜æ˜¯<strong>å¾…é‡é—®é¢˜</strong>ï¼Œåœ¨å›½å†…é¢å‘funding projectå’Œé¢å‘å·¥èµ„ç¼–ç¨‹çš„å¯¼å‘ä¸‹ç å†œå¤§å†›å¦‚æ’å±±å€’æµ·ä¹‹åŠ¿è¢­æ¥ï¼Œæ°æœ‰ä¸€ç»Ÿå…¨å›½ä¹‹åŠ¿ï¼Œå› ä¸ºå›½å†…ä¸é€‰æ‹©è®¡ç®—æœºå‡ ä¹æ²¡æ³•æ‰¾åˆ°æœ‰é’±é€”çš„å·¥ä½œã€‚å°±æ‹¿æˆ‘è‡ªå·±æ¥è¯´å§ï¼Œå½“æ—¶å­¦æ ¡æœ€ç«çš„ä¸“ä¸šåˆ†æ•°è¦æ¯”è®¡ç®—æœºé«˜20åˆ†å·¦å³ï¼Œåœ¨ä¸æ±‚æœ€å¥½ä½†æ±‚æœ€é«˜çš„å¿ƒæ€é©±ä½¿ä¸‹è‡ªç„¶å°±é€‰äº†åˆ†æ•°æœ€é«˜çš„ä¸“ä¸šã€‚è€Œé«˜ä¸­åŒç­åŒå­¦ç”±äºæ¯”è‡ªå·±ä½20åˆ†ï¼Œè¢«ä»å½“æ—¶â€œæœ€çƒ­çš„ä¸“ä¸šâ€è°ƒå‰‚åˆ°è®¡ç®—æœºï¼Œåˆšå¼€å§‹åŒå­¦è¿˜æ„¤æ„¤ä¸å¹³ã€‚æ¯…ç§å¾ªç¯ï¼Œæ¯•ä¸šæ‰¾å·¥ä½œçš„æ—¶å€™åˆ°äº†ï¼ŒåŒå­¦å¹´è–ª20wï¼Œæˆ‘ç”±äºè¦å‡ºå›½åªæ˜¯æƒ³äº†è§£ä¸€ä¸‹å°±ä¸šå½¢åŠ¿ï¼Œç»“æœæ‹¿åˆ°æ”¶å…¥æœ€é«˜çš„å…¬å¸offeræ”¶å…¥æ²¡åˆ°åŒå­¦2åˆ†ä¹‹1â€¦å°±æˆ‘ä¸ªäººæ¥è¯´æ˜¯ä¸æ˜¯çœ‹ä¸­äº†é«˜è–ªæ‰è½¬csçš„å‘¢ï¼Ÿè¿™ä¹Ÿæ²¡ä»€ä¹ˆå¥½æ©é¥°çš„ï¼Œæ²¡é”™æˆ‘å°±æ˜¯æƒ³èµšé’±ï¼Œå½“ç„¶æœ¬èº«ä¹Ÿæ„Ÿå…´è¶£ï¼ˆå¹¶ä¸æ˜¯ä¸»è¦åŸå› ï¼‰</p>
<p>å¦ä¸€æ–¹é¢é—¨æ§›ä½æœªå°ä¸æ˜¯å¥½äº‹å‘¢ï¼Œåœ¨æˆ‘çœ‹æ¥è¿™æ°æ°ç»™å¹¿å¤§ç”±äºç§ç§åŸå› ç¼–ç¨‹å¹¶ä¸æ˜¯ç‰¹åˆ«å¼ºçš„ç•™å­¦ç”Ÿï¼Œæˆ–è€…æ˜¯æƒ³è½¬è¡Œåœ¨å›½å†…åˆæ— æ³•é©¬ä¸Šæ‰¾åˆ°ITå·¥ä½œçš„äººæä¾›äº†æœºä¼šï¼Œå¦‚æœè®¡ç®—æœºåœ¨æ—¥æœ¬ç«èµ·æ¥æˆ‘ä»¬è¿˜èƒ½è¿™ä¹ˆå®¹æ˜“æ‰¾åˆ°å·¥ä½œä¹ˆï¼Ÿå¯¹äºé‚£äº›ç¼–ç¨‹å®åŠ›å¾ˆå¼ºçš„äººæƒ³æ¥æ—¥æœ¬ï¼Œè¯·ç§»æ­¥å…­æœ¬æœ¨è°·æ­Œé«˜ç››ï¼Œè‹¹æœä¹Ÿæ‰“ç®—2017å¹´3æœˆåœ¨æ—¥æœ¬å»ºè®¾ç ”å‘ä¸­å¿ƒï¼Œä¸å°‘ç¾å›½ä¼ä¸šå®¶ä¹Ÿéƒ½æœ‰æ—¥æœ¬æƒ…èŠ‚ï¼Œæ¯”å¦‚ä¹”å¸®ä¸»çš„å¶åƒå°±æ˜¯ç››ç”°æ˜­å¤«ï¼Œå¯¹äºé‚£äº›å¾ˆä¼˜ç§€çš„äººæ—¥æœ¬ä¹Ÿä¸è‡³äºåŸ‹æ²¡äººæ‰ã€‚</p>
<p>å¾ˆå¤šäººæ‹¿æ—¥æœ¬å’Œç¾å›½csæ¯”ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯ä¸å¤ªå…¬å¹³çš„ã€‚é¦–å…ˆå¦‚æœçœŸçš„å¾ˆæœ‰å­¦æœ¯å¤©åˆ†ï¼Œæ‰“ç®—åšä¸€è¾ˆå­å­¦æœ¯ï¼Œå¹¶ä¸”è‡ªèº«ç¡¬ä»¶æå¥½ï¼Œæ³¨æ„æ˜¯ä¸€å®šæ˜¯æå¥½ï¼Œç¾å›½åæ ¡PhDçš„ç¡®æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä½†æˆ‘æƒ³å¤§å¤šæ•°äººå¯èƒ½å’Œæˆ‘ä¸€æ ·ï¼Œæœ¬ç§‘å¹¶æ²¡æœ‰çŸ³ç ´å¤©æƒŠçš„é¡¶ä¼šè®ºæ–‡ï¼Œæ²¡æœ‰é€†å¤©çš„GPAï¼Œä¹Ÿæ²¡æœ‰æ‹¿åˆ°æ‰‹è½¯çš„å›½é™…å¤§å¥–ï¼Œæœ‰çš„åªæ˜¯å·¥è–ªå®¶åº­è‡ªè´¹ä¸¤å¹´ä¼šç»™å®¶é‡Œå¸¦æ¥æ²‰é‡ç»æµè´Ÿæ‹…çš„å¿ƒç†å‹åŠ›ã€‚åœ¨è¿™æ ·çš„çŠ¶æ€ä¸‹ï¼Œèƒ½å¤Ÿæ­£å¸¸ç”Ÿæ´»éƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œè¿˜æœ‰å¤šå¤§çš„å¿ƒæ€ä¸“å¿ƒå­¦æœ¯å‘¢ï¼Ÿè€Œæ—¥æœ¬çš„å›½ç«‹å¤§å­¦å­¦è´¹å¯ä»¥è¯´ä½åˆ°äº†ä¸€å®šå¢ƒç•Œï¼Œæ¯”æ—¥æœ¬äººè¿˜ä¾¿å®œä¸€åŠï¼Œå‡ ä¹ç­‰äºç™½é€ï¼Œè€Œåœ¨ç¾å›½å­¦è´¹æ˜¯è¦æ¯”æœ¬åœŸé«˜å¾ˆå¤šçš„ã€‚å¦å¤–æ¹¾åŒºçš„ç”Ÿæ´»æˆæœ¬è¦æ¯”ä¸œäº¬é«˜å¾ˆå¤šï¼Œè™½ç„¶å·¥èµ„é«˜ä½†çœŸæŒ‰ç…§ç”Ÿæ´»è´¨é‡æ²¡æ³•è¯´ä¸€å®šæ¯”ä¸œäº¬å¥½ï¼Œæ—¥æœ¬çš„ç©ºæ°”è´¨é‡å’Œç”Ÿæ´»èˆ’é€‚åº¦ä¸€å¥è¯è¯´æ˜¯ä¸€ä¸ªæ¥äº†å°±ä¸æƒ³èµ°çš„åœ°æ–¹ã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯å¤§å®¶æ¯”è¾ƒå…³å¿ƒçš„é—®é¢˜ï¼Œæ—¢ç„¶æ—¥æœ¬äº’è”ç½‘ç¯å¢ƒè¿™ä¹ˆä¸å¥½ï¼Œé‚£å¯¹äºå°†æ¥çš„å‘å±•å²‚ä¸æ˜¯å¾ˆå¯æ€•ï¼Œä»€ä¹ˆéƒ½å­¦ä¸åˆ°æ€ä¹ˆåŠï¼Ÿå…¶å®å…¬å¸é‡Œè¿˜æ˜¯æœ‰ä¸å°‘äººæŒºå‰å®³çš„ï¼Œæˆ‘åˆšåˆšä¹Ÿè¯´è¿‡åœ¨æ—¥æœ¬é€‰æ‹©åšç å†œçš„éƒ½æ˜¯çœŸçˆ±ï¼Œå’Œå›½å†…é¢å‘å·¥èµ„ä¸ä¸€æ ·ï¼Œæ‰€ä»¥é‡Œé¢çš„äººå·¥ä½œçƒ­æƒ…éƒ½å¾ˆé«˜ã€‚åˆšè¿›å»çš„å‡ å¹´è‚¯å®šä¼šæœ‰æ¯”ä½ å‰å®³ä¸å°‘çš„å‰è¾ˆï¼Œå¹¶ä¸”ä½ é‡åˆ°ä¸ä¼šçš„ç»†èŠ‚é‡Œé¢çš„äººä¼šè·Ÿä½ ä¸€ç‚¹ç‚¹è¯¦ç»†è§£ç­”ã€‚å½“ç„¶ç¼–ç¨‹æœ€ä¸»è¦çš„è¿˜æ˜¯é è‡ªå·±ï¼Œå‚è§‚é£æœºåœºå­¦ä¸ä¼šå¼€é£æœºï¼Œå’Œé™ˆç«‹æ°ååœ¨ä¸€èµ·ä¹Ÿä¸ä¼šæé«˜ä½ çš„ç¼–ç¨‹æ°´å¹³ï¼Œè‡ªå·±å¤šç»ƒæ˜¯æé«˜ç¼–ç¨‹èƒ½åŠ›çš„å”¯ä¸€é€”å¾„ã€‚</p>
<p>å¾…é‡æ–¹é¢ï¼Œå·¥ä½œäºæ—¥æœ¬äº’è”ç½‘å¯ä»¥åœ¨å›½å†…ä¸€åŠåŠ³åŠ¨æ—¶é—´ï¼Œï¼ˆå›½å†…996ï¼Œæ—¥æœ¬964ï¼‰å…·æœ‰å›½å†…ç å†œä¸€åŠï¼ˆç”šè‡³æ›´ä½ï¼‰ç¼–ç¨‹æ°´å¹³çš„å‰æä¸‹æ‰¾åˆ°ä¸ä½äºç”šè‡³è¶…è¿‡å›½å†…äº’è”ç½‘å…¬å¸çš„å·¥ä½œï¼Œå¹¶ä¸”ä¸ç”¨æ‰®æ¼”è‡ªåŠ¨å¸éœ¾æœºçš„è§’è‰²ã€‚</p>
<p>æŠ›å¼€åæ ¡æƒ…ç»“å’Œå¤§ç¥å…‰ç¯ä¸è¯´ï¼Œå¯¹äºç•™å­¦ç”Ÿèƒ½å…·ä½“æ„Ÿå—åˆ°çš„åˆ‡å®åˆ©ç›Šï¼Œ</p>
<h3 id="æ—¥æœ¬è®¡ç®—æœºæ–¹å‘ç•™å­¦ç›¸å¯¹äºåŒ—ç¾çš„ä¼˜åŠ¿ç©¶ç«Ÿåœ¨å“ªé‡Œå‘¢">æ—¥æœ¬è®¡ç®—æœºæ–¹å‘ç•™å­¦ç›¸å¯¹äºåŒ—ç¾çš„ä¼˜åŠ¿ç©¶ç«Ÿåœ¨å“ªé‡Œå‘¢ï¼Ÿ</h3>
<ol type="1">
<li><p>ä»¥æä½çš„è´¹ç”¨è·å¾—æ”¹å˜äººç”Ÿçš„æœºä¼šï¼Œå°±æ‹¿æˆ‘è‡ªå·±æ¥è¯´ï¼Œå•æ˜¯ç¾å›½ä¸¤å¹´å¤©ä»·çš„ç¡•å£«å­¦è´¹å°±è¶³ä»¥æŠŠå®¶é‡Œç›´æ¥æ‹–å®ã€‚è€Œæ—¥æœ¬å›½ç«‹å¤§å­¦çš„å­¦è´¹ä»…æœ‰1w5ï¼Œå’Œå›½å†…å·®ä¸å¤šï¼Œå¹¶ä¸”æ—¥æœ¬çš„ç”Ÿæ´»è´¹å’ŒåŒ—äº¬æ²¡ä»€ä¹ˆå·®åˆ«ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒç»æµä¸Šæœ‰ä»»ä½•çš„è´Ÿæ‹…ã€‚</p></li>
<li><p>ä¹‹å‰ä¹Ÿæåˆ°è¿‡ï¼Œèƒ½å¤Ÿä»¥å¾ˆå°çš„ç«äº‰ä»¥ä¸å¼ºçš„ç¼–ç¨‹èƒ½åŠ›è½»æ¾æ‰¾åˆ°æ—¥ä¼äº’è”ç½‘å…¬å¸æä½å·¥ä½œå¼ºåº¦çš„å·¥ä½œï¼Œ400ä¸‡çš„è¯„ä»·å¹´è–ªè™½è¯´å¹¶ä¸æ¯”å›½å†…é«˜å¾ˆå¤šï¼Œä½†æ³¨æ„è¿™æ˜¯åœ¨å›½å†…ä¸€åŠåŠ³åŠ¨å¼ºåº¦æƒ…å†µä¸‹çš„æ”¶å…¥ã€‚å›½å†…äº’è”ç½‘å…¬å¸æ™®é996ç”šè‡³æ›´å¤¸å¼ ï¼Œè€Œæ—¥æœ¬é€šå¸¸æ˜¯964ï¼Œä¸ºä»€ä¹ˆè¯´964å‘¢ï¼Œå› ä¸ºæ—¥æœ¬å‡æœŸå®åœ¨å¤ªå¤šï¼ŒåŠ¨ä¸åŠ¨å°±è¿ä¼‘ï¼Œä¼‘æ—¥ï¼Œå¹³å‡èµ·æ¥å¤§çº¦ä¸€å‘¨å·¥ä½œå››å¤©ï¼Œå¹¶ä¸”äº’è”ç½‘å…¬å¸æ™®éä¸åŠ ç­ï¼Œé‚£äº›è¯´æ—¥ä¼å‹åŠ›å¤§çš„äººå¯ä»¥é†’é†’äº†ã€‚è€Œå¦‚æœå‰©ä¸‹çš„æ—¶é—´ä¸æƒ³æµªè´¹æ€ä¹ˆåŠï¼Ÿè‡ªå·±ç»™è‡ªå·±åŠ ç­ï¼Œä¸‹ç­äº†å¤šç»ƒç»ƒç¼–ç¨‹å§ï¼Œæƒ³ä¸€ä¸‹æ€æ ·æé«˜ä»£ç è¿è¡Œæ•ˆç‡ï¼Œæ€æ ·å†™å‡ºæ›´ä¼˜é›…ç®€æ´çš„ä»£ç ï¼Œæ€æ ·çªç ´è‡ªå·±çš„æé™ã€‚</p></li>
<li><p>èƒ½å¤Ÿä»¥ç¡•å£«æœŸé—´çš„ç ”ç©¶çŠ¶æ€åˆ¤æ–­è‡ªå·±æ˜¯ä¸æ˜¯é€‚åˆåšå­¦æœ¯è¿™ä¸€æ¡è·¯çº¿ã€‚æ‹¿æˆ‘è‡ªå·±æ¥è¯´ä¸œå¤§å…¥å­¦ä¹‹å‰æˆ‘è®¤ä¸ºå°†æ¥ä¸€å®šæ˜¯ä»¥å­¦æœ¯è·¯çº¿å‘å±•çš„ï¼Œå¹¶ä¸”è‚¯å®šä¼šè¯»åšã€‚ä¿®å£«å…¥å­¦ä¹‹åï¼Œæ¯å¤©åŸºæœ¬ä¸Šé™¤äº†ç”³è¯·å°±æ˜¯åšç§‘ç ”äº†ï¼Œè¿˜è®°å¾—ç¬¬ä¸€å¹´ä¿®å£«å¯’å‡ï¼Œå¤§å¹´ä¸‰åçš„æ™šä¸Šå†™ç¨‹åºå†™åˆ°äº†åŠå¤œä¸€ç‚¹å¤šï¼Œä¿®å£«ç¬¬ä¸€å¹´è¿ä¸€éƒ¨æ—¥å‰§éƒ½æ²¡è¿½å®Œï¼Œä½†è¶Šå¾€åè¶Šæ·±åˆ‡çš„æ„Ÿå—åˆ°è¯»åšå£«å’Œå½“åˆæƒ³è±¡çš„èƒ½å¤ŸæŒ‰ç…§è‡ªå·±çš„å…´è¶£è§£å†³é—®é¢˜å¹¶ä¸ä¸€æ ·ã€‚é¦–å…ˆä¸ºä»€ä¹ˆè¦è¯»åšå£«ï¼Ÿè¯»åšæœ€ç†æƒ³çš„å‡ºè·¯å°±æ˜¯åšå£«åå›å›½æ‰¾æ•™èŒäº†ï¼Œä½†å¤§éƒ¨åˆ†äººéƒ½å……å½“äº†åˆ†æ¯çš„è§’è‰²ã€‚å°±æ‹¿å›å›½ä»»æ•™æ¥è¯´ï¼Œç°åœ¨éƒ½ä¼šè¦æ±‚å‘å¤šå°‘é¡¶ä¼šè®ºæ–‡ï¼Œæ‰€ä»¥è¯´ç°åœ¨çš„å½¢åŠ¿æ˜¯è¯»åšå£«ï¼ï¼å‘è®ºæ–‡ï¼Œå¦‚æœæ²¡æ³•å¿«é€Ÿçš„å‘è®ºæ–‡ï¼Œæ•™æˆä¸åŒæ„ä¸è¯´ï¼Œå°±è¿æ¯•ä¸šéƒ½æ˜¯ä¸ªé—®é¢˜ã€‚è¿™æ ·å°±é€ æˆäº†å¾ˆå¤šäººä¸ºäº†å‘è®ºæ–‡è€Œå‘è®ºæ–‡ï¼Œå¤§éƒ¨åˆ†è®ºæ–‡ä¹Ÿæåç†è®ºæ€§ï¼Œå­¦åˆ°çš„å¤§éƒ½æ˜¯å± é¾™ä¹‹æŠ€ï¼Œå¾€å¾€ç”¨Matlabå’ŒPythonå¯¼ä¸€ä¸‹åº“éªŒè¯ä¸€ä¸‹å°±ç®—å®Œäº†ï¼Œå¾ˆå°‘æœ‰äººé™ä¸‹å¿ƒæ¥ç”¨C++è‡ªå·±å…ˆå®ç°ä¸€éåŸç†ï¼Œè™½è¯´ä¸è¦é‡å¤å‘æ˜è½®å­ï¼Œä½†æˆ‘è®¤ä¸ºé‡å¤åˆ¶é€ è½®å­è¿˜æ˜¯å¿…é¡»çš„ï¼Œåœ¨æ­£å¼è¿›è¡Œç§‘ç ”ä¹‹å‰é¦–å…ˆè¦ä¿è¯èƒ½å¤Ÿæœ‰è¶³å¤Ÿå¼ºçš„å·¥ç¨‹èƒ½åŠ›å®ç°ä»»ä½•è®ºæ–‡é‡Œçš„ä»£ç ã€‚å¹¶ä¸”è¯»çš„è®ºæ–‡è¶Šå¤šï¼Œè¶Šæ„Ÿå—åˆ°å¤§éƒ¨åˆ†è®ºæ–‡éƒ½æ˜¯æ²¡æœ‰å›°éš¾åˆ›é€ å›°éš¾ä¹Ÿè¦ä¸Šï¼Œå› æ­¤ç°åœ¨æˆ‘å¯ä»¥æ¸…æ¥šåœ°çŸ¥é“è‡ªå·±ä¸é€‚åˆå­¦æœ¯ç•Œé—­é—¨é€ è½¦è¿™æ¡è·¯ï¼Œä½†å·¥ç¨‹èƒ½åŠ›è¿˜æ˜¯è¦æœ‰çš„ï¼Œæ‰€ä»¥æ¯•ä¸šä¹‹å‰çš„ç ”ç©¶é‡å¿ƒå°±è½¬ç§»åˆ°äº†ä»£ç ä¸Šã€‚ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œç¾å›½æˆè¯¾ç¡•å£«ç»“æŸæƒ³è¯»åšå£«çš„è¯è¿˜è¦é‡å¤´å†æ¥äº”å¹´ï¼Œè€Œæ—¥æœ¬åªéœ€è¦ä¸‰å¹´ï¼Œè¡”æ¥ä¸Šä¹Ÿæ›´è‡ªç„¶ã€‚</p></li>
<li><p>ç”³è¯·é—¨æ§›è¾ƒä½ï¼Œç›¸å¯¹äºå›½å†…æŒ¤ç ´å¤´ç”³è¯·ç¾å›½CSè€Œè¨€ï¼Œæ—¥æœ¬ä¼¼ä¹å†·é—¨è®¸å¤šã€‚é¦–å…ˆæ—¥æœ¬è®¡ç®—æœºåŸåˆ™ä¸Šä¸éœ€è¦ä»»ä½•è¯­è¨€æˆç»©å°±å¯ä»¥ç”³è¯·ï¼ˆä¸ªåˆ«æ•™æˆä¼šè¦æ±‚ï¼‰ï¼Œè€Œç¾å›½æ˜¯å¿…é¡»è¦æœ‰æ‰˜ç¦å’ŒGREï¼Œå¦å¤–æ—¥æœ¬å¯¹äºGPAçš„è¦æ±‚ä¸åƒç¾å›½é‚£ä¹ˆé«˜ï¼Œæ³¨æ„ä¸æ˜¯è¯´æ—¥æœ¬ä¸çœ‹GPAï¼Œç›¸åéå¸¸çœ‹ï¼Œåªæ˜¯è¯´ä¸è¦æ±‚å¤ªé«˜ï¼Œä½†è¿˜æ˜¯è¦ä¿è¯ä¸­ä¸Šç­‰æ°´å¹³ã€‚å¦å¤–é—¨æ§›ä½æ˜¯ä¸æ˜¯æ„å‘³ç€éšä¾¿è°éƒ½å¯ä»¥ç”³è¯·åˆ°å‘¢ï¼Ÿæ˜¾ç„¶ä¸æ˜¯ï¼Œå°±æ‹¿æˆ‘ä¸‰å¹´æ¥100å¤šäººçš„ç”³è¯·ç»éªŒæ¥è¯´ï¼Œæ•™æˆçš„è¦æ±‚ç®€ç›´å®ç°äº†æ–°çš„é£è·ƒï¼Œå°¤å…¶æ˜¯2017å¹´å…¥å­¦çš„è¿™ä¸€å±Šã€‚å¾ˆå¤šå¼€å§‹ä¸çœ‹æˆç»©å•çš„æ•™æˆæ…¢æ…¢çœ‹èµ·äº†æˆç»©å•ï¼Œå¾ˆå¤šåˆšå¼€å§‹æ¥æ”¶äºŒæœ¬å­¦ç”Ÿçš„æ•™æˆå¼€å§‹æŒ‘èµ·äº†985ï¼Œå¾ˆå¤šå¼€å§‹985è§äººå°±è¦çš„æ•™æˆå¼€å§‹æŒ‘èµ·äº†Top5ï¼Œå¾ˆå¤šåŸæœ¬ä¸è¦æ±‚è¯­è¨€çš„æ•™æˆçªç„¶æå‡ºè¦æ±‚N1ï¼Œå¾ˆå¤šä¸çœ‹è®¡åˆ’ä¹¦çš„æ•™æˆå¼€å§‹è¦æ±‚äº†è®¡åˆ’ä¹¦ï¼Œå¾ˆå¤šè‡ªèº«æ°´å¹³ä¸€èˆ¬çš„æ•™æˆè¦æ±‚è®¡åˆ’ä¹¦æå‡ºæ–°ç®—æ³•è§£å†³å½“ä»Šå­¦æœ¯éš¾é¢˜ï¼Œå¾ˆå¤šä¸é¢è¯•çš„æ•™æˆå¼€å§‹è¦æ±‚äº†é¢è¯•ï¼Œå¾ˆå¤šæ”¶è¿‡äººçš„æ•™æˆçªç„¶ä¸å†æ¥æ”¶ç•™å­¦ç”Ÿï¼Œä¸ä¸€è€Œè¶³ã€‚ç”³è¯·æ˜¯ä¸€åœºåšå¼ˆï¼Œé­å—æŒ«æŠ˜ä¹‹åï¼Œæˆ‘ä¹Ÿä¼šé©¬ä¸Šè°ƒæ•´æˆ˜ç•¥ï¼Œä¸äººæ–—å…¶ä¹æ— ç©·ã€‚</p></li>
<li><p>ç”Ÿæ´»èˆ’é€‚åº¦æé«˜ï¼Œè¿™ä½“ç°åœ¨å¹²å‡€åˆ°ä¸çœŸå®çš„ç©ºæ°”ï¼Œæé«˜çš„å›½æ°‘ç´ è´¨å’Œå„è¡Œå„ä¸šç»ä½³çš„æœåŠ¡ä½“éªŒï¼Œæ•™æˆå¯¹å­¦ç”Ÿç ”ç©¶è¯¾é¢˜ä»¥åŠä¸ªäººçš„å°Šé‡ï¼Œå¥½åˆ°å¤¸å¼ çš„æ²»å®‰ï¼Œç¾å‘³çš„æ—¥æ–™å’ŒäºŒæ¬¡å…ƒçš„å¤©å ‚...</p></li>
</ol>
]]></content>
      <tags>
        <tag>university</tag>
        <tag>Japan</tag>
      </tags>
  </entry>
  <entry>
    <title>KD-Treeçš„ç†è§£</title>
    <url>/2018/04/01/kd-tree/</url>
    <content><![CDATA[<h2 id="ç”±ä¸‹å›¾å¯ä»¥å¤§è‡´çœ‹å‡ºkd-treeçš„æ„é€ æ–¹å¼"><a class="markdownIt-Anchor" href="#ç”±ä¸‹å›¾å¯ä»¥å¤§è‡´çœ‹å‡ºkd-treeçš„æ„é€ æ–¹å¼"></a> ç”±ä¸‹å›¾å¯ä»¥å¤§è‡´çœ‹å‡ºKD-Treeçš„æ„é€ æ–¹å¼ï¼š</h2>
<img src="/2018/04/01/kd-tree/04/01/kd-tree/kd-tree.png" class title="KD-Tree ç†è§£å›¾">
<p>é¦–å…ˆé—®é¢˜æ˜¯éš¶å±äºåˆ†ç±»é—®é¢˜çš„ã€‚æ¯ä¸ªsampleæœ‰è‹¥å¹²ä¸ªå±æ€§ï¼ˆaxisï¼‰ï¼Œå¦‚ï¼ˆ3ï¼Œ4ï¼‰å°±æ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªå±æ€§çš„sampleã€‚æˆ‘ä»¬æŒ‰axis=0ï¼Œ1ï¼Œ2ï¼Œâ€¦çš„æ–¹å¼åˆ†åˆ«å¯»æ‰¾æ¯ä¸ªç»´åº¦ï¼ˆå±æ€§ï¼‰çš„ä¸­ä½æ•°å¹¶åˆ†åˆ«åˆ’åˆ†å¼€æ¥ï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼Œè¿™æ ·é¢„æµ‹ä¸€ä¸ªæ–°çš„æ•°æ®ç‚¹çš„æ—¶å€™å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŒ‰ç…§æ ‘çŠ¶ç»“æ„å°†å…¶å½’ä½åˆ°æŸä¸ªåˆ†åŒºé‡Œå»ï¼Œè€Œä¸ç”¨èŠ±è´¹å¤§é‡çš„è®¡ç®—èµ„æºå»è®¡ç®—è·ç¦»äº†ã€‚</p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸»è¦ç¥ç»ç½‘ç»œlayerçš„åˆç†æ’å¸ƒé¡ºåº</title>
    <url>/2018/08/21/layer-order/</url>
    <content><![CDATA[<h3 id="å¼€ç¯‡åä¹‰å…ˆæŠŠæ™®éçš„ç¥ç»ç½‘ç»œå±‚çš„æ’å¸ƒé¡ºåºå±•ç¤ºå‡ºæ¥">å¼€ç¯‡åä¹‰ï¼Œå…ˆæŠŠæ™®éçš„ç¥ç»ç½‘ç»œå±‚çš„æ’å¸ƒé¡ºåºå±•ç¤ºå‡ºæ¥ï¼š</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Enter: Convlution -&gt; Batch Normalization -&gt; Relu -&gt; Max Pool</span><br><span class="line">Middle: Convlution -&gt; Batch Normalization -&gt; Relu</span><br><span class="line">Middle Complicated: -&gt; CONV&#x2F;FC -&gt; BatchNorm -&gt; ReLu(or other activation) -&gt; Dropout -&gt; CONV&#x2F;FC -&gt;</span><br><span class="line">Tail: Max Pool -&gt; View -&gt; (Dropout) -&gt; Fc</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h3 id="å…³äº-max-pool-å’Œ-relu-çš„ç›¸å¯¹ä½ç½®">å…³äº Max Pool å’Œ Relu çš„ç›¸å¯¹ä½ç½®</h3>
<blockquote>
<p>If you consider the final result, both orders [conv -&gt; relu -&gt; max pooling] and [conv -&gt; max pooling -&gt; relu] will have the same outputs. But if you compare the running time of 2 ways there will be a difference.</p>
<p>To simplify the problem, just ignore layer convolution layer because it is the same in both cases.</p>
<p>Relu layer donâ€™t change the size of the input. Let assume we use max pooling 2x2, so the size of input will be reduce by 2 in height and width when apply max poling layer ( [w, h, d] -&gt; max_pooling_2x2 -&gt; [w/2, h/2, d]).</p>
<p><strong>In case 1</strong> we using relu -&gt; max pooling the size of data will be:</p>
<p><strong>image[w, h, d] -&gt; [[relu]]</strong> -&gt;<em>image[w, h, d]-&gt;[[max pooling]]</em> -&gt; image[w/2, h/2, d]</p>
<p><strong>In case 2</strong> we using max pooling -&gt; relu the size of data will be:</p>
<p><em>image[w, h, d] -&gt;[[max pooling]]</em> -&gt; <strong>image[w/2, h/2, d]-&gt; [[relu]]</strong> -&gt; image[w/2, h/2, d]</p>
<p><strong>image[w, h, d] -&gt; [[relu]]</strong> vs <strong>image[w/2, h/2, d]-&gt; [[relu]] :</strong> case 2 save 4 time computational cost than case 1 in layer [[relu]] by using max pooling before relu.</p>
<p>In conclusion, you can save a lot of running time if you put max pooling before the non-linear layers like relu or sigmoid.</p>
</blockquote>
<h3 id="å…³äº-max-pool-å’Œ-dropout-çš„ç›¸å¯¹ä½ç½®">å…³äº Max Pool å’Œ Dropout çš„ç›¸å¯¹ä½ç½®</h3>
<blockquote>
<p><strong>Edit:</strong> As <span class="citation" data-cites="Toke">@Toke</span> Faurby correctly pointed out, the default implementation in tensorflow actually uses an element-wise dropout. What I described earlier applies to a specific variant of dropout in CNNs, called <a href="https://arxiv.org/pdf/1411.4280.pdf">spatial dropout</a>:</p>
<p>In a CNN, each neuron produces one feature map. Since <del>dropout</del> <strong>spatial dropout</strong> works per-neuron, dropping a neuron means that the corresponding feature map is dropped - e.g. each position has the same value (usually 0). So each feature map is either fully dropped or not dropped at all.</p>
<p>Pooling usually operates separately on each feature map, so it should not make any difference if you apply dropout before or after pooling. At least this is the case for pooling operations like maxpooling or averaging.</p>
<p><strong>Edit:</strong> However, if you actually use <strong>element-wise</strong> dropout (which seems to be set as default for tensorflow), it actually makes a difference if you apply dropout before or after pooling. However, there is not necessarily a <em>wrong</em> way of doing it. Consider the average pooling operation: if you apply dropout before pooling, you effectively scale the resulting neuron activations by <code>1.0 - dropout_probability</code>, but most neurons will be non-zero (in general). If you apply dropout after average pooling, you generally end up with a fraction of <code>(1.0 - dropout_probability)</code> non-zero "unscaled" neuron activations and a fraction of <code>dropout_probability</code> zero neurons. Both seems viable to me, neither is outright wrong.</p>
</blockquote>
<h3 id="å…³äº-bn-å’Œ-dropout-çš„ç›¸å¯¹ä½ç½®">å…³äº BN å’Œ Dropout çš„ç›¸å¯¹ä½ç½®</h3>
<blockquote>
<p>In the <a href="https://arxiv.org/pdf/1502.03167.pdf">Ioffe and Szegedy 2015</a>, the authors state that "we would like to ensure that for any parameter values, the network always produces activations with the desired distribution". So the Batch Normalization Layer is actually inserted right after a Conv Layer/Fully Connected Layer, but before feeding into ReLu (or any other kinds of) activation. See <a href="https://www.youtube.com/watch?v=jhUZ800C650&amp;index=5&amp;list=PLLvH2FwAQhnpj1WEB-jHmPuUeQ8mX-XXG">this video</a> at around time 53 min for more details.</p>
<p>As far as dropout goes, I believe dropout is applied after activation layer. In the <a href="https://www.cs.toronto.edu/~hinton/absps/JMLRdropout.pdf">dropout paper</a> figure 3b, the dropout factor/probability matrix r(l) for hidden layer l is applied to it on y(l), where y(l) is the result after applying activation function f.</p>
<p>So in summary, the order of using batch normalization and dropout is:</p>
<p>-&gt; CONV/FC -&gt; BatchNorm -&gt; ReLu(or other activation) -&gt; Dropout -&gt; CONV/FC -&gt;</p>
</blockquote>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>neural-network</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¸‹ç™¾åº¦ç½‘ç›˜å‘½ä»¤è¡Œå®¢æˆ·ç«¯</title>
    <url>/2018/08/28/linux-baidu-netdisk/</url>
    <content><![CDATA[<h1 id="é—®é¢˜">é—®é¢˜</h1>
<p>å¾€Linuxä¸Šä¸Šä¼ è¶…å¤§æ–‡ä»¶ï¼ˆå¦‚æ•°æ®é›†ï¼‰æˆ–ä»æœåŠ¡å™¨ä¸Šä¸‹è½½è®­ç»ƒå¥½çš„æ¨¡å‹æ—¶ï¼Œç”¨ä¼ ç»Ÿçš„scpæˆ–zsshéƒ½è¾ƒæ…¢ï¼Œå¦‚æœæœ‰ä¸­é—´è·³æ¿æœºï¼Œæ›´æ˜¯åªèƒ½ä½¿ç”¨zsshã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h1>
<p><strong>ä½¿ç”¨Linuxä¸‹çš„ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯è¿›è¡Œä¸­ä»‹ã€‚</strong></p>
<p><strong>å‘å¸ƒé¡µé¢ï¼š<a href="https://github.com/iikira/BaiduPCS-Go/releases">BaiduPCS-Go</a></strong></p>
<span id="more"></span>
<h2 id="ä¼˜ç‚¹å¦‚ä¸‹">ä¼˜ç‚¹å¦‚ä¸‹ï¼š</h2>
<ol type="1">
<li>é€Ÿåº¦å¿«ï¼Œå¦‚æœä½ æ°å¥½æœ‰ç™¾åº¦ç½‘ç›˜çš„ä¼šå‘˜ä¸”æœåŠ¡å™¨ç«¯ç½‘é€Ÿå¯ä»¥ï¼Œç”šè‡³å¯ä»¥è½»æ¾è·‘åˆ°10M/sä»¥ä¸Šã€‚</li>
<li>æ”¯æŒç§’ä¼ ã€‚å¦‚æœè¿™ä¸ªæ–‡ä»¶æ›¾ç»è¢«ä¸Šä¼ è¿‡ä¸€æ¬¡ç™¾åº¦äº‘ï¼Œä½ å†æ¬¡ä¸Šä¼ æ—¶ä¸€ç§’ç»“æŸæˆ˜æ–—ã€‚</li>
<li>å¤šå¹³å°æ”¯æŒ, æ”¯æŒ Windows, macOS, linux, ç§»åŠ¨è®¾å¤‡ç­‰.</li>
<li>ç™¾åº¦å¸å·å¤šç”¨æˆ·æ”¯æŒ;</li>
<li>æ”¯æŒæœç´¢æ–‡ä»¶ã€‚å¤ªå¥½ç”¨äº†æœ‰æœ¨æœ‰ã€‚</li>
<li>é€šé…ç¬¦åŒ¹é…ç½‘ç›˜è·¯å¾„å’Œ Tab è‡ªåŠ¨è¡¥é½å‘½ä»¤å’Œè·¯å¾„, <a href="https://baike.baidu.com/item/%E9%80%9A%E9%85%8D%E7%AC%A6">é€šé…ç¬¦_ç™¾åº¦ç™¾ç§‘</a>;</li>
<li><a href="https://github.com/iikira/BaiduPCS-Go#%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95">ä¸‹è½½</a>ç½‘ç›˜å†…æ–‡ä»¶, æ”¯æŒå¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¸‹è½½, æ”¯æŒæ–­ç‚¹ç»­ä¼ å’Œå•æ–‡ä»¶å¹¶è¡Œä¸‹è½½;</li>
<li><a href="https://github.com/iikira/BaiduPCS-Go#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95">ä¸Šä¼ </a>æœ¬åœ°æ–‡ä»¶, æ”¯æŒä¸Šä¼ å¤§æ–‡ä»¶(&gt;2GB), æ”¯æŒå¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¸Šä¼ ;</li>
<li><a href="https://github.com/iikira/BaiduPCS-Go#%E7%A6%BB%E7%BA%BF%E4%B8%8B%E8%BD%BD">ç¦»çº¿ä¸‹è½½</a>, æ”¯æŒhttp/https/ftp/ç”µé©´/ç£åŠ›é“¾åè®®.</li>
</ol>
<p>ä¸ªäººæ„Ÿè§‰è¿›å»äº†ä¹‹åå°±åƒä¸€ä¸ªå°çš„ç‹¬ç«‹æ“ä½œç³»ç»Ÿï¼Œæ”¯æŒå…¶è®¾å®šçš„å„ç§å‘½ä»¤ï¼Œè€Œä¸”å¤§å¤šæ•°å’ŒlinuxåŸç”Ÿå‘½ä»¤é‡åˆï¼Œå¦‚<code>cd</code>ï¼Œ<code>ls</code>ï¼Œ<code>search</code>ç­‰ã€‚</p>
<h2 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</h2>
<ol type="1">
<li><p>ä»<strong><a href="https://github.com/iikira/BaiduPCS-Go/releases">BaiduPCS-Go</a></strong>è¿™ä¸ªå‘å¸ƒé¡µé¢ç”¨wgetç­‰å‘½ä»¤ä¸‹è½½ç¬¦åˆä½ æœºå™¨cpuæ¶æ„çš„ç‰ˆæœ¬ã€‚</p></li>
<li><p>è§£å‹å‹ç¼©åŒ…ï¼Œè¿›å…¥è§£å‹åç›®å½•ï¼Œè¿è¡Œ<code>./BaiduPCS-Go</code></p></li>
<li><p><code>ls</code>æŸ¥çœ‹ä¸»ç›®å½•ï¼Œ<code>cd</code>åˆ‡æ¢åˆ°ä½ æƒ³ä¸‹è½½çš„ä½ç½®ã€‚</p></li>
<li><p>ä¸Šä¼ ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">BaiduPCS-Go upload &lt;æœ¬åœ°æ–‡ä»¶/ç›®å½•çš„è·¯å¾„1&gt; &lt;æ–‡ä»¶/ç›®å½•2&gt; &lt;æ–‡ä»¶/ç›®å½•3&gt; ... &lt;ç›®æ ‡ç›®å½•&gt;</span><br><span class="line">BaiduPCS-Go u &lt;æœ¬åœ°æ–‡ä»¶/ç›®å½•çš„è·¯å¾„1&gt; &lt;æ–‡ä»¶/ç›®å½•2&gt; &lt;æ–‡ä»¶/ç›®å½•3&gt; ... &lt;ç›®æ ‡ç›®å½•&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸‹è½½ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">BaiduPCS-Go download &lt;ç½‘ç›˜æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„1&gt; &lt;æ–‡ä»¶æˆ–ç›®å½•2&gt; &lt;æ–‡ä»¶æˆ–ç›®å½•3&gt; ...</span><br><span class="line">BaiduPCS-Go d &lt;ç½‘ç›˜æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„1&gt; &lt;æ–‡ä»¶æˆ–ç›®å½•2&gt; &lt;æ–‡ä»¶æˆ–ç›®å½•3&gt; ...</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç³»ç»ŸGPUæœåŠ¡å™¨é€‰æ‹©è°ƒç ”</title>
    <url>/2018/08/19/linux-gpu-server-choice/</url>
    <content><![CDATA[<h2 id="ä¸»è¦æ–¹å‘">ä¸»è¦æ–¹å‘</h2>
<ol type="1">
<li><p>è‡ªè¡Œç»„è£…ä¸€å°GPU Linuxæœºå™¨ã€‚ç½‘ä¸Šè®¸å¤šæ•™ç¨‹éƒ½æ˜¯æ•™äººå¦‚ä½•DIYçš„ã€‚è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯ä¸ä½†ä¾¿å®œä¸å°‘ï¼Œè€Œä¸”è¿˜å¯ä»¥ä»ä¸­å­¦ä¹ åˆ°å¾ˆå¤šç›¸å…³çŸ¥è¯†ï¼Œå¦‚æœæ‚¨æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œå¹¶ä¸”ä¹Ÿæœ‰æ—¶é—´ã€æƒ³å­¦ä¹ ç›¸å…³å†…å®¹ï¼Œæˆ–æ˜¯å¯¹ä»·æ ¼æ¯”è¾ƒæ•æ„Ÿï¼ŒDIYæ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒå¥½çš„é€‰æ‹©ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿæ˜¯å­˜åœ¨çš„ã€‚é¦–å…ˆæ˜¯å”®åæœåŠ¡é—®é¢˜ï¼Œä¸€æ—¦æœºå™¨å‡ºäº†æ•…éšœï¼Œç»´ä¿®å¯èƒ½ä¼šç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ï¼Œå°¤å…¶æ˜¯åœ¨æ‚¨è‡ªèº«ä¹Ÿå¯¹æ­¤ä¸æ˜¯å¾ˆä¸“ä¸šçš„æƒ…å†µä¸‹ã€‚å¦å¤–æ˜¯è‡ªè¡ŒDIYå¯èƒ½ä¼šäº§ç”Ÿæ­é…ä¸åˆç†çš„é—®é¢˜ï¼Œæ¯”å¦‚é€‰ç”¨äº†æ•£çƒ­æ€§èƒ½ä¸è¶³çš„å™¨æã€æœ€å¤§åŠŸç‡ä¸è¶³çš„ç”µæºç­‰ï¼Œè¿™äº›éƒ½ä¼šä¸ºæ‚¨æœªæ¥çš„ä½¿ç”¨å¸¦æ¥éšæ‚£ã€‚</p>
<span id="more"></span></li>
<li><p>åœ¨å„å¤§è´­ç‰©ç½‘ç«™ä¸Šè´­ä¹°ç»„è£…å®Œæˆçš„â€œæ·±åº¦å­¦ä¹ æœºå™¨â€ã€‚è¿™ç§æœºå™¨çš„ç¼ºç‚¹æ˜¯è´µï¼Œä¼˜ç‚¹æ˜¯çœŸå¿ƒæ–¹ä¾¿è€Œä¸”ç›¸å¯¹æ¥è¯´ä¼šæ›´æœ‰ä¿éšœã€‚å°¤å…¶æ˜¯åœ¨æ¯”è¾ƒè´Ÿè´£çš„å¹³å°ä¸Šè´­ä¹°çš„æœºå™¨å¯ä»¥å¾—åˆ°è´´å¿ƒçš„å”®åæœåŠ¡ï¼Œè€Œä¸”æœºå­çš„å„ä¸ªéƒ¨åˆ†éƒ½ç»è¿‡ä¸“ä¸šäººå£«çš„æŒ‘é€‰ï¼Œè´¨é‡ç›¸å¯¹æœ‰ä¿éšœï¼Œä¸ä¼šè½»æ˜“å‘ç”Ÿç”µæºçº¿èµ·ç«ã€æ•£çƒ­ä¸è¶³å¯¼è‡´GPUæ•…éšœç­‰é—®é¢˜ï¼ˆç›¸å¯¹çš„ï¼‰ã€‚å¦å¤–å€¼å¾—ä¸€æçš„æ˜¯ï¼Œç°åœ¨å¸‚é¢ä¸Šå–çš„â€œæ·±åº¦å­¦ä¹ æœºå™¨â€å¾€å¾€è¿˜é¢„è£…å¥½äº†Linuxç³»ç»Ÿå’Œè¯¸å¦‚TensorFlowã€Pytorchç­‰ä¸»æµæ¡†æ¶ã€Anacondaä»¥åŠCUDAç­‰é©±åŠ¨ã€‚å¦‚æœæ‚¨æ‰€åœ¨çš„å›¢é˜Ÿä¸­æ²¡æœ‰å¯¹æœºå™¨é…ç½®ååˆ†äº†è§£çš„æˆå‘˜ï¼Œå¹¶ä¸æ„¿æ„èŠ±è´¹è¿™ä¸ªæ—¶é—´æˆæœ¬å»å­¦ä¹ ç›¸å…³çŸ¥è¯†ï¼Œè¿™ç§ç°æˆçš„ä¸“ç”¨æœºå…¶å®æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p></li>
</ol>
<h2 id="å‚è€ƒæ¥æº">å‚è€ƒæ¥æº</h2>
<p>è¿™ç¯‡åšå®¢ä¸­æˆ‘ä¸ä¼šè‡ªè¡Œè¯¦ç»†åˆ†æå¦‚ä½•ç»„è£…ï¼Œè€Œæ˜¯ä¸€ç¯‡è°ƒç ”ï¼Œæ‰€ä»¥ä¼šé™„ä¸Šæˆ‘å‚è€ƒè¿‡çš„å„ä¸ªä¿¡æ¯æºï¼Œå¹¶åœ¨æ–‡æœ«è´´å‡ºè‹±æ–‡PPTã€‚</p>
<ul>
<li><a href="http://nicholasyuan.com/deeplearning/2016/10/07/buy-computer.html">æ·±åº¦å­¦ä¹ æ”’æœºå°è®° by nicholas</a></li>
<li><a href="http://www.52nlp.cn/æ·±åº¦å­¦ä¹ ä¸»æœºæ”’æœºå°è®°">æ·±åº¦å­¦ä¹ ä¸»æœºæ”’æœºå°è®°</a></li>
<li><a href="http://www.52nlp.cn/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E4%B8%BB%E6%9C%BA%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-ubuntu16-04-geforce-gtx1080-tensorflow">æ·±åº¦å­¦ä¹ ä¸»æœºç¯å¢ƒé…ç½®: Ubuntu16.04+GeForce GTX 1080+TensorFlow</a></li>
<li><a href="https://www.zhihu.com/question/33996159/answer/157949879">å¦‚ä½•é…ç½®ä¸€å°é€‚ç”¨äºæ·±åº¦å­¦ä¹ çš„å·¥ä½œç«™</a></li>
<li><a href="https://docs.google.com/spreadsheets/d/111PwO4C4Clh16nUaAKACx46scQKaEntd6QGua8_pyIw/edit#gid=968981801">Deep Learning GPUs è¯¦ç»†å¯¹æ¯”è¡¨æ ¼</a></li>
<li><a href="http://mli.github.io/gpu/2016/01/17/build-gpu-clusters/">GPUé›†ç¾¤æŠ˜è…¾æ‰‹è®°â€”â€”2015</a></li>
<li><a href="https://oldpan.me/archives/machine-deeplearning-station-list">ç»™ä½ ä¸€ä»½é…ç½®æ¸…å•:æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ ç”µè„‘æ˜¾å¡é…ç½®æŒ‡å—</a></li>
<li><a href="https://www.cnblogs.com/xuliangxing/p/7543977.html">æ·±åº¦å­¦ä¹ ï¼ˆTensorFlowï¼‰ç¯å¢ƒæ­å»ºï¼šï¼ˆä¸€ï¼‰ç¡¬ä»¶é€‰è´­å’Œä¸»æœºç»„è£…</a></li>
<li><a href="http://www.52nlp.cn/ä»é›¶å¼€å§‹æ­å»ºæ·±åº¦å­¦ä¹ æœåŠ¡å™¨ç¯å¢ƒé…ç½®ubuntu-1080ti-cuda-cudnn">ä»é›¶å¼€å§‹æ­å»ºæ·±åº¦å­¦ä¹ æœåŠ¡å™¨: åŸºç¡€ç¯å¢ƒé…ç½®ï¼ˆUbuntu + GTX 1080 TI + CUDA + cuDNNï¼‰</a></li>
</ul>
<h2 id="é˜¶æ®µæ€§ç»“è®º">é˜¶æ®µæ€§ç»“è®º</h2>
<p>é€šè¿‡å‚è€ƒä»¥ä¸Šå„åšæ–‡ï¼Œä»¥åŠåœ¨ä¸€äº›å®é™…è´­ç‰©ç½‘ç«™çš„è°ƒæŸ¥ï¼Œå¤§è‡´å¯ä»¥å¾—å‡ºä»¥ä¸‹çš„ç»“è®ºï¼šå¯¹äºä¸€ä¸ªå°å‹å›¢é˜Ÿï¼Œæˆ–æ˜¯å›¢é˜Ÿä¸­åšæ·±åº¦å­¦ä¹ çš„æˆå‘˜è¾ƒå°‘æ—¶ï¼Œå½“å‰è´­ä¹°åŒè·¯GTX 1080Tiï¼Œæ­é…Intel Core i7 7800X/7900X æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©ã€‚å¦‚æœä¸æƒ³èŠ±è´¹å¤ªå¤šæ—¶é—´ï¼Œæˆ–æ˜¯æƒ³é©¬ä¸Šéƒ¨ç½²å¹¶å±•å¼€åº”ç”¨çš„å›¢é˜Ÿï¼Œåœ¨äº¬ä¸œ/æ·˜å®ï¼ˆå›½å†…ï¼‰äºšé©¬é€Šï¼ˆç¾å›½ï¼‰ç­‰å¤„è´­ä¹°æ•´æœºä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<h2 id="pptç»†èŠ‚">PPTç»†èŠ‚</h2>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/../../../../Desktop/Linux%20GPU%20Server%20Choice/Linux%20GPU%20Server%20Choice.001.jpeg" alt="Linux GPU Server Choice.001"><figcaption aria-hidden="true">Linux GPU Server Choice.001</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzby2xj4j30k00f0tbx.jpg" alt="Linux GPU Server Choice.012"><figcaption aria-hidden="true">Linux GPU Server Choice.012</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzbuhx6uj30k00f0taa.jpg" alt="Linux GPU Server Choice.006"><figcaption aria-hidden="true">Linux GPU Server Choice.006</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzc03y46j30k00f077r.jpg" alt="Linux GPU Server Choice.011"><figcaption aria-hidden="true">Linux GPU Server Choice.011</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzbvekw6j30k00f0taa.jpg" alt="Linux GPU Server Choice.013"><figcaption aria-hidden="true">Linux GPU Server Choice.013</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/../../../../Desktop/Linux%20GPU%20Server%20Choice/Linux%20GPU%20Server%20Choice.005.jpeg" alt="Linux GPU Server Choice.005"><figcaption aria-hidden="true">Linux GPU Server Choice.005</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzbu3ew2j30k00f0q5e.jpg" alt="Linux GPU Server Choice.004"><figcaption aria-hidden="true">Linux GPU Server Choice.004</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzc1q3hvj30k00f0mzq.jpg" alt="Linux GPU Server Choice.010"><figcaption aria-hidden="true">Linux GPU Server Choice.010</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzg8grkgj30k00f0wp8.jpg" alt="Linux GPU Server Choice.008"><figcaption aria-hidden="true">Linux GPU Server Choice.008</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzc3eq2qj30k00f0gqn.jpg" alt="Linux GPU Server Choice.001"><figcaption aria-hidden="true">Linux GPU Server Choice.001</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzc2rh4uj30k00f0goe.jpg" alt="Linux GPU Server Choice.009"><figcaption aria-hidden="true">Linux GPU Server Choice.009</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzc15854j30k00f0tex.jpg" alt="Linux GPU Server Choice.007"><figcaption aria-hidden="true">Linux GPU Server Choice.007</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzbyzq43j30k00f078j.jpg" alt="Linux GPU Server Choice.003"><figcaption aria-hidden="true">Linux GPU Server Choice.003</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/006tNbRwgy1fufzbwuz9zj30k00f0dn9.jpg" alt="Linux GPU Server Choice.002"><figcaption aria-hidden="true">Linux GPU Server Choice.002</figcaption>
</figure>
<figure>
<img src="/2018/08/19/linux-gpu-server-choice/../../../../Desktop/Linux%20GPU%20Server%20Choice/Linux%20GPU%20Server%20Choice.014.jpeg" alt="Linux GPU Server Choice.014"><figcaption aria-hidden="true">Linux GPU Server Choice.014</figcaption>
</figure>
]]></content>
      <tags>
        <tag>server</tag>
        <tag>linux</tag>
        <tag>GPU</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux(Ubuntu)è£…æœºä¸é…ç½®ç¬”è®°</title>
    <url>/2020/04/11/linux-setup/</url>
    <content><![CDATA[<h2 id="ç¡¬ç›˜ç›¸å…³">ç¡¬ç›˜ç›¸å…³</h2>
<ol type="1">
<li><p><strong>dfå‘½ä»¤</strong> <code>df</code>ï¼šæ£€æŸ¥linuxæœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µã€‚<strong>å®ƒåªä¼šæ˜¾ç¤ºå·²ç»æŒ‚è½½çš„ç£ç›˜ä¿¡æ¯ï¼</strong></p>
<p><code>df -h</code>, å³<code>--human-readble</code>ï¼šä»¥1024çš„å€æ•°çš„æ–¹å¼æ˜¾ç¤ºå¤§å°ã€‚(e.g., 1023M)</p>
<p><code>df -T</code>ï¼šæŸ¥çœ‹æ‰€æœ‰ç£ç›˜çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹(type)</p>
<span id="more"></span></li>
<li><p><strong><code>fdisk</code>å‘½ä»¤</strong></p>
<p><code>fdisk</code>ï¼šå¼ºå¤§çš„ç£ç›˜ç›‘è§†å’Œæ“ä½œå·¥å…·ã€‚</p>
<p><code>fdisk -l</code>ä¼šæ˜¾ç¤º<strong>æ‰€æœ‰çš„</strong>ç£ç›˜å’Œåˆ†åŒºï¼ä¸è®ºæœ‰æ²¡æœ‰æŒ‚è½½ï¼Œéƒ½ä¼šè¢«åˆ—å‡ºæ¥ã€‚</p></li>
<li><p><strong>mountå‘½ä»¤</strong></p>
<p><code>mount</code>ï¼šæŒ‚è½½ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ</p>
<p><code>mount -t ntfs &lt;source&gt; &lt;target&gt;</code>ï¼šä»¥ntfsæ–‡ä»¶ç³»ç»Ÿçš„å½¢å¼ä»æºç›®å½•æŒ‚è½½åˆ°ç›®æ ‡ç›®å½•ã€‚tè¡¨ç¤ºtypesç±»å‹</p>
<p><code>mount -a</code>ï¼šæŒ‚è½½ fstab ä¸­çš„æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿã€‚aè¡¨ç¤ºall</p></li>
<li><p><strong>blkidå‘½ä»¤</strong></p>
<p><code>sudo blkid</code>ï¼šè·å–å„ä¸ªåˆ†åŒºçš„UUIDå’Œåˆ†åŒºç±»å‹TYPE</p></li>
<li><p>ç‰©ç†ç£ç›˜ä¸ç£ç›˜åˆ†åŒºï¼šä¸€ä¸ªç‰©ç†ç£ç›˜åœ¨<code>fdisk -l</code>ä¸­çš„æ˜¾ç¤ºå¾€å¾€ç±»ä¼¼äº<code>/dev/sda</code>ï¼Œ<code>/dev/sdb</code>ï¼Œ<code>/dev/nvme0n1</code>ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸å¸¦æ•°å­—çš„ï¼Œsda sdbæ˜¯æœ€å¸¸è§çš„å‘½åã€‚è€Œåˆ†åŒºå‘½ååˆ™æ˜¯å¦‚ï¼š<code>/dev/sda1</code>ï¼Œ<code>/dev/sdb2</code>ä¹‹ç±»åœ¨ç‰©ç†ç£ç›˜çš„åé¢å¸¦ä¸Šæ•°å­—è¡¨ç¤ºåˆ†åŒºç¼–å·ã€‚</p>
<p>ä½†æœ‰äº›å¦‚åŒç³»ç»Ÿä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°æœ€åä¸€ä¸ªä¾‹å­ä¸­å±•ç¤ºçš„å‘½åï¼Œè¿™ç§ç£ç›˜çš„åˆ†åŒºåˆ™æ˜¯ä»¥<code>p[x]</code>ç»“å°¾ï¼Œå¦‚<code>/dev/nvme0n1p1</code>ï¼Œ<code>/dev/nvme0n1p9</code>ã€‚</p></li>
<li><p>Linuxå¼€æœºåä¸ä¼šè‡ªåŠ¨æŒ‚è½½Windowsæ–‡ä»¶æ ¼å¼NTFSçš„ç£ç›˜ã€‚</p></li>
<li><p><code>sudo chmod -R 777 &lt;Folder_Name&gt;</code> å¯ä»¥å–æ¶ˆä¸€ä¸ªæ–‡ä»¶å¤¹çš„å…¨éƒ¨è®¿é—®æƒé™ã€‚</p></li>
<li><p><code>chmod</code>å‘½ä»¤å¯¹ext3/4æ–‡ä»¶ç³»ç»Ÿï¼Œå³Linuxæ ¼å¼çš„æ–‡ä»¶ç³»ç»Ÿæ‰æœ‰æ•ˆï¼Œå¯¹å…¶ä»–æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚vfat(Fat32)ï¼ŒNTFSéƒ½æ˜¯æ— æ•ˆçš„ã€‚</p></li>
<li><p>/etc/fstab` æ–‡ä»¶æ˜¯æŒç®¡ç¡¬ç›˜è‡ªåŠ¨æŒ‚è½½é…ç½®çš„æ–‡ä»¶ï¼ŒåŒ…å«è‡ªåŠ¨æŒ‚è½½åˆ†åŒºè¿‡ç¨‹çš„å¿…è¦ä¿¡æ¯ã€‚æ¯ä¸€æ¡è®°å½•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<p><code>[Device] [Mount Point] [File System Type] [Options] [Dump] [Pass]</code></p>
<p>å¦‚ï¼š</p>
<p><code>UUID=B45A01D55A019570 /data ntfs defaults 0 2</code></p>
<p>å…¶ä¸­ï¼š</p>
<p><code>[Options]</code> ï¼š<code>defaults</code>è¡¨ç¤ºç”¨é»˜è®¤çš„<code>rw, suid, dev, exec, auto, nouser, async</code>ç­‰é€‰é¡¹ï¼ˆä¸åŒå†…æ ¸å’Œæ–‡ä»¶ç³»ç»Ÿä¸åŒï¼‰è¿›è¡ŒæŒ‚è½½ï¼Œè¿™äº›é€‰é¡¹çš„å«ä¹‰ï¼š<code>rw</code> å¯è¯»å†™ï¼›<code>suid</code> æ‰§è¡Œç¨‹åºæ—¶éµå®ˆ<code>uuid</code>ï¼›<code>dev</code> è§£é‡Šå­—ç¬¦æˆ–ç¦æ­¢ç‰¹æ®Šè®¾å¤‡ï¼›<code>exec</code> å…è®¸æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼›<code>auto</code> å¯ä»¥<code>-a</code>æ–¹å¼åŠ è½½ï¼›<code>nouser</code> ç¦æ­¢æ™®é€šç”¨æˆ·æŒ‚è½½æ­¤æ–‡ä»¶ç³»ç»Ÿï¼›<code>async</code> æ‰€æœ‰I/Oå¼‚æ­¥å®Œæˆã€‚</p>
<p><code>[Dump]</code> ï¼šæ˜¯å¦å¼€å¯åˆ†åŒºå¤‡ä»½ï¼Œ0è¡¨ç¤ºå…³é—­</p>
<p><code>[Pass]</code>ï¼šç³»ç»Ÿå¯åŠ¨æ—¶æ£€æŸ¥åˆ†åŒºé”™è¯¯çš„é¡ºåºï¼Œrootä¸º1ï¼Œå…¶ä»–ä¸º2ï¼Œ0ä¸ºä¸æ£€æŸ¥ã€‚</p></li>
<li><p>åœ¨<code>fstab</code>æ–‡ä»¶ä¸­æ·»åŠ è®°å½•å‰ä¸€å®šè¦å…ˆå°è¯•ç”¨mountå‘½ä»¤æ‰‹åŠ¨æŒ‚è½½ã€‚</p></li>
</ol>
<h3 id="å‚è€ƒ">å‚è€ƒ</h3>
<ol type="1">
<li><a href="https://blog.csdn.net/qxqxqzzz/article/details/89790688">Ubuntu18.04 å¼€æœºè‡ªåŠ¨æŒ‚è½½å…¶ä»–ç¡¬ç›˜</a></li>
<li><a href="https://blog.csdn.net/ybdesire/article/details/79145180">LinuxæŸ¥çœ‹ä¸æŒ‚è½½æ–°ç£ç›˜</a></li>
</ol>
<h2 id="cudaçš„å®‰è£…">CUDAçš„å®‰è£…</h2>
<ol type="1">
<li><p>æ£€æŸ¥è‡ªå·±çš„GPUæ˜¯å¦æ˜¯CUDA-capableï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>lspci | grep -I NVIDIA</code> ï¼Œä¼šæ˜¾ç¤ºè‡ªå·±çš„NVIDIA GPUç‰ˆæœ¬ä¿¡æ¯ï¼Œå»CUDAçš„å®˜ç½‘æŸ¥çœ‹è‡ªå·±çš„GPUç‰ˆæœ¬æ˜¯å¦åœ¨CUDAçš„æ”¯æŒåˆ—è¡¨ä¸­ã€‚</p></li>
<li><p>æ£€æŸ¥è‡ªå·±çš„Linuxç‰ˆæœ¬æ˜¯å¦æ”¯æŒ CUDAï¼ˆUbuntu ç¨³å®šæ”¯æŒç‰ˆæ²¡é—®é¢˜ï¼‰ã€‚</p></li>
<li><p>æ£€æŸ¥å…¶ä»–é—®é¢˜ã€‚è¿™é‡Œå°±ä¸è¯¦è¿°äº†ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸€èˆ¬OKï¼Œè¿™é‡Œä¸»è¦è¦æ£€æŸ¥æ˜¯å¦å®‰è£…äº†<code>gcc</code>ï¼Œæ˜¯å¦å®‰è£…äº†<code>kernel header</code>å’Œ <code>package development</code>ã€‚å¦‚æœå®³æ€•å‡ºç°é—®é¢˜å¯ä»¥å‚è€ƒ<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#pre-installation-actions">å®˜ç½‘</a>æ‰§è¡Œè¿™å‡ æ­¥æ£€æµ‹ã€‚</p></li>
<li><p>äº<a href="https://developer.nvidia.com/cuda-downloads">CUDAå®˜ç½‘</a>ä¸‹è½½ä¸ç³»ç»Ÿå¯¹åº”çš„CUDAç‰ˆæœ¬ã€‚æœ€åä¸€ä¸ªé€‰é¡¹é€‰æ‹©<code>runfile</code>ï¼Œå› ä¸ºå…¶æ‰€éœ€æ­¥éª¤æœ€å°‘ï¼Œä¹Ÿå› æ­¤æœ€ä¸å®¹æ˜“å‡ºé—®é¢˜ã€‚æ‰€æœ‰é€‰é¡¹å®Œæˆåï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹ä¸¤è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://developer.download.nvidia.com/compute/cuda/10.2/Prod/local_installers/cuda_10.2.89_440.33.01_linux.run</span><br><span class="line">sudo sh cuda_10.2.89_440.33.01_linux.run</span><br></pre></td></tr></table></figure>
<p>å…ˆä¸è¦æ‰§è¡Œç¬¬äºŒæ¡<code>sudo</code>å¼€å¤´çš„æŒ‡ä»¤ï¼Œåªä½¿ç”¨<code>wget</code>ä¸‹è½½ã€‚</p></li>
<li><p>å¦‚æœä¹‹å‰æœ‰å®‰è£…è¿‡å…¶ä»–ç‰ˆæœ¬çš„CUDAå¹¶å¸Œæœ›å°†å…¶å¸è½½ï¼Œä½¿ç”¨<code>sudo nvidia-uninstall</code>å¸è½½ã€‚å¦‚æœè¯¥å‘½ä»¤ä¸åœ¨ç³»ç»Ÿè·¯å¾„ä¸­ï¼Œåˆ™ä½¿ç”¨<code>sudo /usr/bin/nvidia-uninstall</code>ï¼ˆä½ç½®å¯èƒ½å˜åŒ–ï¼‰å¸è½½ã€‚å¦‚æœè¿˜æ˜¯æ²¡æœ‰ï¼Œæˆ–æ˜¯ä¹‹å‰çš„é©±åŠ¨å·²ç»æŸåï¼Œåˆ™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get remove --purge nvidia*</span><br><span class="line">sudo chmod +x NVIDIA-Linux-x86_64-410.93.run</span><br><span class="line">sudo ./NVIDIA-Linux-x86_64-410.93.run --uninstall</span><br></pre></td></tr></table></figure></li>
<li><p>å±è”½<code>nouveau</code>é©±åŠ¨ã€‚</p></li>
</ol>
<h3 id="nouveauæ˜¯ä»€ä¹ˆ">Nouveauæ˜¯ä»€ä¹ˆ</h3>
<blockquote>
<h4 id="nouveau-accelerated-open-source-driver-for-nvidia-cards">Nouveau: Accelerated Open Source driver for nVidia cards</h4>
<p>The <strong>nouveau</strong> project aims to build high-quality, free/libre software drivers for <a href="https://nouveau.freedesktop.org/wiki/CodeNames/">nVidia cards</a>. â€œNouveauâ€ [<em>nuvo</em>] is the French word for â€œnewâ€. Nouveau is composed of a Linux kernel KMS driver (nouveau), Gallium3D drivers in Mesa, and the Xorg DDX (xf86-video-nouveau). The kernel components have also been ported to <a href="https://nouveau.freedesktop.org/wiki/NetBSD/">NetBSD</a>.</p>
</blockquote>
<p>ç®€å•è¯´ï¼Œnouveauæ˜¯Linuxç³»ç»Ÿé»˜è®¤çš„ç»™NVIDIAå¡é¢„è£…çš„ä¸€ä¸ªå›¾å½¢åŠ é€Ÿé©±åŠ¨ï¼Œè€Œè¿™ä¸ªé©±åŠ¨ä¼šä¸CUDAäº§ç”Ÿéƒ¨åˆ†å†²çªï¼Œæ‰€ä»¥åœ¨å®‰è£…CUDAä¹‹å‰éœ€è¦å°†å…¶ç¦ç”¨ï¼Œå¦åˆ™ä¼šå‡ºç°å¡åœ¨å¼€æœºç™»å½•ç•Œé¢æ— æ³•è¿›å…¥å›¾å½¢ç•Œé¢ï¼ˆä»ç„¶å¯ä»¥sshè®¿é—®ï¼‰ï¼Œé»‘å±ï¼Œé¼ æ ‡é”®ç›˜è¾“å…¥è¢«ç¦ç”¨ç­‰é—®é¢˜ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªï¼ˆäº²èº«ç»å†ï¼‰ã€‚</p>
<p>ç»§ç»­å®‰è£…æ•™ç¨‹ï¼š</p>
<ol start="6" type="1">
<li><p>åˆšæ‰è¯´åˆ°è¦å±è”½<code>nouveau</code>ï¼Œé‚£ä¹ˆæ€ä¹ˆçŸ¥é“ä½ æœ‰æ²¡æœ‰è£…å®ƒå‘¢ï¼Ÿ ä½¿ç”¨<code>lsmod | grep nouveau</code>å‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰è¾“å‡ºï¼Œå°±å¯ä»¥åˆ¤å®šä½ æ²¡æœ‰è¿è¡Œ<code>nouveau</code>ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ï¼š</p>
<ol type="1">
<li><p>Create a file at <code>/etc/modprobe.d/blacklist-nouveau.conf</code> with the following contents:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">blacklist nouveau</span><br><span class="line">options nouveau modeset=0</span><br></pre></td></tr></table></figure></li>
<li><p>Regenerate the kernel initramfs:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo update-initramfs -u</span><br></pre></td></tr></table></figure></li>
<li><p>Restart.</p></li>
<li><p>Run <code>lsmod | grep nouveau</code> again. If there is no output, then you succeed.</p></li>
</ol></li>
<li><p>æ­¤åå»ºè®®è¿›å…¥ä¸€ä¸ªéå›¾å½¢ç•Œé¢å®‰è£…ï¼Œè¿™é‡Œå¯ä»¥åœ¨é‡å¯åä½¿ç”¨<code>ssh</code>æ¥å…¥ï¼Œä¹Ÿå¯ä»¥åœ¨é‡å¯åæŒ‰<code>alt+ctrl+f1</code>ï¼Œè¿›å…¥<strong>text mode</strong>ï¼Œç™»å½•è´¦æˆ·ã€‚</p></li>
<li><p>è¾“å…¥ <code>sudo service lightdm stop</code> å…³é—­å›¾å½¢åŒ–ç•Œé¢ã€‚</p></li>
<li><p>æ‰§è¡Œåˆšæ‰å®˜ç½‘ä¸­ç»™å‡ºçš„ç¬¬äºŒæ¡å‘½ä»¤ï¼š<code>sudo sh cuda_10.2.89_440.33.01_linux.run</code>ã€‚æ³¨æ„è¿™é‡Œçš„ç‰ˆæœ¬ä¼šä¸æ–­æœ‰å˜åŒ–ã€‚æ³¨æ„è¿™é‡Œæœ‰ä¸€ä¸ªç‚¹ï¼Œå³ä½ æ˜¯å¦è¦åŒæ—¶å®‰è£…OpenGLï¼Œå¦‚æœä½ æ˜¯åŒæ˜¾ï¼Œä¸”ä¸»æ˜¾æ˜¯éNVIDIAçš„GPUéœ€è¦é€‰æ‹©noï¼Œå¦åˆ™yesã€‚åŒç†ï¼Œå¦‚æœå‡†å¤‡é€‰noï¼Œä¹Ÿå¯ä»¥ä¸€å¼€å§‹å°±åŠ ä¸Šå‚æ•°<code>--no-opengl-files</code>ã€‚ å¦å¤–ï¼Œå¦‚æœä¸èƒ½ç›´æ¥æ‰§è¡Œï¼Œä½¿ç”¨<code>sudo chmod a+x cuda_xx.xx.xx_linux.run</code>ä¸ºå…¶èµ‹æƒã€‚</p></li>
<li><p>å®‰è£…æˆåŠŸåï¼Œä¼šæç¤ºä½ å°†cudaçš„å‡ ä¸ªè·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ä¸­ï¼Œè¿™é‡Œé‡å¤ä¸€ä¸‹ï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/cuda-10.2/bin:/usr/<span class="built_in">local</span>/cuda-10.2/NsightCompute-2019.1<span class="variable">$&#123;PATH:+:<span class="variable">$&#123;PATH&#125;</span>&#125;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/<span class="built_in">local</span>/cuda-10.2/lib64\</span><br><span class="line">                         <span class="variable">$&#123;LD_LIBRARY_PATH:+:<span class="variable">$&#123;LD_LIBRARY_PATH&#125;</span>&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨<code>nvcc -V</code>æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚å½“ç„¶ä¹Ÿå¯ä»¥åŒæ—¶æµ‹è¯•<code>nvidia-smi</code>ã€‚è¿™é‡Œå¯èƒ½ä¼šæŠ¥é”™å¹¶æç¤ºéœ€è¦aptå®‰è£…ä¸€ä¸ªåŒ…ï¼ŒæŒ‰æç¤ºæ¥ã€‚</p></li>
<li><p>å®Œæˆã€‚</p></li>
</ol>
<h3 id="å‚è€ƒ-1">å‚è€ƒ</h3>
<ol type="1">
<li><a href="https://developer.nvidia.com/cuda-downloads">NVIDIA CUDAä¸‹è½½å®˜ç½‘</a></li>
<li><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html">NVIDIA å®˜æ–¹å®‰è£…æŒ‡å—ï¼ˆè‹±æ–‡ï¼‰</a></li>
<li><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#pre-installation-actions">NVIDIA å®˜æ–¹å®‰è£…æŒ‡å—ä¸­å‰ç½®æ£€æŸ¥éƒ¨åˆ†</a></li>
<li><a href="https://www.pugetsystems.com/labs/hpc/How-To-Install-CUDA-10-together-with-9-2-on-Ubuntu-18-04-with-support-for-NVIDIA-20XX-Turing-GPUs-1236/">How To Install CUDA 10 (together with 9.2) on Ubuntu 18.04 with support for NVIDIA 20XX Turing GPUs</a></li>
<li><a href="https://blog.csdn.net/lipi37/article/details/90407099">Ubuntu å®‰è£… cuda æ—¶å¡åœ¨ç™»å½•ç•Œé¢ï¼ˆlogin loop)çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€</a></li>
<li><a href="https://blog.csdn.net/wkk15903468980/article/details/56489704">ubuntuå®‰è£…cudaå¾ªç¯ç™»å½•</a></li>
<li><a href="https://blog.csdn.net/qq_33200967/article/details/80689543">Ubuntuå®‰è£…å’Œå¸è½½CUDAå’ŒCUDNN</a></li>
<li><a href="https://blog.csdn.net/wf19930209/article/details/81879514">Linuxå®‰è£…CUDAçš„æ­£ç¡®å§¿åŠ¿</a></li>
</ol>
<h2 id="cuda-ä¸-cudnn-çš„è”ç³»">CUDA ä¸ CUDNN çš„è”ç³»</h2>
<ol type="1">
<li>è¦å…ˆè£…CUDAå†è£…CUDNNã€‚</li>
<li>å‰è€…æ˜¯å¹³å°ï¼Œåè€…æ˜¯åŸºäºå¹³å°çš„æ·±åº¦å­¦ä¹ åŠ é€Ÿå™¨ã€‚åŠ é€Ÿå¯ä»¥åº”ç”¨äºå‡ ä¹å…¨éƒ¨æ·±åº¦å­¦ä¹ å¹³å°ã€‚è¿˜æ˜¯è¦å®‰çš„ã€‚</li>
<li>ä¸€èˆ¬æ·±åº¦å­¦ä¹ ä½¿ç”¨å®‰è£…runtimeç‰ˆæœ¬å³å¯ã€‚</li>
<li><a href="https://developer.nvidia.com/rdp/cudnn-download">CUDNNå®˜æ–¹ä¸‹è½½</a>ï¼Œ<a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html">CUDNNå®˜æ–¹å®‰è£…æ­¥éª¤</a></li>
</ol>
<h2 id="ä¿®å¤ubuntuä¸­æ£€æµ‹åˆ°ç³»ç»Ÿç¨‹åºé”™è¯¯çš„é—®é¢˜">ä¿®å¤Ubuntuä¸­â€œæ£€æµ‹åˆ°ç³»ç»Ÿç¨‹åºé”™è¯¯â€çš„é—®é¢˜</h2>
<h3 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h3>
<p>æ¯æ¬¡å¼€æœºæ—¶éƒ½ä¼šæœ‰â€œ<strong>Ubuntu xx.xx åœ¨å¯åŠ¨æ—¶æ£€æµ‹åˆ°ç³»ç»Ÿç¨‹åºé”™è¯¯</strong> â€å¼¹çª—å‡ºç°ã€‚å³ä½¿ç‚¹å‡»æŠ¥å‘Šä¸‹æ¬¡è¿˜ä¼šç»§ç»­å‡ºç°ã€‚</p>
<h3 id="é—®é¢˜æ¥æº">é—®é¢˜æ¥æº</h3>
<p>ä¹‹å‰çš„æŸä¸ªæ—¶åˆ»æŸä¸ªç¨‹åºå´©æºƒäº†ï¼Œè€ŒUbuntuæƒ³è®©ä½ å†³å®šè¦ä¸è¦æŠŠè¿™ä¸ªé—®é¢˜æŠ¥å‘Šç»™å¼€å‘è€…ï¼Œè¿™æ ·ä»–ä»¬å°±èƒ½å¤Ÿä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 id="è§£å†³åŠæ³•">è§£å†³åŠæ³•</h3>
<ol type="1">
<li><code>sudo rm /var/crash/*</code> ï¼šåˆ é™¤è¿™äº›é”™è¯¯æŠ¥å‘Šã€‚ä½†æ˜¯å¦‚æœåˆæœ‰ä¸€ä¸ªç¨‹åºå´©æºƒäº†ï¼Œä½ å°±ä¼šå†æ¬¡çœ‹åˆ°â€œæ£€æµ‹åˆ°ç³»ç»Ÿç¨‹åºé”™è¯¯â€çš„é”™è¯¯ã€‚ä½ å¯ä»¥å†æ¬¡åˆ é™¤è¿™äº›æŠ¥å‘Šæ–‡ä»¶ï¼Œæˆ–è€…é€‰æ‹©ç¦ç”¨Apportæ¥å½»åº•åœ°æ‘†è„±è¿™ä¸ªé”™è¯¯å¼¹çª—ã€‚å¦‚æœä½ è¿™æ ·åšï¼Œç³»ç»Ÿä¸­ä»»ä½•ç¨‹åºå´©æºƒæ—¶ï¼Œç³»ç»Ÿéƒ½ä¸ä¼šå†é€šçŸ¥ä½ ã€‚ä½†è¿™æœªå¿…ä¸€ä»¶åäº‹ï¼Œé™¤éä½ æ„¿æ„å¡«å†™é”™è¯¯æŠ¥å‘Šã€‚å¦‚æœä½ ä¸æƒ³å¡«å†™é”™è¯¯æŠ¥å‘Šï¼Œé‚£ä¹ˆè¿™äº›é”™è¯¯é€šçŸ¥å­˜ä¸å­˜åœ¨éƒ½ä¸ä¼šæœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</li>
<li><code>sudo vim /etc/default/apport</code> æ°¸ä¹…å±è”½è¿™äº›æŠ¥é”™ã€‚</li>
</ol>
<h3 id="å‚è€ƒ-2">å‚è€ƒ</h3>
<ol type="1">
<li><a href="https://blog.csdn.net/hywerr/article/details/72582082">å¦‚ä½•ä¿®å¤ubuntuä¸­æ£€æµ‹åˆ°ç³»ç»Ÿç¨‹åºé”™è¯¯çš„é—®é¢˜</a></li>
<li><a href="https://itsfoss.com/how-to-fix-system-program-problem-detected-ubuntu/">How To Fix System Program Problem Detected In Ubuntu</a></li>
</ol>
<h2 id="å®‰è£…python3.6ç‰ˆæœ¬çš„anaconda">å®‰è£…Python3.6ç‰ˆæœ¬çš„Anaconda</h2>
<p>ç”±äºä¹‹å‰ä½¿ç”¨çš„ä¸€äº›å¼€æºåº“å’Œè½¯ä»¶å¯¹3.7çš„æ”¯æŒæ€§å°šè¿˜æœ‰é—®é¢˜ï¼Œè€ŒAnacondaé»˜è®¤Pythonç‰ˆæœ¬ä¸º3.6ï¼Œ æ‰€ä»¥æœ‰å¿…è¦æŠŠAnacondaé™çº§ä¸º3.6ç‰ˆæœ¬ã€‚</p>
<p>å®‰è£…æ–¹æ³•ï¼š</p>
<ol type="1">
<li><p>åˆ°Anacondaå®˜ç½‘ä¸‹è½½å¹¶å®‰è£…æœ€æ–°3.7ç‰ˆæœ¬ã€‚</p></li>
<li><p>ä¸–ç•Œçº¿å¼€å§‹åˆ†æ­§ï¼Œä½ å¯ä»¥é€‰æ‹©ä¿ç•™3.7ç‰ˆæœ¬çš„Anacondaï¼Œå¹¶åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œæˆ–æ˜¯ç›´æ¥æ›¿æ¢Pythonç‰ˆæœ¬ã€‚</p>
<ol type="1">
<li><p>å¯¹å‰è€…ï¼Œ è‹¥åªè¦ä¸€ä¸ªpythonç¯å¢ƒä¸è¦packagesï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda create --name ana36 python=3.6</span><br><span class="line"><span class="built_in">source</span> activate ana36</span><br></pre></td></tr></table></figure>
<p>åä¹‹ï¼Œå¦‚æœè¦å®‰è£…ä¸€ä¸ªæ–°çš„Anacondaï¼ŒåŒ…å«é»˜è®¤çš„æ‰€æœ‰packagesï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda create -n ana36 anaconda python=3.6</span><br><span class="line"><span class="built_in">source</span> activate ana36</span><br></pre></td></tr></table></figure></li>
<li><p>å¯¹åè€…ï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda install python=3.6</span><br></pre></td></tr></table></figure></li>
</ol></li>
</ol>
<h2 id="æ·»åŠ vimæ‹·è´è‡³ç³»ç»Ÿå‰ªè´´æ¿å¿«æ·é”®æ”¯æŒ">æ·»åŠ Vimæ‹·è´è‡³ç³»ç»Ÿå‰ªè´´æ¿å¿«æ·é”®æ”¯æŒ</h2>
<p>(from: <a href="http://vim.wikia.com/wiki/Mac_OS_X_clipboard_sharing">link</a>)</p>
<p>Having trouble copying selected text from Vim (not MacVim)? Since using <code>"+y</code> or '"*y' in Vim on a Mac doesn't actually copy the selected text to the system clipboard, you might find it beneficial to do the following:</p>
<ol type="1">
<li>Open your <code>~/.vimrc</code> file</li>
<li>add <code>vmap '' :w !pbcopy</code></li>
<li>Save it and <code>source</code> the file</li>
</ol>
<p>ç°åœ¨ï¼Œä½ å°±å¯ä»¥åœ¨ visual modeï¼Œ å³åœ¨Escå‘½ä»¤æ¨¡å¼åæŒ‰ä¸‹vé”®åçš„é€‰æ‹©æ¨¡å¼ä¸­ï¼Œé€‰å¥½éœ€è¦æ‹·è´åŒºåŸŸåï¼Œè¿å‡»ä¸¤æ¬¡<code>'</code> ï¼Œå³ä½¿ç”¨ <code>''</code>æ¥æ‹·è´æ‰€é€‰åŒºåŸŸã€‚</p>
<h2 id="åœ¨maclinuxä¸Šä½¿ç”¨sshæŒ‚è½½è¿œç¨‹ç½‘ç»œç¡¬ç›˜">åœ¨Mac/Linuxä¸Šä½¿ç”¨sshæŒ‚è½½è¿œç¨‹ç½‘ç»œç¡¬ç›˜</h2>
<p>TL;DRï¼š</p>
<ol type="1">
<li>å®‰è£…sshfs: <code>sudo apt-get install sshfs</code></li>
<li>ç›´æ¥åœ¨<code>~/.zshrc</code>ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼šï¼ˆå½“ç„¶ï¼Œéœ€è¦æ›´æ”¹æ–‡ä»¶å¤¹åç§°ï¼Œä»¥åŠæŒ‚è½½åçš„å‘½åï¼‰</li>
</ol>
<h3 id="è¿æ¥æœ¬åœ°linux-server">è¿æ¥æœ¬åœ°Linux Server</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">connect_misaka</span></span> () &#123;</span><br><span class="line">    <span class="keyword">if</span> [ ! -d <span class="string">&quot;/Volumes/misaka-home&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        mkdir /Volumes/misaka-home</span><br><span class="line">        sshfs -o allow_other,default_permissions,IdentityFile=~/.ssh/id_rsa,reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 misaka:/home/miracle /Volumes/misaka-home/ -ovolname=mk-home</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ ! -d <span class="string">&quot;/Volumes/misaka-storage&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        mkdir /Volumes/misaka-storage</span><br><span class="line">        sshfs -o allow_other,default_permissions,IdentityFile=~/.ssh/id_rsa,reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 misaka:/data /Volumes/misaka-storage/ -ovolname=mk-2T</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¿æ¥gypsum">è¿æ¥Gypsum</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">connect_gypsum</span></span> () &#123;</span><br><span class="line">    <span class="keyword">if</span> [ ! -d <span class="string">&quot;/Volumes/gypsum/&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        mkdir /Volumes/gypsum</span><br><span class="line">        sshfs -o allow_other,default_permissions,IdentityFile=~/.ssh/id_rsa,reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 gypsum:/home/zhongyangzha /Volumes/gypsum/ -ovolname=gp-home</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ ! -d <span class="string">&quot;/Volumes/gypsum-scratch/&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        mkdir /Volumes/gypsum-scratch/</span><br><span class="line">        sshfs -o allow_other,default_permissions,IdentityFile=~/.ssh/id_rsa,reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 gypsum:/mnt/nfs/scratch1/zhongyangzha/ /Volumes/gypsum-scratch/ -ovolname=gp-scratch</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ ! -d <span class="string">&quot;/Volumes/gypsum-work/&quot;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        mkdir /Volumes/gypsum-work</span><br><span class="line">        sshfs -o allow_other,default_permissions,IdentityFile=~/.ssh/id_rsa,reconnect,ServerAliveInterval=15,ServerAliveCountMax=3 gypsum:/mnt/nfs/work1/trahman/zhongyangzha /Volumes/gypsum-work/ -ovolname=gp-work</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å‚æ•°è§£é‡Š">å‚æ•°è§£é‡Š</h3>
<ol type="1">
<li><code>ovolname</code>ï¼šæŒ‚è½½ä¸Šç½‘ç»œç¡¬ç›˜ä¹‹åç¡¬ç›˜çš„å‘½å</li>
<li><code>IdentityFile</code>ï¼šå¦‚æœå·²ç»è®¾ç½®äº†å…å¯†ç™»å½•ï¼Œç”¨è¿™ä¸ªå‚æ•°æŒ‡æ˜sshç§é’¥ä½ç½®å³å¯ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç ã€‚</li>
<li><code>&lt;source&gt; &lt;target&gt;</code>ï¼šç½‘ç»œç¡¬ç›˜æºä½ç½®&lt;username@ip.address:/the/source/path&gt; ä¸æœ¬æœºç›®æ ‡æŒ‚è½½ä½ç½®</li>
<li><code>reconnect,ServerAliveInterval=15,ServerAliveCountMax=3</code>ï¼šå¤šæ¬¡æ–­çº¿é‡è¿ï¼Œå¯ä»¥å†æ–­å¼€ç½‘ç»œè¿æ¥ã€æœåŠ¡å™¨é‡å¯ç­‰é—®é¢˜å‘ç”Ÿåå†æ¬¡è‡ªåŠ¨è¿æ¥ã€‚</li>
</ol>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>linux</tag>
        <tag>ssh</tag>
        <tag>net-disk</tag>
        <tag>cuda</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»Šæ—¥PPTæ±‡æŠ¥æ„Ÿæƒ³</title>
    <url>/2018/03/09/liu-criticize/</url>
    <content><![CDATA[<p>ä»Šå¤©ä¸­åˆåšäº†æ‹›æ–°å®£è®²ä¼šçš„PPTå±•ç¤ºè¯•è®²å·¥ä½œã€‚è¯•è®²äº†ä¸¤æ¬¡éƒ½è¢«åˆ˜ç‰è€å¸ˆä¸¥å‰çš„æ‰¹è¯„äº†ï¼Œä¹‹åé’Ÿè€å¸ˆç‰¹åœ°é™ªæˆ‘èµ°å›äº†å¯å®¤ï¼Œè·¯ä¸Šçš„ä¸€ç•ªè¯ç»™äº†æˆ‘å¾ˆå¤šçš„å¯ç¤ºã€‚ååˆ†æ„Ÿè°¢é’Ÿè€å¸ˆçš„å¹³æ˜“è¿‘äººçš„è°ˆå¿ƒï¼Œç¡®å®è®©æˆ‘è®¤è¯†åˆ°äº†ä¸å°‘ä¹‹å‰æ²¡æœ‰æ³¨æ„æˆ–æ˜¯æ³¨æ„äº†å´æ²¡æœ‰ç€æ‰‹å»æ”¹æ­£çš„é—®é¢˜ï¼Œåœ¨å¤§å­¦é˜¶æ®µè¿˜èƒ½é‡åˆ°è¿™æ ·çœŸçš„å…³å¿ƒè‡ªå·±çš„å¯¼å¸ˆå®åœ¨æ˜¯å¤ªå¹¸ç¦äº†ã€‚åˆ˜è€å¸ˆç¡®å®å¯¹æˆ‘å¾ˆä¸¥å‰ï¼Œä¸è¿‡æ¯æ¬¡è¢«éª‚ä»”ç»†æƒ³æƒ³éƒ½èƒ½è®©æˆ‘è®¤çœŸåæ€ä¸€äº›æ·±å¤„çš„é—®é¢˜ï¼Œä»è€Œèƒ½è®©å…¶å¾—ä»¥åŠæ—¶çš„è§£å†³ï¼Œçš„ç¡®è®©æˆ‘å¾ˆæ•¬ä½©ã€‚è¿™å‡ å¤©ç»å†çš„ä¸€äº›äº‹æƒ…ç»™æˆ‘çš„æ„Ÿå—ï¼š</p>
<span id="more"></span>
<ul>
<li>ä¸è¦è¯•å›¾å»ä¸ºä¸€äº›æ”¹å˜ä¸äº†çš„äº‹æƒ…è§£é‡Šã€‚å› ä¸ºå³ä½¿è¯´äº†ä¹Ÿæ”¹å˜ä¸äº†ä»€ä¹ˆï¼Œåè€Œä¼šä½¿å¾—äº¤è°ˆåŒæ–¹éƒ½ä¸æ„‰å¿«</li>
<li>è‡ªå·±è®¤ä¸ºçš„â€œå‹å¥½çš„â€è§£é‡Šå¾€å¾€å¯èƒ½æ˜¯å¯¹æ–¹çœ¼ä¸­çš„è¾©è§£ï¼Œå°¤å…¶ä¸è¦ç»å¸¸æ€§çš„è§£é‡Šï¼Œå³ä½¿æœ‰æƒ³è¦çº æ­£çš„ç‚¹ï¼Œç•™åˆ°æœ€åä¸€èµ·è®²ä¼šç»™äººæ›´åŠ ç¤¼è²Œçš„ç›´è§‚æ„Ÿå—</li>
<li>å€¾å‘äºè§£é‡Šå¯ä»¥çœ‹åšæ˜¯æ€¥äºå¾—åˆ°åˆ«äººæ‰¿è®¤çš„è¡¨ç°ï¼Œå…¶å®çœŸæ­£åšäº†äº‹æƒ…ä¹‹åï¼Œåè€Œæ˜¯æ²‰é»˜ç‚¹æ›´èƒ½å¼•èµ·åˆ«äººå°Šé‡ï¼Œäº‹æƒ…æ°¸è¿œæ˜¯æ‘†åœ¨é‚£é‡Œçš„</li>
<li>å’Œå¹³çº§æˆ–æ˜¯ä¸‹çº§çš„äººè®²è¯æ—¶å¯ä»¥è¾ƒä¸ºåŠæ—¶çš„æå‡ºå¼‚è®®ï¼Œä½†é¢å¯¹ä¸Šçº§ã€é•¿è¾ˆçš„æ—¶å€™æ›´å¤šçš„å¬ä¼šè®©äººè§‰å¾—ä½ æ›´å°Šé‡åˆ«äºº</li>
<li>åˆ˜è€å¸ˆè¯´çš„é—®é¢˜å¾€å¾€æ˜¯å®¢è§‚å­˜åœ¨çš„ï¼Œè€å¿ƒçš„å¬å–æ›´æœ‰ç»éªŒçš„äººçš„æ„è§ä¼šä½¿ä½ æ›´åŠ å¿«é€Ÿçš„è¿›æ­¥</li>
<li>æˆ‘æ€§æ ¼æ–¹é¢è¿‡äºå–œæ¬¢è¡¨ç°å’Œè¯´è¯ï¼Œè€Œåœ¨åšçš„äº‹æƒ…åŒæ ·å¤šçš„æ—¶å€™ï¼Œè¿‡å¤šçš„è¡¨ç°å¾€å¾€ä¼šä½¿å¾—åˆ«äººé™ä½å¯¹ä½ çš„çœ‹æ³•</li>
<li>å¤šè§‚å¯Ÿåˆ«äººçš„åšæ³•ï¼Œå¤šè§‚å¯ŸåŒæ ·çš„äº‹æƒ…æ›´æœ‰ç»éªŒçš„äººæ€ä¹ˆå¤„ç†ï¼Œè¯´çš„å¤ªå¤šè§£é‡Šå¾€å¾€ä¼šè®©è‡ªå·±é”™å¤±è‰¯æœº</li>
<li>ä¸è¦æ€•çŠ¯é”™ï¼Œä¸€å¼€å§‹åšæ€»ä¼šæœ‰è¿™æ ·é‚£æ ·çš„é—®é¢˜çš„ï¼Œä¸è¿‡ä½ è¦å­¦ä¼šä»ä¸­å­¦åˆ°ä¸€äº›ä»€ä¹ˆï¼Œä½œä¸ºè‡ªå·±çš„ç»éªŒ</li>
</ul>
<p>ä»¥ä¸Šã€‚å¸Œæœ›åé¢çœŸçš„å¯ä»¥ç”¨æ—¶é—´çš„æŸ“ç¼¸æ¥è®©è‡ªå·±æŸ“ä¸Šè¿™äº›ä¼˜é›…çš„é¢œè‰²ã€‚</p>
]]></content>
      <tags>
        <tag>essay</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux æŸ¥çœ‹æœåŠ¡å™¨å¼€æ”¾çš„ç«¯å£å·</title>
    <url>/2018/08/27/linux-open-port/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h1>
<p>å¦‚ä½•ç¡®å®šä¸€å°Linuxä¸»æœºä¸Šæœ‰å“ªäº›ç«¯å£æ­£åœ¨ä½¿ç”¨ã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆ</h1>
<ol>
<li>å®‰è£…<strong>nmapå·¥å…·æ£€æµ‹å¼€æ”¾ç«¯å£</strong>ï¼š<code>apt-get install nmap</code></li>
<li>æŸ¥çœ‹æœ¬æœºæ´»è·ƒç«¯å£ï¼š<code>nmap 127.0.0.1</code></li>
</ol>
]]></content>
      <tags>
        <tag>server</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‚¹çŸ³æˆé‡‘ï¼ŒæŒ¥åˆ€ç¢ç‰â€”â€”â€œåŒåˆ›è€å¤ªâ€åˆ˜ç‰é‚£äº›äº‹å„¿</title>
    <url>/2019/08/21/liuyu-introduction/</url>
    <content><![CDATA[<p>ã€€ã€€é«˜è°ƒã€çˆ±æŠ˜è…¾ã€ä¸èµ°å¯»å¸¸è·¯ã€çŠ€åˆ©ã€â€œæ¯’èˆŒâ€ã€è¶…çº§å¤§å¿™äººï¼Œå¥¹æ˜¯è¢«è´´æ»¡æ ‡ç­¾çš„åä¸­å¤§æ•™æˆâ€”â€”åˆ˜ç‰è€å¸ˆã€‚è€Œå…¶ä¸­æœ€å“äº®ï¼Œæœ€å¹¿ä¸ºäººçŸ¥çš„æ ‡ç­¾ï¼Œä¸€å®šéâ€œåŒåˆ›è€å¤ªâ€è«å±ã€‚ä»Šå¤©ï¼Œè®©æˆ‘ä»¬èµ°è¿‘è¿™ç¥ç§˜çš„åˆ˜ç‰æ•™æˆï¼Œè¯´ä¸€è¯´ï¼Œå¥¹çš„é‚£äº›äº‹å„¿ã€‚</p>
<span id="more"></span>
<iframe src="//player.bilibili.com/player.html?aid=64840863&amp;cid=112556496&amp;page=1" width="740" height="500" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">
</iframe>
<h2 id="å¥¹æ˜¯è°"><span style="font-size: 20px;color: white;background-color: red;font-weight: bold;">å¥¹æ˜¯è°ï¼Ÿ</span></h2>
<ul>
<li>æ¹–åŒ—çœåˆ›ä¸šçº¢å¨˜ä¼—åˆ›ç©ºé—´ è´Ÿè´£äºº</li>
<li>æ­¦æ±‰åˆ›ä¸šçº¢å¨˜å…¬ç›ŠæœåŠ¡ä¸­å¿ƒ ç†äº‹é•¿</li>
<li>åä¸­ç§‘æŠ€å¤§å­¦ ç”µä¿¡å­¦é™¢ æ•™ æˆ</li>
<li>åä¸­ç§‘æŠ€å¤§å­¦ Dianå›¢é˜Ÿ åˆ›å§‹äºº</li>
</ul>
<hr>
<h2 id="å¥¹éƒ½åšè¿‡ä»€ä¹ˆ"><span style="font-size:20px;color:white;background-color: red;font-weight:bold;">å¥¹éƒ½åšè¿‡ä»€ä¹ˆï¼Ÿ</span></h2>
<p>###<span style="font-size:16px;color:red;font-weight:bold;">æ‰¶å¼Ÿå­åˆ›æ–°</span></p>
<p>ã€€ã€€æ›¾æŒ‡å¯¼æœ¬ç§‘ç”Ÿè·å…¨å›½æŒ‘æˆ˜æ¯ç‰¹ç­‰å¥–ï¼ŒDianå›¢é˜Ÿè‚²äººæ¨¡å¼è·å›½å®¶æ•™å­¦æˆæœäºŒç­‰å¥–ï¼Œæ•™è‚²éƒ¨å¤§å­¦ç”Ÿåˆ›æ–°æ€§å®éªŒè®¡åˆ’çš„â€œæºå¤´â€ä¹‹ä¸€ï¼Œå¤®è§†å°å´”è¯´äº‹æ ç›®æ›¾ä»¥â€œç‚¹äº®æœªæ¥â€ä¸“é¢˜æŠ¥é“ï¼Œæ›¾åº”é‚€åˆ°å…¨å›½é«˜æ ¡ã€ä¸­å­¦ã€ä¼äº‹ä¸šç­‰é€¾ç™¾å®¶å•ä½ä½œåˆ›æ–°åˆ›ä¸šæŠ¥å‘Šï¼Œå¼•èµ·å¼ºçƒˆåå“ã€‚æ›¾è·è¯„â€œå…¨å›½å¸ˆå¾·å…ˆè¿›ä¸ªäººâ€å’Œæ¹–åŒ—çœâ€œäº”ä¸€åŠ³åŠ¨å¥–ç« â€ã€æ¹–åŒ—çœæ•™è‚²ç³»ç»Ÿâ€œä¸‰è‚²äººâ€å¥–ã€ å®é’¢ä¼˜ç§€æ•™å¸ˆç‰¹ç­‰å¥–çš„æåå¥–ã€ä¸¤æ¬¡è·åä¸­ç§‘æŠ€å¤§å­¦æ•™å­¦è´¨é‡ä¼˜ç§€ä¸€ç­‰å¥–ã€‚</p>
<p>ã€€ã€€åœ¨å¥¹ä¸¥æ ¼è¦æ±‚å’Œç²¾å¿ƒåŸ¹å…»ä¸‹ï¼ŒDianå›¢é˜Ÿå‡ºç«™é˜Ÿå‘˜600å¤šäººåœ¨ç¤¾ä¼šä¸Šæ€»ä½“è¡¨ç°ä¼˜å¼‚ï¼Œè¿‘7å¹´æ¶Œç°å‡º50ä½™å®¶åˆ›ä¸šå…¬å¸ï¼Œå…¶ä¸­è´è´ç½‘å’Œè´åº—å·²æˆä¸ºç‹¬è§’å…½ï¼Œé‡Šç å¤§åã€ping++ã€æ‚¦ç„¶å¿ƒåŠ¨ç­‰åˆ›ä¸šå…¬å¸ä¸šç»©æ–ç„¶ï¼Œ4äººè£ç™»ç¦å¸ƒæ–¯ä¸­å›½30ä½â€œ30å²ä»¥ä¸‹åˆ›ä¸šè€…â€æ¦œå•ã€‚</p>
<h3 id="å¸®ä»–äººåˆ›ä¸š"><span style="font-size:16px;color:red;font-weight:bold;">å¸®ä»–äººåˆ›ä¸š</span></h3>
<p>ã€€ã€€2015å¹´3æœˆï¼Œåˆ˜ç‰åˆ›åŠâ€œåˆ›ä¸šçº¢å¨˜å·¥ä½œå®¤â€ï¼Œä¹‰åŠ¡ä¸ºä¼˜ç§€åˆ›ä¸šé¡¹ç›®ä¸æŠ•èµ„æœºæ„ç‰µçº¿æ­æ¡¥ï¼Œåˆ›ä¸šé¡¹ç›®çš„ç”„é€‰èŒƒå›´ä»åä¸­ç§‘æŠ€å¤§å­¦åœ¨æ ¡ç”Ÿæ‹“å®½è‡³å…¨ç¤¾ä¼šï¼Œä¸åˆ†åœ°åŸŸã€ä¸åˆ†å¹´é¾„ã€ä¸åˆ†å­¦æ ¡ã€ä¸åˆ†å­¦å†ã€‚è‡³ä»Šï¼Œç»åˆ˜ç‰è€å¸ˆæ¨èçš„åˆ›ä¸šé¡¹ç›®å·²è¶…è¿‡500ä¸ªï¼Œèèµ„æˆäº¤ç‡è¶…13%ï¼Œä¿ƒæˆæŠ•èµ„æ€»é¢2.57äº¿å…ƒã€‚</p>
<hr>
<h2 id="å¥¹çš„é‚£äº›äº‹å„¿"><span style="font-size:20px;color:white;background-color: red;font-weight:bold;">å¥¹çš„é‚£äº›äº‹å„¿</span></h2>
<ul>
<li><p><a href="http://szbold.cjn.cn/cjrb/html/2015-12/25/content_5498033.htm"><span style="color:red;font-size:18px;">åˆ˜ç‰:åˆ›å®¢ç‚¹ç›æ‰‹â€”â€”ã€Šé•¿æ±Ÿæ—¥æŠ¥ã€‹</span></a></p></li>
<li><p><a href="https://www.chsi.com.cn/jyzx/200711/20071108/1493323.html"><span style="color:red;font-size:18px;">åˆ›æ–°æ½œèƒ½åœ¨å®è·µä¸­å°½æƒ…é‡Šæ”¾</span></a></p></li>
<li><p><a href="http://hb.people.com.cn/n2/2016/0115/c337099-27552249.html"><span style="color:red;font-size:18px;">äººæ°‘ç½‘ä¸“è®¿â€œåˆ›ä¸šçº¢å¨˜â€åˆ˜ç‰ï¼šå¦‚ä½•åšåˆ°äººé è°±ã€äº‹è½å®ã€æœ‰æƒ…æ€€</span></a></p></li>
<li><p><a href="http://zqb.cyol.com/html/2016-01/19/nw.D110000zgqnb_20160119_2-10.htm"><span style="color:red;font-size:18px;">åˆ˜ç‰ï¼šè¢«â€œå¼ºæ¨è½¬èº«â€çš„åˆ›ä¸šçº¢å¨˜â€”â€”ã€Šä¸­å›½é’å¹´æŠ¥ã€‹</span></a></p></li>
<li><p><a href="http://cjrb.cjn.cn/html/2018-04/04/content_67430.htm"><span style="color:red;font-size:18px;">å…¨å›½å¸ƒæ’’â€œå§»ç¼˜çº¿â€çš„â€œåˆ›ä¸šçº¢å¨˜â€ â€”â€”æ­¦æ±‰é¦–ä¸ªåˆ›ä¸šæœåŠ¡å…¬ç›Šæœºæ„å®å½•â€”â€”ã€Šé•¿æ±Ÿæ—¥æŠ¥ã€‹</span></a></p></li>
<li><p><a href="http://news.cnhubei.com/xw//sh/201604/t3592740.shtml"><span style="color:red;font-size:18px;">æ­¦æ±‰å¥³æ•™æˆå…¥é€‰â€œä¸­å›½å¥½äººâ€ å…è´¹å­µå‡º50å¤šå®¶å…¬å¸â€”â€”è†æ¥šç½‘</span></a></p></li>
<li><p><a href="http://hb.people.com.cn/n2/2017/0526/c337099-30246043.html"><span style="color:red;font-size:18px;">åç§‘Dianå›¢é˜Ÿ15å¹´èµ°å‡º10ä½™å®¶â€œè¿‡äº¿â€ä¼ä¸šâ€”â€”äººæ°‘ç½‘</span></a></p></li>
<li><p><a href="http://cppcc.people.com.cn/GB/35377/11493611.html"><span style="color:red;font-size:18px;">å´”æ°¸å…ƒâ€œè¯´äº‹â€è®¾â€œåœˆå¥—â€ å¥³æ•™æˆå‡â€œåŒ–é™©ä¸ºå¤·â€â€”â€”ä¸­å›½æ”¿åæ–°é—»ç½‘</span></a></p></li>
<li><p><a href="http://www.cnki.com.cn/Article/CJFDTotal-DYXS201409005.htm"><span style="color:red;font-size:18px;">â€œç‚¹â€ä¸‹ç§å­â€”â€”è®¿è°ˆåä¸­ç§‘æŠ€å¤§å­¦â€œç‚¹å›¢é˜Ÿâ€åˆ›å§‹äººåˆ˜ç‰æ•™æˆâ€”â€”ã€Šå¤§å­¦ç”Ÿã€‹</span></a></p></li>
<li><p><a href="http://news.cjn.cn/sywh/201705/t3010007.htm"><span style="color:red;font-size:18px;">åç§‘åˆ›å®¢ç‚¹ç›æ‰‹åˆ˜ç‰è®²è¿°ï¼šå¼ å°é¾™åœ¨æ­¦æ±‰é¦–æå¾®ä¿¡äº§å“è§‚â€”â€”è†æ¥šç½‘</span></a></p></li>
<li><p><a href="http://hustxb.cuepa.cn/show_more.php?tkey=&amp;bkey=&amp;doc_id=235846"><span style="color:red;font-size:18px;">åˆ˜å»¶ä¸œå¯„è¯­Dianå›¢é˜Ÿâ€”â€”â€”åœ¨å®è·µä¸­é‡Šæ”¾åˆ›æ–°æ½œèƒ½</span></a></p></li>
<li><p><a href="http://zqb.cyol.com/html/2014-06/26/nw.D110000zgqnb_20140626_3-07.htm"><span style="color:red;font-size:18px;">åä¸­ç§‘å¤§æ•™æˆåˆ˜ç‰ï¼šäººæ‰æ ‡å‡†å›ºåŒ–æ‰¼æ€å¤§å­¦ç”Ÿåˆ›æ–°çƒ­æƒ…â€”â€”ã€Šä¸­å›½é’å¹´æŠ¥ã€‹</span></a></p></li>
<li><p><a href="http://xhpfmapi.zhongguowangshi.com/vh512/share/1876388?channel=weixin"><span style="color:red;font-size:18px;">åŒåˆ›è€å¤ªå’Œä¸€ä¸ªæ ¡å›­åˆ›æ–°ç¤¾å›¢çš„15å¹´â€”â€”ã€Šæ–°åç½‘ã€‹</span></a></p></li>
</ul>
]]></content>
      <tags>
        <tag>Introduction</tag>
        <tag>Liuyu</tag>
      </tags>
  </entry>
  <entry>
    <title>é¿å…è„æ´»ï¼Œå®Œç¾ä½¿ç”¨Markdownåœ¨çŸ¥ä¹ç¼–è¾‘å†…å®¹</title>
    <url>/2020/04/26/markdown-4-zhihu/</url>
    <content><![CDATA[<p>çŸ¥ä¹ä¸Šçš„æœ¬æ–‡é“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/97455277">Link</a></p>
<p>é¦–å…ˆåæ§½ä¸€ä¸‹çŸ¥ä¹çš„ç¼–è¾‘å™¨ã€‚è™½ç„¶ä¸ªäººåšå®¢ä¸Šçš„ä¸å°‘å†…å®¹éƒ½æ›¾æœ‰æƒ³è¿‡æ¬åˆ°çŸ¥ä¹ä¸€ä»½ï¼Œä½†æ˜¯çŸ¥ä¹çš„ç¼–è¾‘å™¨çœŸçš„æ˜¯ä»¤äººç»æœ›å¼çš„éš¾ç”¨ã€‚å°½ç®¡ç°åœ¨å¯ä»¥ä½¿ç”¨æ–‡ä»¶å¯¼å…¥åŠŸèƒ½å¯¼å…¥mdæ–‡ä»¶å’ŒWordæ–‡æ¡£ï¼Œä¸”èƒ½æ”¯æŒä¸€äº›ç®€å•çš„Markdownè¯­æ³•ï¼Œä½†æ¯ç§é€”å¾„éƒ½æœ‰ç€æ— æ³•é¿å…çš„ç¼ºç‚¹ï¼Œä»ç»“æœä¸Šæ¥è¯´åˆ™æ˜¯åªèƒ½è¢«è¿«æ¥å—æˆ–æ˜¯ä¸å®Œç¾çš„æ ¼å¼äº¦æˆ–æ˜¯å¤§é‡æ‰‹åŠ¨ä¸”é‡å¤çš„å›¾ç‰‡ä¸Šä¼ ã€‚</p>
<p>å£è¯´æ— å‡­ï¼Œè¿™é‡Œæ”¾ä¸€ä¸‹å‡ ç§æ–¹æ³•çš„å¯¹æ¯”å›¾æ¥è¯¦è¿°ä¸€ä¸‹é—®é¢˜æ‰€åœ¨ï¼š</p>
<span id="more"></span>
<h3 id="typoraä¸­åŸæ–‡ä»¶">Typoraä¸­åŸæ–‡ä»¶</h3>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214174243537.png" alt="image-20191214174243537" style="zoom:50%;"></p>
<p>è¿™ä»½æµ‹è¯•æ–‡ä»¶è™½ç„¶çŸ­ï¼Œä½†æ˜¯åŸºæœ¬åŒ…å«äº†å¸¸è§å‡ ç§è¦ç´ ï¼šæ ‡é¢˜ã€æ­£æ–‡ã€å›¾ç‰‡ã€è¡¨æ ¼ã€ä»£ç ã€å…¬å¼ã€‚ä¸‹é¢è®©æˆ‘ä»¬çœ‹çœ‹çŸ¥ä¹æ”¯æŒçš„å‡ ç§ä¸Šä¼ æ–¹å¼çš„æ•ˆæœï¼š</p>
<h3 id="ç›´æ¥å¤åˆ¶typoraä¸­çš„å†…å®¹åˆ°çŸ¥ä¹ç¼–è¾‘å™¨">1. ç›´æ¥å¤åˆ¶Typoraä¸­çš„å†…å®¹åˆ°çŸ¥ä¹ç¼–è¾‘å™¨</h3>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214174118623.png" alt="image-20191214174118623" style="zoom:50%;"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ ‡é¢˜å’Œæ­£æ–‡åŒºåˆ†å¼€äº†ï¼Œä¸è¿‡æ‰€æœ‰çš„æ ‡é¢˜éƒ½å˜æˆäº†ä¸€çº§æ ‡é¢˜ã€‚å¦å¤–æœ¬åœ°çš„å›¾ç‰‡æ— æ³•å¯¼å…¥ï¼Œåªå‰©ä¸‹ä¸€ä¸ªå±•å ä½ç¬¦ã€‚è¡¨æ ¼å…¨ä¹±ï¼Œå…¬å¼ç›´æ¥æ¶ˆå¤±äº†ã€‚ä½†ä»£ç çš„é«˜äº®ä»æ˜¯C++ï¼Œæ­£ç¡®ã€‚</p>
<h3 id="ç›´æ¥å¯¼å…¥markdownæ–‡ä»¶">2. ç›´æ¥å¯¼å…¥Markdownæ–‡ä»¶</h3>
<p>ä½ å¯ä»¥åœ¨ç¼–è¾‘å™¨çš„è¿™ä¸ªä½ç½®å¯¼å…¥æ–‡ä»¶ï¼š</p>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214174529632.png" alt="image-20191214174529632" style="zoom:33%;"></p>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214174506716.png" alt="image-20191214174506716" style="zoom:33%;"></p>
<p>å¯¼å…¥åˆšæ‰æˆ‘ä»¬çœ‹åˆ°çš„æµ‹è¯•æ–‡ä»¶åŸæ¡£çš„æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214174704023.png" alt="image-20191214174704023" style="zoom:50%;"></p>
<p>åŒå‰ï¼Œæ ‡é¢˜å’Œæ­£æ–‡åŒºåˆ†å¼€äº†ï¼Œä¸è¿‡æ‰€æœ‰çš„æ ‡é¢˜éƒ½å˜æˆäº†ä¸€çº§æ ‡é¢˜ã€‚å¦å¤–æœ¬åœ°çš„å›¾ç‰‡æ— æ³•å¯¼å…¥ï¼Œåªå‰©ä¸‹ä¸€ä¸ªå ä½ç¬¦ã€‚è¡¨æ ¼å…¨ä¹±ï¼Œå…¬å¼æ²¡æœ‰æ¶ˆå¤±ï¼Œä½†ä¹Ÿå¹¶æ²¡æœ‰è¢«æ¸²æŸ“ã€‚ä»£ç çš„é«˜äº®ä»æ˜¯C++ï¼Œæ­£ç¡®ã€‚</p>
<h3 id="å…ˆä½¿ç”¨typoraå¯¼å‡ºä¸ºwordå†ç”¨çŸ¥ä¹ç¼–è¾‘å™¨å¯¼å…¥word">3. å…ˆä½¿ç”¨Typoraå¯¼å‡ºä¸ºWordï¼Œå†ç”¨çŸ¥ä¹ç¼–è¾‘å™¨å¯¼å…¥Word</h3>
<p>ä¸Šé¢çš„ä¸¤ç§æœ€ç›´è§‚çš„æ–¹æ³•çš„ä¸€å¤§é—®é¢˜å°±æ˜¯å›¾ç‰‡å¯¼å…¥ä¸è¿›å»ã€‚è€Œå¯¹äºä¸€äº›é•¿ç¯‡çš„ç§‘æŠ€æ–‡ç« ï¼Œå›¾ç‰‡æ—¢å¤šåˆé‡è¦ï¼Œæ‰‹åŠ¨ä¸€ä¸ªä¸ªæ·»åŠ å®¹æ˜“é”™è€Œä¸”æµªè´¹ç§‘ç ”äººå‘˜çš„æ—¶é—´å’Œçƒ­æƒ…ã€‚å½“ç„¶æˆ‘çŸ¥é“å¯¼å…¥Markdownæ—¶å¹¶æ²¡æœ‰é¡ºå¸¦æŠŠå›¾ç‰‡æœ¬èº«å¯¼å…¥è¿›å»ï¼Œä½†æˆ‘ä»è§‰å¾—è¿™æ˜¯çŸ¥ä¹å›¢é˜Ÿåº”è¯¥åšçš„å·¥ä½œï¼Œè€Œä¸”æ˜¯ç›¸å½“åŸºæœ¬çš„å·¥ä½œã€‚å¥½å§ï¼Œæ—¢ç„¶ç°åœ¨ä¸å¯è¡Œï¼Œé‚£ä¹ˆå¯¼å‡ºæˆWordå†å¯¼å…¥è¯¥ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜äº†å§ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ï¼š</p>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214175626414.png" alt="image-20191214175626414" style="zoom:50%;"></p>
<p>å¥½å®¶ä¼™ï¼Œå›¾ç‰‡å¯¼å…¥è¿›å»äº†ï¼Œè¡¨æ ¼ç›´æ¥ç‚¸é£å¤©äº†ï¼Œè€Œä¸”æ›´å¯æ°”çš„æ˜¯ä»£ç çš„é«˜äº®æ²¡äº†ï¼Œæ ¼å¼ä¹Ÿå‡ºç°äº†é—®é¢˜ã€‚å…¶ä»–çš„å˜›ï¼Œä¸çœ‹ä¸å¾—äº†ï¼Œä¸€çœ‹å‘ç°å…¬å¼ä¼¼ä¹ç›´æ¥æ²¡äº†ï¼Œä¸­é—´è¿˜è«åå…¶å¦™å¤šäº†ä¸€å †ç©ºè¡Œã€‚å½“ç„¶ï¼Œæ ‡é¢˜ç­‰çº§çš„é—®é¢˜è¿˜æ˜¯æ²¡è§£å†³ã€‚</p>
<p>é‚£æ˜¯Typoraå¯¼å‡ºWordå¯¼å‡ºçš„ä¸å¥½å—ï¼Ÿæˆ‘æ‰“å¼€äº†å¯¼å‡ºçš„Wordæ–‡ä»¶ï¼š</p>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214180048117.png" alt="image-20191214180048117" style="zoom:50%;"></p>
<p>å…¬å¼å­˜åœ¨ï¼Œé«˜äº®æ­£ç¡®ï¼Œæ ‡é¢˜ç­‰çº§æ­£ç¡®ï¼Œè¡¨æ ¼æ­£ç¡®ï¼Œæ²¡æœ‰å¥‡æ€ªçš„ç©ºè¡Œã€‚è™½ç„¶å’ŒMarkdownæ¸²æŸ“çš„ç»“æœç›¸æ¯”ä¹Ÿå¹¶ä¸å¥½çœ‹è¯´å®è¯ï¼Œä½†è‡³å°‘å®ƒæ˜¯å¯¹çš„ï¼Œè€ŒçŸ¥ä¹ç¼–è¾‘å™¨é”™çš„äº”èŠ±å…«é—¨ã€‚</p>
<h2 id="é‚£ä¹ˆå¦‚ä½•æ‹¯æ•‘è‡ªå·±çš„åŒæ‰‹å’Œçµé­‚å‘¢">é‚£ä¹ˆï¼Œå¦‚ä½•æ‹¯æ•‘è‡ªå·±çš„åŒæ‰‹å’Œçµé­‚å‘¢ï¼Ÿ</h2>
<h3 id="é¦–å…ˆè°ƒæ•´å¥½ä½ çš„markdownç¼–è¾‘å™¨">é¦–å…ˆè°ƒæ•´å¥½ä½ çš„Markdownç¼–è¾‘å™¨</h3>
<p>ä¸ºä»€ä¹ˆè¦é¦–å…ˆè°ƒæ•´å¥½ç¼–è¾‘å™¨å‘¢ï¼Ÿè¿™é‡Œæˆ‘è¯´çš„è°ƒæ•´ä¸»è¦æŒ‡çš„æ˜¯å¯¹å›¾ç‰‡ç®¡ç†æ–¹å¼çš„è°ƒæ•´ã€‚å¦‚æœæ‚¨ä½¿ç”¨Typoraï¼Œå»ºè®®åœ¨åå¥½è®¾ç½®é¡µé¢å°†ç›¸å…³å‚æ•°è°ƒæ•´è‡³å’Œä¸‹å›¾å®Œå…¨ä¸€è‡´ï¼Œä»¥é˜²åé¢å‡ºç°é—®é¢˜ã€‚</p>
<p>è¿™é‡Œåšçš„å·¥ä½œä¸»è¦æ˜¯å°†æ‰€æœ‰æ¥æºçš„å›¾ç‰‡éƒ½è‡ªåŠ¨ä¿å­˜è‡³åŒåæ–‡ä»¶å¤¹ä¸‹ï¼Œä»¥ç›¸å¯¹è·¯å¾„å‚¨å­˜ã€‚ä½¿ç”¨å…¶ä»–Markdownç¼–è¾‘å™¨çš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥å¯¹ç…§è°ƒæ•´ã€‚è¿™ä¹ˆåšçš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿åé¢å¯¹å›¾ç‰‡çš„æ‰¹é‡ä¸Šä¼ ä¸è½¬æ¢ã€‚</p>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214221536561.png" alt="image-20191214221536561" style="zoom:50%;"></p>
<p>ç›¸ä¿¡å¾ˆå¤šåŒå­¦çœ‹åˆ°è¿™é‡Œå°±ä¼šå‘å‡ºç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸é€‚ç”¨iPicä¹‹ç±»çš„å›¾åºŠè½¯ä»¶ç›´æ¥ä¸Šä¼ è‡³å›¾åºŠå‘¢ï¼Ÿæ—¢æ–¹ä¾¿åˆèˆ’é€‚ã€‚æˆ‘çš„ç­”æ¡ˆæ˜¯ï¼Œå› ä¸ºæˆ‘åƒè¿‡äºã€‚æˆ‘çš„å†…å®¹ä¹‹å‰ä¸€ç›´ç‹¬å‘äºæˆ‘çš„ä¸ªäººåšå®¢ï¼Œç„¶è€Œä»Šå¹´ä¸­æ—¬ï¼Œçªç„¶ä¹‹é—´æ•´ä¸ªç½‘ç«™æ‰€æœ‰çš„å›¾ç‰‡éƒ½æŒ‚æ‰äº†ï¼Œåªæ˜¾ç¤ºä¸€ä¸ªå ä½ç¬¦å’Œæ— æ³•è®¿é—®çš„æç¤ºï¼Œä¹‹åæˆ‘å‘ç°ä¹‹å‰ä½¿ç”¨çš„æ–°æµªå›¾åºŠåŠ å…¥äº†é˜²ç›—é“¾ï¼Œæ‰€ä»¥å°±GGäº†ã€‚å½“ç„¶åé¢æˆ‘ä¹Ÿç”¨Pythonå†ä¸€æ¬¡è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯¹è§£å†³æ–¹æ³•æ„Ÿå…´è¶£çš„å›¾å½¢å¯ä»¥ç§»æ­¥è¿™é‡Œï¼Œç„¶è€Œè¿™ä¸€æ¬¡çš„æ•™è®­è®©æˆ‘ç†è§£äº†è¿™äº›å›¾åºŠ<strong>å¹¶ä¸å¯æ§</strong>ã€‚å®ƒä»¬éšæ—¶å¯ä»¥å‰¥å¤ºæ‰ä½ åšå®¢ä¸­çš„å…¨éƒ¨å›¾ç‰‡ï¼Œè€Œä½ æ˜¯æ— åŠ›è‡³æçš„ã€‚</p>
<p>åœ¨é‚£ä¹‹åï¼Œæˆ‘å°±é€‰æ‹©äº†æœ¬åœ°å‚¨å­˜+Githubå¤‡ä»½çš„æ¨¡å¼ï¼Œè¿™æ ·æ—¢å¯ä»¥æ°¸ä¹…æœ‰å®‰å¿ƒçš„æœ¬åœ°æ¡£ï¼Œä¹Ÿæœ‰æ–¹ä¾¿ä½¿ç”¨çš„Githubé“¾æ¥ï¼Œå¯ä»¥è¯´æ˜¯æ—¢æ–¹ä¾¿åˆå®‰å…¨ã€‚</p>
<h3 id="ä¹‹åè§£å†³å›¾ç‰‡ä¸Šä¼ é—®é¢˜">ä¹‹åè§£å†³å›¾ç‰‡ä¸Šä¼ é—®é¢˜</h3>
<p>æœ€æ–¹ä¾¿çš„è§£å†³åŠæ³•å³ä¸ºåˆ©ç”¨å¥½GitHubçš„èµ„æºäº†ã€‚å»ºç«‹ä¸€ä¸ªPublicçš„GitHubä»“åº“ï¼Œè¿™é‡Œæˆ‘å‘½åä½œ<strong><a href="https://github.com/miracleyoo/Markdown4Zhihu">Markdown4Zhihu</a></strong>ï¼Œæ³¨æ„ä¸€å®šè¦ä¸ºPublicï¼Œå¦åˆ™çŸ¥ä¹æ— æ³•è®¿é—®è¿™äº›å›¾ç‰‡ã€‚</p>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214221339326.png" alt="image-20191214221339326" style="zoom:50%;"></p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ è§‰å¾—éº»çƒ¦ï¼Œä¹Ÿå¯ä»¥ç›´æ¥folkæˆ‘å»ºå¥½çš„ä»“åº“ï¼Œä¸€ä¼šå„¿æˆ‘ä»¬è¦æåˆ°çš„â€œä¸€é”®MarkdownçŸ¥ä¹é€‚é…è„šæœ¬â€ä¹Ÿä¼šåœ¨è¿™ä¸ªä»“åº“é‡Œã€‚ä½ åªéœ€è¦å°†ä½ çš„æ–‡ä»¶å’Œç›¸åº”çš„å›¾ç‰‡æ–‡ä»¶å¤¹æ”¾åˆ°è¿™ä¸ª<code>Data</code>å­ç›®å½•ä¸‹ï¼Œå³å¯è°ƒç”¨è„šæœ¬ä¸€é”®è½¬æ¢ï¼Œå¹¶å°†æ¶‰åŠåˆ°çš„å›¾ç‰‡è‡ªåŠ¨æ¨åˆ°ä½ ç›¸åº”çš„GitHubä»“åº“ä¸­ã€‚</p>
<p><img src="/2020/04/26/markdown-4-zhihu/image-20191214213407292.png" alt="image-20191214213407292" style="zoom:50%;"></p>
<p>è¿™æ˜¯æˆ‘ä»¬ä½¿ç”¨è„šæœ¬ä¸€é”®è½¬æ¢åçš„ç»“æœã€‚å®ƒå¾ˆå¥½çš„è§£å†³çš„å›¾ç‰‡ä¸Šä¼ çš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†ä»£ç æ®µçš„é«˜äº®ï¼ŒåŒæ—¶ï¼Œæ‰€æœ‰çš„è¡Œå†…å…¬å¼å’Œå¤šè¡Œå…¬å¼éƒ½å¾—åˆ°äº†è½¬æ¢ã€‚è½¬æ¢åçš„å…¬å¼åœ¨çŸ¥ä¹ä¸Šä¼ æ–‡ä»¶ä¹‹åï¼Œæ˜¯å¯äº¤äº’çš„ï¼Œå³ä½ å¯ä»¥åœ¨ä¸Šä¼ ä¹‹ååœ¨çŸ¥ä¹ç¼–è¾‘å™¨ä¸­ä¿®æ”¹ä½ çš„å…¬å¼ï¼Œè€Œä¸å¿…é‡æ–°å†æ¥ä¸€éã€‚</p>
<p>è‡³äºè¡¨æ ¼ï¼Œè¿™ä¸ªçœŸæœ¨å¾—åŠæ³•ï¼Œå› ä¸ºçŸ¥ä¹å‹æ ¹ä¸æ”¯æŒè¡¨æ ¼ä½ è¯´è¿™å’‹æ•´å˜›ã€‚ä½†æ˜¯ä¹Ÿä¸æ˜¯æ²¡æœ‰å¯æ›¿ä»£æ–¹æ¡ˆã€‚å¦‚æœè¡¨æ ¼ä¸æ˜¯å¾ˆå¤šï¼Œä½ å¯ä»¥ç›´æ¥å¯¹å…¶è¿›è¡Œæˆªå›¾ï¼Œåˆ å»åŸä»£ç åç²˜è´´æˆªå›¾ã€‚ä¹‹åå®ƒå°±ä¼šæŒ‰ç…§å›¾ç‰‡æ¨¡å¼è¢«å…¼å®¹ä¸Šå»ã€‚å¦‚æœä½ ä¸æƒ³æˆªå›¾ä¹Ÿå¯ï¼Œåšäº†ç›¸åº”æ“ä½œåä¼šå¾—åˆ°ä¸Šå›¾çš„ç»“æœï¼Œå¯¹äºå°‘é‡è¡¨æ ¼æ¥çœ‹ä¹Ÿæ˜¯OKçš„ã€‚ä½ å¯ä»¥åœ¨<a href="https://zhuanlan.zhihu.com/p/97432671">è¿™é‡Œ</a>çœ‹åˆ°ä¸Šä¼ åˆ°çŸ¥ä¹åçš„æ•ˆæœã€‚</p>
<h3 id="æœ€åæ˜¯å…·ä½“ä½¿ç”¨æµç¨‹">æœ€åæ˜¯å…·ä½“ä½¿ç”¨æµç¨‹</h3>
<p>è¿™é‡Œæˆ‘ä»¬å‡è®¾æ‚¨çš„æ–‡ä»¶åä¸º<code>ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£.md</code>ï¼Œå¹¶å°†å…¶å’ŒåŒåå›¾ç‰‡æ–‡ä»¶å¤¹æ”¾åˆ°<code>Data</code>ç›®å½•ä¸‹ï¼ˆå¦‚æœæ–°å»ºæ–‡ä»¶æ—¶å°±ç›´æ¥åœ¨Dataé‡Œé¢å»ºä¼šæ›´åŠ æ–¹ä¾¿ï¼‰ï¼Œæ¥ç€æ‰“å¼€terminal(Linux/MacOS)æˆ–Git Bash(Windows)(æˆ–å…¶ä»–ä»»ä½•æ”¯æŒGitå‘½ä»¤çš„ç»ˆç«¯)ï¼Œ<code>cd</code>è¿›å…¥è¯¥é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œå³<code>Markdown4Zhihu</code>ç›®å½•ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<p><code>python zhihu-publisher.py --input="./Data/ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£.md"</code></p>
<p>OKï¼Œall set. åœ¨<code>Data</code>ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ª<code>ä¸€ä¸ªæµ‹è¯•æ–‡æ¡£_for_zhihu.md</code>çš„æ–‡ä»¶ï¼Œå°†å®ƒä¸Šä¼ è‡³çŸ¥ä¹ç¼–è¾‘å™¨å³å¯ã€‚</p>
<p>PS: è„šæœ¬ä½¿ç”¨Python3ï¼ŒPython2å¯èƒ½ä¼šæœ‰æ½œåœ¨é—®é¢˜ã€‚</p>
<h2 id="æœ€åçš„è¯">æœ€åçš„è¯</h2>
<p>çŸ¥ä¹çš„å¼€å‘è€…çš„é€»è¾‘å…¶å®æˆ‘çœŸçš„æ¯”è¾ƒè¿·ï¼Œæˆ‘ä»¬å¤§å­¦å­¦ç”Ÿå›¢é˜Ÿçš„è‡ªå»ºè®ºå›éƒ½å¯ä»¥åŸç”Ÿå®Œç¾æ”¯æŒMarkdownå’Œå…¬å¼ï¼Œç„¶è€ŒçŸ¥ä¹å´ä¸€ç›´è¯´è¿™ä¸ªåŠŸèƒ½å¿…è¦æ€§ä¸è¶³å¼ºè°ƒå¼€å‘éš¾åº¦ã€‚åŒæ ·ä»¤äººéš¾å—çš„æ˜¯çŸ¥ä¹çš„æœç´¢ï¼Œå¤šå°‘å¹´è¿‡å»äº†éçƒ­é—¨è¯é¢˜è¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„éš¾ç”¨ï¼Œæœç´¢è¿˜æ˜¯å€ŸåŠ©Google çš„ â€œé—®é¢˜+çŸ¥ä¹â€ã€‚ä¸çŸ¥é“è¿™æ˜¯ä»€ä¹ˆåŸå› ï¼Œä¸è¿‡è¿˜æ˜¯å¸Œæœ›çŸ¥ä¹å›¢é˜Ÿå…ˆæŠŠè¿™äº›éå¸¸åŸºç¡€çš„ä¸œè¥¿åšå¥½å†å¤§è°ˆç”¨æˆ·ä½“éªŒã€‚</p>
<p>è¿™æ¬¡çš„è§£å†³æ–¹æ¡ˆéœ€è¦å¯¹GitHubå’Œå‘½ä»¤è¡Œæœ‰åŸºç¡€çš„äº†è§£ï¼Œä¸è¿‡è€ƒè™‘åˆ°ä¼šæ¥è¯»è¿™ç¯‡æ–‡ç« çš„äººåº”è¯¥ç¨‹åºå‘˜å±…å¤šï¼Œé—®é¢˜åº”è¯¥ä¸æ˜¯å¾ˆå¤§ã€‚è„šæœ¬è¿˜æ¯”è¾ƒæ–°ï¼Œå¦‚æœæœ‰bugæ¬¢è¿æå‡ºã€‚æœ€åå†æ”¾ä¸€ä¸‹GitHubé“¾æ¥ï¼Œå¦‚æœå®ƒæœ‰å¸®åˆ°ä½ ï¼Œå¸Œæœ›èƒ½éšæ‰‹ç•™ä¸‹ä¸€ä¸ªstarï¼Œè°¢è°¢ï¼<strong><a href="https://github.com/miracleyoo/Markdown4Zhihu">Markdown4Zhihu</a></strong></p>
]]></content>
      <tags>
        <tag>tool</tag>
        <tag>markdown</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLAB ä¸­ä¸å‡½æ•°ã€æ–¹ç¨‹ç›¸å…³å†…å®¹</title>
    <url>/2020/01/10/matlab-func/</url>
    <content><![CDATA[<h2 id="ç¬¦å·å˜é‡-syms">ç¬¦å·å˜é‡ syms</h2>
<p>åœ¨MATLABä¸­åˆ›å»ºæˆ–å®šä¹‰ä¸€ä¸ªå‡½æ•°éœ€è¦ç”¨åˆ°ç¬¦å·å˜é‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæƒ³è¦ç»˜åˆ¶å‡½æ•°å›¾åƒæ—¶ï¼Œå¾€å¾€ä½¿ç”¨<code>x=[a:0.01:b]</code>çš„æ–¹å¼å…ˆåˆ›å»ºä¸€ä¸ªxçš„ç¦»æ•£å®šä¹‰åŸŸï¼Œç„¶åå†ç”¨<code>y=func(x)</code>çš„æ–¹å¼å®šä¹‰å‡½æ•°æœ¬èº«ï¼Œæœ€åä½¿ç”¨plot(x,y)çš„æ–¹å¼ç»˜åˆ¶å›¾åƒã€‚</p>
<p>ç„¶è€Œï¼Œå½“æ¶‰åŠåˆ°å‡½æ•°æå€¼ã€æ±‚å¯¼ã€æ–¹ç¨‹æ±‚è§£ã€è¿ç»­å›¾åƒç»˜åˆ¶ç­‰é—®é¢˜æ—¶ï¼Œè¿™ç§æ–¹æ³•å°±ä¸å¤Ÿç”¨äº†ã€‚</p>
<span id="more"></span>
<p>æƒ³è¦åˆ›å»ºä¸€ä¸ª<strong>ç¬¦å·å‡½æ•°</strong>ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ª<strong>ç¬¦å·å˜é‡</strong>ï¼Œç”¨ä»¥è¡¨ç¤ºç¬¦å·å‡½æ•°æœ¬èº«ã€‚å…¶å®šä¹‰æ–¹å¼å³ä¸º<code>syms x x1 x2</code>ã€‚å…¶ä¸­<code>x,x1,x2</code> éƒ½æ˜¯ç¬¦å·å˜é‡ï¼Œä¸€ä¸ªç¬¦å·å‡½æ•°å¯ä»¥ç”±å¤šä¸ªç¬¦å·å˜é‡ç»„æˆã€‚</p>
<p>ç¬¦å·å˜é‡å¯ä»¥æœ‰å®šä¹‰åŸŸï¼Œè¿™é‡Œæˆ–ç§°<strong>é™åˆ¶æ¡ä»¶</strong>ã€‚</p>
<p>é™åˆ¶æ¡ä»¶å¯ä»¥åœ¨å®šä¹‰æ—¶å°±åŠ ä¸Šï¼Œä½†å¾€å¾€æ˜¯è¾ƒä¸ºç®€å•çš„æ¡ä»¶ï¼Œå¦‚<em>positive</em>, <em>real</em>, <em>integer</em> ç­‰ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% Create symbolic variables x and y, and assume that they are integers.</span></span><br><span class="line">syms x y integer</span><br><span class="line"></span><br><span class="line"><span class="comment">% Create another variable z, and assume that it has a positive rational value.</span></span><br><span class="line">syms z positive rational</span><br><span class="line"></span><br><span class="line"><span class="comment">% Check assumptions on each variable. For example, check assumptions set on the variable x.</span></span><br><span class="line">assumptions(x)</span><br><span class="line"></span><br><span class="line"><span class="comment">% Clear assumptions on x, y, and z.</span></span><br><span class="line">assume([x y z],<span class="string">&#x27;clear&#x27;</span>)</span><br><span class="line">assumptions</span><br><span class="line"></span><br><span class="line"><span class="comment">% Create a 1-by-3 symbolic array a and assume that the array elements have real values.</span></span><br><span class="line">syms a [<span class="number">1</span> <span class="number">3</span>] <span class="built_in">real</span></span><br><span class="line">assumptions</span><br></pre></td></tr></table></figure>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´åŠ ç²¾ç¡®çš„æ–¹æ³•è¿›è¡Œé™å®šï¼Œå³ä½¿ç”¨<code>assume</code>å‘½ä»¤ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">syms x</span><br><span class="line">assume(<span class="number">0</span>&lt;x&lt;<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<h2 id="å®šä¹‰å‡½æ•°">å®šä¹‰å‡½æ•°</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% æ–¹æ³•1 ä½¿ç”¨è¿™ç§æ–¹æ³•ä¸ç”¨ç‰¹æ„å®šä¹‰è‡ªå˜é‡</span></span><br><span class="line">y = @(t) <span class="built_in">cos</span>(<span class="number">3</span>*t);</span><br><span class="line"></span><br><span class="line"><span class="comment">% æ–¹æ³•2 å…ˆå®šä¹‰è‡ªå˜é‡ä¸ºç¬¦å·å˜é‡å†å®šä¹‰å‡½æ•°æœ¬èº«</span></span><br><span class="line">syms x</span><br><span class="line">fun = <span class="number">0.5</span>*x*(<span class="built_in">exp</span>(<span class="number">-2</span>*x)+<span class="built_in">exp</span>(<span class="number">-1.5</span>*x)+<span class="built_in">exp</span>(-x))</span><br></pre></td></tr></table></figure>
<h2 id="å¿«é€Ÿç»˜åˆ¶å‡½æ•°å›¾åƒ">å¿«é€Ÿç»˜åˆ¶å‡½æ•°å›¾åƒ</h2>
<p>MATLABä¸­çš„å‡½æ•°<code>fplot</code>å¯ä»¥è¿…é€Ÿç»˜åˆ¶ä¸€ä¸ªç¬¦å·å‡½æ•°çš„å‡½æ•°å›¾åƒï¼Œå¹¶å¯ä»¥å¯¹å…¶æ˜¾ç¤ºçš„xèŒƒå›´è¿›è¡Œè®¾å®šã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">fplot(fun)</span><br><span class="line">fplot(fun,x,[<span class="number">1</span>,<span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå…¶ç»˜åˆ¶åŒºé—´ä¸º<code>[-5, 5]</code>ï¼Œä½†å¦‚æœç¬¦å·å˜é‡æœ¬èº«æœ‰å®šä¹‰åŸŸé™åˆ¶ï¼Œåˆ™ä¼šä¼˜å…ˆå…¶å®šä¹‰åŸŸï¼Œä¼˜å…ˆçº§æœ€é«˜çš„æ˜¯åœ¨ç»˜åˆ¶å‡½æ•°ä¸­æŒ‡å®šçš„ç»˜åˆ¶åŒºé—´ã€‚</p>
<p>å½“ç„¶ï¼Œ<code>fplot</code>å‡½æ•°è¿˜å¯ä»¥ç»˜åˆ¶å¤šæ¡æ›²çº¿ã€åˆ†æ®µå‡½æ•°ä»¥åŠå‚æ•°å‡½æ•°ç­‰ï¼Œè¯¦è§<a href="https://ww2.mathworks.cn/help/matlab/ref/fplot.html">å¸®åŠ©æ–‡æ¡£</a>ï¼Œè¿™é‡Œç»™å‡ºå‡ ä¸ªç®€å•å¸¸ç”¨ä¾‹å­ã€‚</p>
<p>æŒ‡å®šç»˜å›¾åŒºé—´å¹¶ç»˜åˆ¶åˆ†æ®µå‡½æ•° <span class="math inline">\(e^x\space âˆ’3&lt;x&lt;0\)</span></p>
<p><span class="math inline">\(cos(x)\space 0&lt;x&lt;3\)</span></p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨ <span class="built_in">hold</span> on ç»˜åˆ¶å¤šä¸ªçº¿æ¡ã€‚ä½¿ç”¨ fplot çš„ç¬¬äºŒä¸ªè¾“å…¥å‚æ•°æŒ‡å®šç»˜å›¾åŒºé—´ã€‚ä½¿ç”¨ <span class="string">&#x27;b&#x27;</span> å°†ç»˜åˆ¶çš„çº¿æ¡é¢œè‰²æŒ‡å®šä¸ºè“è‰²ã€‚åœ¨ç›¸åŒåæ ‡åŒºä¸­ç»˜åˆ¶å¤šä¸ªçº¿æ¡æ—¶ï¼Œåæ ‡è½´èŒƒå›´ä¼šè°ƒæ•´ä»¥å®¹çº³æ‰€æœ‰æ•°æ®ã€‚</span><br><span class="line">fplot(@(x) <span class="built_in">exp</span>(x),[<span class="number">-3</span> <span class="number">0</span>],<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line">fplot(@(x) <span class="built_in">cos</span>(x),[<span class="number">0</span> <span class="number">3</span>],<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="built_in">hold</span> off</span><br><span class="line">grid on</span><br></pre></td></tr></table></figure>
<p><img src="/2020/01/10/matlab-func/specifyplottingintervalandplotpiecewisefunctionsexample_01_zh_CN.png" alt="img" style="zoom:50%;"></p>
<p>å½“ç„¶ï¼Œä½¿ç”¨<code>fplot</code>æ–¹æ³•ç»˜åˆ¶çš„å›¾åƒä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œæ ·å¼è‡ªå®šä¹‰çš„ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">fplot(@(x) <span class="built_in">sin</span>(x+<span class="built_in">pi</span>/<span class="number">5</span>),<span class="string">&#x27;Linewidth&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line">fplot(@(x) <span class="built_in">sin</span>(x-<span class="built_in">pi</span>/<span class="number">5</span>),<span class="string">&#x27;--or&#x27;</span>);</span><br><span class="line">fplot(@(x) <span class="built_in">sin</span>(x),<span class="string">&#x27;-.*c&#x27;</span>)</span><br><span class="line"><span class="built_in">hold</span> off</span><br></pre></td></tr></table></figure>
<p><img src="/2020/01/10/matlab-func/specifylinepropertiesanddisplaymarkersexample_01_zh_CN.png" alt="img" style="zoom:50%;"></p>
<h2 id="è§£æ–¹ç¨‹">è§£æ–¹ç¨‹</h2>
<p>MATLABä¸­æœ‰ä¸¤ç§å¸¸ç”¨è§£æ–¹ç¨‹çš„å‡½æ•°ï¼š<code>solve</code>å’Œ<code>vpasolve</code>ã€‚å‰è€…ä¼šè¿”å›ä¸€ä¸ªç¬¦å·è§£ï¼Œå®ƒçš„åšæ³•å°±åƒäººç±»æ‰‹å·¥æ¨ç†ä¸€æ ·ï¼Œè®¡ç®—å‡ºæ‰€æœ‰çš„ç¬¦å·è§£ã€‚è€Œåè€…åˆ™ä¼šè®¡ç®—æ–¹ç¨‹çš„æ•°å€¼è§£ï¼Œä¸”åªä¼šè¿”å›å…¶æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªæ•°å€¼è§£ã€‚</p>
<p>å½“æˆ‘ä»¬æƒ³è¦ä½¿ç”¨<code>vpasolve</code>ç®—å‡ºæŸä¸ªxèŒƒå›´ä¸­çš„æ‰€æœ‰è§£æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<h3 id="ç”»å‡ºæ–¹ç¨‹å¯¹åº”çš„å‡½æ•°å›¾åƒå¹¶ä¼ ç»™vpasolveä¸€ä¸ªçŒœæµ‹èµ·ç‚¹">1. ç”»å‡ºæ–¹ç¨‹å¯¹åº”çš„å‡½æ•°å›¾åƒï¼Œå¹¶ä¼ ç»™<code>vpasolve</code>ä¸€ä¸ªçŒœæµ‹èµ·ç‚¹</h3>
<p>å¦‚ç»™å®šæ–¹ç¨‹<span class="math inline">\(200*sin(x) = x^3 - 1\)</span>, æˆ‘ä»¬å…ˆç”»å‡ºå®ƒçš„å›¾åƒè¿›è¡Œè§‚å¯Ÿï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">syms x</span><br><span class="line">eqnLeft = <span class="number">200</span>*<span class="built_in">sin</span>(x);</span><br><span class="line">eqnRight = x^<span class="number">3</span> - <span class="number">1</span>;</span><br><span class="line">fplot([eqnLeft eqnRight])</span><br><span class="line">title([texlabel(eqnLeft) <span class="string">&#x27; = &#x27;</span> texlabel(eqnRight)])</span><br></pre></td></tr></table></figure>
<p><img src="/2020/01/10/matlab-func/FindMultipleSolutionsBySpecifyingInitialGuessesExample_01.png" alt="img" style="zoom:50%;"></p>
<p>è§‚å¯Ÿåå‘ç°ï¼Œè¿™ä¸ªæ–¹ç¨‹æœ‰ä¸‰ä¸ªè§£ï¼Œåˆ†åˆ«åœ¨-3, 0, 4çš„é™„è¿‘ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹è¯­å¥æ‰¾åˆ°å…¶æ‰€æœ‰çš„ä¸‰ä¸ªè§£</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">S1 = vpasolve(eqnLeft == eqnRight, x);</span><br><span class="line">S2 = vpasolve(eqnLeft == eqnRight, x, <span class="number">-3</span>);</span><br><span class="line">S3 = vpasolve(eqnLeft == eqnRight, x, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿vpasolveæ‹¥æœ‰ä¸€ä¸ªéšæœºèµ·ç‚¹å¹¶è¿›è¡Œå¾ªç¯">2. ä½¿<code>vpasolve</code>æ‹¥æœ‰ä¸€ä¸ªéšæœºèµ·ç‚¹ï¼Œå¹¶è¿›è¡Œå¾ªç¯</h3>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> n = <span class="number">1</span>:<span class="number">3</span></span><br><span class="line">    S = vpasolve(f,x,[<span class="number">0</span>,<span class="number">2</span>],<span class="string">&#x27;Random&#x27;</span>,<span class="built_in">true</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ä»…é’ˆå¯¹å¤šé¡¹å¼å‡½æ•°">3. ä»…é’ˆå¯¹å¤šé¡¹å¼å‡½æ•°</h3>
<p>å¦‚æœä½ çš„å‡½æ•°æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å¤šç›¸ä¼¼å‡½æ•°ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨<code>roots</code>å‡½æ•°ä¸€æ¬¡æ€§å¾—åˆ°æ‰€æœ‰çš„è§£ã€‚è¯¦æƒ…è¯·å‚é˜…<a href="https://www.mathworks.com/help/matlab/ref/roots.html">å¸®åŠ©æ–‡æ¡£</a>ã€‚</p>
<h2 id="å¯»æ‰¾å‡½æ•°æå¤§æå°å€¼">å¯»æ‰¾å‡½æ•°æå¤§æå°å€¼</h2>
<p>åœ¨MATLABä¸­ä¼¼ä¹æ²¡æœ‰ç›´æ¥ä¸€é”®æ±‚å‡ºå‡½æ•°çš„æœ€å€¼çš„åŠæ³•ï¼Œä½†æˆ‘ä»¬å´å¯ä»¥ç”¨<code>fminsearch</code>æ±‚å‡ºæŸä¸ªç‚¹é™„è¿‘çš„æå€¼ã€‚</p>
<p>ä¸å‰é¢æåˆ°çš„è§£æ–¹ç¨‹ç±»ä¼¼ï¼Œç”±äºè¯¥å‡½æ•°å¹¶ä¸ä¼šç›´æ¥çš„æŠŠå…¨å±€æœ€å€¼ç»™ä½ ï¼Œæ‰€ä»¥æœ€å¥½å…ˆæŠŠå‡½æ•°å›¾åƒç”»å‡ºæ¥ï¼Œç„¶åè§‚å¯Ÿéœ€è¦æ±‚çš„æå€¼åœ¨é‚£ä¸ªç‚¹é™„è¿‘ï¼Œç„¶åä½¿ç”¨<code>fminsearch</code>å‡½æ•°æŠŠç›¸å…³ç‚¹çš„æ¨ªåæ ‡è§£å‡ºï¼Œå¦‚æœéœ€è¦æœ€å€¼çš„å€¼ï¼Œå†æŠŠè¿™ä¸ªæ¨ªåæ ‡å¸¦å›å»æ±‚å€¼ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">syms x</span><br><span class="line">y=<span class="built_in">real</span>((<span class="number">1</span>-<span class="built_in">exp</span>(<span class="number">8</span>*<span class="built_in">i</span>*<span class="built_in">pi</span>*<span class="built_in">cos</span>(x)))/(<span class="number">1</span>-<span class="built_in">exp</span>(<span class="built_in">i</span>*<span class="built_in">pi</span>*<span class="built_in">cos</span>(x))));</span><br><span class="line">fplot(y,[<span class="number">0</span>,<span class="number">3</span>]);</span><br><span class="line">fminsearch(matlabFunction(-y),<span class="number">1.5</span>);</span><br><span class="line"><span class="comment">% ans = 1.5708</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/2020/01/10/matlab-func/image-20200216152601687.png" alt="image-20200216152601687" style="zoom:35%;"></p>
<p>è¯·æ³¨æ„ï¼Œè¿™é‡Œåœ¨searchçš„æ—¶å€™æˆ‘å°†yæ”¹ä¸ºäº†-yï¼Œå› ä¸ºæˆ‘è¦æ‰¾çš„æ˜¯æå¤§å€¼è€Œéæå°å€¼ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬å°†å‡½æ•°yå˜ä¸º<code>matlabFunction</code>å‹å˜é‡ï¼Œåœ¨æ ¹æ®åˆšæ‰è¾“å‡ºçš„å€¼æ±‚å‡ºæå€¼å¤§å°ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">q=matlabFunction(y)</span><br><span class="line">q(<span class="number">1.5708</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†å‡½æ•°åœ¨è¯¥ç‚¹é™„è¿‘çš„æå€¼ã€‚</p>
<p>ä½ ç”šè‡³å¯ä»¥çœ‹åˆ°MATLABçš„ä¼˜åŒ–è·¯å¾„ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">options = optimset(<span class="string">&#x27;PlotFcns&#x27;</span>,@optimplotfval);</span><br><span class="line">fun = @(x)<span class="number">100</span>*(x(<span class="number">2</span>) - x(<span class="number">1</span>)^<span class="number">2</span>)^<span class="number">2</span> + (<span class="number">1</span> - x(<span class="number">1</span>))^<span class="number">2</span>;</span><br><span class="line">x0 = [<span class="number">-1.2</span>,<span class="number">1</span>];</span><br><span class="line">x = fminsearch(fun,x0,options)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/01/10/matlab-func/image-20200216153158018.png" alt="image-20200216153158018" style="zoom:33%;"></p>
<h2 id="å¯¹å‡½æ•°æ±‚å¯¼">å¯¹å‡½æ•°æ±‚å¯¼</h2>
<p>å®šä¹‰å¥½ä¸€ä¸ªç¬¦å·å‡½æ•°åï¼Œç›´æ¥ä½¿ç”¨<code>diff</code>å‘½ä»¤å³å¯å¯¹å‡½æ•°è¿›è¡Œç¬¦å·æ±‚å¯¼ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">syms x</span><br><span class="line">fun=<span class="number">0.5</span>*x*(<span class="built_in">exp</span>(<span class="number">-2</span>*x)+<span class="built_in">exp</span>(<span class="number">-1.5</span>*x)+<span class="built_in">exp</span>(-x))</span><br><span class="line">diff(fun) <span class="comment">% or diff(fun, x)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œ<code>diff</code>å‡½æ•°ä¸ä½†å¯¹ç¬¦å·å‡½æ•°æœ‰æ•ˆï¼Œå…¶å¯¹æ•°åˆ—ä¹Ÿæ˜¯æœ‰æ•ˆçš„ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">X = [<span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">8</span> <span class="number">13</span> <span class="number">21</span>];</span><br><span class="line">Y = diff(X)</span><br><span class="line"><span class="comment">% Y = 1Ã—7</span></span><br><span class="line"><span class="comment">%     0     1     1     2     3     5     8</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLABä¸­åˆ—å‡ºæ–‡ä»¶å¤¹ä¸‹å†…å®¹å¹¶æå–å«Patternæ–‡ä»¶åå­˜å‚¨</title>
    <url>/2018/08/27/matlab-list-folder-and-save/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h1>
<p>MATLABä¸­å¦‚ä½•å°†ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ—å‡ºå¹¶å‚¨å­˜åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­ï¼Œæœ€åæå–å«æœ‰ç‰¹å®šPatternçš„æ–‡ä»¶åã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆ</h1>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">filenames = dir;</span><br><span class="line">filenames = &#123;filenames.name&#125;;</span><br><span class="line">filenames = string(filenames);</span><br><span class="line">STTF = startsWith(filenames,<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">filenames = filenames(~STTF);</span><br><span class="line">MTF = contains(filenames,<span class="string">&#x27;.mat&#x27;</span>);</span><br><span class="line">filenames = filenames(MTF);</span><br><span class="line">filenum = <span class="built_in">length</span>(filenames);</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLABçš„æ•°ç»„å…ƒèƒç»“æ„è§£æ</title>
    <url>/2018/08/27/matlab-list-matrix/</url>
    <content><![CDATA[<h1 id="é—®é¢˜">é—®é¢˜</h1>
<p>MATLABçš„æ•°ç»„ã€å…ƒèƒã€å­—ç¬¦ä¸²æ•°ç»„åˆ†åˆ«æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿå…¶ä¸Pythonç­‰è¯­è¨€çš„æ•°ç»„æœ‰ä»€ä¹ˆè¾ƒå¤§åŒºåˆ«ï¼Ÿå­˜å‚¨å’Œè½¬æ¢æ—¶æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„ï¼Ÿ</p>
<h1 id="è§£ç­”">è§£ç­”</h1>
<ol type="1">
<li><p>MATLABçš„å…ƒèƒå…¶å®å’ŒPythonä¸­çš„æ•°ç»„æ›´åŠ ç›¸è¿‘ï¼ŒäºŒè€…éƒ½å¯ä»¥å‚¨å­˜æ··åˆå¤§å°å’Œç±»å‹çš„å˜é‡ï¼Œå¦‚æœåœ¨å…ƒèƒä¸­å‚¨å­˜æ•°ç»„ï¼Œå®ƒä»¬æ²¡å¿…è¦ç»´åº¦ç›¸åŒã€‚è€ŒMATLABçš„æ•°ç»„å¿…é¡»ä¿è¯æ¯ä¸€ç»´åº¦çš„å…ƒç´ æ•°ç›®ç›¸åŒã€‚</p></li>
<li><p>MATLABæ•°ç»„å„ä¸ªç»´åº¦çš„å­˜å‚¨é¡ºåºå’ŒPythonæ­£å¥½ç›¸åã€‚ä¸€ä¸ªåœ¨Pythonä¸­shapeä¸º[2,3,4,5]çš„æ•°ç»„åˆ°äº†MATLABä¸­ä¼šå˜æˆ[5,4,3,2]ã€‚è¿™ç§æ•°æ®çš„å‚¨å­˜æ–¹æ³•æ˜¯å’Œ<a href="https://zh.wikipedia.org/zh-hans/Fortran">Fortran</a>ç›¸ä¼¼çš„ï¼Œæ¡ç”¨åˆ—å„ªå…ˆï¼ˆColumn firstï¼‰ã€‚Pythonä¸­çš„å‡ ä¸ªæ•°ç»„é€šè¿‡[A, B]çš„æ–¹å¼åˆå¹¶æ—¶ä¼šåœ¨æœ€å·¦è¾¹ï¼ˆç¬¬ä¸€ç»´ï¼‰å¢åŠ ä¸€ä¸ªâ€œ2â€ï¼ˆå› ä¸ºè¿™é‡Œåˆå¹¶çš„æ˜¯ä¸¤ä¸ªæ•°ç»„ï¼‰ï¼Œè€ŒMATLABçš„catæ–¹æ³•åˆå¹¶ä¸¤ä¸ªæ•°ç»„åˆ™ä¼šåœ¨æœ€å³è¾¹ï¼ˆæœ€åä¸€ç»´ï¼‰å¢åŠ ä¸€ä¸ªâ€œ2â€ã€‚</p></li>
<li><p>å¦‚æœæ˜¯æ™®é€šæ•°ç»„æ‹¿æ¥å­˜å‚¨å­—ç¬¦ä¸²ï¼Œåˆ™å¿…é¡»è¦ä¿è¯æ¯ä¸ªå­—ç¬¦ä¸²é•¿åº¦ç›¸åŒã€‚ä½†æ˜¯MATLABæä¾›äº†å­—ç¬¦ä¸²æ•°ç»„è¿™ç§æ•°æ®æ ¼å¼ã€‚</p>
<span id="more"></span>
<h2 id="åˆ›å»ºå¯¹è±¡">åˆ›å»ºå¯¹è±¡</h2>
<p>æ‚¨å¯ä»¥é€šè¿‡ç”¨åŒå¼•å·æ‹¬èµ·ä¸€æ®µæ–‡æœ¬æ¥åˆ›å»ºå­—ç¬¦ä¸²ã€‚ä» R2017a å¼€å§‹å¼•å…¥åŒå¼•å·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str &#x3D; &quot;Hello, world&quot; </span><br><span class="line"></span><br><span class="line">str &#x3D; &quot;Hello, world&quot; </span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºå­—ç¬¦ä¸²æ•°ç»„çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨æ–¹æ‹¬å·å°†å­—ç¬¦ä¸²ä¸²è”æˆæ•°ç»„ï¼Œå°±åƒå°†æ•°å­—ä¸²è”æˆæ•°å€¼æ•°ç»„ä¸€æ ·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">str &#x3D; [&quot;Mercury&quot;,&quot;Gemini&quot;,&quot;Apollo&quot;; &quot;Skylab&quot;,&quot;Skylab B&quot;,&quot;ISS&quot;] </span><br><span class="line"></span><br><span class="line">str &#x3D; 2x3 string array &quot;Mercury&quot; &quot;Gemini&quot; &quot;Apollo&quot; &quot;Skylab&quot; &quot;Skylab B&quot; &quot;ISS&quot; </span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥æŒ‰å¦‚ä¸‹æ‰€è¿°ï¼Œä½¿ç”¨ <code>string</code> å‡½æ•°å°†ä¸åŒæ•°æ®ç±»å‹çš„å˜é‡è½¬æ¢æˆå­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<h3 id="è¯­æ³•">è¯­æ³•</h3>
<p><code>str = string(A)</code></p>
<p><code>str = string(D)</code></p>
<p><code>str = string(D,fmt)</code></p>
<p><code>str = string(D,fmt,locale)</code></p></li>
<li><p>å°†å…ƒèƒè½¬æ¢æˆæ™®é€šListï¼š</p>
<h2 id="cell2mat">cell2mat</h2>
<p>å°†å…ƒèƒæ•°ç»„è½¬æ¢ä¸ºåŸºç¡€æ•°æ®ç±»å‹çš„æ™®é€šæ•°ç»„</p>
<h2 id="è¯­æ³•-1">è¯­æ³•</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">A &#x3D; cell2mat(C)</span><br></pre></td></tr></table></figure></li>
<li><p>å°†å…ƒèƒæ•°ç»„è½¬ä¸ºå­—ç¬¦ä¸²æ•°ç»„ï¼š</p>
<p>ç›´æ¥<code>string(C)</code></p></li>
<li><p>å‚¨å­˜çš„æ—¶å€™ï¼Œå½“å¾…å‚¨å­˜çš„å˜é‡å°äº2Gæ—¶å¯ä»¥ä½¿ç”¨scipyè¯»å–ï¼Œè€Œå¤§äº2Gæ—¶ä¼šå‚¨å­˜ä¸º<a href="https://stackoverflow.com/questions/17316880/reading-v-7-3-mat-file-in-python">v 7.3 mat file in python</a>ï¼Œè¿™æ—¶å¦‚æœæƒ³ç”¨Pythonè¯»å–.matæ•°æ®ï¼Œä¼ ç»Ÿçš„scipyåˆ™ä¸å†æ”¯æŒï¼Œè¿™æ—¶éœ€è¦ä½¿ç”¨h5pyæ¨¡å—è¯»å–ã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼šscipyåœ¨è¯»å–çš„æ—¶å€™å›è‡ªåŠ¨æŠŠMATLABæ•°æ®æ ¼å¼è½¬åŒ–æˆPythonæ ¼å¼çš„é¡ºåºï¼Œå³å¯ä»¥ç»´æŒåŸæ¥çš„é¡ºåºä¸å˜ï¼Œè€Œç”¨h5pyæ¨¡å—æ—¶åˆ™ä¼šå°†MATLABçš„æ•°ç»„é¡ºåºå®Œå…¨é¢ å€’è¿‡æ¥ã€‚æ­¤æ—¶ï¼Œéœ€è¦ä½¿ç”¨<code>np.transpose</code>å‡½æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ! v 7.3 .mat file</span></span><br><span class="line"><span class="keyword">import</span> scipy.io</span><br><span class="line">mat = scipy.io.loadmat(<span class="string">&#x27;test.mat&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># v 7.3 .mat file</span></span><br><span class="line"><span class="keyword">import</span> h5py</span><br><span class="line"><span class="keyword">with</span> h5py.File(<span class="string">&#x27;test.mat&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.keys()</span><br><span class="line">    </span><br><span class="line"><span class="comment"># transpose</span></span><br><span class="line">X = np.transpose(X, (<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>))</span><br></pre></td></tr></table></figure></li>
<li><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨MATLABä¸­å­˜å‚¨å¤§æ•°æ®æ—¶å…ˆæå‰æŠŠé¡ºåºå€’å¥½ï¼š</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">X = <span class="built_in">permute</span>(X, [<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]);</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <tags>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>MATLABå®ç”¨Tricks</title>
    <url>/2018/09/15/matlab-tricks/</url>
    <content><![CDATA[<h1 id="permute">permute</h1>
<p>é‡æ–°æ’åˆ— N ç»´æ•°ç»„çš„ç»´åº¦</p>
<h2 id="è¯­æ³•">è¯­æ³•</h2>
<p><code>B = permute(A,order)</code></p>
<h2 id="è¯´æ˜">è¯´æ˜</h2>
<p><code>B = permute(A,order)</code> é‡æ–°æ’åˆ— <code>A</code> çš„ç»´åº¦ä½¿å…¶æŒ‰å‘é‡ <code>order</code> æ‰€æŒ‡å®šçš„é¡ºåºæ’åˆ—ã€‚<code>B</code> å«æœ‰ä¸ <code>A</code> ç›¸åŒçš„å€¼ï¼Œä½†è®¿é—®ä»»æ„ç‰¹å®šå…ƒç´ æ‰€éœ€çš„ä¸‹æ ‡çš„é¡ºåºå·²æŒ‰ <code>order</code> æ‰€æŒ‡å®šçš„é¡ºåºé‡æ–°æ’åˆ—ã€‚<code>order</code> çš„æ‰€æœ‰å…ƒç´ éƒ½å¿…é¡»æ˜¯å”¯ä¸€çš„æ­£æ•´æ•°å®æ•°å€¼ã€‚</p>
<span id="more"></span>
<h2 id="ç¤ºä¾‹">ç¤ºä¾‹</h2>
<p>å…¨éƒ¨æŠ˜å </p>
<h3 id="ç½®æ¢æ•°ç»„ç»´åº¦">ç½®æ¢æ•°ç»„ç»´åº¦</h3>
<p>åˆ›å»ºä¸€ä¸ª 3Ã—4Ã—5 æ•°ç»„ï¼Œå¹¶ç½®æ¢å®ƒï¼Œä»¥ä¾¿å°†ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªç»´åº¦äº¤æ¢ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">A = <span class="built_in">rand</span>(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">B = <span class="built_in">permute</span>(A,[<span class="number">3</span> <span class="number">2</span> <span class="number">1</span>]);</span><br><span class="line"><span class="built_in">size</span>(B)</span><br><span class="line"><span class="built_in">ans</span> = </span><br><span class="line"></span><br><span class="line">     <span class="number">5</span>     <span class="number">4</span>     <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h2 id="é€šè¿‡-python-è°ƒç”¨ç”¨æˆ·è„šæœ¬å’Œå‡½æ•°">é€šè¿‡ Python è°ƒç”¨ç”¨æˆ·è„šæœ¬å’Œå‡½æ•°</h2>
<p>æ­¤ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•é€šè¿‡ PythonÂ® æ¥è°ƒç”¨ MATLABÂ® è„šæœ¬ï¼Œä»¥è®¡ç®—ä¸‰è§’å½¢çš„é¢ç§¯ã€‚</p>
<p>åœ¨æ‚¨çš„å½“å‰æ–‡ä»¶å¤¹ä¸­åä¸º <code>triarea.m</code> çš„æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ª MATLAB è„šæœ¬ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">b = <span class="number">5</span>;</span><br><span class="line">h = <span class="number">3</span>;</span><br><span class="line">a = <span class="number">0.5</span>*(b.* h)</span><br></pre></td></tr></table></figure>
<p>ä¿å­˜è¯¥æ–‡ä»¶åï¼Œå¯åŠ¨ Python å¹¶è°ƒç”¨è¯¥è„šæœ¬ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">import matlab.engine</span><br><span class="line">eng = matlab.engine.start_matlab()</span><br><span class="line">eng.triarea(nargout=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">a =</span><br><span class="line"></span><br><span class="line">    <span class="number">7.5000</span></span><br></pre></td></tr></table></figure>
<p>æŒ‡å®š <code>nargout=0</code>ã€‚å°½ç®¡è„šæœ¬ä¼šæ‰“å°è¾“å‡ºï¼Œä½†å®ƒä¸ä¼šå‘ Python è¿”å›ä»»ä½•è¾“å‡ºå‚æ•°ã€‚</p>
<p>å°†è„šæœ¬è½¬æ¢ä¸ºå‡½æ•°å¹¶é€šè¿‡å¼•æ“è°ƒç”¨è¯¥å‡½æ•°ã€‚è¦ç¼–è¾‘æ–‡ä»¶ï¼Œè¯·æ‰“å¼€ MATLAB ç¼–è¾‘å™¨ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">eng.edit(<span class="string">&#x27;triarea&#x27;</span>,nargout=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤ä¸‰ä¸ªè¯­å¥ã€‚ç„¶åæ·»åŠ ä¸€æ¡å‡½æ•°å£°æ˜å¹¶ä¿å­˜æ–‡ä»¶ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span> = <span class="title">triarea</span><span class="params">(b,h)</span></span></span><br><span class="line">a = <span class="number">0.5</span>*(b.* h);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡å¼•æ“è°ƒç”¨æ–°çš„ <code>triarea</code> å‡½æ•°ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">ret = eng.triarea(<span class="number">1.0</span>,<span class="number">5.0</span>)</span><br><span class="line">print(ret)</span><br><span class="line"><span class="number">2.5</span></span><br></pre></td></tr></table></figure>
<p><code>triarea</code> å‡½æ•°ä»…è¿”å›ä¸€ä¸ªè¾“å‡ºå‚æ•°ï¼Œå› æ­¤æ— éœ€æŒ‡å®š <code>nargout</code>ã€‚</p>
<h1 id="è°ƒç”¨å…¶ä»–æ–‡ä»¶å¤¹ä¸­çš„æ–¹æ³•">è°ƒç”¨å…¶ä»–æ–‡ä»¶å¤¹ä¸­çš„æ–¹æ³•</h1>
<p>æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›æŠŠmatlabçš„å‡½æ•°æ–‡ä»¶å•ç‹¬æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæˆ–æ˜¯å…¶ä»–æ¶‰åŠå°†.mæ–‡ä»¶åˆ†æ•£æ”¾ç½®çš„æƒ…å†µï¼Œè¿™æ—¶å€™è¦æ·»åŠ è·¯å¾„ã€‚</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">addpath Datasets</span><br><span class="line">addpath /Users/miracle/Desktop/MST Project/project code/auto-scan-point</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å¯ä»¥è°ƒç”¨æ·»åŠ çš„è·¯å¾„ä¸‹çš„mæ–‡ä»¶äº†ã€‚</p>
<h1 id="åˆ—å‡ºæŸæ–‡ä»¶å¤¹å†…å®¹çš„æ–¹æ³•">åˆ—å‡ºæŸæ–‡ä»¶å¤¹å†…å®¹çš„æ–¹æ³•</h1>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">dir</span><br><span class="line">dir name</span><br><span class="line">listing = dir(name)</span><br></pre></td></tr></table></figure>
<h1 id="æŸ¥æ‰¾ä¸æŒ‡å®šåç§°åŒ¹é…çš„æ–‡ä»¶">æŸ¥æ‰¾ä¸æŒ‡å®šåç§°åŒ¹é…çš„æ–‡ä»¶</h1>
<p>åˆ—å‡ºåŒ…å«è¯è¯­ <code>my</code> ä¸”æ‰©å±•åä¸º <code>.m</code> çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p>
<p>åˆ›å»ºæ–‡ä»¶å¤¹ <code>myfolder</code>ï¼Œå…¶åŒ…å«æ–‡ä»¶ <code>myfile1.m</code>ã€<code>myfile2.m</code> å’Œ <code>myfile3.txt</code>ã€‚</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">mkdir myfolder </span><br><span class="line">movefile myfile1.m myfolder</span><br><span class="line">movefile myfile2.m myfolder</span><br><span class="line">movefile myfile3.txt myfolder </span><br></pre></td></tr></table></figure>
<p>åˆ—å‡º <code>myfolder</code> ä¸­ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ã€‚ <figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">cd myfolder </span><br><span class="line">dir *my*.m </span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; myfile1.m myfile2.m </span><br></pre></td></tr></table></figure> # åœ¨å­æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾æ–‡ä»¶</p>
<p>åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹ä¸­å’Œå½“å‰æ–‡ä»¶å¤¹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p>
<p>åˆ›å»ºæ–‡ä»¶å¤¹ <code>myfolder1</code>ï¼Œå…¶ä¸­åŒ…å«ä»¥ä¸‹æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼š</p>
<pre><code>æ–‡ä»¶ç»“æ„
myfile1.m 
myfolder2 
    myfile2.m 
    myfolder3.m 
        myfile3.m

mkdir myfolder1 mkdir myfolder1/myfolder2 mkdir myfolder1/myfolder2/myfolder3 movefile myfile1.m myfolder1 movefile myfile2.m myfolder1/myfolder2 movefile myfile3.m myfolder1/myfolder2/myfolder3 </code></pre>
<p>åˆ—å‡º <code>myfolder1</code> ä¸­å’Œ <code>myfolder1</code> çš„å­æ–‡ä»¶å¤¹ä¸­æ‰©å±•åä¸º <code>.m</code> çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p>
<pre><code>cd myfolder1 dir **/*.m 

Files Found in Current Folder: myfile1.m Files Found in: myfolder2 myfile2.m Files Found in: myfolder2/myfolder3 myfile3.m </code></pre>
]]></content>
      <tags>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>Matlabä¸Pythonè”åˆç¼–ç¨‹</title>
    <url>/2018/08/18/matlab2python/</url>
    <content><![CDATA[<p>å…ˆäº¤ä»£ä¸€ä¸‹èƒŒæ™¯ï¼šä¸€ä¸ªæœºå™¨å­¦ä¹ ä»£ç çš„æ£€éªŒéœ€è¦ç”¨åˆ°labä¹‹å‰å†™å¥½çš„ä»¿çœŸä»£ç ï¼Œç°åœ¨éœ€è¦å°†è¿™ä¸¤ä»½ä»£ç ç»“åˆåœ¨ä¸€èµ·å·¥ä½œï¼Œå¹¶ä¸”æŠŠæœºå™¨å­¦ä¹ å®Œæˆçš„ä»»åŠ¡éƒ¨åˆ†çš„matlabä»£ç ç”¨Pythonä»£ç ä»£æ›¿ã€‚</p>
<p>æœ€å¼€å§‹æƒ³å‡ºæ¥çš„å¯èƒ½æ–¹æ³•å¤§è‡´çš„æœ‰å¦‚ä¸‹ä¸‰ä¸ªï¼š</p>
<span id="more"></span>
<h2 id="å¯èƒ½æ–¹æ¡ˆ">å¯èƒ½æ–¹æ¡ˆ</h2>
<ol type="1">
<li><p>å°†3500è¡ŒMATLABä»£ç ç›´æ¥ç¿»è¯‘æˆPythonä»£ç ã€‚</p>
<ul>
<li><p>ä¼˜ç‚¹ï¼šæœ€ç›´è§‚ï¼Œé€‚é…æ€§æœ€å¼ºï¼ŒGitHubæœ‰ç›¸å…³è½¬æ¢è„šæœ¬</p></li>
<li><p>ç¼ºç‚¹ï¼šè€—æ—¶å¤§ï¼Œæš—bugéš¾ä»¥è°ƒè¯•</p></li>
</ul></li>
<li><p>å°†Matlabä»£ç æ‹†åˆ†æˆå‡ ä¸ªå¤§å‡½æ•°ï¼Œå°è£…å¥½åç”¨Pythonè¿è¡Œè¿™äº›æ–‡ä»¶</p>
<ul>
<li><p>ä¼˜ç‚¹ï¼šå¤§å¤§é™ä½å·¥ä½œé‡ï¼Œè€Œä¸”èƒ½å¤Ÿä¿è¯å°è£…çš„æ–‡ä»¶è¿è¡Œå¾—åˆ°æ­£ç¡®çš„ç»“æœ</p></li>
<li><p>ç¼ºç‚¹ï¼šè°ƒç”¨æ³Šæ¾æ–¹ç¨‹éƒ¨åˆ†çŸ¥è¯†ä¸€ä¸ªå°è°ƒç”¨ï¼Œæ•´ä¸ªMainæ–‡ä»¶å¤§ä½“è¿˜è¦æ”¹ï¼Œlistç­‰çš„ä¼ å‚ä¹Ÿå¾ˆæˆé—®é¢˜</p></li>
</ul></li>
<li><p>å°†æœºå™¨å­¦ä¹ éƒ¨åˆ†åšæˆLinuxæœåŠ¡å™¨ç«¯ï¼Œåœ¨Matlabç«¯åªè°ƒç”¨æ¥å£</p>
<ul>
<li><p>ä¼˜ç‚¹ï¼šå¿«é€Ÿï¼Œå¯å¤ç”¨</p></li>
<li><p>ç¼ºç‚¹ï¼šåŒæ ·çš„é—®é¢˜æ—¶å­¦ä¹ æˆæœ¬è¾ƒé«˜ã€‚æœ‰åšä¸å‡ºæ¥çš„å¯èƒ½ï¼Œè€—æ—¶è¾ƒé•¿</p></li>
</ul></li>
</ol>
<h2 id="ç›¸å…³èµ„æº">ç›¸å…³èµ„æº</h2>
<ul>
<li>Matlabä»£ç åˆ°Pythonçš„ç¼–è¯‘å™¨ï¼š<a href="https://github.com/victorlei/smop">Small Matlab to Python compiler</a></li>
<li>æˆ‘å°è¯•è½¬æ¢åçš„ç»“æœï¼ˆç»è¿‡æ‰‹åŠ¨Debugï¼‰ï¼š<a href="https://github.com/miracleyoo/Diode-Electron-Hole-Particles-Simulation">Diode-Electron-Hole-Particles-Simulation</a></li>
<li>Matlabå®˜æ–¹ç»™å®šPythonä¸­è°ƒç”¨MATLAB APIï¼š<a href="https://ww2.mathworks.cn/help/matlab/matlab-engine-for-python.html">ç”¨äº Python çš„ MATLAB API</a></li>
<li>ä¸Šè¿°APIå®‰è£…æ–¹æ³•ï¼š<a href="https://ww2.mathworks.cn/help/matlab/matlab_external/install-the-matlab-engine-for-python.html">å®‰è£…ç”¨äº Python çš„ MATLAB å¼•æ“ API</a></li>
<li>é€šè¿‡Pythonè°ƒç”¨ç”¨æˆ·è‡ªå®šä¹‰è„šæœ¬çš„æ–¹æ³•ï¼š<a href="https://ww2.mathworks.cn/help/matlab/matlab_external/call-user-script-and-function-from-python.html">é€šè¿‡ Python è°ƒç”¨ç”¨æˆ·è„šæœ¬å’Œå‡½æ•°</a></li>
<li>Python ç±»å‹ã€å®¹å™¨åˆ° MATLAB çš„æ˜ å°„ï¼š<a href="https://ww2.mathworks.cn/help/matlab/matlab_external/pass-data-to-matlab-from-python.html">ä» Python å°†æ•°æ®ä¼ é€’åˆ° MATLAB</a></li>
<li>Pythonä¸Matlabæ··åˆç¼–ç¨‹å®ä¾‹åšå®¢ï¼š<a href="http://zhaoxuhui.top/blog/2017/12/14/Pythonä¸Matlabæ··åˆç¼–ç¨‹.html">Pythonä¸Matlabæ··åˆç¼–ç¨‹</a></li>
<li>å°†æ‰€æœ‰å·¥ä½œåŒºå˜é‡ä¿å­˜åˆ° MAT æ–‡ä»¶ï¼š<a href="https://ww2.mathworks.cn/help/matlab/ref/save.html#btox10b-2_1">å°†æ‰€æœ‰å·¥ä½œåŒºå˜é‡ä¿å­˜åˆ° MAT æ–‡ä»¶</a></li>
</ul>
<h2 id="å®éªŒè¿‡ç¨‹">å®éªŒè¿‡ç¨‹</h2>
<p>èµ·åˆæˆ‘å°è¯•äº†ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå€ŸåŠ©GitHubä¸Šå¼€æºçš„MATLABè½¬Pythonçš„ä¸œé£ï¼Œåªç”¨äº†å‡ ä¸ªå°æ—¶ä¾¿å®Œæˆäº†å¤§è‡´çš„è½¬æ¢ï¼Œæœ¬æ¥ä¿¡å¿ƒæ»¡æ»¡å‡†å¤‡ç€æ‰‹æµ‹è¯•æ—¶ï¼Œå´æ„å¤–çš„å‘ç°å°½ç®¡å¤§éƒ¨åˆ†è¯­æ³•éƒ½å¾—åˆ°äº†æ­£ç¡®çš„è½¬æ¢ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è®¸è®¸å¤šå¤šç»†èŠ‚é—®é¢˜éœ€è¦ä¸€æ­¥æ­¥è°ƒæ•´ã€‚æ•´ä¸ªè°ƒè¯•æŒç»­äº†æ•´æ•´ä¸‰å¤©ï¼Œå½“æœ€ç»ˆå¯ä»¥è¿è¡Œæ˜¯å´å†æ¬¡å‘ç°äº†ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol type="1">
<li>è¿è¡Œé€Ÿåº¦ç›¸è¾ƒäºMATLABåŸç”Ÿç¨‹åºæ…¢äº†å¤ªå¤šã€‚MATLABä¸Šåªè¦0.4ç§’çš„ç¨‹åºè½¬æˆäº†Pythonç«Ÿç„¶éœ€è¦ä¸Šåƒç§’ã€‚ç»è¿‡ä»”ç»†çš„åˆ†æï¼ŒåŸå› ä¸»è¦æœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯MATLABæœ¬èº«å°±å¯¹çŸ©é˜µè¿ç®—è¿›è¡Œçš„å¤§é‡çš„ä¼˜åŒ–ï¼Œè€ŒPythonæƒ³è¦å®ç°ç›¸ä¼¼åŠŸèƒ½åªèƒ½å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“å‡½æ•°ã€‚äºŒæ˜¯è‡ªåŠ¨è½¬æ¢è„šæœ¬ä¸ºäº†ä¿è¯æ•°ç»„ä¸‹æ ‡ç­‰çš„æ­£ç¡®æ€§å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç±»matlab arrayã€‚æ¯ä¸ªæ•°ç»„éƒ½ä¼šè¢«åˆå§‹åŒ–ä¸ºä¸€ä¸ªå®ä¾‹ï¼Œè€Œè¿™æœ¬èº«å°±æ˜¯å¾ˆè€—æ—¶é—´çš„ã€‚ä¸‰æ˜¯å…¶ä¸­æ¶‰åŠäº†å¾ˆå¤šç±»å‹è½¬æ¢ï¼Œè€Œæ•°ç»„æœ‰å¾ˆå¤§å¾ˆå¤šï¼Œä¸å°‘æ•°ç»„éƒ½æœ‰å¤šè¾¾æ•°ä¸‡ä¸ªå…ƒç´ ï¼Œæ‹·è´å¼çš„è½¬æ¢ä¼šæ¶ˆè€—æ‰å·¨é‡çš„æ—¶é—´ã€‚</li>
<li>ç»“æœä¸æ­£ç¡®ã€‚æœ‰éƒ¨åˆ†å‡½æ•°å’Œæ–¹æ³•MATLABå’ŒPythonçš„è§£è¯»ä¸åŒã€‚è¿™ç§é—®é¢˜å¤§éƒ¨åˆ†æ˜¯å¯ä»¥è¢«å‘ç°çš„ï¼Œä½†æ˜¯å®é™…ä¸Šdebugçš„éš¾åº¦éšç€ä»£ç é•¿åº¦å’Œå¤æ‚åº¦è€Œæ€¥å‰§ä¸Šå‡ï¼Œå°¤å…¶æ˜¯åŸæ¥çš„ä»£ç æœ¬èº«å°±è¾ƒä¸ºdirtyï¼Œè€Œä¸æ˜¯ç»“æ„åŒ–çš„è¿ç®—æ—¶ã€‚å¦å¤–è¿˜æœ‰éƒ¨åˆ†ä¸ä»”ç»†åˆ†æè°ƒè¯•æ–­ç‚¹æ ¹æœ¬æ— æ³•å‘ç°çš„éšè—å¼çš„bugï¼Œè¿™äº›éƒ½ä½¿å¾—è¿™ä¸ªåºç„¶å¤§ç‰©ä¼¼çš„ä»£ç æéš¾è°ƒè¯•ã€‚</li>
</ol>
<p>ä¹‹åï¼Œæˆ‘è¯•ç€åªæ‰‹åŠ¨é‡å†™mainç¨‹åºï¼Œå…¶ä»–çš„æ¨¡å—å…¨éƒ¨å°è£…åŒ–ï¼Œä½†ç»“æœä¾æ—§ä¸ç†æƒ³ã€‚ç”±äºç¨‹åºä¸æ–­åœ°åœ¨MATLABå’ŒPythonè§£é‡Šç¯å¢ƒä¸­åˆ‡æ¢ï¼Œè¿™å¿…ç„¶æ¶‰åŠåˆ°å¤§é‡çš„ä¼ å‚ï¼Œè€ŒMATLABå’ŒPythonä¹‹é—´çš„ä¼ å‚ç”šè‡³æ¯”æ™®é€šçš„ç±»å‹è½¬æ¢æ›´åŠ è€—æ—¶ï¼Œå¾€å¾€ä¸€ä¸ªå¾ªç¯è¦æ¶ˆè€—æ•°ç™¾ç§’ã€‚Pythonä¸­ä¸€ä¸ªMATLABçš„å‡½æ•°è°ƒç”¨ä¼ å‚è½¬æ¢èŠ±çš„æ—¶é—´å’Œæœ¬èº«èŠ±å»çš„æ—¶é—´ä¹‹æ¯”æ ¹æ®å‚æ•°æ•°é‡å’Œå¤§å°ç”šè‡³å¯ä»¥è¾¾åˆ°äº†1:200ä»¥ä¸Šã€‚è¿™æ— ç–‘æ˜¯ä¸€ä¸ªä»¤äººéœ‡æƒŠçš„æ¯”ä¾‹ã€‚ä½†æ˜¯å¦‚æœå¸Œæœ›é€šè¿‡ä¸æ–­è°ƒç”¨MATLABå‡½æ•°å¹¶å°†é•¿è¾¾400è¡Œå·¦å³çš„mainå‡½æ•°é€šè¿‡Pythonæ‰§è¡Œï¼Œå¤§é‡çš„ä¼ å‚å°±æ˜¯æ— æ³•é¿å…çš„ã€‚</p>
<p>äºæ˜¯ï¼Œç»è¿‡å……åˆ†çš„æ€è€ƒåï¼Œæˆ‘æœæ–­æ”¾å¼ƒäº†ä¹‹å‰äº”å¤©çš„æˆæœï¼Œé€‰æ‹©äº†ä¸‹ä¸€ç§æ–¹æ³•ï¼šåªåœ¨Pythonä¸­æ§åˆ¶ä¸»å¾ªç¯ä»¥åŠå‡ ä¸ªå…³é”®è€Œå°çš„å˜é‡ï¼ŒæŠŠä¹‹å‰çš„mainé•¿é•¿çš„ä»£ç æ‹†æˆäº†æ•°ä¸ªä»£ç å—ï¼Œæ‰“åŒ…æˆä¸€ä¸ªä¸ªå¯ä¾›Pythonè°ƒç”¨çš„å‡½æ•°ï¼Œå¹¶æŠŠå‡½æ•°æ–‡ä»¶é—´çš„æ²Ÿé€šâ€œå¤§ä»»â€ä»Pythonä¸»ç¨‹åºè½¬ç§»åˆ°äº†ä¸­é—´matæ–‡ä»¶ã€‚æ¯ä¸ªMATLABè„šæœ¬æ‰§è¡Œä¹‹å‰éƒ½ä¼šLoadä¹‹å‰å­˜ä¸‹çš„ä¸­é—´å˜é‡å¹¶åœ¨ç»“å°¾å‚¨å­˜å½“å‰æ‰€æœ‰çš„ä¸­é—´å˜é‡ã€‚é€šè¿‡è¿™ç§æ–¹æ³•ï¼ŒPythonä¸­æ¯ä¸ªå¾ªç¯çš„æ‰§è¡Œé€Ÿåº¦ä¹Ÿç”±ç›´æ¥ä¼ å‚çš„æ•°ç™¾ç§’é™ä½åˆ°äº†å¯ä»¥æ¥å—çš„0.5ç§’ã€‚ä¹‹åä¾¿æ˜¯æŠŠè‡ªå·±çš„æœºå™¨å­¦ä¹ ä»£ç å†™äº†ä¸€ä¸ªç®€å•è€Œè¿…é€Ÿçš„æ¥å£ï¼Œæ›¿æ¢æ‰äº†åŸæœ‰çš„æ³Šæ¾æ–¹ç¨‹æ±‚è§£éƒ¨åˆ†ã€‚é¢„è®¡ä¸‹ç§å¯ä»¥å‡ºæ¥æ­£å¼çš„æ‹Ÿåˆæ›²çº¿ã€‚</p>
<h2 id="ç®€å•ç»“è®º">ç®€å•ç»“è®º</h2>
<ul>
<li>Smopè‡ªåŠ¨è½¬æ¢ä¼šæŠŠæ•°ç»„ã€çŸ©é˜µè§£é‡Šä¸ºä¸€ç§è‡ªå®šä¹‰ç±»matlab arrayï¼Œæ¥å›è½¬æ¢æ•ˆç‡å¾ˆä½ã€‚</li>
<li>å¦‚æœå·¥ç¨‹é¡¹ç›®çœŸçš„å¾ˆå°ï¼Œå¹¶ä¸”å¸Œæœ›è€ƒè™‘æ‰§è¡Œæ•ˆç‡ï¼Œå»ºè®®æ‰‹åŠ¨è½¬æ¢Python</li>
<li>å¦‚æœå·¥ç¨‹é¡¹ç›®ä¸­ç­‰ï¼ˆ1~3ä¸ª.mæ–‡ä»¶ï¼‰ï¼Œå¹¶å¯¹æ•ˆç‡æ²¡æœ‰å¤ªé«˜è¦æ±‚ï¼Œå¯ä»¥ä½¿ç”¨GitHubçš„smopè‡ªåŠ¨è½¬æ¢å<strong>æ‰‹åŠ¨Debug</strong>ã€‚</li>
<li>å¦‚æœå·¥ç¨‹å¯ä»¥æ‹†åˆ†ä¸ºæ•°ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”è¿è¡Œçš„æœºå™¨ä¸Šå·²ç»è£…æœ‰MATLABæˆ–æ˜¯å¯ä»¥å¹¶æ„¿æ„ç”»ä¸Šåå‡ ä¸ªGå®‰è£…MATLABï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨MATLABå®˜æ–¹æä¾›çš„Pythonè°ƒç”¨MATLABå‡½æ•°çš„æ¥å£ã€‚</li>
<li>å¦‚æœé‡‡ç”¨Pythonè°ƒç”¨MATLABå‡½æ•°çš„è§£å†³æ–¹æ¡ˆï¼Œå»ºè®®åªæŠŠPythonä¸­å¿…é¡»ç”¨åˆ°çš„å˜é‡ä¼ é€’ç»™Pythonä¸»ç¨‹åºï¼Œå…¶ä»–éƒ¨åˆ†åˆ™è€ƒè™‘é‡‡ç”¨å‚¨å­˜å’ŒåŠ è½½å·¥ä½œåŒºå…¨éƒ¨å˜é‡çš„æ–¹å¼æ“ä½œã€‚æ³¨æ„è¿™ä¸¤ç§å˜é‡ä¸è¦æ··ç€ç”¨ï¼Œå³æ—¢åœ¨å‚¨å­˜æ–‡ä»¶æ—¶å‚¨å­˜ï¼Œåˆä¼ å›Pythonï¼Œè¿™æ ·å¾ˆå®¹æ˜“å¼•èµ·æ··ä¹±ã€‚</li>
</ul>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>2018å¹´äºå¯†è‹é‡Œç§‘æŠ€å¤§å­¦æš‘ç ”æ„Ÿæƒ³</title>
    <url>/2018/10/12/mst-feel/</url>
    <content><![CDATA[<h1 id="å¹´äºå¯†è‹é‡Œç§‘æŠ€å¤§å­¦æš‘ç ”æ„Ÿæƒ³">2018å¹´äºå¯†è‹é‡Œç§‘æŠ€å¤§å­¦æš‘ç ”æ„Ÿæƒ³</h1>
<p>è„šä¸‹åšå®çš„åœŸåœ°æ˜¯çƒå½¢çš„ï¼Œä½†å¾’æ­¥å‘å‰çš„æ—…äººä¸€æ­¥æ­¥èµ°ç€ç¬”ç›´çš„è·¯ï¼›æŒ‡ç¼ä¸­åˆ’è¿‡çš„æ—¶é—´æ˜¯ä¸æ–­æµé€çš„ï¼Œä½†é©»è¶³äºæ­¤çš„è¡Œè€…å´è®¤ä¸ºåŒæ ·çš„æ—¶å…‰å°†æ— é™åœ°æµè½¬ã€‚ä¼‘å‡ã€æ—…è¡Œã€è®¿å­¦ï¼Œä»æŸå¤„ç¦»å»ï¼Œåˆç»ˆå°†å½’æ¥ï¼ŒåŒæ ·çš„å¤„æ‰€ã€ç›¸åŒçš„äººã€ä¸å˜çš„å…³åˆ‡å’Œæ€å¿µï¼Œå´åˆæœ‰äº†äº›ä¸åŒçš„è®°å¿†ã€ç†Ÿè¯†äº†å¦ä¸€æ‰¹å‹äººã€æ‹¥æœ‰äº†æ–°çš„æƒ³æ³•å’Œå…´è¶£ä»¥åŠå¾®è°ƒè¿‡çš„æ€æƒ³ã€‚è¡Œèµ°äºä¸€æ¡è«æ¯”ä¹Œæ–¯ç¯ï¼Œæ¼«æ­¥ä¸€å‘¨ï¼Œå½’æ¥ï¼Œè™½æƒ…æ™¯ä¾æ—§ï¼Œå´å†ä¹Ÿæ— æ³•å½“åˆã€‚</p>
<span id="more"></span>
<p>æ—…è¡Œç»™äº†äººä»€ä¹ˆï¼Ÿå¦‚æœè¢«é—®åŠè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æƒ³æ— ç–‘ç­”æ¡ˆå°†ä¼šæ˜¯ä¸€ä¸ªæ–°çš„è‡ªæˆ‘å§ã€‚å¼‚å›½ä»–ä¹¡æ–°çš„æ–‡åŒ–ç¢°æ’ã€æ¥è‡ªä¸åŒå­¦æ ¡ã€ä¸åŒåœ°åŸŸã€ä¸åŒå›½å®¶çš„äººå„å¼‚çš„æ€§æ ¼å’Œå¤„äº‹æ–¹å¼ã€å´­æ–°å…³ç³»çš„å»ºç«‹ã€ä»¥åŠåœ¨æ­¤ä¹‹ä¸Šäº§ç”Ÿçš„ä½“éªŒå’Œè®°å¿†ï¼Œæ— ç–‘éƒ½ä¼šç»™äººæ¸²æŸ“ä¸Šä¸€å±‚æ–°çš„é¢œè‰²ã€‚</p>
<p>ä¹Ÿè®¸æ˜¯æ‰˜å½“ä»£ç§‘æŠ€çš„ç¦ï¼Œåœ¨ç¦»å¼€ç”Ÿæ´»äº†ä¸‰ä¸ªæœˆä¹‹ä¹…çš„å°åŸç½—æ‹‰å‰å¤œä¾ç„¶ç†æ‰€å½“ç„¶çš„è®¤ä¸ºè¿™æ ·çš„ç”Ÿæ´»è¿˜ä¼šä¸€å¦‚æ—¢å¾€çš„æŒç»­ä¸‹å»ï¼Œæ­£å¦‚è¿‡å»çš„ä¸‰ä¸ªæœˆé‚£æ ·ã€‚åœ¨å®éªŒå®¤å·¥ä½œã€å­¦ä¹ ã€å†™ä»£ç ã€åšæ¼”è®²ï¼›ä¸mentorè®¨è®ºé—®é¢˜ï¼Œäº¤æµç»éªŒã€åˆ†äº«çŸ¥è¯†ï¼›åœ¨è®²å°ä¸‹ä¸æ–­ä¿®æ”¹ä¸€ä»½ä»½Slidesï¼›åœ¨è®²å°ä¸Šå±•ç¤ºæœ€æ–°çš„æˆæœä¸ä½“æ‚Ÿï¼›åœ¨åŒå­¦å’Œæ•™æˆå®¶å¼€partyï¼Œè·³èˆã€å”±æ­Œã€åƒè‡ªåˆ¶çš„ç«é”…ï¼›åœ¨å‘¨æœ«é©±è½¦åœ£è·¯æ˜“é—²é€›ï¼Œæ„Ÿå—åšç‰©é¦†è¯‰è¯´çš„å†å²ï¼›åœ¨ç½—æ‹‰çš„å„ä¸ªé¤å…é©»è¶³ï¼Œç•™ä¸‹å°è´¹å’Œæ¬¢ç¬‘ï¼›å’Œé™†é¸¿å®‡ä¸€èµ·è°ˆåŠ¨æ¼«ã€è®²æ—¥è¯­ï¼›å’Œå¤§å®¶æŒ¤åœ¨ä¸€èµ·ã€æ³¨è§†ç€è‰ä¸›ä¸­æ—¶éšæ—¶ç°çš„æ•Œäººï¼›é£å»æ´›æ‰çŸ¶åšä¼šè®®çš„å¿—æ„¿è€…ã€ä½“ä¼šç¾ä¸½çš„æµ·æ»©å’Œæœ‰è¶£æœ‰æ–™çš„ç¯çƒå½±åŸï¼›åœ¨centerå¥èº«ã€æ¸¸æ³³ã€æŒ¥æ´’æ±—æ°´ï¼›åœ¨ç¯®çƒå’Œè¶³çƒåœºä¸Šç‹‚å¥”ã€ä¸ºç²¾å½©çš„ä¸€åˆ¹è€Œå‡»æŒæ¬¢å‘¼ã€‚åœ¨ç½—æ‹‰å’Œç…¦çš„é˜³å…‰ä¸‹ï¼Œæˆ‘ä»¬æ›¾ä¸€èµ·å¥‹æ–—ã€ä¸€åŒæ¬¢ç¬‘ï¼Œç•™ä¸‹çš„æ˜¯ä»£ç å’Œæˆæœï¼Œå¸¦èµ°çš„æ˜¯çŸ¥è¯†ä¸ç¾å¥½ã€‚</p>
<p>ä»æ¸…æ™°åœ°è®°å¾—åˆæ¥è¿™åº§å°åŸæ—¶ï¼ŒåŒè¡Œçš„å››ä¸ªäººæ— ä¸€äººèƒ½ä¸‹å¨åšé¥­ï¼Œå½“æ—¶æˆ‘ä»¬é‡‡è´­äº†å¤§é‡çš„æ³¡é¢å’Œé€Ÿå†»é£Ÿå“ï¼Œè¿ç»­åœ¨ç½—æ‹‰çš„å„ä¸ªé¥­åº—ç•™ä¸‹è¶³è¿¹ï¼Œè€Œå®éªŒå®¤å¯¹é¢çš„éº¦å½“åŠ³æ›´æˆäº†æˆ‘ä»¬çš„åå¨ï¼Œæ¯å½“æ²¡æœ‰å­¦é•¿å­¦å§å¸¦å»åƒé¥­çš„æ—¶å€™å°±åªèƒ½å…‰é¡¾é‚£é‡Œï¼Œè€Œæœ€æç«¯çš„æ—¶å€™ç”šè‡³å¯ä»¥ä¸€æ—¥ä¸‰å…¥é‡‘æ‹±é—¨ã€‚ä¹Ÿæ˜¯è‡ªç„¶è€Œç„¶çš„ï¼Œä¸åˆ°ä¸€ä¸ªæœˆï¼Œèƒ–äº†å°†è¿‘åæ–¤ã€‚ä½†æˆ‘ä»¬ä¹Ÿæ²¡æœ‰åä»¥å¾…æ¯™ï¼Œä»å³å°†æ¯•ä¸šçš„å­¦é•¿å­¦å§é‚£é‡Œâ€œç»§æ‰¿â€äº†é”…ç¢—ç“¢ç›†ã€èœåˆ€ç §æ¿ï¼Œåˆä»æ²ƒå°”ç›å’Œåœ£è·¯æ˜“çš„ä¸­è¶…å‡‘é½äº†å„ç§è°ƒå‘³æ–™å’Œé£Ÿæï¼Œä¹‹åçš„æ—¶å…‰é‡Œåˆ™æ‹œâ€œä¸‹å¨æˆ¿â€APPä¸ºå¸ˆï¼Œå¼€å¯äº†æˆ‘ä»¬å››äººçš„æ‰‹åˆ¶æ–™ç†ç”Ÿæ´»ã€‚æˆ‘ä»¬Miner Innçš„æ¯ä¸ªäººéƒ½æŒæ¡äº†å‡ æ ·æ‹¿æ‰‹èœï¼Œå¹³è¡¡äº†è†³é£Ÿåï¼Œæˆ‘çš„ä½“é‡ä¹Ÿæ¸æ¸å›åˆ°äº†æœ€åˆçš„æ°´å¹³ã€‚</p>
<p>â€œåªæœ‰å°è¯•è¿ˆå‡ºç¬¬ä¸€æ­¥æ‰èƒ½æ‘†è„±åè§ï¼Œé‡è§æ›´å¥½çš„è‡ªå·±ã€‚â€åœ¨è¿™é‡Œçš„ç»å†å‘Šè¯‰äº†æˆ‘è¿™ä¸€ç‚¹ã€‚ä¹‹å‰æˆ‘ä¸€ç›´ä¸å¤ªä¹æ„å»å¥èº«æˆ¿ï¼Œæ½œæ„è¯†ä¸­è§‰å¾—è¿™æ˜¯å¾ˆè’è°¬è€Œæ— èŠçš„äº‹æƒ…ï¼Œå¹¶ä¸”ç›®æ ‡å¯¹è±¡æ˜¯å‡è‚¥çš„äººå’Œè‚Œè‚‰ç”·ã€‚ä½†æ˜¯åœ¨å‘¨å›´å­¦é•¿å’ŒåŒå­¦çš„å¸¦åŠ¨ä¸‹ä¸€æ­¥è¸è¿›å¥èº«æˆ¿åï¼Œæˆ‘å¼€å§‹æ„è¯†åˆ°ä¹Ÿè®¸ä¹‹å‰çš„æƒ³æ³•æ‰æ˜¯çœŸæ­£è’è°¬çš„ã€‚å¯¹è‚Œè‚‰çš„ç²¾å‡†é”»ç‚¼ã€å¯¹è¿åŠ¨å¼ºåº¦çš„æŠŠæ§ã€å½¢å¼å¤šæ ·çš„å¥èº«å™¨æéƒ½ä½¿å¾—å¥èº«æˆä¸ºäº†ä¸€é¡¹èˆ’é€‚è€Œå¼€å¿ƒçš„äº‹æƒ…ï¼Œè€Œæ¥è¿™é‡Œè¿åŠ¨çš„ä¹Ÿå¹¶éåªæœ‰è‚¥èƒ–ç—‡æ‚£è€…å’Œè‚Œè‚‰ç”·ã€‚æ¸¸æ³³ä¹Ÿæ˜¯è¿™æ ·ï¼Œå°½ç®¡åªæ˜¯å­¦ä¼šäº†ä¸€äº›çš®æ¯›ï¼Œä½†æ˜¯ä¹Ÿæ•¢äºä¸‹æ°´æ¸¸äº†ã€‚ä¸€ç›´ä»¥æ¥æˆ‘éƒ½æ„Ÿè§‰å¾ˆæ€•æ°´ï¼Œå°è¯•äº†å‡ æ¬¡åæœ€ç»ˆè¿˜æ˜¯æ”¾å¼ƒäº†ï¼Œä½†åœ¨å­¦é•¿ä»¬çš„æ‚‰å¿ƒæŒ‡å¯¼ä¸‹ï¼Œæˆ‘å‘ç°å…¶å®å¹¶ä¸æ˜¯çœŸçš„ä¸èƒ½æ¸¸æ³³ï¼Œè€Œæ˜¯å†…å¿ƒæ·±å¤„å§‹ç»ˆå¯¹äºå‘›æ°´æœ‰ç€å·¨å¤§çš„ææƒ§ï¼Œæ‰€ä»¥æ— æ³•å°†åŸ‹å¤´æ°´ä¸­ï¼Œæ›´æ— æ³•æ¸¸èµ·æ¥äº†ã€‚åŒç†è¿˜æœ‰MATLABï¼Œä¹‹å‰ä¸€ç›´ååˆ†ä¸ä¹ æƒ¯è¿™ç§è¯­è¨€ï¼Œä½†æ˜¯çœŸå½“åšèµ·æ¥é¡¹ç›®æ—¶ï¼Œæˆ‘ç«Ÿå¼€å§‹è§‰å¾—è¿™é—¨è¯­è¨€ä¹Ÿæœ‰å…¶æ–¹ä¾¿å’Œåˆç†ä¹‹å¤„ã€‚å½“ç„¶åšé¥­ã€ç”¨è‹±è¯­åšæ¼”è®²ç­‰ä¹Ÿéƒ½æ˜¯è¿™æ ·ï¼Œä¸€æ—¦å…‹æœäº†æœ€åˆçš„ææƒ§ï¼Œåé¢ä¾¿ä¼šæ¸æ¸å˜å¾—å¾—å¿ƒåº”æ‰‹ï¼Œå¹¶å¼€å§‹é¢†ä¼šå…¶ä¸­ä¹è¶£ã€‚</p>
<p>æˆå‰§ä¹‹æ‰€ä»¥ä»¤äººå›å‘³ï¼Œä¹Ÿè®¸åœ¨äºå…¶è½å¹•åè§‚å®¢ä¾æ—§èƒ½åœ¨è„‘æµ·ä¸­ä¸€ééå›æ”¾å…¶ä¸­çš„ä¸€å¹•å¹•åœºæ™¯ï¼Œç»†ç»†æŠšæ‘©å°ä¸Šæ¼”å‘˜çœ‰å®‡é—´æµåŠ¨çš„æ°”ï¼Œå“å‘³å…¶é¢¦ç¬‘ä¸­è—åŒ¿çš„ç¥ã€‚è€Œç…§ç‰‡äº¦æ˜¯å¦‚æ­¤ã€‚</p>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwly1fwqarifr05j30rs15o4gf.jpg" alt="IMG_3762"><figcaption aria-hidden="true">IMG_3762</figcaption>
</figure>
<p>ä¸‹äº†é£æœºä¾¿æ˜¯ç¾å›½ã€‚æˆ‘ä»¬çš„ç¬¬ä¸€é¤é€‰æ‹©äº†æœ€åŸæ±åŸå‘³çš„éº¦å½“åŠ³ã€‚å››äººè°ˆç¬‘é£ç”Ÿï¼Œæœ¬æ— è¶£å‘³çš„å¿«é€Ÿé£Ÿå“å€’ä¹Ÿåœ¨è€³è¾¹è¦ç»•çš„è‹±è¯­è¿™å‘³ä½æ–™ä¸‹ç”Ÿå‡ºäº›åˆ«å…·ä¸€æ ¼çš„é£å‘³æ¥ã€‚ä¹‹åå†æ¬¡è½¬æœºï¼Œç¦»å¼€è¥¿é›…å›¾ï¼ŒæŠµè¾¾åœ£è·¯æ˜“ï¼Œå¹¶åœ¨å­¦é•¿ä»¬æ·±å¤œä½“è´´çš„æ¥æœºè½¦çš„éŸ³ä¹å£°ä¸­æ¥åˆ°äº†ä¸­éƒ¨å°åŸç½—æ‹‰ã€‚çœ‹æˆ¿é—´ï¼Œå°ï¼Œç´§å‡‘ï¼Œä½†æ¯•ç«Ÿé¦–æ¬¡ä½å•äººæˆ¿ï¼Œå€’ä¹Ÿæœ‰æ»‹æœ‰å‘³ï¼Œç”šæ˜¯èˆ’æœã€‚å‡ºé—¨ä¾¿æ˜¯å¯†è‹é‡Œç§‘æŠ€å¤§å­¦çš„æ ¡åŒºï¼Œå®½æ•ï¼Œé˜³å…‰å……æ²›ï¼Œç»¿è‰²çš„è‰åªåœ¨å¤ªé˜³ä¸‹æ˜ è¡¬ç€çº¢å¢™ï¼Œç¾ã€‚</p>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwgy1fwqar7f0qij30rs15owu2.jpg" alt="IMG_3772"><figcaption aria-hidden="true">IMG_3772</figcaption>
</figure>
<p>ç¬¬ä¸€æ¬¡å‡ºè¡Œå‘ç”Ÿåœ¨æˆ‘ä»¬è½åœ°çš„é‚£å‘¨å‘¨æœ«ã€‚ä¸€ä¼—å­¦é•¿é©±è½¦å¸¦ç€æˆ‘ä»¬å®ä¹ ç”Ÿæ¥åˆ°äº†çœåŸåœ£è·¯æ˜“ï¼Œå‚è§‚äº†åšç‰©é¦†ã€é€›äº†ç™¾è´§å¤§æ¥¼ã€è¿˜æ„‰å¿«çš„äº«ç”¨äº†ä¸€æ¬¡è¥¿é¤å’Œä¸€æ¬¡æ ‡å‡†çš„å››å·èœã€‚ä¸åŒèœç³»å„æœ‰å…¶é•¿ï¼Œä¸åœ¨ç‰›æ’ä¸ŠæœŸå¾…è’œé¦™ï¼Œä¸åœ¨ç«é”…é‡Œå¯»è§…ç”œé…±æ‰æ˜¯æ„‰å¿«ç”Ÿæ´»çš„ä¿éšœã€‚</p>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwly1fwqard9lb3j30rs15odvq.jpg" alt="IMG_3768"><figcaption aria-hidden="true">IMG_3768</figcaption>
</figure>
<p>åšé¥­ï¼Œæ˜¯ä¸€ç§å¿…ç„¶çš„é€‰æ‹©ã€‚ç¬¬ä¸€ä¸ªæœˆçš„æ³¡é¢å’Œå·…å³°æ—¶ä¸€æ—¥ä¸‰é£Ÿçš„éº¦å½“åŠ³æˆåŠŸè®©æˆ‘éšèº«å¤šæºå¸¦äº†äº”å…¬æ–¤çš„çš„å¡è·¯é‡Œï¼Œç„¶è€Œæ˜¯è‡ªå·±çš„æ‰‹ä½œæ–™ç†å’Œè¿åŠ¨é‡æ–°æŠŠå®ƒä»¬ç‡ƒçƒ§äº†ã€‚ä»æœ€åˆè¢«æµ™æ±ŸåŒå­¦æ•¬ç•çš„é¸¡è›‹åœŸè±†ä¸åˆ°ä»€é”¦ç±³é¥­ï¼Œä¸€ç›´åˆ°åæ¥çš„æ‹¿æ‰‹å°èœç‚’ç”Ÿèœã€é…¸è¾£åœŸè±†ä¸å’Œç•ªèŒ„é¸¡è›‹ç­‰ï¼Œä¸€æ­¥æ­¥ï¼Œè¿›å…¥äº†æˆ‘ä»¬çš„èœè°±ä¸­ã€‚</p>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwgy1fwdttttsv7j30rs15ob29.jpg" alt="IMG_3765"><figcaption aria-hidden="true">IMG_3765</figcaption>
</figure>
<p>ä¸ä¹…ï¼Œæˆ‘ä»¬è¿æ¥äº†æœŸç›¼å·²ä¹…çš„æ´›æ‰çŸ¶ä¹‹æ—…ã€‚è¿™æ¬¡æ¥æ´›æ‰çŸ¶é•¿æ»©æ˜¯ä¸ºäº†åšä¸€ä¸ªè¡Œä¸šä¼šè®®çš„å¿—æ„¿è€…ï¼Œåœ¨è¿™é‡Œæˆ‘é‡åˆ°äº†ä¸€æ‰¹æ—¥æœ¬æ•™æˆå’Œå·¥ä¸šç•Œä¼šç¤¾å‘˜ï¼Œäº¤è°ˆç”šæ¬¢çš„åŒæ—¶ä¹Ÿæ”¶è·äº†ä¸€äº›åç‰‡å’Œä¸€ä¸ªCiscoçš„å®ä¹ æœºä¼šï¼Œä¸é”™ã€‚å½“ç„¶å·¥ä½œä¹‹ä½™çš„å¨±ä¹æ´»åŠ¨å’Œä¼šè®®ä¸»åŠæ–¹æä¾›çš„å…¼å…·ç¤¾äº¤æ€§çš„å‡ºæ¸¸æ´»åŠ¨ä½“éªŒä¹Ÿæ˜¯ååˆ†æƒ¬æ„çš„ã€‚</p>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwly1fwqara7ezsj315o0rsng4.jpg" alt="IMG_3766"><figcaption aria-hidden="true">IMG_3766</figcaption>
</figure>
<p>åœ¨æ²¡æœ‰æ’ç­çš„ä¸€å¤©é‡Œï¼Œæˆ‘å’Œä¸¤ååŒå­¦ä¸€åŒæ¥åˆ°äº†æ´›æ‰çŸ¶çš„ç¯çƒå½±åŸï¼Œè¿™é‡Œæ— ç–‘æ˜¯æˆ‘åˆ°è®¿è¿‡çš„æœ€æ£’çš„æ¸¸å›­è®¾æ–½äº†ã€‚é€¼çœŸçš„3Dæ•ˆæœã€æ²‰æµ¸å¼çš„ç¯å¢ƒã€ç²¾å½©çš„ç°åœºè¡¨æ¼”ã€åç¾çš„ç¯å…‰ç§€ä»¥åŠåˆºæ¿€çš„é¡¹ç›®ä½“éªŒéƒ½ç»™æˆ‘ä»¬å¸¦æ¥äº†æ— ç©·çš„ä¹è¶£ï¼Œå°¤å…¶æ˜¯å“ˆåˆ©æ³¢ç‰¹å°é•‡ï¼Œå„ç§ç»†èŠ‚éƒ½å®Œç¾è¿˜åŸåŸä½œï¼Œä½“éªŒé¡¹ç›®ä¸­çš„3Dåˆ¶ä½œæ›´æ˜¯è®©äººä»¿ä½›ç©¿è¶Šæ¥åˆ°äº†é‚£ä¸ªé­”æ³•ä¸–ç•Œï¼ŒæŒ¥èˆç€æ‰‹ä¸­çš„é­”æ–......</p>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwgy1fwdulezgp9j315o15okjm.jpg" alt="IMG_3764"><figcaption aria-hidden="true">IMG_3764</figcaption>
</figure>
<p>ä»æ´›æ‰çŸ¶å›æ¥åçš„ç”Ÿæ´»ä¹Ÿæ˜¯ç›¸å½“å¤šå½©çš„ã€‚è¶³çƒæ¯”èµ›ã€çƒ§çƒ¤ã€Road Killçƒ¤è‚‹æ’ç­‰éƒ½æ˜¯ç”Ÿæ´»ä¸­ä¸é”™çš„è°ƒå‘³æ–™ï¼Œæ›´ä¸ç”¨è¯´å®éªŒå®¤é‡Œå¯çˆ±çš„å¦¹å­ä»¬äº†ã€‚</p>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwgy1fwduocfxu6j30rs15ohdt.jpg" alt="IMG_3767"><figcaption aria-hidden="true">IMG_3767</figcaption>
</figure>
<p>å»ä¸€æ¬¡å°„å‡»åº—ä½“éªŒçœŸå®åƒé¸¡æ“ä½œï¼Œæ˜¯æ¥ç¾å›½å‰ä¸€ä¸ªé‡è¦çš„å°ç›®æ ‡ã€‚ç°å®ä¸­çš„å°„å‡»ä½“éªŒåº—ä¹Ÿç¡®å®æ²¡è®©æˆ‘å¤±æœ›ã€‚æ•™ç»ƒä»æ‰‹æªæ•™èµ·ï¼Œç„¶åæˆ‘æ¸æ¸ä¸Šæ‰‹äº†çŒæªã€5.56å£å¾„çº¢ç‚¹ç„å‡†æ­¥æªã€7.62å£å¾„å­å¼¹çš„AKMç­‰çš„åŸºæ“ï¼Œä¸€å¥è¯ï¼šé…·æ¯™äº†ï¼å°½ç®¡å·²ç»æ˜¯ç»åœ°æµ·å²›å’Œçƒ­æƒ…é›¨æ—ä¸­ä¹…ç»æ²™åœºçš„è€æªæ‰‹äº†ï¼Œä½†æ‘¸åˆ°çœŸæ­£çš„æ­¥æªï¼Œä¸Šè†›ï¼Œç„å‡†ï¼Œæ‰£åŠ¨æ‰³æœºï¼Œç­‰å¾…å¹¶é¡¶ä½é‚£ä¸€å£°å·¨å“çš„è¿™ä¸€ç³»åˆ—ä»ªå¼ä¼¼çš„æ­¥éª¤è¿˜æ˜¯è®©äººå†…å¿ƒæ¿€åŠ¨ä¸å·²â€”â€”ç¡çƒŸç‰¹æœ‰çš„æµªæ¼«ã€‚</p>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwly1fwqarlq8grj315o15okhe.jpg" alt="IMG_3769"><figcaption aria-hidden="true">IMG_3769</figcaption>
</figure>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwgy1fwduydoyckj315o15ohdu.jpg" alt="IMG_3770"><figcaption aria-hidden="true">IMG_3770</figcaption>
</figure>
<figure>
<img src="/2018/10/12/mst-feel/006tNbRwgy1fwduyktro8j30rs15ox6p.jpg" alt="IMG_3771"><figcaption aria-hidden="true">IMG_3771</figcaption>
</figure>
<p>å·ç«‹åšç‰©é¦†ã€å¤§å­¦ä¸‡å›½åº†å…¸ã€æœºè½¦åšç‰©é¦†å‚è§‚ï¼Œè¿™äº›éƒ½æ˜¯åæ¥å‘ç”Ÿçš„äº‹æƒ…äº†ã€‚å…¶é—´ä¸€ä¸ªé¡¹ç›®åšå®Œäº†ï¼Œå¹¶åœ¨å²­ç¥çš„æŒ‡å¯¼ä¸‹å®Œæˆäº†paperçš„outlineå’Œåˆç¨¿ï¼›æ¥æ‰‹äº†å¦ä¸€ä¸ªæœ‰è¶£çš„ä»»åŠ¡å¹¶å€Ÿæ­¤æ‹‰åˆ°äº†è°·æ­Œçš„é¡¹ç›®ï¼›å®Œæˆäº†Linuxè¯¾è®¾å’Œæ•°å­—å›¾åƒå¤„ç†è¯¾è®¾è¿™ä¸¤ä¸ªå†å²é—ç•™ä»»åŠ¡ï¼›å¼€å§‹å…¥é—¨äº†æ·±åº¦å¼ºåŒ–å­¦ä¹ å¹¶å†™å‡ºäº†ç¬¬ä¸€ä¸ªåŸºäºè¯¥æŠ€æœ¯çš„é¡¹ç›®ï¼Œç¼–ç å®Œæˆåâ€œæƒŠå–œâ€çš„å‘ç°æ–°å‡ºçš„ä¸€ç¯‡éŸ©å›½è®ºæ–‡å’Œæˆ‘ä»¬å®Œç¾æ’è½¦äº†ï¼›é•¿èƒ–äº†å¹¶åˆç˜¦äº†ï¼Œè¿˜å­¦ä¼šäº†åœ¨æ°´é‡Œæ‰‘è…¾ã€‚æ—¥å­å°±åƒè¿™ä¹ˆä¸€æ¡é“è½¨ï¼Œåœ¨æ—¥å¤ä¸€æ—¥çš„å’£å½“ã€å’£å½“çš„å£°å“ä¸­ä¸æ–­å‘å‰ï¼Œè“¦ç„¶å›é¦–ï¼Œç«Ÿå·²ç„¶åˆ°äº†ç«™å°ã€‚</p>
<p>å¼ ä¸­æ´‹</p>
<p>2018.10.12</p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>EMC</tag>
        <tag>abroad</tag>
      </tags>
  </entry>
  <entry>
    <title>Multi-Armed Banditï¼š epsilon-greedy</title>
    <url>/2018/11/29/multi-armed-bandit/</url>
    <content><![CDATA[<p><strong>æœ¬æ–‡ä¸»è¦å†…å®¹è½¬è½½è‡ªï¼š<a href="https://zhuanlan.zhihu.com/p/32410420">Multi-Armed Bandit: Thompson Sampling</a>ï¼Œç»è¿‡éƒ¨åˆ†æ•´åˆä¿®æ”¹</strong></p>
<h2 id="èƒŒæ™¯"><strong>èƒŒæ™¯</strong></h2>
<p>å‡è®¾æˆ‘ä»¬å¼€äº†ä¸€å®¶å«Surprise Meçš„é¥­é¦†ï¼Œå®¢äººæ¥äº†ä¸ç”¨ç‚¹é¤ï¼Œç”±ç®—æ³•æ¥å†³å®šæ”¹åšå“ªé“èœï¼Œæ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p>æ­¥éª¤ 1: å®¢äºº user = 1...T ä¾æ¬¡åˆ°è¾¾é¤é¦†</p>
<p>æ­¥éª¤ 2: ç»™å®¢äººæ¨èä¸€é“èœï¼Œå®¢äººæ¥å—åˆ™ç•™ä¸‹åƒé¥­(reward=1)ï¼Œæ‹’ç»åˆ™ç¦»å¼€(reward=0)</p>
<span id="more"></span>
<p>æ­¥éª¤ 3: è®°å½•é€‰æ‹©æ¥å—çš„å®¢äººæ€»æ•° total_reward += reward</p>
<p>æ•´ä¸ªè¿‡ç¨‹çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, T): <span class="comment"># Tä¸ªå®¢äººä¾æ¬¡è¿›å…¥é¤é¦†</span></span><br><span class="line">    <span class="comment"># ä»Né“èœä¸­æ¨èä¸€ä¸ªï¼Œreward = 1 è¡¨ç¤ºå®¢äººæ¥å—ï¼Œreward = 0 è¡¨ç¤ºå®¢äººæ‹’ç»å¹¶ç¦»å¼€</span></span><br><span class="line">    item, reward = pick_one(t, N) </span><br><span class="line">    total_reward += reward <span class="comment"># ä¸€å…±æœ‰å¤šå°‘å®¢äººæ¥å—äº†æ¨è</span></span><br></pre></td></tr></table></figure>
<h2 id="å‡è®¾"><strong>å‡è®¾</strong></h2>
<p>ä¸ºäº†ç”±æµ…å…¥æ·±åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆåšä¸¤ä¸ªå‡è®¾ï¼š</p>
<ol type="1">
<li>åŒä¸€é“èœï¼Œæœ‰æ—¶å€™ä¼šåšçš„å¥½åƒä¸€äº› (æ¦‚ç‡ï¼p)ï¼Œæœ‰æ—¶å€™ä¼šéš¾åƒä¸€äº› (æ¦‚ç‡ = 1-p)ï¼Œä½†æˆ‘ä»¬å¹¶ä¸çŸ¥é“æ¦‚ç‡pæ˜¯å¤šå°‘ï¼Œåªèƒ½é€šè¿‡å¤šæ¬¡è§‚æµ‹è¿›è¡Œç»Ÿè®¡ã€‚</li>
<li>èœåšçš„å¥½åƒæ—¶ (æ¦‚ç‡=p)ï¼Œå®¢äººä¸€å®šä¼šç•™ä¸‹(reward=1)ï¼›èœä¸å¥½åƒæ—¶(æ¦‚ç‡ = 1- p)ï¼Œå®¢äººä¸€å®šä¼šç¦»å¼€ (reward=0)ã€‚æš‚æ—¶å…ˆä¸è€ƒè™‘ä¸ªäººå£å‘³çš„å·®å¼‚ (<a href="https://zhuanlan.zhihu.com/p/32382432">åç»­ä¼šåœ¨Contextual Banditä¸­è€ƒè™‘</a>)</li>
<li>èœå¥½åƒä¸å¥½åƒåªæœ‰å®¢äººæ‰è¯´çš„ç®—ï¼Œé¥­é¦†æ˜¯äº‹å…ˆä¸çŸ¥é“çš„ï¼ˆ<a href="https://zhuanlan.zhihu.com/p/32410420">å…ˆéªŒçŸ¥è¯†ä¼šåœ¨Bayesian Banditä¸­è€ƒè™‘</a>ï¼‰</li>
</ol>
<h2 id="è§£å†³æ€è·¯">è§£å†³æ€è·¯</h2>
<p><strong>æ¢ç´¢é˜¶æ®µ (Exploration)ï¼šé€šè¿‡å¤šæ¬¡è§‚æµ‹æ¨æ–­å‡ºä¸€é“èœåšçš„å¥½åƒçš„æ¦‚ç‡ ï¼ </strong>å¦‚æœä¸€é“èœå·²ç»æ¨èäº†kéï¼ˆè·å–äº†kæ¬¡åé¦ˆï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®—å‡ºèœåšçš„å¥½åƒçš„æ¦‚ç‡ï¼š</p>
<figure>
<img src="/2018/11/29/multi-armed-bandit/equation?tex=%5Ctilde%7Bp%7D+%3D+%5Cfrac%7B%5Csum%7Breward_i%7D%7D%7Bk%7D" alt="\tilde{p} = \frac{\sum{reward_i}}{k}"><figcaption aria-hidden="true">\tilde{p} = \frac{\sum{reward_i}}{k}</figcaption>
</figure>
<p>å¦‚æœæ¨èçš„æ¬¡æ•°è¶³å¤Ÿå¤šï¼Œkè¶³å¤Ÿå¤§ï¼Œé‚£ä¹ˆ <img src="https://www.zhihu.com/equation?tex=%5Ctilde%7Bp%7D" alt="\tilde{p}"> ä¼šè¶‹è¿‘äºçœŸå®çš„èœåšçš„å¥½åƒçš„æ¦‚ç‡ <img src="/2018/11/29/multi-armed-bandit/equation?tex=%7Bp%7D" alt="{p}"> ã€‚</p>
<p><strong>åˆ©ç”¨é˜¶æ®µ (Exploitation)ï¼šå·²çŸ¥æ‰€æœ‰çš„èœåšçš„å¥½åƒçš„æ¦‚ç‡ï¼Œè¯¥å¦‚ä½•æ¨èï¼Ÿï¼ </strong>å¦‚æœæ¯é“èœéƒ½æ¨èäº†å¤šéï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—å‡ºNé“èœåšçš„å¥½åƒçš„æ¦‚ç‡ { <img src="https://www.zhihu.com/equation?tex=%5Ctilde%7Bp%7D_%7B1%7D%2C+%5Ctilde%7Bp%7D_%7B2%7D%2C+...%2C+%5Ctilde%7Bp%7D_%7BN%7D" alt="\tilde{p}_{1}, \tilde{p}_{2}, ..., \tilde{p}_{N}">}ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¨è <img src="/2018/11/29/multi-armed-bandit/equation?tex=%5Ctilde%7Bp%7D" alt="\tilde{p}"> æœ€å¤§çš„é‚£é“èœã€‚</p>
<h2 id="æ ¸å¿ƒé—®é¢˜ä»€ä¹ˆæ—¶å€™æ¢ç´¢explorationä»€ä¹ˆæ—¶å€™åˆ©ç”¨-exploitation">æ ¸å¿ƒé—®é¢˜ï¼šä»€ä¹ˆæ—¶å€™æ¢ç´¢(Exploration)ï¼Œä»€ä¹ˆæ—¶å€™åˆ©ç”¨ (Exploitation)?</h2>
<p>æ¢ç´¢ (Exploration) v.s. åˆ©ç”¨(Exploitation)ï¼Œè¿™æ˜¯ä¸€ä¸ªç»ä¹…ä¸è¡°çš„é—®é¢˜ï¼š</p>
<ul>
<li>Explorationçš„ä»£ä»·æ˜¯è¦ä¸åœçš„æ‹¿ç”¨æˆ·å»è¯•èœï¼Œå½±å“å®¢æˆ·çš„ä½“éªŒï¼Œä½†æœ‰åŠ©äºæ›´åŠ å‡†ç¡®çš„ä¼°è®¡æ¯é“èœå¥½åƒçš„æ¦‚ç‡</li>
<li>Exploitationä¼šåŸºäºç›®å‰çš„ä¼°è®¡æ‹¿å‡ºâ€œæœ€å¥½çš„â€èœæ¥æœåŠ¡å®¢æˆ·ï¼Œä½†ç›®å‰çš„ä¼°è®¡å¯èƒ½æ˜¯ä¸å‡†çš„ï¼ˆå› ä¸ºè¯•åƒçš„äººè¿˜ä¸å¤Ÿå¤šï¼‰</li>
</ul>
<p>è§£å†³æ–¹æ³• <img src="/2018/11/29/multi-armed-bandit/equation?tex=%5Cepsilon+%EF%BC%8D+greedy" alt="\epsilon ï¼ greedy"> ï¼šæ¯å½“å®¢äººåˆ°æ¥æ—¶:</p>
<ul>
<li>ä»¥ <img src="https://www.zhihu.com/equation?tex=%5Cepsilon" alt="\epsilon"> çš„æ¦‚ç‡é€‰æ‹©æ¢ç´¢ (Exploration) ï¼Œä»Né“èœä¸­éšæœºé€‰æ‹©(æ¦‚ç‡ä¸º<img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cepsilon%7D%7BN%7D" alt="\frac{\epsilon}{N}"> )ä¸€ä¸ªè®©å®¢äººè¯•åƒï¼Œæ ¹æ®å®¢äººçš„åé¦ˆæ›´æ–°èœçš„åšçš„å¥½åƒçš„æ¦‚ç‡ { <img src="/2018/11/29/multi-armed-bandit/equation?tex=%5Ctilde%7Bp%7D_%7B1%7D%2C+%5Ctilde%7Bp%7D_%7B2%7D%2C+...%2C+%5Ctilde%7Bp%7D_%7BN%7D" alt="\tilde{p}_{1}, \tilde{p}_{2}, ..., \tilde{p}_{N}">}</li>
<li>ä»¥ <img src="https://www.zhihu.com/equation?tex=1-%5Cepsilon" alt="1-\epsilon"> çš„æ¦‚ç‡é€‰æ‹©åˆ©ç”¨ (Exploitation)ï¼Œä»Né“èœ{ <img src="/2018/11/29/multi-armed-bandit/equation?tex=%5Ctilde%7Bp%7D_%7B1%7D%2C+%5Ctilde%7Bp%7D_%7B2%7D%2C+...%2C+%5Ctilde%7Bp%7D_%7BN%7D" alt="\tilde{p}_{1}, \tilde{p}_{2}, ..., \tilde{p}_{N}">}ä¸­é€‰æ‹©å¥½åƒçš„æ¦‚ç‡æœ€é«˜çš„èœæ¨èç»™ç”¨æˆ·</li>
</ul>
<p>é‚£ä¹ˆ <img src="/2018/11/29/multi-armed-bandit/equation?tex=%5Cepsilon+%EF%BC%8D+greedy" alt="\epsilon ï¼ greedy"> çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆå‘¢ï¼š</p>
<ul>
<li><strong>åœ¨è¯•åƒæ¬¡æ•°ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå¥½åƒå’Œéš¾åƒçš„èœå¾—åˆ°è¯•åƒçš„æ¦‚ç‡æ˜¯ä¸€æ ·çš„</strong>ï¼šæœ‰ä¸€é“èœæŒç»­èƒ½å¾—åˆ°å¥½åƒçš„åé¦ˆï¼Œè€Œå¦ä¸€é“èœæŒç»­å¾—åˆ°éš¾åƒçš„åé¦ˆï¼Œä½†åœ¨ <img src="https://www.zhihu.com/equation?tex=%5Cepsilon+%EF%BC%8D+greedy+" alt="\epsilon ï¼ greedy"> ä¸­ï¼Œæ¢ç´¢ä¸¤é“èœçš„æ¦‚ç‡æ˜¯ä¸€æ ·çš„ï¼ˆå‡ä¸º<img src="/2018/11/29/multi-armed-bandit/equation?tex=%5Cfrac%7B%5Cepsilon%7D%7BN%7D" alt="\frac{\epsilon}{N}">ï¼‰ã€‚</li>
<li><strong>åœ¨ä¼°è®¡çš„æˆåŠŸæ¦‚ç‡ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œè¯•åƒæ¬¡æ•°å¤šçš„å’Œè¯•åƒæ¬¡æ•°å°‘çš„èœå¾—åˆ°å†è¯•åƒçš„æ¦‚ç‡æ˜¯ä¸€æ ·çš„</strong>ï¼šå‡è®¾æœ‰ä¸¤é“èœï¼Œç¬¬ä¸€é“èœ50äººå½“ä¸­30ä¸ªäººè¯´å¥½ï¼Œç¬¬äºŒé“èœ5ä¸ªäººå½“ä¸­3ä¸ªäººè¯´å¥½ï¼Œè™½ç„¶ä¸¤é“èœçš„æˆåŠŸæ¦‚ç‡éƒ½æ˜¯60%(30/50 = 3/50)ï¼Œä½†æ˜¾ç„¶åé¦ˆçš„äººè¶Šå¤šï¼Œæ¦‚ç‡ä¼°è®¡çš„è¶Šå‡†ã€‚å†æ¢ç´¢æ—¶ï¼Œåº”è¯¥æŠŠé‡å¿ƒæ”¾åœ¨è¯•åƒæ¬¡æ•°å°‘çš„èœä¸Šã€‚</li>
</ul>
<p>æœ€åé™„ä¸Š <img src="/2018/11/29/multi-armed-bandit/equation?tex=%5Cepsilon+%EF%BC%8D+greedy" alt="\epsilon ï¼ greedy"> çš„å®Œæ•´ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">T &#x3D; 100000 # Tä¸ªå®¢äºº</span><br><span class="line">N &#x3D; 10 # Né“èœ</span><br><span class="line"></span><br><span class="line">true_rewards &#x3D; np.random.uniform(low&#x3D;0, high&#x3D;1, size&#x3D;N) # Né“èœå¥½åƒçš„æ¦‚ç‡</span><br><span class="line">estimated_rewards &#x3D; np.zeros(N)</span><br><span class="line">number_of_trials &#x3D; np.zeros(N)</span><br><span class="line">total_reward &#x3D; 0 </span><br><span class="line"></span><br><span class="line">def alpha_greedy(N, alpha&#x3D;0.1):</span><br><span class="line">    item &#x3D; 0</span><br><span class="line">    if np.random.random() &lt; alpha:</span><br><span class="line">        item &#x3D; np.random.randint(low&#x3D;0, high&#x3D;N)</span><br><span class="line">    else:</span><br><span class="line">        item &#x3D; np.argmax(estimated_rewards)</span><br><span class="line">    reward &#x3D; np.random.binomial(n&#x3D;1, p&#x3D;true_rewards[item])</span><br><span class="line">    return item, reward</span><br><span class="line"></span><br><span class="line">for t in range(1, T): # Tä¸ªå®¢äººä¾æ¬¡è¿›å…¥é¤é¦†</span><br><span class="line">   # ä»Né“èœä¸­æ¨èä¸€ä¸ªï¼Œreward &#x3D; 1 è¡¨ç¤ºå®¢äººæ¥å—ï¼Œreward &#x3D; 0 è¡¨ç¤ºå®¢äººæ‹’ç»å¹¶ç¦»å¼€</span><br><span class="line">   item, reward &#x3D; alpha_greedy(N)</span><br><span class="line">   total_reward +&#x3D; reward # ä¸€å…±æœ‰å¤šå°‘å®¢äººæ¥å—äº†æ¨è</span><br><span class="line"></span><br><span class="line">   # æ›´æ–°èœçš„å¹³å‡æˆåŠŸæ¦‚ç‡</span><br><span class="line">   number_of_trials[item] +&#x3D; 1</span><br><span class="line">   estimated_rewards[item] &#x3D; ((number_of_trials[item] - 1) * estimated_rewards[item] + reward) &#x2F; number_of_trials[item]</span><br><span class="line"></span><br><span class="line">print(&quot;total_reward&#x3D;&quot; + str(total_reward))</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>machine-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>namedtuple</title>
    <url>/2018/08/19/namedtuple/</url>
    <content><![CDATA[<h1 id="python-namedtupleä½¿ç”¨è¯¦è§£">Python namedtupleä½¿ç”¨è¯¦è§£</h1>
<p>æœ¬æ–‡è½¬è½½è‡³ï¼š<a href="https://blog.csdn.net/kongxx/article/details/51553362">é“¾æ¥</a></p>
<p>namedtupleæ˜¯ç»§æ‰¿è‡ªtupleçš„å­ç±»ã€‚namedtupleåˆ›å»ºä¸€ä¸ªå’Œtupleç±»ä¼¼çš„å¯¹è±¡ï¼Œè€Œä¸”å¯¹è±¡æ‹¥æœ‰å¯è®¿é—®çš„å±æ€§ã€‚</p>
<p>ä¸‹é¢çœ‹ä¸ªä¾‹å­ï¼š</p>
<span id="more"></span>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªnamedtupleç±»å‹Userï¼Œå¹¶åŒ…å«nameï¼Œsexå’Œageå±æ€§ã€‚</span></span><br><span class="line">User = namedtuple(<span class="string">&#x27;User&#x27;</span>, [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;sex&#x27;</span>, <span class="string">&#x27;age&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªUserå¯¹è±¡</span></span><br><span class="line">user = User(name=<span class="string">&#x27;kongxx&#x27;</span>, sex=<span class="string">&#x27;male&#x27;</span>, age=<span class="number">21</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªlistæ¥åˆ›å»ºä¸€ä¸ªUserå¯¹è±¡ï¼Œè¿™é‡Œæ³¨æ„éœ€è¦ä½¿ç”¨&quot;_make&quot;æ–¹æ³•</span></span><br><span class="line">user = User._make([<span class="string">&#x27;kongxx&#x27;</span>, <span class="string">&#x27;male&#x27;</span>, <span class="number">21</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> user</span><br><span class="line"><span class="comment"># User(name=&#x27;user1&#x27;, sex=&#x27;male&#x27;, age=21)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç”¨æˆ·çš„å±æ€§</span></span><br><span class="line"><span class="built_in">print</span> user.name</span><br><span class="line"><span class="built_in">print</span> user.sex</span><br><span class="line"><span class="built_in">print</span> user.age</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹å¯¹è±¡å±æ€§ï¼Œæ³¨æ„è¦ä½¿ç”¨&quot;_replace&quot;æ–¹æ³•</span></span><br><span class="line">user = user._replace(age=<span class="number">22</span>)</span><br><span class="line"><span class="built_in">print</span> user</span><br><span class="line"><span class="comment"># User(name=&#x27;user1&#x27;, sex=&#x27;male&#x27;, age=21)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†Userå¯¹è±¡è½¬æ¢æˆå­—å…¸ï¼Œæ³¨æ„è¦ä½¿ç”¨&quot;_asdict&quot;</span></span><br><span class="line"><span class="built_in">print</span> user._asdict()</span><br><span class="line"><span class="comment"># OrderedDict([(&#x27;name&#x27;, &#x27;kongxx&#x27;), (&#x27;sex&#x27;, &#x27;male&#x27;), (&#x27;age&#x27;, 22)])</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘å®¶çš„ç‰¹è‰²å¹´å‘³</title>
    <url>/2018/03/07/my-hometown/</url>
    <content><![CDATA[<p>æƒ³å¿…æœ‰å¾ˆå¤šäººæ›¾åœ¨ä¹¦ä¸­å‰§å†…æ•°åº¦ç©å‘³ä¸‰å›½æ—¶é‚£è‚¡è‚¡æ··æ²Œä¸­å¤¹æ‚ç€äº›è®¸è¡€ç‰¹æœ‰å’¸è…¥çš„é£ï¼Œæ†§æ†¬è¿‡é‚£ä½ä½æš´æˆ¾ä¸­é€éœ²ç€å‡ åˆ†éœ¸æ°”çš„ç‹ã€‚é™å¬è¿œå¤çš„ç¼–é’Ÿåœ¨æ—¶ç©ºä¸­çš„å›å“ï¼Œå£®å£«çš„æ€’å·åœ¨æ²³å·ä¸­çš„æ¿€è¡ï¼Œä»¿ä½›æ­£æ˜¯è¿™äº›æˆ–é›…è‡´æˆ–æ¿€æ˜‚çš„ç‚¹ç‚¹å¾‹åŠ¨è°±å‡ºäº†çœ¼å¸˜ä¸­æ˜ å‡ºçš„é‚£äº›ç›´æ æ¨ªæ§›ã€é›•æ ç”»æŸ±ã€å£®ç¾æ²³å±±ã€‚ä½†æ˜¯å¹¶éæ‰€æœ‰äººéƒ½çŸ¥é“ï¼Œé‚£ä½åœ¨ç¢£çŸ³æ—é™è§‚æ²§æµ·ã€ä»¥ä¼æ¥è€éª¥è‡ªæ¯”çš„é‚£ä½è€äººæ›¹æ“å®‰ç½®å…¶ç‰çºä¹‹å¤„ä¹ƒåä¸ºè®¸éƒ½ï¼Œæˆ–æ›°ï¼šè®¸æ˜Œã€‚</p>
<span id="more"></span>
<p>ä»Šå¹´å›åˆ°è®¸æ˜Œåï¼Œä»¤æˆ‘æ„Ÿè§¦æœ€æ·±çš„ä¾¿æ˜¯å»ºç­‘é£æ ¼ä¸Šçš„å¤§å¹…è½¬å˜ã€‚åŸæœ¬ç ´æ—§çš„å°å¹³æˆ¿æ‘‡èº«ä¸€å˜åŒ–ä¸ºäº†å¼€é˜”æ•äº®çš„å¹¿åœºã€æ¯«æ— ç‰¹è‰²çš„å°æ¥¼è¢«è‰ºæœ¯å®¶ä»¬ç¢ç£¨ç©å‘³ï¼Œæ–½ä»¥ç»†å·¥ï¼Œç«Ÿä¹Ÿæ•£å‘å‡ºä¸€è‚¡å¤è‰²å¤é¦™ã€‚æœ€ä»¤äººæ‹æ‰‹å«ç»çš„æ˜¯å…¶äº¦çœŸäº¦å‡çš„è®¾è®¡ï¼Œå°†çœŸæ­£çš„å¤å»ºç­‘å’Œç»è¿‡è£…é¥°çš„æ–°å»ºç­‘æœ‰æœºçš„èåˆåœ¨äº†ä¸€èµ·ï¼Œä»¤äººæµ®æƒ³è”ç¿©ã€‚æ˜¥èŠ‚è‡³ï¼Œæ¼”ç»æ¥ã€‚æ›¹æ“ä¸Šæœå¤§é˜Ÿçš„è¡¨æ¼”ï¼Œå’Œç€ç¼–é’Ÿå¤ç­ä¸­è¡æ¼¾å‡ºçš„æ—‹å¾‹ï¼Œç»™å¾€æ¥å…¶é—´çš„æ¸¸è€…ä»¥ä¸€ç§ç‹¬ç‰¹è€Œå¥‡å¦™çš„ä½“éªŒï¼Œç¯è§†å››å‘¨ï¼Œåˆæœ‰çš®å½±æˆã€é“åŒ é“ºä¸é•–å±€ç­‰æ¥å¢æ·»æ˜¥èŠ‚ä¹‹å–œåº†æ°”æ°›ã€‚</p>
<p>ä¼šäº²æœ‹ï¼Œè§å¥½å‹ï¼Œèµç¯ç¬¼ï¼Œæ³›æ¸¸èˆ¹ï¼Œé€›åº™ä¼šï¼Œä¹æ¸¸å›­ã€‚æ²¡äº†é­ç‚®çš„å–§åš£ï¼Œå°‘äº†é¾™ç‹®çš„è’å™ªï¼Œæ‹­å»ä¸–ä¿—çš„å°˜åŸƒï¼Œæ¼«æ­¥å†å²ä¹‹æ²³ç•”ï¼Œæ­¤ä¹‹è°“è®¸æ˜Œä¹‹æ˜¥èŠ‚ä¹Ÿã€‚</p>
<p><img src="/2018/03/07/my-hometown/ancient_city.jpg"></p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>prose</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorch è‡ªåŠ¨ç”Ÿæˆç½‘ç»œç»“æ„å›¾</title>
    <url>/2018/08/11/net-visualization/</url>
    <content><![CDATA[<h1 id="pytorch-è‡ªåŠ¨ç”Ÿæˆç½‘ç»œç»“æ„å›¾">Pytorch è‡ªåŠ¨ç”Ÿæˆç½‘ç»œç»“æ„å›¾</h1>
<p>Pytorchæ²¡æœ‰TensorFlowç±»ä¼¼çš„åŸç”Ÿæ”¯æŒï¼Œå°½ç®¡ä¹Ÿå¯ä»¥ç”¨TensorBoardXè¿›è¡Œå¯è§†åŒ–ï¼Œä½†æ˜¯å…¶ç”Ÿæˆçš„ç½‘ç»œå›¾ä¸é€‚åˆç›´æ¥å±•ç¤ºã€‚æ‰€ä»¥ï¼Œæœ‰æ²¡æœ‰åˆé€‚çš„è‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Ÿ</p>
<p>é¦–å…ˆï¼Œå¯ä»¥åˆ©ç”¨ä¸€ä¸ªå¼€æºåº“ï¼Œ<a href="https://github.com/szagoruyko/functional-zoo">functional-zoo</a></p>
<span id="more"></span>
<h2 id="æ‰€éœ€å‡†å¤‡">æ‰€éœ€å‡†å¤‡ï¼š</h2>
<ol type="1">
<li><code>brew/apt-get/yum install graphviz</code></li>
<li>Â <code>conda install python-graphviz</code></li>
<li><code>pip install torchviz</code></li>
</ol>
<p>ä»¥æˆ‘è‡ªå·±çš„ç½‘ç»œä¸ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">from</span> graphviz <span class="keyword">import</span> Digraph</span><br><span class="line"><span class="keyword">from</span> torchviz <span class="keyword">import</span> make_dot</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> models <span class="keyword">import</span> miracle_lineconv_net</span><br><span class="line"><span class="keyword">from</span> config <span class="keyword">import</span> Config</span><br><span class="line">opt = Config()</span><br><span class="line"></span><br><span class="line">x = Variable(torch.randn(<span class="number">128</span>,<span class="number">2</span>,<span class="number">41</span>,<span class="number">9</span>))<span class="comment">#change 12 to the channel number of network input</span></span><br><span class="line">model = miracle_lineconv_net.MiracleLineConvNet(opt)</span><br><span class="line">y = model(x)</span><br><span class="line">g = make_dot(y)</span><br><span class="line">g.view()</span><br></pre></td></tr></table></figure>
<ul>
<li>å¦‚æœä¾ç„¶æœ‰å®‰è£…é—®é¢˜ï¼Œç»§ç»­ä¸‹è½½ <code>pip install git+https://github.com/szagoruyko/pytorchviz</code></li>
</ul>
<h2 id="å®˜æ–¹æ•ˆæœå¦‚ä¸‹å›¾">å®˜æ–¹æ•ˆæœå¦‚ä¸‹å›¾ï¼š</h2>
<figure>
<img src="/2018/08/11/net-visualization/0069RVTdly1fu5opw86r4j30nq0ou416.jpg" alt="image-20180811001334071"><figcaption aria-hidden="true">image-20180811001334071</figcaption>
</figure>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>pytorch</tag>
        <tag>visualization</tag>
      </tags>
  </entry>
  <entry>
    <title>Nohup å‘½ä»¤æ€»ç»“</title>
    <url>/2018/05/06/nohup/</url>
    <content><![CDATA[<p><strong>ç”¨é€”</strong>ï¼šä¸æŒ‚æ–­åœ°è¿è¡Œå‘½ä»¤ã€‚</p>
<p><strong>è¯­æ³•</strong>ï¼š<code>nohup Command [ Arg â€¦</code>][ &amp; ]</p>
<p><strong>æè¿°</strong>ï¼šnohup å‘½ä»¤è¿è¡Œç”± Command å‚æ•°å’Œä»»ä½•ç›¸å…³çš„ Arg å‚æ•°æŒ‡å®šçš„å‘½ä»¤ï¼Œå¿½ç•¥æ‰€æœ‰æŒ‚æ–­ï¼ˆSIGHUPï¼‰ä¿¡å·ã€‚åœ¨æ³¨é”€åä½¿ç”¨ nohup å‘½ä»¤è¿è¡Œåå°ä¸­çš„ç¨‹åºã€‚è¦è¿è¡Œåå°ä¸­çš„ nohup å‘½ä»¤ï¼Œæ·»åŠ  &amp; ï¼ˆ è¡¨ç¤ºâ€andâ€çš„ç¬¦å·ï¼‰åˆ°å‘½ä»¤çš„å°¾éƒ¨ã€‚</p>
<p><strong>è¾“å‡ºè¢«é‡å®šå‘</strong>åˆ°myout.fileæ–‡ä»¶ï¼š<code>nohup command &gt; myout.file 2&gt;&amp;1 &amp;</code></p>
<p>ä¸¤ä¸ªå¸¸ç”¨çš„<strong>ftpå·¥å…·</strong>ï¼šncftpgetå’Œncftpputï¼Œå¯ä»¥å®ç°åå°çš„ftpä¸Šä¼ å’Œä¸‹è½½ï¼Œè¿™æ ·å°±å¯ä»¥åˆ©ç”¨è¿™äº›å‘½ä»¤åœ¨åå°ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶äº†ã€‚</p>
<span id="more"></span>
<p>å¦‚ä½•æ€æ­»nohupè¿›ç¨‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">this is how I try to find the process ID:</span><br><span class="line">ps -ef |grep nohup </span><br><span class="line">this is the <span class="built_in">command</span> to <span class="built_in">kill</span></span><br><span class="line"><span class="built_in">kill</span> -9 1787 787</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æœ€æ–°è¾“å‡ºæ–‡ä»¶å†…å®¹ï¼š<code>tail my.log</code></p>
<p>åŠ¨æ€è¿½è¸ªæœ€æ–°è¾“å‡ºå†…å®¹ï¼š<code>tail -f my.log</code></p>
]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Numpyå¹¿æ’­å°†ä¸åŒå½¢çŠ¶çš„çŸ©é˜µæˆ–æ•°ç»„åŠ å‡ä¹˜é™¤</title>
    <url>/2018/04/02/numpy-broadcasting/</url>
    <content><![CDATA[<h2 id="é¦–å…ˆå…ˆå¼ºè°ƒä¸€ç‚¹å¾ˆå®¹æ˜“æ··æ·†çš„ç‚¹">é¦–å…ˆå…ˆå¼ºè°ƒä¸€ç‚¹å¾ˆå®¹æ˜“æ··æ·†çš„ç‚¹ï¼š</h2>
<blockquote>
<ul>
<li>ä¸€ä¸ªshapeä¸º(4,)çš„np.arrayå…¶å®æ˜¯ä¸€è¡Œï¼ï¼ä¸€è¡Œ4åˆ—ï¼ï¼è€Œä¸æ˜¯4è¡Œæ¯è¡Œ1ä¸ªå…ƒç´ ï¼ï¼</li>
<li>ä¸Šé¢è¯´çš„è¿™ä¸ªğŸ‘†arrayå‡è®¾å«xï¼Œé‚£ä¹ˆæƒ³æŠŠxåŠ åˆ°ä¸€ä¸ªshapeä¸º(9,4)çš„matrixä¸Šæ˜¯å¯ä»¥ç›´æ¥åŠ çš„ï¼Œå¦‚æœæƒ³è¦æŠŠxåŠ åˆ°ä¸€ä¸ªshapeä¸º(4,9)çš„matrixä¸Šè¦å…ˆè½¬ç½®ï¼è€Œä¸”ä¸èƒ½ç›´æ¥è½¬ç½®ï¼Œå› ä¸ºä¸€ä¸ªarrayçš„è½¬ç½®çš„å½¢çŠ¶æ˜¯ä¸ä¼šå˜çš„ã€‚ã€‚æ­£ç¡®åšæ³•æ˜¯ï¼šå…ˆæŠŠxå˜æˆä¸€ä¸ªæ•°ç»„ï¼Œä¹‹åå†å¯¹è¿™ä¸ªæ•°ç»„è½¬ç½®ï¼Œè¿™æ—¶å€™xçš„å½¢çŠ¶å°±å·²ç»å˜æˆäº†(4,1)ï¼Œæˆäº†çœŸæ­£çš„4è¡Œæ¯è¡Œ1åˆ—ï¼Œä¹Ÿå°±å¯ä»¥æŠŠå®ƒåŠ åˆ°shapeä¸º(4,9)çš„matrixä¸Šå»å–½~</li>
</ul>
</blockquote>
<p>åœ¨æˆ‘ä»¬æ‰€ä»¥Numpyçš„è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šæœ‰å¤§é‡çš„çŸ©é˜µæ•°ç»„éœ€è¦è¿ç®—ï¼Œä½†æ˜¯ä¸åŒç±»å‹çš„Numpyæ€æ ·è¿›è¡ŒåŠ å‡ä¹˜é™¤å‘¢ï¼Ÿè¿™å°±è¦ç”¨åˆ°æˆ‘ä»¬Numpyçš„å¹¿æ’­ã€‚</p>
<span id="more"></span>
<h2 id="å¿«é€Ÿå…¥é—¨numpyå¹¿æ’­">å¿«é€Ÿå…¥é—¨Numpyå¹¿æ’­</h2>
<p>Numpyçš„å¹¿æ’­æ—¢æ˜¯åœ¨2ä¸ªä¸åŒçš„çŸ©é˜µè¿ç®—è¿‡ç¨‹ä¸­ï¼ŒNumpyå°†è¾ƒå°çš„æ•°ç»„æ‹‰ä¼¸æˆè¾ƒå¤§æ•°ç»„çš„å½¢çŠ¶(shape)ï¼Œç„¶å<strong>NumpyåŠ å‡ä¹˜é™¤ä¸åŒçŸ©é˜µçš„åŠ å‡ä¹˜é™¤è¿ç®—</strong>ï¼Œå¥½çš„æ²¡æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; np.array([3.0, 4.0, 5.0, 6.0])</span><br><span class="line">b &#x3D; np.array([3.0, 4.0])</span><br><span class="line">print a * b</span><br></pre></td></tr></table></figure>
<p>å°†ä¼šå‡ºç°è¿™æ ·çš„é”™è¯¯<code>ValueError: operands could not be broadcast together with shapes (3,)ï¼Œ (2,)</code>, åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªéœ€è¦å°†aè½¬æ¢æˆä¸€ä¸ª2ç»´æ•°ç»„ï¼Œå³å¯è¿›è¡Œå¹¿æ’­ï¼Œå¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; np.array([3.0, 4.0, 5.0, 6.0])</span><br><span class="line">b &#x3D; np.array([3.0, 4.0])</span><br><span class="line">a.shape &#x3D; (2,2)</span><br><span class="line">print a * b</span><br><span class="line"># è¾“å‡ºï¼š[[ 3.  4.] [ 5.  6.]] [[  9.  16.] [ 15.  24.]]</span><br><span class="line"></span><br><span class="line"># ä¾‹å¤–ä¸€ä¸ªä¾‹å­</span><br><span class="line">x &#x3D; np.arange(4)</span><br><span class="line">z &#x3D; np.ones((3,4))</span><br><span class="line"></span><br><span class="line">print x + z</span><br></pre></td></tr></table></figure>
<p>å¥½çš„åˆ°è¿™é‡Œå…¶å®ä¸»è¦æˆ‘ä»¬å·²ç»å°†å®Œäº†æ‰€æœ‰çš„å†…å®¹ï¼Œå¦‚æœä½ æƒ³è¦äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„å†…å®¹ï¼Œå…¶å®éƒ½æ˜¯ä¸€äº›æè¿°æ€§çš„ï¼Œæˆ‘è§‰å¾—ä¸æ˜¯é‚£ä¹ˆæœ‰å¿…è¦çœ‹</p>
<h2 id="ä»€ä¹ˆæ˜¯numpyå¹¿æ’­">ä»€ä¹ˆæ˜¯Numpyå¹¿æ’­</h2>
<p>å¹¿æ’­æœ¯è¯­æè¿°äº†åœ¨ç®—æœ¯è¿ç®—è¿‡ç¨‹ä¸­numpyå¦‚ä½•å¤„ç†å…·æœ‰ä¸åŒå½¢çŠ¶çš„æ•°ç»„ã€‚å—åˆ°æŸäº›çº¦æŸï¼Œè¾ƒå°çš„æ•°ç»„æ˜¯è·¨è¶Šè¾ƒå¤§é˜µåˆ—çš„â€œå¹¿æ’­â€ï¼Œä»¥ä¾¿å®ƒä»¬å…·æœ‰å…¼å®¹çš„å½¢çŠ¶ã€‚å¹¿æ’­æä¾›äº†ä¸€ç§å‘é‡åŒ–æ•°ç»„æ“ä½œçš„æ–¹æ³•ï¼Œä»¥ä¾¿å¾ªç¯å‘ç”Ÿåœ¨Cè€Œä¸æ˜¯Pythonä¸­ã€‚å®ƒä¸ä¼šé€ æˆä¸å¿…è¦çš„æ•°æ®å‰¯æœ¬ï¼Œé€šå¸¸ä¼šå¯¼è‡´é«˜æ•ˆçš„ç®—æ³•å®ç°ã€‚ç„¶è€Œï¼Œå¹¿æ’­æ˜¯ä¸€ä¸ªåä¸»æ„ï¼Œå› ä¸ºå®ƒå¯¼è‡´ä½æ•ˆçš„å†…å­˜ä½¿ç”¨å‡æ…¢äº†è®¡ç®—çš„æƒ…å†µã€‚</p>
<p>NumPyæ“ä½œé€šå¸¸æ˜¯åœ¨é€ä¸ªå…ƒç´ çš„åŸºç¡€ä¸Šå®Œæˆçš„ã€‚åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªé˜µåˆ—å¿…é¡»å…·æœ‰å®Œå…¨ç›¸åŒçš„å½¢çŠ¶ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; np.array([3.0, 4.0, 5.0])</span><br><span class="line">b &#x3D; np.array([3.0, 3.0, 3.0])</span><br><span class="line">print a * b</span><br><span class="line"># è¾“å‡ºï¼š[  9.  12.  15.]</span><br></pre></td></tr></table></figure>
<p>å½“æ•°ç»„çš„å½¢çŠ¶æ»¡è¶³æŸäº›é™åˆ¶æ—¶ï¼ŒNumPyçš„å¹¿æ’­è§„åˆ™æ”¾å®½äº†è¿™ä¸ªçº¦æŸã€‚å½“æ“ä½œä¸­ç»„åˆæ•°ç»„å’Œæ ‡é‡å€¼æ—¶ï¼Œä¼šå‘ç”Ÿæœ€ç®€å•çš„å¹¿æ’­ç¤ºä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a &#x3D; np.array([3.0, 4.0, 5.0])</span><br><span class="line">b &#x3D; 3.0</span><br><span class="line">print a * b</span><br><span class="line"># è¾“å‡ºï¼š[  9.  12.  15.]</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢2ä¸ªä¾‹å­çš„ç»“æœç›¸åŒï¼Œåœ¨è®¡ç®—æœŸé—´ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä½œbè¢«æ‹‰ä¼¸æˆä¸aç›¸åŒçš„å½¢çŠ¶ï¼Œæ–°å…ƒç´  båªæ˜¯åŸå§‹æ ‡é‡çš„å‰¯æœ¬ã€‚æ‹‰ä¼¸ç±»æ¯”åªæ˜¯æ¦‚å¿µæ€§çš„ã€‚NumPyè¶³å¤Ÿèªæ˜æ‰èƒ½ä½¿ç”¨åŸå§‹çš„æ ‡é‡å€¼ï¼Œè€Œæ— éœ€å®é™…å¤åˆ¶ï¼Œå› æ­¤å¹¿æ’­æ“ä½œå°½å¯èƒ½åœ°ä½œä¸ºè®°å¿†å’Œè®¡ç®—æ•ˆç‡ã€‚</p>
<p>ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­çš„ä»£ç æ¯”ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­çš„ä»£ç æ›´æœ‰æ•ˆï¼Œå› ä¸ºå¹¿æ’­åœ¨ä¹˜æ³•æœŸé—´ç§»åŠ¨è¾ƒå°‘çš„å†…å­˜ï¼ˆbæ˜¯æ ‡é‡è€Œä¸æ˜¯æ•°ç»„ï¼‰ã€‚</p>
<h2 id="ä¸€èˆ¬å¹¿æ’­è§„åˆ™">ä¸€èˆ¬å¹¿æ’­è§„åˆ™</h2>
<p>åœ¨ä¸¤ä¸ªæ•°ç»„ä¸Šè¿è¡Œæ—¶ï¼ŒNumPyå°†å…ƒç´ çš„å½¢çŠ¶è¿›è¡Œæ¯”è¾ƒã€‚å®ƒä»å°¾éšçš„ç»´åº¦å¼€å§‹ï¼Œå¹¶å‘å‰æ¨è¿›ã€‚ä¸¤ä¸ªå°ºå¯¸å…¼å®¹</p>
<ul>
<li>ä»–ä»¬æ˜¯å¹³ç­‰çš„</li>
<li>å…¶ä¸­ä¸€ä¸ªæ˜¯1</li>
</ul>
<p>å¦‚æœä¸æ»¡è¶³è¿™äº›æ¡ä»¶ï¼Œ åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œè¡¨ç¤ºé˜µåˆ—å…·æœ‰ä¸å…¼å®¹çš„å½¢çŠ¶ã€‚ç»“æœæ•°ç»„çš„å¤§å°æ˜¯è¾“å…¥æ•°ç»„çš„æ¯ä¸ªç»´åº¦çš„æœ€å¤§å¤§å°ã€‚<code>ValueError: frames are not aligned</code> æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸€äº›å…·ä½“çš„ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; x &#x3D; np.arange(4)</span><br><span class="line">&gt;&gt;&gt; xx &#x3D; x.reshape(4,1)</span><br><span class="line">&gt;&gt;&gt; y &#x3D; np.ones(5)</span><br><span class="line">&gt;&gt;&gt; z &#x3D; np.ones((3,4))</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; x.shape</span><br><span class="line">(4,)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; y.shape</span><br><span class="line">(5,)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; x + y</span><br><span class="line">&lt;type &#39;exceptions.ValueError&#39;&gt;: shape mismatch: objects cannot be broadcast to a single shape</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; xx.shape</span><br><span class="line">(4, 1)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; y.shape</span><br><span class="line">(5,)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; (xx + y).shape</span><br><span class="line">(4, 5)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; xx + y</span><br><span class="line">array([[ 1.,  1.,  1.,  1.,  1.],</span><br><span class="line">       [ 2.,  2.,  2.,  2.,  2.],</span><br><span class="line">       [ 3.,  3.,  3.,  3.,  3.],</span><br><span class="line">       [ 4.,  4.,  4.,  4.,  4.]])</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; x.shape</span><br><span class="line">(4,)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; z.shape</span><br><span class="line">(3, 4)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; (x + z).shape</span><br><span class="line">(3, 4)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; x + z</span><br><span class="line">array([[ 1.,  2.,  3.,  4.],</span><br><span class="line">       [ 1.,  2.,  3.,  4.],</span><br><span class="line">       [ 1.,  2.,  3.,  4.]])</span><br></pre></td></tr></table></figure>
<p>å¹¿æ’­æä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼æ¥æ‹æ‘„ä¸¤ä¸ªé˜µåˆ—çš„å¤–éƒ¨äº§å“ï¼ˆæˆ–ä»»ä½•å…¶ä»–å¤–éƒ¨æ“ä½œï¼‰ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸¤ä¸ª1-dæ•°ç»„çš„å¤–éƒ¨åŠ æ³•è¿ç®—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; a &#x3D; np.array([0.0, 10.0, 20.0, 30.0])</span><br><span class="line">&gt;&gt;&gt; b &#x3D; np.array([1.0, 2.0, 3.0])</span><br><span class="line">&gt;&gt;&gt; a[:, np.newaxis] + b</span><br><span class="line">array([[  1.,   2.,   3.],</span><br><span class="line">       [ 11.,  12.,  13.],</span><br><span class="line">       [ 21.,  22.,  23.],</span><br><span class="line">       [ 31.,  32.,  33.]])</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œ<code>newaxis</code>ç´¢å¼•æ“ä½œç¬¦æ’å…¥ä¸€ä¸ªæ–°è½´<code>a</code>ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªäºŒç»´<code>4x1</code>æ•°ç»„ã€‚å°†<code>4x1</code>é˜µåˆ—ä¸<code>b</code>å½¢çŠ¶ç»„åˆ<code>(3,)</code>ï¼Œäº§ç”Ÿä¸€ä¸ª<code>4x3</code>æ•°ç»„ã€‚</p>
<p>åŸæ–‡å‡ºå¤„ï¼š <a href="https://ptorch.com/news/38.html">ä½¿ç”¨Numpyå¹¿æ’­å°†ä¸åŒå½¢çŠ¶çš„çŸ©é˜µæˆ–æ•°ç»„åŠ å‡ä¹˜é™¤ - pytorchä¸­æ–‡ç½‘</a></p>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>machine-learning</tag>
        <tag>numpy</tag>
      </tags>
  </entry>
  <entry>
    <title>NumpyçŸ©é˜µæ‹¼æ¥æ•°æ®é›†</title>
    <url>/2018/08/18/numpy-concatenate/</url>
    <content><![CDATA[<p>æœºå™¨å­¦ä¹ ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦è‡ªå·±ç”Ÿæˆå«æœ‰nä¸ªchannelã€sizeç›¸åŒçš„è¾“å…¥æ•°æ®ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦è¿›è¡Œnumpyçš„æ‹¼æ¥æ“ä½œäº†ã€‚</p>
<h3 id="å…ˆçœ‹ç¤ºä¾‹ä»£ç ">å…ˆçœ‹ç¤ºä¾‹ä»£ç ï¼š</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_input</span>(<span class="params">Vn, Vp, nx1, ny1, net_charge</span>):</span></span><br><span class="line">    net_charge = np.array(net_charge)[np.newaxis, :]</span><br><span class="line">    border_cond = np.zeros((<span class="number">1</span>, <span class="built_in">int</span>(ny1), <span class="built_in">int</span>(nx1)))</span><br><span class="line">    border_cond[<span class="number">0</span>, :, <span class="number">0</span>] = Vn</span><br><span class="line">    border_cond[<span class="number">0</span>, :, -<span class="number">1</span>] = Vp</span><br><span class="line">    model_input = np.concatenate((net_charge, border_cond), axis=<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> model_input[np.newaxis, :]</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„net_chargeå’Œborder_condå³ä¸ºéœ€è¦è¿›è¡Œæ‹¼æ¥æ“ä½œçš„ä¸¤ä¸ªmatrixï¼Œåˆ†åˆ«ä½¿ç”¨äº†[np.newaxis,:]å’Œåˆå§‹åŒ–çš„æ—¶å€™å°±å¤šç”Ÿæˆä¸€ç»´çš„æ–¹æ³•ï¼Œæœ€åä½¿ç”¨np.concatenateè¿›è¡Œæ‹¼æ¥ã€‚</p>
<span id="more"></span>
<h3 id="æ•°ç»„æ‹¼æ¥æ–¹æ³•ä¸€">æ•°ç»„æ‹¼æ¥æ–¹æ³•ä¸€</h3>
<p>æ€è·¯ï¼šé¦–å…ˆå°†æ•°ç»„è½¬æˆåˆ—è¡¨ï¼Œç„¶ååˆ©ç”¨åˆ—è¡¨çš„æ‹¼æ¥å‡½æ•°append()ã€extend()ç­‰è¿›è¡Œæ‹¼æ¥å¤„ç†ï¼Œæœ€åå°†åˆ—è¡¨è½¬æˆæ•°ç»„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_list.extend(b_list)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_list</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">15</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.array(a_list)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">5</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">15</span>])</span><br></pre></td></tr></table></figure>
<p>è¯¥æ–¹æ³•åªé€‚ç”¨äºç®€å•çš„ä¸€ç»´æ•°ç»„æ‹¼æ¥ï¼Œç”±äºè½¬æ¢è¿‡ç¨‹å¾ˆè€—æ—¶é—´ï¼Œå¯¹äºå¤§é‡æ•°æ®çš„æ‹¼æ¥ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨ã€‚</p>
<h3 id="æ•°ç»„æ‹¼æ¥æ–¹æ³•äºŒ">æ•°ç»„æ‹¼æ¥æ–¹æ³•äºŒ</h3>
<p>æ€è·¯ï¼šnumpyæä¾›äº†numpy.append(arr, values, axis=None)å‡½æ•°ã€‚å¯¹äºå‚æ•°è§„å®šï¼Œè¦ä¹ˆä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªæ•°å€¼ï¼›è¦ä¹ˆä¸¤ä¸ªæ•°ç»„ï¼Œä¸èƒ½ä¸‰ä¸ªåŠä»¥ä¸Šæ•°ç»„ç›´æ¥appendæ‹¼æ¥ã€‚appendå‡½æ•°è¿”å›çš„å§‹ç»ˆæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.arange(<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.append(a,<span class="number">10</span>)</span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>, <span class="number">10</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=np.array([<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.append(a,b)</span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>, <span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>]) </span><br></pre></td></tr></table></figure>
<p>numpyçš„æ•°ç»„æ²¡æœ‰åŠ¨æ€æ”¹å˜å¤§å°çš„åŠŸèƒ½ï¼Œnumpy.append()å‡½æ•°æ¯æ¬¡éƒ½ä¼šé‡æ–°åˆ†é…æ•´ä¸ªæ•°ç»„ï¼Œå¹¶æŠŠåŸæ¥çš„æ•°ç»„å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚</p>
<h3 id="æ•°ç»„æ‹¼æ¥æ–¹æ³•ä¸‰">æ•°ç»„æ‹¼æ¥æ–¹æ³•ä¸‰</h3>
<p>æ€è·¯ï¼šnumpyæä¾›äº†numpy.concatenate((a1,a2,...), axis=0)å‡½æ•°ã€‚èƒ½å¤Ÿä¸€æ¬¡å®Œæˆå¤šä¸ªæ•°ç»„çš„æ‹¼æ¥ã€‚å…¶ä¸­a1,a2,...æ˜¯æ•°ç»„ç±»å‹çš„å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=np.array([<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=np.array([<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.concatenate((a,b,c),axis=<span class="number">0</span>)  <span class="comment"># é»˜è®¤æƒ…å†µä¸‹ï¼Œaxis=0å¯ä»¥ä¸å†™</span></span><br><span class="line">array([ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>, <span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>, <span class="number">66</span>]) <span class="comment">#å¯¹äºä¸€ç»´æ•°ç»„æ‹¼æ¥ï¼Œaxisçš„å€¼ä¸å½±å“æœ€åçš„ç»“æœ</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.concatenate((a,b),axis=<span class="number">1</span>)  <span class="comment">#axis=1è¡¨ç¤ºå¯¹åº”è¡Œçš„æ•°ç»„è¿›è¡Œæ‹¼æ¥</span></span><br><span class="line">array([[ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>, <span class="number">11</span>, <span class="number">21</span>, <span class="number">31</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>
<h3 id="æ‹¼æ¥æ–¹æ³•æ—¶é—´æ¯”è¾ƒ">æ‹¼æ¥æ–¹æ³•æ—¶é—´æ¯”è¾ƒ</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> time <span class="keyword">import</span> clock <span class="keyword">as</span> now</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.arange(<span class="number">9999</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=np.arange(<span class="number">9999</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time1=now()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=np.append(a,b)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time2=now()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span> time2-time1</span><br><span class="line"><span class="number">28.2316728446</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.arange(<span class="number">9999</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=np.arange(<span class="number">9999</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time1=now()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=np.concatenate((a,b),axis=<span class="number">0</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time2=now()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span> time2-time1</span><br><span class="line"><span class="number">20.3934997107</span></span><br></pre></td></tr></table></figure>
<p>å¯çŸ¥ï¼Œconcatenate()æ•ˆç‡æ›´é«˜ï¼Œé€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ‹¼æ¥</p>
<h3 id="numpyæ·»åŠ æ–°çš„ç»´åº¦newaxis">numpyæ·»åŠ æ–°çš„ç»´åº¦ï¼šnewaxis</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.random.randint(<span class="number">1</span>, <span class="number">8</span>, size=<span class="number">5</span>)</span><br><span class="line">x</span><br><span class="line">Out[<span class="number">48</span>]: array([<span class="number">4</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">5</span>])</span><br><span class="line">x1 = x[np.newaxis, :]</span><br><span class="line">x1</span><br><span class="line">Out[<span class="number">50</span>]: array([[<span class="number">4</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">5</span>]])</span><br><span class="line">x2 = x[:, np.newaxis]</span><br><span class="line">x2</span><br><span class="line">Out[<span class="number">52</span>]: </span><br><span class="line">array([[<span class="number">4</span>],</span><br><span class="line">       [<span class="number">6</span>],</span><br><span class="line">       [<span class="number">6</span>],</span><br><span class="line">       [<span class="number">6</span>],</span><br><span class="line">       [<span class="number">5</span>]])</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>numpy</tag>
      </tags>
  </entry>
  <entry>
    <title>Numpyé«˜ç»´æ•°ç»„è¿ç»­åˆ‡ç‰‡</title>
    <url>/2018/08/11/numpy-high-dim-slicing/</url>
    <content><![CDATA[<h1 id="numpyé«˜ç»´æ•°ç»„è¿ç»­åˆ‡ç‰‡">Numpyé«˜ç»´æ•°ç»„è¿ç»­åˆ‡ç‰‡</h1>
<p>å…ˆå›é¡¾ä¸€ä¸‹åŸºç¡€ï¼š</p>
<h2 id="åˆ›å»ºæ•°ç»„ä¸€èˆ¬5ç§æ–¹å¼åˆ›å»ºæ•°ç»„">åˆ›å»ºæ•°ç»„ï¼šä¸€èˆ¬5ç§æ–¹å¼åˆ›å»ºæ•°ç»„</h2>
<h3 id="ä»å…¶ä»–pythonç»“æ„è½¬å˜å¦‚åˆ—è¡¨å…ƒç¥–">1. ä»å…¶ä»–pythonç»“æ„è½¬å˜ï¼Œå¦‚åˆ—è¡¨ï¼Œå…ƒç¥–</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">0</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">0</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([[<span class="number">1</span>,<span class="number">2.0</span>],[<span class="number">0</span>,<span class="number">0</span>],(<span class="number">1</span>+<span class="number">1j</span>,<span class="number">3.</span>)]) <span class="comment"># note mix of tuple and lists,and types</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([[ <span class="number">1.</span>+<span class="number">0.j</span>, <span class="number">2.</span>+<span class="number">0.j</span>], [ <span class="number">0.</span>+<span class="number">0.j</span>, <span class="number">0.</span>+<span class="number">0.j</span>], [ <span class="number">1.</span>+<span class="number">1.j</span>, <span class="number">3.</span>+<span class="number">0.j</span>]])<span class="number">1234</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h3 id="numpyå†…ç½®çš„æ–¹å¼åˆ›å»ºå¦‚arangeoneszeros">2. numpyå†…ç½®çš„æ–¹å¼åˆ›å»ºï¼Œå¦‚arangeï¼Œonesï¼Œzerosï¼Œ</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange(<span class="number">10</span>)</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange(<span class="number">2</span>, <span class="number">10</span>, dtype=np.<span class="built_in">float</span>)</span><br><span class="line">array([ <span class="number">2.</span>, <span class="number">3.</span>, <span class="number">4.</span>, <span class="number">5.</span>, <span class="number">6.</span>, <span class="number">7.</span>, <span class="number">8.</span>, <span class="number">9.</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange(<span class="number">2</span>, <span class="number">3</span>, <span class="number">0.1</span>)</span><br><span class="line">array([ <span class="number">2.</span> , <span class="number">2.1</span>, <span class="number">2.2</span>, <span class="number">2.3</span>, <span class="number">2.4</span>, <span class="number">2.5</span>, <span class="number">2.6</span>, <span class="number">2.7</span>, <span class="number">2.8</span>, <span class="number">2.9</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linspace(<span class="number">1.</span>, <span class="number">4.</span>, <span class="number">6</span>)</span><br><span class="line">array([ <span class="number">1.</span> , <span class="number">1.6</span>, <span class="number">2.2</span>, <span class="number">2.8</span>, <span class="number">3.4</span>, <span class="number">4.</span> ])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.indices((<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">array([[[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>]], [[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]]])<span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<p>3.ä»ç£ç›˜çš„æ ‡å‡†æ ¼å¼æˆ–å®šåˆ¶æ ¼å¼ 4.ä»ä½¿ç”¨äº†å­—ç¬¦ä¸²æˆ–ç¼“å­˜çš„åŸå§‹æ•°æ®åˆ›å»ºæ•°ç»„ è¿™é‡Œç”¨åˆ°äº†genfromtxt()å‡½æ•°ï¼Œè€Œä¸”è¿˜è¦å¯¼å…¥StringIOï¼Œå†…å®¹å¥½åƒè›®å¤šçš„ï¼Œå¾—å•ç‹¬æ•´ç† 5.ä½¿ç”¨ä¸“é—¨åº“çš„å‡½æ•°åˆ›å»ºï¼Œå¦‚random</p>
<h2 id="æ•°ç»„çš„ç´¢å¼•">æ•°ç»„çš„ç´¢å¼•</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.shape = (<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.reshape(<span class="number">2</span>,<span class="number">5</span>)<span class="comment">#å’Œä¸Šå¥ä¸€æ ·çš„æ•ˆæœï¼Œä½†æ˜¯ä¸Šå¥æ”¹å˜äº†xçš„å½¢çŠ¶ï¼Œæ­¤å¥xä¾ç„¶æ˜¯åŸå…ˆçš„ä¸€ç»´æ•°ç»„ï¼Œ</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[:-<span class="number">7</span>]</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">1</span>:<span class="number">7</span>:<span class="number">2</span>]<span class="comment">#è¿™é‡Œæ³¨æ„ï¼Œpythonçš„listæ˜¯ä¸å…·æœ‰é—´éš”åˆ‡ç‰‡</span></span><br><span class="line">array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = np.arange(<span class="number">35</span>).reshape(<span class="number">5</span>,<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[<span class="number">1</span>:<span class="number">5</span>:<span class="number">2</span>,::<span class="number">3</span>]<span class="comment">#åˆ«å¼„é”™æˆäº†y[1:5:2][::3]</span></span><br><span class="line">array([[ <span class="number">7</span>, <span class="number">10</span>, <span class="number">13</span>],</span><br><span class="line">       [<span class="number">21</span>, <span class="number">24</span>, <span class="number">27</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.arange(<span class="number">10</span>,<span class="number">1</span>,-<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">array([<span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[np.array([<span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">8</span>])]<span class="comment">#ä»¥3,3,1,8ç´¢å¼•ä½çš„æ•°åˆ›å»ºæ•°ç»„</span></span><br><span class="line">array([<span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[np.array([<span class="number">3</span>,<span class="number">3</span>,-<span class="number">3</span>,<span class="number">8</span>])]</span><br><span class="line">array([<span class="number">7</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[np.array([<span class="number">3</span>, <span class="number">3</span>, <span class="number">20</span>, <span class="number">8</span>])]</span><br><span class="line">&lt;<span class="built_in">type</span> â€™exceptions.IndexErrorâ€™&gt;: index <span class="number">20</span> out of bounds <span class="number">0</span>&lt;=index&lt;<span class="number">9</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[np.array([[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">3</span>]])]</span><br><span class="line">array([[<span class="number">9</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">8</span>, <span class="number">7</span>]])</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯æ­£é¢˜ï¼š</p>
<h2 id="å¤šç»´æ•°ç»„çš„ç´¢å¼•">å¤šç»´æ•°ç»„çš„ç´¢å¼•</h2>
<p>å…ˆæ‹¿å‡ºæ¥è‡ªå·±çš„ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># scatGaAs[3, :, 2]</span></span><br><span class="line">scatGaAs[np.ix_([<span class="number">3</span>], np.arange(<span class="number">1</span>, Ek_pts+<span class="number">1</span>), [<span class="number">1</span>])]</span><br></pre></td></tr></table></figure>
<p>ä¹±ä¸ƒå…«ç³Ÿçš„ï¼Œè¿˜æ˜¯ç”»å›¾å§</p>
<figure>
<img src="/2018/08/11/numpy-high-dim-slicing/0069RVTdly1fu5rpz0moij30yu196tfn.jpg" alt="image-20180811015729519"><figcaption aria-hidden="true">image-20180811015729519</figcaption>
</figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[np.array([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>]), np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>])]<span class="comment">#è¿™é‡Œçš„yå°±æ˜¯ä¸Šé¢åˆ›å»ºçš„5*7çš„äºŒç»´æ•°ç»„ï¼Œè¿™é‡Œå¯ä»¥ç†è§£æˆxåæ ‡0,2,4ï¼Œyåæ ‡0,1,2çš„ä¸‰ä¸ªæ•°</span></span><br><span class="line">array([ <span class="number">0</span>, <span class="number">15</span>, <span class="number">30</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[np.array([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>]), np.array([<span class="number">0</span>,<span class="number">1</span>])]</span><br><span class="line">&lt;<span class="built_in">type</span> â€™exceptions.ValueErrorâ€™&gt;: shape mismatch: objects cannot be broadcast to a single shape</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[np.array([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>]),<span class="number">0</span>:<span class="number">1</span>]</span><br><span class="line">array([[ <span class="number">0</span>],</span><br><span class="line">       [<span class="number">14</span>],</span><br><span class="line">       [<span class="number">28</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[np.array([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>]), <span class="number">1</span>]</span><br><span class="line">array([ <span class="number">1</span>, <span class="number">15</span>, <span class="number">29</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[np.array([<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>])]<span class="comment">#å–0è¡Œï¼Œ2è¡Œï¼Œ4è¡Œ</span></span><br><span class="line">array([[ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">[<span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>],</span><br><span class="line">[<span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>]])<span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>
<p>å¸ƒå°”ç±»å‹çš„ç´¢å¼•</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = y&gt;<span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[b]</span><br><span class="line">array([<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[:,<span class="number">5</span>] <span class="comment"># use a 1-D boolean whose first dim agrees with the first dim of y</span></span><br><span class="line">array([<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">True</span>, <span class="literal">True</span>], dtype=<span class="built_in">bool</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[b[:,<span class="number">5</span>]]</span><br><span class="line">array([[<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>],</span><br><span class="line">[<span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.arange(<span class="number">30</span>).reshape(<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">array([[[ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">[ <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">[<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>]],</span><br><span class="line">[[<span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>],</span><br><span class="line">[<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>],</span><br><span class="line">[<span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([[<span class="literal">True</span>, <span class="literal">True</span>, <span class="literal">False</span>], [<span class="literal">False</span>, <span class="literal">True</span>, <span class="literal">True</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[b]</span><br><span class="line">array([[ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">[ <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">[<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>],</span><br><span class="line">[<span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[b[:,<span class="number">5</span>],<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">array([[<span class="number">22</span>, <span class="number">23</span>],</span><br><span class="line">[<span class="number">29</span>, <span class="number">30</span>]])<span class="number">12345678910111213141516171819202122232425</span></span><br></pre></td></tr></table></figure>
<p>å†æ‹¿å‡ºæ¥å®˜æ–¹æ–‡æ¡£ï¼š</p>
<h2 id="basic-slicing-and-indexing">Basic Slicing and Indexing</h2>
<p>Basic slicing extends Pythonâ€™s basic concept of slicing to N dimensions. Basic slicing occurs when <em>obj</em> is a <a href="https://docs.python.org/dev/library/functions.html#slice"><code>slice</code></a> object (constructed by <code>start:stop:step</code> notation inside of brackets), an integer, or a tuple of slice objects and integers. <code>Ellipsis</code> and <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#numpy.newaxis"><code>newaxis</code></a> objects can be interspersed with these as well. In order to remain backward compatible with a common usage in Numeric, basic slicing is also initiated if the selection object is any non-ndarray sequence (such as a <a href="https://docs.python.org/dev/library/stdtypes.html#list"><code>list</code></a>) containing <a href="https://docs.python.org/dev/library/functions.html#slice"><code>slice</code></a> objects, the <code>Ellipsis</code> object, or the <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#numpy.newaxis"><code>newaxis</code></a> object, but not for integer arrays or other embedded sequences.</p>
<p>All arrays generated by basic slicing are always <a href="https://docs.scipy.org/doc/numpy-1.13.0/glossary.html#term-view">views</a> of the original array.</p>
<p>The standard rules of sequence slicing apply to basic slicing on a per-dimension basis (including using a step index). Some useful concepts to remember include:</p>
<ul>
<li><p>The basic slice syntax is <code>i:j:k</code> where <em>i</em> is the starting index, <em>j</em> is the stopping index, and <em>k</em> is the step. This selects the <em>m</em> elements (in the corresponding dimension) with index values <em>i</em>, <em>i + k</em>, ..., <em>i + (m - 1) k</em> where and <em>q</em> and <em>r</em> are the quotient and remainder obtained by dividing <em>j - i</em> by <em>k</em>: <em>j - i = q k + r</em>, so that <em>i + (m - 1) k &lt; j</em>.</p>
<p>Example</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">1</span>:<span class="number">7</span>:<span class="number">2</span>]</span><br><span class="line">array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>])</span><br></pre></td></tr></table></figure></li>
<li><p>Negative <em>i</em> and <em>j</em> are interpreted as <em>n + i</em> and <em>n + j</em> where <em>n</em> is the number of elements in the corresponding dimension. Negative <em>k</em> makes stepping go towards smaller indices.</p>
<p>Example</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[-<span class="number">2</span>:<span class="number">10</span>]</span><br><span class="line">array([<span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[-<span class="number">3</span>:<span class="number">3</span>:-<span class="number">1</span>]</span><br><span class="line">array([<span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure></li>
<li><p>Assume <em>n</em> is the number of elements in the dimension being sliced. Then, if <em>i</em> is not given it defaults to 0 for <em>k &gt; 0</em> and <em>n - 1</em> for <em>k &lt; 0</em> . If <em>j</em> is not given it defaults to <em>n</em> for <em>k &gt; 0</em> and <em>-n-1</em> for <em>k &lt; 0</em> . If <em>k</em> is not given it defaults to 1. Note that <code>::</code> is the same as <code>:</code> and means select all indices along this axis.</p>
<p>Example</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">5</span>:]</span><br><span class="line">array([<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure></li>
<li><p>If the number of objects in the selection tuple is less than <em>N</em> , then <code>:</code> is assumed for any subsequent dimensions.</p>
<p>Example</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([[[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>]], [[<span class="number">4</span>],[<span class="number">5</span>],[<span class="number">6</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.shape</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">1</span>:<span class="number">2</span>]</span><br><span class="line">array([[[<span class="number">4</span>],</span><br><span class="line">        [<span class="number">5</span>],</span><br><span class="line">        [<span class="number">6</span>]]])</span><br></pre></td></tr></table></figure></li>
<li><p><code>Ellipsis</code> expand to the number of <code>:</code> objects needed to make a selection tuple of the same length as <code>x.ndim</code>. There may only be a single ellipsis present.</p>
<p>Example</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[...,<span class="number">0</span>]</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br></pre></td></tr></table></figure></li>
<li><p>Each <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#numpy.newaxis"><code>newaxis</code></a> object in the selection tuple serves to expand the dimensions of the resulting selection by one unit-length dimension. The added dimension is the position of the <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#numpy.newaxis"><code>newaxis</code></a> object in the selection tuple.</p>
<p>Example</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[:,np.newaxis,:,:].shape</span><br><span class="line">(<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>An integer, <em>i</em>, returns the same values as <code>i:i+1</code> <strong>except</strong> the dimensionality of the returned object is reduced by 1. In particular, a selection tuple with the <em>p</em>-th element an integer (and all other entries <code>:</code>) returns the corresponding sub-array with dimension <em>N - 1</em>. If <em>N = 1</em> then the returned object is an array scalar. These objects are explained in <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.scalars.html#arrays-scalars">Scalars</a>.</p></li>
<li><p>If the selection tuple has all entries <code>:</code> except the <em>p</em>-th entry which is a slice object <code>i:j:k</code>, then the returned array has dimension <em>N</em> formed by concatenating the sub-arrays returned by integer indexing of elements <em>i</em>, <em>i+k</em>, ..., <em>i + (m - 1) k &lt; j</em>,</p></li>
<li><p>Basic slicing with more than one non-<code>:</code> entry in the slicing tuple, acts like repeated application of slicing using a single non-<code>:</code> entry, where the non-<code>:</code> entries are successively taken (with all other non-<code>:</code> entries replaced by <code>:</code>). Thus, <code>x[ind1,...,ind2,:]</code> acts like <code>x[ind1][...,ind2,:]</code> under basic slicing.</p>
<p>Warning</p>
<p>The above is <strong>not</strong> true for advanced indexing.</p></li>
<li><p>You may use slicing to set values in the array, but (unlike lists) you can never grow the array. The size of the value to be set in<code>x[obj] = value</code> must be (broadcastable) to the same shape as <code>x[obj]</code>.</p></li>
</ul>
<p>Note</p>
<p>Remember that a slicing tuple can always be constructed as <em>obj</em> and used in the <code>x[obj]</code> notation. Slice objects can be used in the construction in place of the <code>[start:stop:step]</code> notation. For example, <code>x[1:10:5,::-1]</code> can also be implemented as <code>obj = (slice(1,10,5), slice(None,None,-1)); x[obj]</code> . This can be useful for constructing generic code that works on arrays of arbitrary dimension.</p>
<ul>
<li><p><code>numpy.``newaxis</code></p>
<p>The <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#numpy.newaxis"><code>newaxis</code></a> object can be used in all slicing operations to create an axis of length one. <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#numpy.newaxis"><code>newaxis</code></a> is an alias for â€˜Noneâ€™, and â€˜Noneâ€™ can be used in place of this with the same result.</p></li>
</ul>
<h2 id="advanced-indexing">Advanced Indexing</h2>
<p>Advanced indexing is triggered when the selection object, <em>obj</em>, is a non-tuple sequence object, an <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html#numpy.ndarray"><code>ndarray</code></a> (of data type integer or bool), or a tuple with at least one sequence object or ndarray (of data type integer or bool). There are two types of advanced indexing: integer and Boolean.</p>
<p>Advanced indexing always returns a <em>copy</em> of the data (contrast with basic slicing that returns a <a href="https://docs.scipy.org/doc/numpy-1.13.0/glossary.html#term-view">view</a>).</p>
<p>Warning</p>
<p>The definition of advanced indexing means that <code>x[(1,2,3),]</code> is fundamentally different than <code>x[(1,2,3)]</code>. The latter is equivalent to <code>x[1,2,3]</code> which will trigger basic selection while the former will trigger advanced indexing. Be sure to understand why this occurs.</p>
<p>Also recognize that <code>x[[1,2,3]]</code> will trigger advanced indexing, whereas <code>x[[1,2,slice(None)]]</code> will trigger basic slicing.</p>
<h3 id="integer-array-indexing">Integer array indexing</h3>
<p>Integer array indexing allows selection of arbitrary items in the array based on their <em>N</em>-dimensional index. Each integer array represents a number of indexes into that dimension.</p>
<h4 id="purely-integer-array-indexing">Purely integer array indexing</h4>
<p>When the index consists of as many integer arrays as the array being indexed has dimensions, the indexing is straight forward, but different from slicing.</p>
<p>Advanced indexes always are <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/ufuncs.html#ufuncs-broadcasting">broadcast</a> and iterated as <em>one</em>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">result[i_1, ..., i_M] == x[ind_1[i_1, ..., i_M], ind_2[i_1, ..., i_M],</span><br><span class="line">                           ..., ind_N[i_1, ..., i_M]]</span><br></pre></td></tr></table></figure>
<p>Note that the result shape is identical to the (broadcast) indexing array shapes <code>ind_1, ..., ind_N</code>.</p>
<p>Example</p>
<p>From each row, a specific element should be selected. The row index is just <code>[0, 1, 2]</code> and the column index specifies the element to choose for the corresponding row, here <code>[0, 1, 0]</code>. Using both together the task can be solved using advanced indexing:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]]</span><br><span class="line">array([<span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br></pre></td></tr></table></figure>
<p>To achieve a behaviour similar to the basic slicing above, broadcasting can be used. The function <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ix_.html#numpy.ix_"><code>ix_</code></a> can help with this broadcasting. This is best understood with an example.</p>
<p>Example</p>
<p>From a 4x3 array the corner elements should be selected using advanced indexing. Thus all elements for which the column is one of <code>[0, 2]</code>and the row is one of <code>[0, 3]</code> need to be selected. To use advanced indexing one needs to select all elements <em>explicitly</em>. Using the method explained previously one could write:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],</span><br><span class="line"><span class="meta">... </span>           [ <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],</span><br><span class="line"><span class="meta">... </span>           [ <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],</span><br><span class="line"><span class="meta">... </span>           [ <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rows = np.array([[<span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line"><span class="meta">... </span>                 [<span class="number">3</span>, <span class="number">3</span>]], dtype=np.intp)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>columns = np.array([[<span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line"><span class="meta">... </span>                    [<span class="number">0</span>, <span class="number">2</span>]], dtype=np.intp)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[rows, columns]</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">       [ <span class="number">9</span>, <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>
<p>However, since the indexing arrays above just repeat themselves, broadcasting can be used (compare operations such as<code>rows[:, np.newaxis] + columns</code>) to simplify this:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>rows = np.array([<span class="number">0</span>, <span class="number">3</span>], dtype=np.intp)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>columns = np.array([<span class="number">0</span>, <span class="number">2</span>], dtype=np.intp)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rows[:, np.newaxis]</span><br><span class="line">array([[<span class="number">0</span>],</span><br><span class="line">       [<span class="number">3</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[rows[:, np.newaxis], columns]</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">       [ <span class="number">9</span>, <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>
<p>This broadcasting can also be achieved using the function <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ix_.html#numpy.ix_"><code>ix_</code></a>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[np.ix_(rows, columns)]</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">       [ <span class="number">9</span>, <span class="number">11</span>]])</span><br></pre></td></tr></table></figure>
<p>Note that without the <code>np.ix_</code> call, only the diagonal elements would be selected, as was used in the previous example. This difference is the most important thing to remember about indexing with multiple advanced indexes.</p>
<h4 id="combining-advanced-and-basic-indexing">Combining advanced and basic indexing</h4>
<p>When there is at least one slice (<code>:</code>), ellipsis (<code>...</code>) or <code>np.newaxis</code> in the index (or the array has more dimensions than there are advanced indexes), then the behaviour can be more complicated. It is like concatenating the indexing result for each advanced index element</p>
<p>In the simplest case, there is only a <em>single</em> advanced index. A single advanced index can for example replace a slice and the result array will be the same, however, it is a copy and may have a different memory layout. A slice is preferable when it is possible.</p>
<p>Example</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">1</span>:<span class="number">2</span>, <span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">array([[<span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">1</span>:<span class="number">2</span>, [<span class="number">1</span>, <span class="number">2</span>]]</span><br><span class="line">array([[<span class="number">4</span>, <span class="number">5</span>]])</span><br></pre></td></tr></table></figure>
<p>The easiest way to understand the situation may be to think in terms of the result shape. There are two parts to the indexing operation, the subspace defined by the basic indexing (excluding integers) and the subspace from the advanced indexing part. Two cases of index combination need to be distinguished:</p>
<ul>
<li>The advanced indexes are separated by a slice, ellipsis or newaxis. For example <code>x[arr1, :, arr2]</code>.</li>
<li>The advanced indexes are all next to each other. For example <code>x[..., arr1, arr2, :]</code> but <em>not</em> <code>x[arr1, :, 1]</code> since <code>1</code> is an advanced index in this regard.</li>
</ul>
<p>In the first case, the dimensions resulting from the advanced indexing operation come first in the result array, and the subspace dimensions after that. In the second case, the dimensions from the advanced indexing operations are inserted into the result array at the same spot as they were in the initial array (the latter logic is what makes simple advanced indexing behave just like slicing).</p>
<p>Example</p>
<p>Suppose <code>x.shape</code> is (10,20,30) and <code>ind</code> is a (2,3,4)-shaped indexing <code>intp</code> array, then <code>result = x[...,ind,:]</code> has shape (10,2,3,4,30) because the (20,)-shaped subspace has been replaced with a (2,3,4)-shaped broadcasted indexing subspace. If we let <em>i, j, k</em> loop over the (2,3,4)-shaped subspace then <code>result[...,i,j,k,:] = x[...,ind[i,j,k],:]</code>. This example produces the same result as <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.take.html#numpy.ndarray.take"><code>x.take(ind, axis=-2)</code></a>.</p>
<p>Example</p>
<p>Let <code>x.shape</code> be (10,20,30,40,50) and suppose <code>ind_1</code> and <code>ind_2</code> can be broadcast to the shape (2,3,4). Then <code>x[:,ind_1,ind_2]</code> has shape (10,2,3,4,40,50) because the (20,30)-shaped subspace from X has been replaced with the (2,3,4) subspace from the indices. However,<code>x[:,ind_1,:,ind_2]</code> has shape (2,3,4,10,30,50) because there is no unambiguous place to drop in the indexing subspace, thus it is tacked-on to the beginning. It is always possible to use <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.transpose.html#numpy.ndarray.transpose"><code>.transpose()</code></a> to move the subspace anywhere desired. Note that this example cannot be replicated using <a href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.take.html#numpy.take"><code>take</code></a>.</p>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>numpy</tag>
      </tags>
  </entry>
  <entry>
    <title>ç›®æ ‡æ£€æµ‹å­¦ä¹ ç¬”è®°</title>
    <url>/2019/02/16/obj-det/</url>
    <content><![CDATA[<h2 id="pre-knowledge">Pre Knowledge</h2>
<h3 id="anchors">Anchors</h3>
<p>æåˆ°RPNç½‘ç»œï¼Œå°±ä¸èƒ½ä¸è¯´anchorsã€‚æ‰€è°“anchorsï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ç»„ä½œç”¨åœ¨æ»‘åŠ¨çª—å£ä¸Šçš„ä¸åŒå¤§å°ã€ä¸åŒå½¢çŠ¶çš„æ£€æµ‹æ¡†ã€‚å®é™…ä¸Šï¼Œè®ºæ–‡é€šè¿‡anchorså¼•å…¥äº†æ£€æµ‹ä¸­å¸¸ç”¨åˆ°çš„å¤šå°ºåº¦æ–¹æ³•ã€‚</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlolk5gj30qy0gumyd.jpg"></p>
<span id="more"></span>
<p>é‚£ä¹ˆè¿™9ä¸ªanchorsæ˜¯åšä»€ä¹ˆçš„å‘¢ï¼Ÿå€Ÿç”¨Faster RCNNè®ºæ–‡ä¸­çš„åŸå›¾ï¼Œéå†Conv layersè®¡ç®—è·å¾—çš„feature mapsï¼Œä¸ºæ¯ä¸€ä¸ªç‚¹éƒ½é…å¤‡è¿™9ç§anchorsä½œä¸ºåˆå§‹çš„æ£€æµ‹æ¡†ã€‚è¿™æ ·åšè·å¾—æ£€æµ‹æ¡†å¾ˆä¸å‡†ç¡®ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œåé¢è¿˜æœ‰2æ¬¡bounding box regressionå¯ä»¥ä¿®æ­£æ£€æµ‹æ¡†ä½ç½®ã€‚</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlpxr9gj30qy0gumyd.jpg"></p>
<p>è§£é‡Šä¸€ä¸‹ä¸Šé¢è¿™å¼ å›¾çš„æ•°å­—ã€‚</p>
<ol type="1">
<li>åœ¨åŸæ–‡ä¸­ä½¿ç”¨çš„æ˜¯ZF modelä¸­ï¼Œå…¶Conv Layersä¸­æœ€åçš„conv5å±‚num_output=256ï¼Œå¯¹åº”ç”Ÿæˆ256å¼ ç‰¹å¾å›¾ï¼Œæ‰€ä»¥ç›¸å½“äºfeature mapæ¯ä¸ªç‚¹éƒ½æ˜¯256-dimensions</li>
<li>åœ¨conv5ä¹‹åï¼Œåšäº†rpn_conv/3x3å·ç§¯ä¸”num_output=256ï¼Œç›¸å½“äºæ¯ä¸ªç‚¹åˆèåˆäº†å‘¨å›´3x3çš„ç©ºé—´ä¿¡æ¯ï¼ˆçŒœæµ‹è¿™æ ·åšä¹Ÿè®¸æ›´é²æ£’ï¼Ÿåæ­£æˆ‘æ²¡æµ‹è¯•ï¼‰ï¼ŒåŒæ—¶256-dä¸å˜ï¼ˆå¦‚å›¾4å’Œå›¾7ä¸­çš„çº¢æ¡†ï¼‰</li>
<li>å‡è®¾åœ¨conv5 feature mapä¸­æ¯ä¸ªç‚¹ä¸Šæœ‰kä¸ªanchorï¼ˆé»˜è®¤k=9ï¼‰ï¼Œè€Œæ¯ä¸ªanhcorè¦åˆ†foregroundå’Œbackgroundï¼Œæ‰€ä»¥æ¯ä¸ªç‚¹ç”±256d featureè½¬åŒ–ä¸ºcls=2k scoresï¼›è€Œæ¯ä¸ªanchoréƒ½æœ‰[x, y, w, h]å¯¹åº”4ä¸ªåç§»é‡ï¼Œæ‰€ä»¥reg=4k coordinates</li>
<li>è¡¥å……ä¸€ç‚¹ï¼Œå…¨éƒ¨anchorsæ‹¿å»è®­ç»ƒå¤ªå¤šäº†ï¼Œè®­ç»ƒç¨‹åºä¼šåœ¨åˆé€‚çš„anchorsä¸­<strong>éšæœº</strong>é€‰å–128ä¸ªpostive anchors+128ä¸ªnegative anchorsè¿›è¡Œè®­ç»ƒã€‚</li>
</ol>
<p><strong>å…¶å®RPNæœ€ç»ˆå°±æ˜¯åœ¨åŸå›¾å°ºåº¦ä¸Šï¼Œè®¾ç½®äº†å¯†å¯†éº»éº»çš„å€™é€‰Anchorã€‚ç„¶åç”¨cnnå»åˆ¤æ–­å“ªäº›Anchoræ˜¯é‡Œé¢æœ‰ç›®æ ‡çš„foreground anchorï¼Œå“ªäº›æ˜¯æ²¡ç›®æ ‡çš„backgroudã€‚æ‰€ä»¥ï¼Œä»…ä»…æ˜¯ä¸ªäºŒåˆ†ç±»è€Œå·²ï¼</strong></p>
<p>é‚£ä¹ˆAnchorä¸€å…±æœ‰å¤šå°‘ä¸ªï¼ŸåŸå›¾800x600ï¼ŒVGGä¸‹é‡‡æ ·16å€ï¼Œfeature mapæ¯ä¸ªç‚¹è®¾ç½®9ä¸ªAnchorï¼Œæ‰€ä»¥ï¼š <img src="/2019/02/16/obj-det/equation?tex=ceil%28800%2F16%29+%5Ctimes+ceil%28600%2F16%29+%5Ctimes+9%3D50%5Ctimes38+%5Ctimes9%3D17100"></p>
<p>å…¶ä¸­ceil()è¡¨ç¤ºå‘ä¸Šå–æ•´ï¼Œæ˜¯å› ä¸ºVGGè¾“å‡ºçš„feature map size= 50*38ã€‚ <img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm1gkdwj30zi0lq79o.jpg"></p>
<h3 id="region-proposal-networksrpn">Region Proposal Networks(RPN)</h3>
<blockquote>
<p>A Region Proposal Network (RPN) takes an image (of any size) as input and outputs a set of rectangular object proposals, each with an objectness score.</p>
</blockquote>
<figure>
<img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm49qjrj311609y0tp.jpg" alt="Network Structure"><figcaption aria-hidden="true">Network Structure</figcaption>
</figure>
<figure>
<img src="/2019/02/16/obj-det/006tNbRwgy1fxvxstswxlj30qy0guq3j.jpg" alt="Paper Image"><figcaption aria-hidden="true">Paper Image</figcaption>
</figure>
<ul>
<li><strong>Input:</strong> ä¸€ä¸ªä»»æ„å½¢çŠ¶çš„å›¾åƒ</li>
<li><strong>Output:</strong> ä¸€ç³»åˆ—æ¡†ä½äº†å¯èƒ½ç›®æ ‡ç‰©ä½“çš„çŸ©å½¢ï¼Œæ¯ä¸ªçŸ©å½¢åŒæ—¶é…ä¸€ä¸ªç½®ä¿¡åˆ†æ•°</li>
<li>è¿™ä¸ªé¦–éƒ¨çš„3x3çš„å°å·ç§¯æ ¸æ˜¯ä¸€åˆ‡çš„å¼€å§‹ã€‚è¿™ä¸ªå·ç§¯æ ¸ä¼šæŠŠ3x3x(256 or 512, deepth or channel, depends on the feature extracting network, we take 256 here)çš„æ•°æ®å·ç§¯æˆä¸€ä¸ª1x1x256çš„ä½ç»´listï¼Œä¾›åç»­å·ç§¯ä½¿ç”¨ã€‚</li>
<li>3x3å°å·ç§¯æ ¸åé¢è·Ÿç€ä¸¤ä¸ªæ›´å°çš„1x1çš„å·ç§¯æ ¸ã€‚è¿™ä¸¤ä¸ª1x1çš„å°å·ç§¯æ ¸çš„åŠŸèƒ½æ˜¯ç»´åº¦å˜æ¢ï¼Œä½œç”¨åˆ†åˆ«æ˜¯åšåˆ†ç±»ä»»åŠ¡å’Œbounding boxä½ç½®çš„å›å½’ï¼Œè¿™ä¸¤è€…çš„ç»´åº¦åˆ†åˆ«ä¸º(2kå’Œ4k)ã€‚ä¹‹æ‰€ä»¥åˆ†ç±»æœ‰2kæ˜¯ç”±äºè¿™é‡ŒæŠŠå‰æ™¯å’ŒèƒŒæ™¯çš„æ¦‚ç‡åˆ†åˆ«è¿›è¡Œäº†é¢„æµ‹ï¼Œè€Œæ¯ä¸ªä¸Šä¸€æ­¥å·ç§¯å‡ºæ¥çš„ä½ç»´listéƒ½ä¼šå¯¹åº”æœ‰kä¸ªanchorã€‚Bounding boxå›å½’æ¯ä¸ªanchoréœ€è¦å››ä¸ªå€¼çš„åŸå› æ˜¯å…¶å®è¿™é‡Œçš„å›å½’è¿›è¡Œçš„æ˜¯ä¸€ä¸ªçº¿æ€§å˜æ¢ï¼ˆxã€yæ–¹å‘çš„scaleä¸å¹³ç§»ï¼‰ï¼Œåˆšå¥½éœ€è¦å››ä¸ªå‚æ•°ã€‚å…·ä½“å¦‚ä¸‹ï¼š <img src="/2019/02/16/obj-det/006tNbRwgy1fxvykq0qalj31fu0bumyi.jpg"></li>
<li>Lossé—®é¢˜ï¼šRPNå®è´¨ä¸Šæ˜¯ä¸€ä¸ªåŒæ—¶å…·æœ‰åˆ†ç±»ä¸å›å½’ä¸¤ç§åŠŸèƒ½çš„Multi-Taskä»»åŠ¡ï¼Œæ‰€ä»¥å…¶Lossä¹Ÿæ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ï¼š <img src="/2019/02/16/obj-det/006tNbRwgy1fxvyqnx4pvj30yu046mx6.jpg"></li>
</ul>
<h4 id="faq">FAQ</h4>
<p><strong>Q1:</strong> è¿™é‡Œçš„1x1å·ç§¯æ ¸ä¸æ˜¯åªå¯¹ä¸€ä¸ª256å…ƒç´ çš„arrayåšäº†ä¸€ä¸ªç»´åº¦å˜æ¢å—ï¼Œå’Œanchoræ€ä¹ˆæ‰¯ä¸Šå…³ç³»çš„ï¼Ÿ <strong>A1:</strong> å…¶å®anchorçš„åˆ†ç±»ï¼ˆå‰èƒŒæ™¯ï¼‰ä¸ä½ç½®å›å½’æ˜¯ä½œä¸ºè¿™äº›è¾“å‡ºçš„labelå‡ºç°çš„ï¼Œå³è¿™ä¸ª1x1çš„å·ç§¯æ ¸ç¡®å®åªæ˜¯ä¸€ä¸ªå•çº¯çš„ç»´åº¦å˜æ¢ï¼Œä½œç”¨å…¶å®å’Œå…¨è¿æ¥å±‚æ˜¯ä¸€è‡´çš„ï¼Œåªæ˜¯è®­ç»ƒæ—¶å€™è¾“å‡ºçš„å€¼çš„labelæ˜¯ç”¨Anchorçš„å‰èƒŒæ™¯ä»¥åŠä½ç½®æ˜ å°„æ¥æ ‡æ³¨çš„ã€‚ <strong>Q2:</strong> ä¸ºä»€ä¹ˆå‰èƒŒæ™¯åˆ†ç±»éœ€è¦ç”¨ä¸¤ä¸ªå€¼è¿›è¡Œæ ‡æ³¨ï¼Œä¸€ä¸ªä¸æ˜¯å·²ç»è¶³å¤Ÿäº†å—ï¼Ÿ <strong>A2:</strong> å› ä¸ºæ ‡æ³¨çš„å¹¶ä¸æ˜¯ç›´æ¥çš„IoU(Intersection-over-Union)ï¼Œ è€Œæ˜¯ä¸¤ä¸ªbinaryçš„æ•°å­—ï¼ŒPos:0/1 Neg:0/1ï¼›æ­¤å¤–è¿˜è¦è€ƒè™‘çš„æ˜¯é™¤äº†Poså’ŒNegä¸¤ç±»ï¼Œè¿˜æœ‰æ—¢ä¸Posä¹Ÿä¸Negçš„æ— ç”¨ç±»åˆ«ï¼Œè¿™ç§ç±»åˆ«çš„Poså’ŒNegéƒ½æ˜¯0ã€‚è¯¦è§ï¼š <img src="/2019/02/16/obj-det/006tNbRwgy1fxvyo307inj31fu0ae75s.jpg"></p>
<h3 id="feature-pyramid-network-fpn">Feature Pyramid Network (<strong>FPN</strong>)</h3>
<p><strong>ç†è§£ï¼šé€šè¿‡æ•è·ç‰¹å¾æå–ä¸­å„ä¸ªæ± åŒ–å±‚é—´çš„ç‰¹å¾å›¾ï¼ŒåŠ ä¸Šå‹ç¼©ååˆé€šè¿‡æ’å€¼å¾—åˆ°åŒæ ·sizeçš„ç‰¹å¾å›¾çš„æ–¹æ³•å¾—åˆ°å¯ä¾›åç»­å¤„ç†çš„å¤šç§å°ºå¯¸çš„ç‰¹å¾å›¾ï¼Œä»è€Œä½¿å¾—ç½‘ç»œå¯ä»¥æå–åˆ°åŒä¸€å¼ å›¾ç‰‡ä¸Šå„ç§å°ºåº¦çš„ç›®æ ‡</strong></p>
<p>å¤šå°ºåº¦æ£€æµ‹åœ¨ç›®æ ‡æ£€æµ‹ä¸­å˜å¾—è¶Šæ¥è¶Šé‡è¦ï¼Œå¯¹å°ç›®æ ‡çš„æ£€æµ‹å°¤å…¶å¦‚æ­¤ã€‚ç°åœ¨ä¸»æµçš„ç›®æ ‡æ£€æµ‹æ–¹æ³•å¾ˆå¤šéƒ½ç”¨åˆ°äº†å¤šå°ºåº¦çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬æœ€æ–°çš„yolo v3ã€‚Feature Pyramid Network (<strong>FPN</strong>)åˆ™æ˜¯ä¸€ç§ç²¾å¿ƒè®¾è®¡çš„å¤šå°ºåº¦æ£€æµ‹æ–¹æ³•ï¼Œä¸‹é¢å°±å¼€å§‹ç®€è¦ä»‹ç»FPNã€‚</p>
<p>FPNç»“æ„ä¸­åŒ…æ‹¬è‡ªä¸‹è€Œä¸Šï¼Œè‡ªä¸Šè€Œä¸‹å’Œæ¨ªå‘è¿æ¥ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿™ç§ç»“æ„å¯ä»¥å°†å„ä¸ªå±‚çº§çš„ç‰¹å¾è¿›è¡Œèåˆï¼Œä½¿å…¶åŒæ—¶å…·æœ‰å¼ºè¯­ä¹‰ä¿¡æ¯å’Œå¼ºç©ºé—´ä¿¡æ¯ï¼Œåœ¨ç‰¹å¾å­¦ä¹ ä¸­ç®—æ˜¯ä¸€æŠŠåˆ©å™¨äº†ã€‚</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlrh5lej30so0p0jtd.jpg"></p>
<p>FPNå®é™…ä¸Šæ˜¯ä¸€ç§é€šç”¨æ¶æ„ï¼Œå¯ä»¥ç»“åˆå„ç§éª¨æ¶ç½‘ç»œä½¿ç”¨ï¼Œæ¯”å¦‚VGGï¼ŒResNetç­‰ã€‚Mask RCNNæ–‡ç« ä¸­ä½¿ç”¨äº†ResNNet-FPNç½‘ç»œç»“æ„ã€‚å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlwq9k2j31060p8wgx.jpg"></p>
<p>ResNet-FPNåŒ…æ‹¬3ä¸ªéƒ¨åˆ†ï¼Œè‡ªä¸‹è€Œä¸Šè¿æ¥ï¼Œè‡ªä¸Šè€Œä¸‹è¿æ¥å’Œæ¨ªå‘è¿æ¥ã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»ã€‚</p>
<p><strong>è‡ªä¸‹è€Œä¸Š</strong></p>
<p>ä»ä¸‹åˆ°ä¸Šè·¯å¾„ã€‚å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼Œå…¶å®å°±æ˜¯ç®€å•çš„ç‰¹å¾æå–è¿‡ç¨‹ï¼Œå’Œä¼ ç»Ÿçš„æ²¡æœ‰åŒºåˆ«ã€‚å…·ä½“å°±æ˜¯å°†ResNetä½œä¸ºéª¨æ¶ç½‘ç»œï¼Œæ ¹æ®feature mapçš„å¤§å°åˆ†ä¸º5ä¸ªstageã€‚stage2ï¼Œstage3ï¼Œstage4å’Œstage5å„è‡ªæœ€åä¸€å±‚è¾“å‡ºconv2ï¼Œconv3ï¼Œconv4å’Œconv5åˆ†åˆ«å®šä¹‰ä¸º <img src="/2019/02/16/obj-det/equation?tex=C_2%2CC_3%2CC_4%2CC_5" alt="C_2,C_3,C_4,C_5"> ï¼Œä»–ä»¬ç›¸å¯¹äºåŸå§‹å›¾ç‰‡çš„strideæ˜¯{4,8,16,32}ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè€ƒè™‘åˆ°å†…å­˜åŸå› ï¼Œstage1çš„conv1å¹¶æ²¡æœ‰ä½¿ç”¨ã€‚</p>
<p><strong>è‡ªä¸Šè€Œä¸‹å’Œæ¨ªå‘è¿æ¥</strong></p>
<p>è‡ªä¸Šè€Œä¸‹æ˜¯ä»æœ€é«˜å±‚å¼€å§‹è¿›è¡Œä¸Šé‡‡æ ·ï¼Œè¿™é‡Œçš„ä¸Šé‡‡æ ·ç›´æ¥ä½¿ç”¨çš„æ˜¯æœ€è¿‘é‚»ä¸Šé‡‡æ ·ï¼Œè€Œä¸æ˜¯ä½¿ç”¨åå·ç§¯æ“ä½œï¼Œä¸€æ–¹é¢ç®€å•ï¼Œå¦å¤–ä¸€æ–¹é¢å¯ä»¥å‡å°‘è®­ç»ƒå‚æ•°ã€‚æ¨ªå‘è¿æ¥åˆ™æ˜¯å°†ä¸Šé‡‡æ ·çš„ç»“æœå’Œè‡ªåº•å‘ä¸Šç”Ÿæˆçš„ç›¸åŒå¤§å°çš„feature mapè¿›è¡Œèåˆã€‚å…·ä½“å°±æ˜¯å¯¹ <img src="/2019/02/16/obj-det/equation?tex=C_2%2CC_3%2CC_4%2CC_5" alt="C_2,C_3,C_4,C_5"> ä¸­çš„æ¯ä¸€å±‚ç»è¿‡ä¸€ä¸ªconv 1x1æ“ä½œï¼ˆ1x1å·ç§¯ç”¨äºé™ä½é€šé“æ•°ï¼‰ï¼Œæ— æ¿€æ´»å‡½æ•°æ“ä½œï¼Œè¾“å‡ºé€šé“å…¨éƒ¨è®¾ç½®ä¸ºç›¸åŒçš„256é€šé“ï¼Œç„¶åå’Œä¸Šé‡‡æ ·çš„feature mapè¿›è¡ŒåŠ å’Œæ“ä½œã€‚åœ¨èåˆä¹‹åè¿˜ä¼šå†é‡‡ç”¨3*3çš„å·ç§¯æ ¸å¯¹å·²ç»èåˆçš„ç‰¹å¾è¿›è¡Œå¤„ç†ï¼Œç›®çš„æ˜¯æ¶ˆé™¤ä¸Šé‡‡æ ·çš„æ··å æ•ˆåº”ï¼ˆaliasing effectï¼‰ã€‚</p>
<p>å®é™…ä¸Šï¼Œ<strong>ä¸Šå›¾å°‘ç»˜åˆ¶äº†ä¸€ä¸ªåˆ†æ”¯</strong>ï¼šM5ç»è¿‡æ­¥é•¿ä¸º2çš„max poolingä¸‹é‡‡æ ·å¾—åˆ° P6ï¼Œä½œè€…æŒ‡å‡ºä½¿ç”¨P6æ˜¯æƒ³å¾—åˆ°æ›´å¤§çš„anchorå°ºåº¦512Ã—512ã€‚ä½†P6æ˜¯åªç”¨åœ¨ RPNä¸­ç”¨æ¥å¾—åˆ°region proposalçš„ï¼Œå¹¶ä¸ä¼šä½œä¸ºåç»­Fast RCNNçš„è¾“å…¥ã€‚</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼ŒResNet-FPNä½œä¸ºRPNè¾“å…¥çš„feature mapæ˜¯ <img src="http://www.zhihu.com/equation?tex=%5BP2%2CP3%2CP4%2CP5%2CP6%5D" alt="[P2,P3,P4,P5,P6]"> ï¼Œè€Œä½œä¸ºåç»­Fast RCNNçš„è¾“å…¥åˆ™æ˜¯ <img src="/2019/02/16/obj-det/equation?tex=%5BP2%2CP3%2CP4%2CP5%5D" alt="[P2,P3,P4,P5]"> ã€‚</p>
<h3 id="çº¿æ€§æ’å€¼">çº¿æ€§æ’å€¼</h3>
<p><strong>ç†è§£ï¼šå¯¹äºä¸€ä¸ªæ–°çš„ç‚¹ï¼Œå¯¹å…¶è§’çº¿ä¸Šçš„ä¸¤ä¸ªç‚¹è¿›è¡Œæ“ä½œï¼Œä»¥å®ƒä»¬å’Œæ–°ç‚¹ä¹‹é—´å¤¹çš„ç‚¹çš„è·ç¦»ä¸ºæƒé‡ï¼Œè¿›è¡Œå¹³å‡æ“ä½œ</strong></p>
<p>å·²çŸ¥æ•°æ® <img src="http://www.zhihu.com/equation?tex=%28x_0%2C+y_0%29" alt="(http://www.zhihu.com/equation?tex=%28x_0%2C+y_0%29)"> ä¸ <img src="http://www.zhihu.com/equation?tex=%28x_1%2C+y_1%29" alt="(http://www.zhihu.com/equation?tex=%28x_1%2C+y_1%29)"> ï¼Œè¦è®¡ç®— <img src="http://www.zhihu.com/equation?tex=%5Bx_0%2C+x_1%5D+" alt="[x_0, x_1]"> åŒºé—´å†…æŸä¸€ä½ç½® <img src="http://www.zhihu.com/equation?tex=x" alt="x"> åœ¨ç›´çº¿ä¸Šçš„ <img src="/2019/02/16/obj-det/equation?tex=y" alt="y"> å€¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="/2019/02/16/obj-det/006tNbRwgy1fxwc6411fkj30iu0iy3zd.jpg"></p>
<p>è®¡ç®—æ–¹æ³•å¾ˆç®€å•ï¼Œé€šè¿‡æ–œç‡ç›¸ç­‰å°±å¯ä»¥æ„å»ºyå’Œxä¹‹é—´çš„å…³ç³»ï¼Œå¦‚ä¸‹ï¼š <img src="/2019/02/16/obj-det/equation?tex=%5Cfrac%7By+-+y_0%7D%7Bx+-+x_0%7D+%3D+%5Cfrac%7By+-+y_1%7D%7Bx+-+x_1%7D+%3D%3D%3D%3D%3E+y%3D%5Cfrac%7Bx-x_0%7D%7Bx_1-x_0%7Dy_1%2B%5Cfrac%7Bx_1-x%7D%7Bx_1-x_0%7Dy_0" alt=" =  ====&gt; y=y_1+y_0"> ä»”ç»†çœ‹å°±æ˜¯ç”¨ <img src="http://www.zhihu.com/equation?tex=x" alt="x"> å’Œ <img src="http://www.zhihu.com/equation?tex=x_0" alt="x_0"> ï¼Œ <img src="http://www.zhihu.com/equation?tex=x_1" alt="x_1"> çš„è·ç¦»ä½œä¸ºä¸€ä¸ªæƒé‡ï¼ˆé™¤ä»¥ <img src="http://www.zhihu.com/equation?tex=x-x_0" alt="x-x_0"> æ˜¯å½’ä¸€åŒ–çš„ä½œç”¨ï¼‰ï¼Œç”¨äº <img src="http://www.zhihu.com/equation?tex=y_0" alt="y_0">å’Œ <img src="/2019/02/16/obj-det/equation?tex=y_1" alt="y_1"> çš„åŠ æƒã€‚è¿™ä¸ªæ€æƒ³å¾ˆé‡è¦ï¼Œå› ä¸ºçŸ¥é“äº†è¿™ä¸ªæ€æƒ³ï¼Œç†è§£åŒçº¿æ€§æ’å€¼å°±éå¸¸ç®€å•äº†ã€‚</p>
<h3 id="åŒçº¿æ€§æ’å€¼">åŒçº¿æ€§æ’å€¼</h3>
<p><strong>ç†è§£ï¼šåŒçº¿æ€§æ’å€¼æœ¬è´¨ä¸Šå°±æ˜¯åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šï¼ˆå…ˆå¯¹å››ä¸ªè§’ä¸Šçš„ç‚¹åŒä¸€yçš„ä¸¤ä¸ªç‚¹åˆ†åˆ«åšçº¿æ€§æ’å€¼ï¼Œå†åœ¨yè½´ä¸Šå¯¹è¿™ä¸¤ä¸ªæ–°äº§ç”Ÿçš„ç‚¹åšçº¿æ€§æ’å€¼ï¼‰åšçº¿æ€§æ’å€¼ã€‚</strong></p>
<p><img src="/2019/02/16/obj-det/006tNbRwgy1fxwc6udoxpj310a0j4jsh.jpg"></p>
<p>å¦‚å›¾ï¼Œå‡è®¾æˆ‘ä»¬æƒ³å¾—åˆ°Pç‚¹çš„æ’å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåœ¨xæ–¹å‘ä¸Šï¼Œå¯¹ <img src="http://www.zhihu.com/equation?tex=Q_%7B11%7D" alt="Q_{11}"> å’Œ <img src="http://www.zhihu.com/equation?tex=Q_%7B21%7D" alt="Q_{21}"> ä¹‹é—´åšçº¿æ€§æ’å€¼å¾—åˆ° <img src="http://www.zhihu.com/equation?tex=R_1" alt="R_1"> ï¼Œ <img src="http://www.zhihu.com/equation?tex=R_2" alt="R_2"> åŒç†å¯å¾—ã€‚ç„¶ååœ¨yæ–¹å‘ä¸Šå¯¹ <img src="http://www.zhihu.com/equation?tex=R_1" alt="R_1"> å’Œ <img src="http://www.zhihu.com/equation?tex=R_2" alt="R_2"> è¿›è¡Œçº¿æ€§æ’å€¼å°±å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„Pã€‚å…¶å®çŸ¥é“è¿™ä¸ªå°±å·²ç»ç†è§£äº†åŒçº¿æ€§æ’å€¼çš„æ„æ€äº†ï¼Œå¦‚æœç”¨å…¬å¼è¡¨è¾¾åˆ™å¦‚ä¸‹ï¼ˆæ³¨æ„ <img src="/2019/02/16/obj-det/equation?tex=f" alt="f"> å‰é¢çš„ç³»æ•°çœ‹æˆæƒé‡å°±å¾ˆå¥½ç†è§£äº†ï¼‰ã€‚</p>
<p>é¦–å…ˆåœ¨ <em>x</em> æ–¹å‘è¿›è¡Œçº¿æ€§æ’å€¼ï¼Œå¾—åˆ° <img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm8qgkjj30ze0aawfs.jpg"> ç„¶ååœ¨ <em>y</em> æ–¹å‘è¿›è¡Œçº¿æ€§æ’å€¼ï¼Œå¾—åˆ° <img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlsmq4lj30zo03ot8t.jpg"></p>
<p>è¿™æ ·å°±å¾—åˆ°æ‰€è¦çš„ç»“æœ <img src="/2019/02/16/obj-det/equation?tex=f%28x%2Cy%29" alt="f(http://www.zhihu.com/equation?tex=f%28x%2Cy%29)"> <img src="/2019/02/16/obj-det/006y8mN6ly1g7lwmaa8g6j310a0j4gmh.jpg"></p>
<h3 id="roi-pooling">ROI pooling</h3>
<p><strong>ç†è§£ï¼šæŠŠä¸€ä¸ªä»»æ„å½¢çŠ¶(AxB)çš„åŒºåŸŸå‹ç¼©æˆç›¸åŒç‰¹å¾å›¾(MxN)çš„æ–¹æ³•ï¼šæŠŠè¿™ä¸ªåŒºåŸŸç­‰åˆ†æˆMxNä»½ï¼Œåœ¨æ¯ä¸ªåŒºåŸŸä¸ŠåšMax Pooling</strong></p>
<p>é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å½¢è±¡ç†è§£ã€‚å‡è®¾ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ª8x8å¤§å°çš„feature mapï¼Œæˆ‘ä»¬è¦åœ¨è¿™ä¸ªfeature mapä¸Šå¾—åˆ°ROIï¼Œå¹¶ä¸”è¿›è¡ŒROI poolingåˆ°2x2å¤§å°çš„è¾“å‡ºã€‚</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm388gcj30zo0nc0vq.jpg"></p>
<p>å‡è®¾ROIçš„bounding boxä¸º <img src="/2019/02/16/obj-det/equation?tex=%5Bx_1%2Cy_1%2Cx_2%2Cy_2%5D%3D%5B0%2C3%2C7%2C8%5D" alt="[x_1,y_1,x_2,y_2]=[0,3,7,8]"> ã€‚å¦‚å›¾ï¼š</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm753psj30zm0i275n.jpg"></p>
<p>å°†å®ƒåˆ’åˆ†ä¸º2x2çš„ç½‘æ ¼ï¼Œå› ä¸ºROIçš„é•¿å®½é™¤ä»¥2æ˜¯ä¸èƒ½æ•´é™¤çš„ï¼Œæ‰€ä»¥ä¼šå‡ºç°æ¯ä¸ªæ ¼å­å¤§å°ä¸ä¸€æ ·çš„æƒ…å†µã€‚</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwmapai7j30zq05mjrx.jpg"></p>
<p>è¿›è¡Œmax poolingçš„æœ€ç»ˆ2x2çš„è¾“å‡ºä¸ºï¼š</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlyc815j30ba0bamxg.jpg"></p>
<p>æœ€åä»¥ä¸€å¼ åŠ¨å›¾å½¢è±¡æ¦‚æ‹¬ä¹‹ï¼š</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlud1s1g30go0ciacs.gif"></p>
<h3 id="roi-align">ROI Align</h3>
<p><strong>ç†è§£ï¼šåœ¨ä¹‹å‰çš„ROI Poolingçš„åŸºç¡€ä¸Šå–æ¶ˆäº†å…¶åšçš„ä¸¤ç§è¿‘ä¼¼ï¼Œè€Œç”¨å‰é¢æåˆ°çš„åŒçº¿æ€§æ’å€¼æ³•å¾—åˆ°æ›´åŠ ç²¾ç¡®çš„ç»“æœ</strong></p>
<p>åœ¨Faster RCNNä¸­ï¼Œæœ‰ä¸¤æ¬¡æ•´æ•°åŒ–çš„è¿‡ç¨‹ï¼š</p>
<ol type="1">
<li>region proposalçš„xywhé€šå¸¸æ˜¯å°æ•°ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿æ“ä½œä¼šæŠŠå®ƒæ•´æ•°åŒ–ã€‚</li>
<li>å°†æ•´æ•°åŒ–åçš„è¾¹ç•ŒåŒºåŸŸå¹³å‡åˆ†å‰²æˆ k x k ä¸ªå•å…ƒï¼Œå¯¹æ¯ä¸€ä¸ªå•å…ƒçš„è¾¹ç•Œè¿›è¡Œæ•´æ•°åŒ–ã€‚</li>
</ol>
<p>ä¸¤æ¬¡æ•´æ•°åŒ–çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm8au03j30ze0aawfs.jpg"></p>
<p>äº‹å®ä¸Šï¼Œç»è¿‡ä¸Šè¿°ä¸¤æ¬¡æ•´æ•°åŒ–ï¼Œæ­¤æ—¶çš„å€™é€‰æ¡†å·²ç»å’Œæœ€å¼€å§‹å›å½’å‡ºæ¥çš„ä½ç½®æœ‰ä¸€å®šçš„åå·®ï¼Œè¿™ä¸ªåå·®ä¼šå½±å“æ£€æµ‹æˆ–è€…åˆ†å‰²çš„å‡†ç¡®åº¦ã€‚åœ¨è®ºæ–‡é‡Œï¼Œä½œè€…æŠŠå®ƒæ€»ç»“ä¸ºâ€œä¸åŒ¹é…é—®é¢˜â€ï¼ˆmisalignmentï¼‰ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒROI Alignæ–¹æ³•å–æ¶ˆæ•´æ•°åŒ–æ“ä½œï¼Œä¿ç•™äº†å°æ•°ï¼Œä½¿ç”¨ä»¥ä¸Šä»‹ç»çš„åŒçº¿æ€§æ’å€¼çš„æ–¹æ³•è·å¾—åæ ‡ä¸ºæµ®ç‚¹æ•°çš„åƒç´ ç‚¹ä¸Šçš„å›¾åƒæ•°å€¼ã€‚ä½†åœ¨å®é™…æ“ä½œä¸­ï¼ŒROI Alignå¹¶ä¸æ˜¯ç®€å•åœ°è¡¥å……å‡ºå€™é€‰åŒºåŸŸè¾¹ç•Œä¸Šçš„åæ ‡ç‚¹ï¼Œç„¶åè¿›è¡Œæ± åŒ–ï¼Œè€Œæ˜¯é‡æ–°è¿›è¡Œè®¾è®¡ã€‚</p>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è®²è§£ROI Alignæ“ä½œã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè™šçº¿éƒ¨åˆ†è¡¨ç¤ºfeature mapï¼Œå®çº¿è¡¨ç¤ºROIï¼Œè¿™é‡Œå°†ROIåˆ‡åˆ†æˆ2x2çš„å•å…ƒæ ¼ã€‚å¦‚æœé‡‡æ ·ç‚¹æ•°æ˜¯4ï¼Œé‚£æˆ‘ä»¬é¦–å…ˆå°†æ¯ä¸ªå•å…ƒæ ¼å­å‡åˆ†æˆå››ä¸ªå°æ–¹æ ¼ï¼ˆå¦‚çº¢è‰²çº¿æ‰€ç¤ºï¼‰ï¼Œæ¯ä¸ªå°æ–¹æ ¼ä¸­å¿ƒå°±æ˜¯é‡‡æ ·ç‚¹ã€‚è¿™äº›é‡‡æ ·ç‚¹çš„åæ ‡é€šå¸¸æ˜¯æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥éœ€è¦å¯¹é‡‡æ ·ç‚¹åƒç´ è¿›è¡ŒåŒçº¿æ€§æ’å€¼ï¼ˆå¦‚å››ä¸ªç®­å¤´æ‰€ç¤ºï¼‰ï¼Œå°±å¯ä»¥å¾—åˆ°è¯¥åƒç´ ç‚¹çš„å€¼äº†ã€‚ç„¶åå¯¹æ¯ä¸ªå•å…ƒæ ¼å†…çš„å››ä¸ªé‡‡æ ·ç‚¹è¿›è¡Œmaxpoolingï¼Œå°±å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„ROIAlignçš„ç»“æœã€‚</p>
<p><img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm0fc6rj30v00u0jtq.jpg"></p>
<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œåœ¨ç›¸å…³å®éªŒä¸­ï¼Œä½œè€…å‘ç°å°†é‡‡æ ·ç‚¹è®¾ä¸º4ä¼šè·å¾—æœ€ä½³æ€§èƒ½ï¼Œç”šè‡³ç›´æ¥è®¾ä¸º1åœ¨æ€§èƒ½ä¸Šä¹Ÿç›¸å·®æ— å‡ ã€‚äº‹å®ä¸Šï¼ŒROI Align åœ¨éå†å–æ ·ç‚¹çš„æ•°é‡ä¸Šæ²¡æœ‰ROIPoolingé‚£ä¹ˆå¤šï¼Œä½†å´å¯ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œè¿™ä¸»è¦å½’åŠŸäºè§£å†³äº†misalignmentçš„é—®é¢˜ã€‚</p>
<h2 id="faster-rcnn">Faster RCNN</h2>
<figure>
<img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlv96qnj30n60ngdh6.jpg" alt="åŸè®ºæ–‡ä¸­Faster RCNNåŸºæœ¬ç»“æ„"><figcaption aria-hidden="true">åŸè®ºæ–‡ä¸­Faster RCNNåŸºæœ¬ç»“æ„</figcaption>
</figure>
<figure>
<img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlzge8ej31160iotaq.jpg" alt="è¯¦ç»†ç½‘ç»œç»“æ„"><figcaption aria-hidden="true">è¯¦ç»†ç½‘ç»œç»“æ„</figcaption>
</figure>
<figure>
<img src="/2019/02/16/obj-det/006y8mN6ly1g7lwlxmfscj30zo0a0q47.jpg" alt="Faster RCNN ç½‘ç»œåˆ†æ¨¡å—è§£æ"><figcaption aria-hidden="true">Faster RCNN ç½‘ç»œåˆ†æ¨¡å—è§£æ</figcaption>
</figure>
<figure>
<img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm9l7pij310a0j4gmh.jpg" alt="è®­ç»ƒæ—¶ç½‘ç»œå›¾"><figcaption aria-hidden="true">è®­ç»ƒæ—¶ç½‘ç»œå›¾</figcaption>
</figure>
<h2 id="mask-rcnn">Mask RCNN</h2>
<figure>
<img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm28dkaj30yy0bcta2.jpg" alt="Mask RCNN ç½‘ç»œåˆ†æ¨¡å—è§£æ"><figcaption aria-hidden="true">Mask RCNN ç½‘ç»œåˆ†æ¨¡å—è§£æ</figcaption>
</figure>
<h3 id="ä¸faster-rcnnå…³ç³»">ä¸Faster RCNNå…³ç³»</h3>
<p>ç®€å•æ¥è¯´ï¼ŒMask RCNNçš„å¤´éƒ¨ç½‘ç»œå’ŒFaster RCNNå®Œå…¨ç›¸åŒï¼Œä¸åŒçš„åœ°æ–¹åªæœ‰æœ€åçš„é¢„æµ‹éƒ¨åˆ†ï¼Œä»ä¹‹å‰çš„<strong>åˆ†ç±»+bounding boxå›å½’</strong>æ”¹ä¸ºäº†<strong>åˆ†ç±»+bounding boxå›å½’+Maské¢„æµ‹</strong> Mask RCNNçš„æ„å»ºå¾ˆç®€å•ï¼Œåªæ˜¯åœ¨ROI poolingï¼ˆå®é™…ä¸Šç”¨åˆ°çš„æ˜¯ROIAlignï¼Œåé¢ä¼šè®²åˆ°ï¼‰ä¹‹åæ·»åŠ å·ç§¯å±‚ï¼Œè¿›è¡Œmaské¢„æµ‹çš„ä»»åŠ¡ã€‚</p>
<h3 id="æŸå¤±">æŸå¤±</h3>
<p>Mask RCNNå®šä¹‰å¤šä»»åŠ¡æŸå¤±ï¼š <img src="/2019/02/16/obj-det/006y8mN6ly1g7lwm6f7dcj30zm0i275n.jpg"></p>
<p><img src="http://www.zhihu.com/equation?tex=L_%7Bcls%7D" alt="L_{cls}">å’Œ <img src="http://www.zhihu.com/equation?tex=L_%7Bbox%7D" alt="L_{box}"> ä¸faster rcnnçš„å®šä¹‰æ²¡æœ‰åŒºåˆ«ã€‚éœ€è¦å…·ä½“è¯´æ˜çš„æ˜¯ <img src="http://www.zhihu.com/equation?tex=L_%7Bmask%7D" alt="L_{mask}"> ï¼Œå‡è®¾ä¸€å…±æœ‰Kä¸ªç±»åˆ«ï¼Œåˆ™maskåˆ†å‰²åˆ†æ”¯çš„è¾“å‡ºç»´åº¦æ˜¯ <img src="http://www.zhihu.com/equation?tex=K%2Am%2Am" alt="Kmm"> , å¯¹äº <img src="/2019/02/16/obj-det/equation?tex=m%2Am" alt="m*m"> ä¸­çš„æ¯ä¸ªç‚¹ï¼Œéƒ½ä¼šè¾“å‡ºKä¸ªäºŒå€¼Maskï¼ˆæ¯ä¸ªç±»åˆ«ä½¿ç”¨sigmoidè¾“å‡ºï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¡ç®—lossçš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªç±»åˆ«çš„sigmoidè¾“å‡ºéƒ½è®¡ç®—äºŒå€¼äº¤å‰ç†µæŸå¤±ï¼Œè€Œæ˜¯è¯¥åƒç´ å±äºå“ªä¸ªç±»ï¼Œå“ªä¸ªç±»çš„sigmoidè¾“å‡ºæ‰è¦è®¡ç®—æŸå¤±(å¦‚å›¾çº¢è‰²æ–¹å½¢æ‰€ç¤º)ã€‚å¹¶ä¸”åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡åˆ†ç±»åˆ†æ”¯é¢„æµ‹çš„ç±»åˆ«æ¥é€‰æ‹©ç›¸åº”çš„maské¢„æµ‹ã€‚è¿™æ ·ï¼Œmaské¢„æµ‹å’Œåˆ†ç±»é¢„æµ‹å°±å½»åº•è§£è€¦äº†ã€‚</p>
<p>è¿™ä¸FCNæ–¹æ³•æ˜¯ä¸åŒï¼ŒFCNæ˜¯å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œå¤šç±»åˆ«softmaxåˆ†ç±»ï¼Œç„¶åè®¡ç®—äº¤å‰ç†µæŸå¤±ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ç§åšæ³•æ˜¯ä¼šé€ æˆç±»é—´ç«äº‰çš„ï¼Œè€Œæ¯ä¸ªç±»åˆ«ä½¿ç”¨sigmoidè¾“å‡ºå¹¶è®¡ç®—äºŒå€¼æŸå¤±ï¼Œå¯ä»¥é¿å…ç±»é—´ç«äº‰ã€‚å®éªŒè¡¨æ˜ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•ï¼Œå¯ä»¥è¾ƒå¥½åœ°æå‡æ€§èƒ½ã€‚</p>
<h2 id="è®ºæ–‡">è®ºæ–‡</h2>
<ul>
<li>RCNN: <a href="http://fcv2011.ulsan.ac.kr/files/announcement/513/r-cnn-cvpr.pdf">here</a></li>
<li>Fast RCNN: <a href="https://www.cv-foundation.org/openaccess/content_iccv_2015/html/Girshick_Fast_R-CNN_ICCV_2015_paper.html">here</a></li>
<li>Faster RCNN: <a href="http://papers.nips.cc/paper/5638-faster-r-cnn-towards-real-time-object-detection-with-region-proposal-networks">here</a></li>
<li>Mask RCNN: <a href="https://ieeexplore.ieee.org/abstract/document/8237584/">here</a></li>
</ul>
<h2 id="ä»£ç ">ä»£ç </h2>
<ul>
<li>Fast RCNN: <a href="https://github.com/rbgirshick/fast-rcnn">here</a></li>
<li>Faster RCNN: <a href="https://github.com/jwyang/faster-rcnn.pytorch">here</a></li>
<li>Mask RCNN: <a href="https://github.com/roytseng-tw/Detectron.pytorch">here</a></li>
</ul>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/31983610">ã€CV-instance segmentationã€‘Mask R-CNNé˜…è¯»ç¬”è®°</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/31426458">ä¸€æ–‡è¯»æ‡‚Faster RCNN</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/37998710">ä»¤äººæ‹æ¡ˆç§°å¥‡çš„Mask RCNN</a></li>
</ul>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>object-detection</tag>
      </tags>
  </entry>
  <entry>
    <title>Off-Policy &amp; On-Policy</title>
    <url>/2019/01/22/off-on-policy/</url>
    <content><![CDATA[<p>On-Policy ä¸ Off-Policyçš„æœ¬è´¨åŒºåˆ«åœ¨äºï¼šæ›´æ–°Qå€¼æ—¶æ‰€ä½¿ç”¨çš„æ–¹æ³•æ˜¯æ²¿ç”¨æ—¢å®šçš„ç­–ç•¥ï¼ˆon-policyï¼‰è¿˜æ˜¯ä½¿ç”¨æ–°ç­–ç•¥ï¼ˆoff-policyï¼‰ã€‚</p>
<p><img src="/2019/01/22/off-on-policy/006tKfTcgy1g0f8y7lartj30ib0kf768.jpg"></p>
<span id="more"></span>
<p><img src="/2019/01/22/off-on-policy/006tKfTcgy1g0f8yhlj6cj30ja0cv75a.jpg"></p>
<p>Sarsaæ›´æ–°Qå€¼çš„æ—¶å€™å¯¹ä¸‹ä¸€æ­¥çš„ä¼°è®¡é‡‡ç”¨çš„æ˜¯Qæœ¬èº«çš„<span class="math inline">\(Q(Sâ€™,Aâ€™)\)</span>ï¼Œè€ŒQ-Learningæ›´æ–°çš„æ—¶å€™å¯¹ä¸‹ä¸€æ­¥çš„ä¼°è®¡éƒ¨åˆ†åˆ™é‡‡ç”¨çš„æ˜¯ç›´æ¥å–é‡‡å–åŠ¨ä½œaåç¯å¢ƒä¸­å„ä¸ªaâ€™å¯¹åº”çš„Qçš„æœ€å¤§å€¼ï¼Œå³å…¶åœ¨é€‰æ‹©Actionçš„æ—¶å€™ä½¿ç”¨çš„æ˜¯e-greedyç®—æ³•ï¼Œè€Œæ›´æ–°Qå€¼çš„æ—¶å€™åˆ™é‡‡ç”¨äº†ç›´æ¥å–æœ€å¤§å€¼çš„greedyç®—æ³•ã€‚</p>
<h2 id="åæ˜ åˆ°ç»“æœä¸Š">åæ˜ åˆ°ç»“æœä¸Š</h2>
<p><strong>On-policy</strong>ï¼šå¿…é¡»æœ¬äººåœ¨åœº, å¹¶ä¸”ä¸€å®šæ˜¯æœ¬äººè¾¹ç©è¾¹å­¦ä¹ ã€‚ <strong>Off-policy</strong>ï¼šå¯ä»¥é€‰æ‹©è‡ªå·±ç©, ä¹Ÿå¯ä»¥é€‰æ‹©çœ‹ç€åˆ«äººç©, é€šè¿‡çœ‹åˆ«äººç©æ¥å­¦ä¹ åˆ«äººçš„è¡Œä¸ºå‡†åˆ™ã€‚</p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>reinforcement-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>OKRåˆè®¤è¯†</title>
    <url>/2018/03/22/okr/</url>
    <content><![CDATA[<h1 id="okr-åˆè®¤è¯†"><a class="markdownIt-Anchor" href="#okr-åˆè®¤è¯†"></a> OKR åˆè®¤è¯†</h1>
<ul>
<li>Oæ˜¯Objectiveï¼ŒKRæ˜¯Key Resultsã€‚æ¯ä¸ªé¡¹ç›®ç»„çš„Oæ˜¯å…¶å½“å‰çš„ä¸»è¦ç›®æ ‡ï¼Œæ¯”å¦‚æŠŠå‡†ç¡®ç‡æå‡è‡³80%ï¼›KRæ˜¯å…³é”®ç›®æ ‡ï¼Œæ¯”å¦‚è¦ç»§ç»­è°ƒç ”å¤šå°‘ç§æ¨¡å‹ã€‚</li>
<li>KRè®°ä½ä¸€å®šè¦åŠ ä¸Šæ—¶é—´èŠ‚ç‚¹è¿›å»</li>
<li>Oä¸€èˆ¬ä¸è¶…è¿‡4ä¸ªï¼Œæ¯ä¸ªOä¸‹é¢å¯¹åº”çš„KRæœ€å¤šä¹Ÿä¸è¶…è¿‡4ä¸ª</li>
<li>å¹´åº¦ç›®æ ‡ï¼Œå­£åº¦ç›®æ ‡ï¼Œæ¯å‘¨ç›®æ ‡ï¼Œæ¯æ—¥ç›®æ ‡</li>
<li>æœ€å¥½70%å®Œæˆåº¦çš„ç›®æ ‡æ¯”è¾ƒåˆé€‚ï¼Œå¯ä»¥ä½¿å¾—ä»»åŠ¡çš„å®Œæˆåº¦å……åˆ†æ‹‰ä¼¸</li>
<li>å…³é”®æ˜¯è¦æœ‰ä¸€ä¸ªå…·ä½“çš„æ•°æ®å¹¶ä¸”è¦èµ·åˆ°æ¿€åŠ±ä½œç”¨ï¼Œè€Œä¸è¦ä½¿ç”¨å‰¯è¯â€œå¤§å¹…åº¦â€ï¼Œâ€œå°½é‡â€ç­‰</li>
</ul>
]]></content>
      <tags>
        <tag>management</tag>
        <tag>okr</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux Server One-Key Setup</title>
    <url>/2019/09/20/one-key-linux/</url>
    <content><![CDATA[<p>æ¨èä¸€ä¸‹æ–°å†™çš„Linuxç³»ç»Ÿä¸€é”®è£…æœºè„šæœ¬(à¹‘Â´âˆ€ï½€à¹‘)ä¸€è¡Œå‘½ä»¤è·å¾—å¸¸ç”¨å‘½ä»¤è¡Œè½¯ä»¶ã€zshã€æ–¹ä¾¿å¥½ç”¨çš„è¯¸å¤šzshæ’ä»¶ï¼ˆå¦‚è‡ªåŠ¨è¡¥å…¨ã€ä¸€é”®è§£å‹ã€ç›®å½•å¿«é€Ÿè·³è½¬ã€å‘½ä»¤è¡Œè¯­æ³•é«˜äº®ç­‰ã€‚è¯¦è§readmeå’Œsource codeï¼‰ä»¥åŠä¸€ä¸ªé…ç½®å¥½çš„spacevimã€‚å½“å‰åªæ”¯æŒubuntuã€‚åé¢å°†ä¼šæ”¯æŒcentosã€‚</p>
<p>ä½ å°†åœ¨ä»»ä½•ä¸€ä¸ªæ–°çš„Linuxç³»ç»Ÿä¸Šä¸€é”®å¾—åˆ°ä¸€ä¸ªç¨³å®šå¯é çš„ä½¿ç”¨ä½“éªŒï¼å½“ç„¶ï¼Œè„šæœ¬é«˜åº¦å¯å®šåˆ¶ï¼Œä»¥ä¸Šæ‰€æœ‰å†…å®¹éƒ½å¯ä»¥ç®€å•åœ°å¢å‡ã€‚æœ‰é—®é¢˜æˆ–éœ€æ±‚æ¬¢è¿æissueï½ï¼ˆæ³¨æ„âš ï¸åœ¨å·²ç»ä½¿ç”¨å¹¶é…ç½®è¿‡çš„ç”µè„‘ä¸Šè¿è¡Œå¯èƒ½ä¼šå‡ºç°zshrcé…ç½®é‡å¤é—®é¢˜ï¼‰</p>
<p><a href="https://github.com/miracleyoo/initialize-server-script">GitHubé“¾æ¥</a></p>
<span id="more"></span>
<p><strong>ä¸‹é¢æ˜¯è‹±æ–‡çš„ä½¿ç”¨è¯´æ˜ï¼š</strong></p>
<h2 id="overview">Overview</h2>
<p>This project aims to conveniently setup and deploy a Linux environment which is easy to use and help install many useful packages. It mainly have the ability to deploy zsh with a set of handy plugins, and a spacevim, which is my favorite vim distro. You will not encounter messy installation problems and the script is tested on ubuntu and WSL ubuntu.</p>
<p>Currently, it only support Ubuntu system, but the support of centos is also on the way, maybe also the MacOS version.</p>
<p>It is highly customizable and elegantly wrote, you can folk and customize your own version based on it!</p>
<h2 id="usage">Usage</h2>
<h3 id="method-1">Method 1</h3>
<ol type="1">
<li>Make sure you already have curl installed by "sudo apt-get install curl".</li>
<li>Use command <code>curl -fsSL https://raw.githubusercontent.com/miracleyoo/initialize-server-script/master/one-key-linux-setup.sh -o minit.sh &amp;&amp; sudo bash minit.sh</code></li>
<li>You are all set! Here is an awesome new linux!</li>
</ol>
<h3 id="method-2">Method 2</h3>
<ol type="1">
<li>Make sure you already have curl installed by "sudo apt-get install git".</li>
<li>Clone this repo using <code>git clone https://github.com/miracleyoo/initialize-server-script</code></li>
<li>Switch into this folder and run <code>./one-key-linux-setup.sh</code></li>
<li>You are all set!</li>
</ol>
<h2 id="content">Content</h2>
<ol type="1">
<li><code>apt-get install packags</code> like git, curl, tmux, vim, and python supports.</li>
<li>A <code>zsh</code> which has plenty of handy plugins like <code>oh-my-zsh</code>, <code>git</code>, <code>zsh-autosuggestions</code>, <code>zsh-syntax-highlighting</code>, <code>zsh-completions</code> , <code>extract</code>, <code>z</code>, <code>cp</code>. They are managed with <code>antigen</code>, which made it easy and decent to mange your zsh plugins. You can get even more plugins <a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins-Overview">here</a>.</li>
<li>A <code>.zshrc</code> file which contains some basic but useful functions. You can change it to your own favorite commands and alias.</li>
<li>A <a href="https://github.com/SpaceVim/SpaceVim">spacevim</a>, which is a quite good version of vim. It initially installed several famous plugins, with a nice interface. You will find it a really vim distro as you use it. Certainly, you can change to your own version, while I've tested several distro and they all have some kinds of inconvenience, like the line number, extra space, wrong background color and so on.</li>
<li>More on the way!</li>
</ol>
]]></content>
      <tags>
        <tag>server</tag>
        <tag>tool</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Paperï¼š&quot;Solving Poisson&#39;s Equation using Deep Learning in Particle Simulation of PN Junction&quot;</title>
    <url>/2018/10/26/paper-dl-poisson/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨Dr.Fanå’ŒLing Zhangå­¦é•¿çš„å¸®åŠ©ä¸‹æ€»ç»“äº†æš‘ç ”æœŸé—´åœ¨å¯†è‹é‡Œç§‘æŠ€å¤§å­¦EMC Labæ‰€åšçš„éƒ¨åˆ†å·¥ä½œï¼Œå®Œæˆäº†ç¬¬ä¸€ç¯‡paper: *â€œSolving Poissonâ€™s Equation using Deep Learning in Particle Simulation of PN Junctionâ€*çš„ç¼–å†™å’Œä¿®æ”¹å·¥ä½œï¼Œå¹¶æŠ•ç¨¿äº2019 International Symposium on Electromagnetic Compatibility (by IEEE)ä¼šè®®ã€‚</p>
<p>ç›®å‰å·²ç»å°†é¢„å°æœ¬ä¼ è‡³Arxiv: <a href="https://arxiv.org/abs/1810.10192">Link</a>ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥çœ‹ä¸‹<sub>å†…å®¹å¯èƒ½è¿˜æœ‰è¯¸å¤šçº°æ¼ï¼Œå¦‚æœ‰å‘ç°æ¬¢è¿é‚®ä»¶è”ç³»</sub></p>
<p>å†æ¬¡æ„Ÿè°¢paperå®Œæˆè¿‡ç¨‹ä¸­ç»™äºˆäº†å¤§åŠ›å¸®åŠ©çš„å„ä½ã€‚</p>
<p><a href="1540623051128-acaa562b-65c3-4980-952d-d30c765f51b8-image.png"><img src="https://bbs.dian.org.cn/assets/uploads/files/1540623051128-acaa562b-65c3-4980-952d-d30c765f51b8-image-resized.png" alt="0_1540623045920_acaa562b-65c3-4980-952d-d30c765f51b8-image.png"></a></p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>EMC</tag>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title>Pandas Resample</title>
    <url>/2020/03/24/pandas-resample/</url>
    <content><![CDATA[<p>PandasåŸç”Ÿæ”¯æŒ<code>resample</code>åŠŸèƒ½ï¼Œå‰ææ˜¯ç›®æ ‡DataFrameéœ€è¦æœ‰ä¸€ä¸ªindexçš„columnã€‚å‡è®¾æˆ‘ä»¬ç°åœ¨åœ¨å¯¹ä¸€ä¸ªå–æ ·ç‡ä¸º30Hzçš„DataFrameåšæ“ä½œï¼Œå¹¶æƒ³å°†å®ƒå˜resampleä¸º16Hzã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬è¦å»ºç«‹ä¸€ä¸ª<code>timestamp</code>çš„åˆ—ï¼Œè¿™ä¸ªåå­—éšæ„ï¼Œç„¶åå®ƒæ˜¯ä»¥ç§’ä¸ºå•ä½çš„è¯¥å¸§çš„æ—¶é—´ï¼Œå¦‚3.25ï¼Œ14.33ã€‚ç„¶åæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºdatatimeæ ¼å¼ï¼Œå•ä½ä¸ºsã€‚</p>
<span id="more"></span>
<p>ä¹‹åä¾¿æ˜¯ç›´æ¥resampleï¼Œresampleä¸­çš„<code>rule</code>ï¼Œå³ç¬¬ä¸€ä¸ªå‚æ•°ï¼ŒæŒ‡æ˜äº†resampleåä¸¤å¸§ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå³å‘¨æœŸã€‚å¦‚æœæˆ‘ä»¬æ˜¯16Hzï¼Œé‚£è¿™ä¸ªå‘¨æœŸä¸º62.5msã€‚</p>
<p><code>resample</code>æ–¹æ³•çš„æ ¼å¼æ˜¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DataFrame.resample(rule, how=<span class="literal">None</span>, axis=<span class="number">0</span>, fill_method=<span class="literal">None</span>, closed=<span class="literal">None</span>, label=<span class="literal">None</span>, convention=<span class="string">&#x27;start&#x27;</span>,kind=<span class="literal">None</span>, loffset=<span class="literal">None</span>, limit=<span class="literal">None</span>, base=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h2 id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç </h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.index=pd.to_datetime(df[<span class="string">&#x27;timestamp&#x27;</span>],unit=<span class="string">&#x27;s&#x27;</span>)</span><br><span class="line">df=df.resample(<span class="string">&#x27;62.5L&#x27;</span>).mean()</span><br><span class="line">df=df.reset_index(drop=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">del</span> df[<span class="string">&#x27;timestamp&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h2 id="pandasæ—¶é—´ç¼©å†™">Pandasæ—¶é—´ç¼©å†™</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">B         business day frequency</span><br><span class="line">C         custom business day frequency (experimental)</span><br><span class="line">D         calendar day frequency</span><br><span class="line">W         weekly frequency</span><br><span class="line">M         month end frequency</span><br><span class="line">SM        semi-month end frequency (15th and end of month)</span><br><span class="line">BM        business month end frequency</span><br><span class="line">CBM       custom business month end frequency</span><br><span class="line">MS        month start frequency</span><br><span class="line">SMS       semi-month start frequency (1st and 15th)</span><br><span class="line">BMS       business month start frequency</span><br><span class="line">CBMS      custom business month start frequency</span><br><span class="line">Q         quarter end frequency</span><br><span class="line">BQ        business quarter endfrequency</span><br><span class="line">QS        quarter start frequency</span><br><span class="line">BQS       business quarter start frequency</span><br><span class="line">A         year end frequency</span><br><span class="line">BA, BY    business year end frequency</span><br><span class="line">AS, YS    year start frequency</span><br><span class="line">BAS, BYS  business year start frequency</span><br><span class="line">BH        business hour frequency</span><br><span class="line">H         hourly frequency</span><br><span class="line">T, min    minutely frequency</span><br><span class="line">S         secondly frequency</span><br><span class="line">L, ms     milliseconds</span><br><span class="line">U, us     microseconds</span><br><span class="line">N         nanoseconds</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>machine-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>Paper Reading ï¼š &quot;NOSEï¼š A Novel Odor Sensing Engine for Ambient Monitoring of the Frying Cooking Method in Kitchen Environments&quot;</title>
    <url>/2019/10/24/paper-rev-nose/</url>
    <content><![CDATA[<h1 id="one-line-summary">One Line Summary</h1>
<p>NOSE: A device which utilize order sensing component and machine learning to detect which kind of cooking method and which kind of foods, oils are used when you are cooking. It can be used to periodically reports to users about their cooking habits.</p>
<span id="more"></span>
<h1 id="terms">Terms</h1>
<ol type="1">
<li>MOS Gas Sensor: A sensor which is sensitive to specific target analytes and attempts to replicate the human olfactory system by detecting various types of odors.</li>
</ol>
<h1 id="points">Points</h1>
<ol type="1">
<li>In the real-world environment, we cannot get the data with a start and end well defined. Here the author exploited a two-level classification approach.</li>
</ol>
<figure>
<img src="/2019/10/24/paper-rev-nose/image-20191024193802569.png" alt="image-20191024193802569"><figcaption aria-hidden="true">image-20191024193802569</figcaption>
</figure>
<h1 id="images">Images</h1>
<figure>
<img src="/2019/10/24/paper-rev-nose/image-20191021152129125.png" alt="image-20191021152129125"><figcaption aria-hidden="true">image-20191021152129125</figcaption>
</figure>
<figure>
<img src="/2019/10/24/paper-rev-nose/image-20191021154348447.png" alt="image-20191021154348447"><figcaption aria-hidden="true">image-20191021154348447</figcaption>
</figure>
<h1 id="questions">Questions</h1>
<ol type="1">
<li>We can use multiple dimensional information to detect what is going on. For example, if we add sound detect devices or infrared sensor and use their signals to do analysis at the same time, the accuracy may get dramatically improved. If camera can also be applied, even more detailed information can be obtained.</li>
<li>Regarding the privacy issue, perhaps we can consider using a embedded auto-clip algorithm which make it possible to only output a limited region which only contains the main region of the Target-of-Interest.</li>
</ol>
<figure>
<img src="/2019/10/24/paper-rev-nose/image-20191024193841882.png" alt="image-20191024193841882"><figcaption aria-hidden="true">image-20191024193841882</figcaption>
</figure>
<ol start="3" type="1">
<li>We can even combine different sensor and use one as the trigger of another. For example, camera will only work when the odor sensor feels that there is someone cooking or when infrared sensor feels that someone is approaching or the microphone hears the noise of cooking.</li>
</ol>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>paper</tag>
        <tag>HCI</tag>
        <tag>mobile-health</tag>
      </tags>
  </entry>
  <entry>
    <title>Paper Readingï¼š &quot;W!NCEï¼š Unobtrusive Sensing of Upper Facial Action Units with EOG-based Eyewear&quot;</title>
    <url>/2019/10/20/paper-rev-wnce/</url>
    <content><![CDATA[<h2 id="one-line-summary">One Line Summary</h2>
<p>W!NCW developes a two-stage processing pipeline which can do continuously and unobtrusively sensing of upper facial action units with high fidelity. Because it doesn't use camera so it also eliminate the privacy concerns.</p>
<span id="more"></span>
<h2 id="terms">Terms</h2>
<ol type="1">
<li>Electrooculography(EOG, çœ¼çƒç”µå›¾æ£€æŸ¥): A technique for measuring the corneo-retinal standing potential that exists between the front and the back of the human eye. The resulting signal is called the electrooculogram. Primary applications are in ophthalmological diagnosis and in recording eye movements.</li>
<li>Motion artifacts removal pipeline: Mainly used to remove noise across multiple EOF channels and many different head movement patterns. It is based on neural network.</li>
<li></li>
</ol>
<h2 id="points">Points</h2>
<ol type="1">
<li>There are already standard Facial Action Coding System(FACS) along with camera based methods which can be applied to check facial expressions, but their positioning is awkward and they may bring in privacy problems.</li>
<li>The hardware is not a lab-product, rather, it is based on commercially available comfortable daily eyeware device J!NS MEME.</li>
<li>EOG metrics is useful for recognizing different types of activities such as reading and writing. since each activity has its own unique eye movement pattern.</li>
<li>The EOG sensors are placed on the nose and the IMU sensor is embedded in the temples of the eyeglass.</li>
<li>W!NCE takes the body motion into consideration, while existing work work in motion artifact removal from physiological signals couldn't do so.</li>
<li>The lower face action is harder to be detected because the signal are generated in distant muscles, so it will be damped when reaches the sensor.</li>
<li>J!NS MEME employs stainless steel eletrodes which belong to the stiff material dry eletrodes. It has a lower price and a good electrical performance and lower possiblility of skin irritation compared to gel-based ones.</li>
<li>Some actions of heads will cast a similar influence on EOG sensors(like nod and lower eyebrows), while the IMU signals will be quite different, which can help confirm the real action.</li>
<li>We have to consider the signal variation across individuals, since the face shape, the shape of nose-bridge, the fit of the glasses behind the ear, the variation in the way individuals use upper facial muscles influence the signals captured greatly.</li>
<li>Personalizing with transfer learning is utilized to address the problem above. The device will take some labled data from user when they use it for the first time, and only re-train the last layer(full-connection layer).</li>
<li>The CNN model will not always be in the working state. In fact, the model process will only be triggered when substantial EOG activities are detected after the motion artifact removal stage. Also, the motion artifact removal model will only run when significant variation is observed in the raw EOG signal.</li>
</ol>
<h2 id="question">Question</h2>
<ol type="1">
<li>What if user sweet on there nose? Will it affect the accuracy of EOG sensor?</li>
<li>This eye-glass based design will be easy to accommodate for those who always wearing a glass, but to the others who don't have the habit, it might be difficult.</li>
<li>For the CNN and motion artifact removal trigger, for the emotions or movement which only generate minor signal, like the lower face action, will it be detected?<br>
</li>
<li>How to know whether the prediction is right or not? User may express multiple emotion and movement at the same time. Same question when dataset is collected.</li>
<li>Why people will need, or need to buy this product? Will a normal person have the requisition to know their facial action and emotion all day? If so, what can the data collected derive?</li>
</ol>
<h2 id="images">Images</h2>
<figure>
<img src="/2019/10/20/paper-rev-wnce/image-20191020171322278.png" alt="image-20191020171322278"><figcaption aria-hidden="true">image-20191020171322278</figcaption>
</figure>
<figure>
<img src="/2019/10/20/paper-rev-wnce/image-20191020172902493.png" alt="image-20191020172902493"><figcaption aria-hidden="true">image-20191020172902493</figcaption>
</figure>
<figure>
<img src="/2019/10/20/paper-rev-wnce/image-20191020190355816.png" alt="image-20191020190355816"><figcaption aria-hidden="true">image-20191020190355816</figcaption>
</figure>
<figure>
<img src="/2019/10/20/paper-rev-wnce/image-20191020173940080.png" alt="image-20191020173940080"><figcaption aria-hidden="true">image-20191020173940080</figcaption>
</figure>
<figure>
<img src="/2019/10/20/paper-rev-wnce/image-20191020183735447.png" alt="image-20191020183735447"><figcaption aria-hidden="true">image-20191020183735447</figcaption>
</figure>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>paper</tag>
        <tag>HCI</tag>
        <tag>mobile-health</tag>
      </tags>
  </entry>
  <entry>
    <title>Paper Readingï¼š &quot;wPerfï¼š Generic Off-CPU Analysis to Identify Bottleneck Waiting Events&quot;</title>
    <url>/2019/10/19/paper-rev-wperf/</url>
    <content><![CDATA[<h2 id="one-line-summary">One Line Summary</h2>
<p>Some waiting events can cast impact to multiple threads. A method which can computes not only the local impact of a waiting event, but also whether such impact can indirectly reach other threads is developed.</p>
<span id="more"></span>
<h2 id="important-terms">Important terms</h2>
<ol type="1">
<li>On-CPU analysis: Used to identify bottlenecks created by execution.</li>
<li>Off-CPU analysis: Used to identify bottlenecks created by waiting.</li>
<li>False wakeup: A phenomenon that a thread is woken up but finds its condi- tion to continue is not satisfied, so it has to sleep again.</li>
<li>Knot(in the wait-for graph): A section which never wait for the outside threads. Because optimizing outside events will not influence the status inside(and will not improve overall thoughput), so each knot must contain a bottlenect. In a graph, a knot is a nonempty set K of vertices such that the reachable set of each vertex in K is exactly set K; a sink is a vertex with no edges directed from it.</li>
<li>Cascaded redistribution: If thread A waits for thread B from t1 to t2, wPerf checks what B is doing during t1 to t2 and if B is waiting for an- other thread, wPerf will re-distribute the corresponding weight and perform the check recursively.</li>
</ol>
<h2 id="points">Points</h2>
<ol type="1">
<li>wPerf act on events(Get the impact of events on all threads).</li>
<li>On-CPU analysis already has some tools good enough, while Off-CPU analysis is still inaccurate.</li>
<li>Wait-for graph: Each thread is a vertex and a directed edge from A to B means the time thread A waits for B.</li>
<li>Events with a small local impact usually have a small global im- pact, but events with a large local impact may not have a large global impact.</li>
<li>Things to be recorded: scheduling events, IRQ(interrupt request) events, information for I/O devices, information for busy waiting, call stacks.</li>
<li>wPerf can start and stop recording at any time.</li>
<li>wPerf treat I/O device as a pseudo I/O thread.</li>
<li>In order to minimize the overhead, recorder buffers events and flushs the buffers to trace file in the background. Also, the recorder creates a buffer and a trace file for each core to avoid contention.</li>
</ol>
<figure>
<img src="/2019/10/19/paper-rev-wperf/image-20191019213731331.png" alt="image-20191019213731331"><figcaption aria-hidden="true">image-20191019213731331</figcaption>
</figure>
<h2 id="graphs">Graphs</h2>
<figure>
<img src="/2019/10/19/paper-rev-wperf/image-20191019184627121.png" alt="image-20191019184627121"><figcaption aria-hidden="true">image-20191019184627121</figcaption>
</figure>
<figure>
<img src="/2019/10/19/paper-rev-wperf/image-20191019193352798.png" alt="image-20191019193352798"><figcaption aria-hidden="true">image-20191019193352798</figcaption>
</figure>
<h2 id="pros">Pros</h2>
<ol type="1">
<li>It innovatively utilizes the "wait-for" graph method to investigate the wating relationship between threads, which make it easy to locate the bottleneck.</li>
<li>wPerf takes all these I/O operation, busy waiting, false wakeup into consideration, which make it more accuarte and competible to various cases.</li>
<li>Introduced "cascaded redistribution" which can help us find the origin bottleneck rather than simply take the waiting thread as the reason of latency.</li>
</ol>
<h2 id="cons">Cons</h2>
<ol type="1">
<li>It can not be applied to distributed system currently.</li>
<li>It mainly foucuses on Off-CPU analysis, it may consider the combination of both On-CPU and Off-CPU analysis.</li>
<li>It brings in overheads in its recording process, especially when there are many waiting events.</li>
</ol>
<p><strong>Zhongyang Zhang</strong></p>
]]></content>
      <tags>
        <tag>paper</tag>
        <tag>system</tag>
        <tag>computer-architecture</tag>
      </tags>
  </entry>
  <entry>
    <title>Macã€Windowsã€iPadä¸‰ç«¯å®Œç¾è®ºæ–‡ç®¡ç†ã€é˜…è¯»ä¸ç¼–è¾‘ç³»ç»Ÿé…ç½®</title>
    <url>/2020/04/26/paper-zotero-dropbox/</url>
    <content><![CDATA[<p>ç®¡ç†å¥½è‡ªå·±æ‰‹ä¸­çš„è®ºæ–‡ï¼Œä¸è®©ä»–ä»¬è¢«åå™¬ä¸â€œDownloadâ€æ–‡ä»¶å¤¹çš„èŒ«èŒ«æ–‡ä»¶æµ·æ´‹ä¸­å·²éæ˜“äº‹ï¼Œè€Œèƒ½åœ¨éœ€è¦æ—¶è¿…é€Ÿå®šä½ï¼Œèƒ½åœ¨Windowsçš„Desktopä¸ä¾¿æºçš„MacBookä¸Šæ— ç¼å¯¹æ¥è®ºæ–‡åº“åˆ™éœ€è¦ç›¸å¯¹ç²¾ç»†åŒ–çš„ç®¡ç†ã€‚ç„¶è€Œï¼Œå¾ˆå¤šæ—¶å€™å¹¶ä¸é€‚åˆå±•å¼€è‡ªå·±çš„ç¬”è®°æœ¬ç”µè„‘æ¥â€œéƒ‘é‡â€åœ°é˜…è¯»ä¸€ç¯‡è®ºæ–‡ï¼Œåœ¨ä¸€äº›ç›¸å¯¹é›¶ç¢çš„æ—¶é—´é‡Œéšæ‰‹æŠ½å‡ºåŒ…ä¸­çš„iPadï¼Œè¯»è¯»å‰é¢é¡ºæ‰‹å­˜ä¸‹çš„è®ºæ–‡ï¼Œåˆ™å¯å¤§å¤§å¢åŠ è‡ªå·±çš„å­¦æœ¯å¹¸ç¦æ„Ÿã€‚</p>
<span id="more"></span>
<h2 id="éœ€æ±‚åˆ†æ">éœ€æ±‚åˆ†æ</h2>
<p>ä¸Šé¢è¿™å‡ ç‚¹ä¹Ÿæ­£æ˜¯æˆ‘å¯¹è®ºæ–‡ç®¡ç†ç³»ç»Ÿçš„è¦æ±‚ã€‚æ³¨æ„è¿™é‡Œæåˆ°çš„æ˜¯â€œç³»ç»Ÿâ€ï¼Œè€Œå¹¶æ˜¯ä¸€ä¸ªå•ä¸€çš„è½¯ä»¶ã€‚è¿™é‡Œæç‚¼ä¸€ä¸‹æ—¥å¸¸å¯¹è®ºæ–‡ç®¡ç†åŠé˜…è¯»çš„éœ€æ±‚ï¼Œæ‚¨å¯ä»¥çœ‹çœ‹å’Œè‡ªå·±çš„éœ€æ±‚æ˜¯å¦å»åˆï¼š</p>
<ol type="1">
<li>ä»¥åˆ†å±‚ç›®å½•çš„å½¢å¼å°†è®ºæ–‡è¿›è¡Œå½’æ¡£ï¼Œå¹¶ä¸”æœ‰æ—¶éœ€è¦è®©åŒä¸€ç¯‡è®ºæ–‡åŒæ—¶å­˜æ”¾äºå¤šä¸ªç›®å½•ä¸­ã€‚</li>
<li>æ”¯æŒå¤šåŠç›®å½•ï¼ˆå¤š&gt;2ï¼‰ã€‚</li>
<li>æ”¯æŒä»ç½‘é¡µä¸Šä¾¿æ·åœ°å‚¨å­˜è®ºæ–‡ä»¥åŠæ–‡æ¡£ã€‚</li>
<li>æ”¯æŒæ‹–å…¥PDFè‡ªåŠ¨å¯»æ‰¾è®ºæ–‡ä¿¡æ¯ã€‚</li>
<li>éœ€è¦å¯¹è®ºæ–‡çš„PDFåŸä»¶è¿›è¡Œå­˜å‚¨ï¼Œæœ€å¥½èƒ½å¤Ÿè‡ªåŠ¨ä¸‹è½½ç¼ºå¤±çš„PDFã€‚</li>
<li>éœ€è¦åœ¨Macå’ŒWindowsç«¯éƒ½èƒ½è®¿é—®è®ºæ–‡ç›®å½•ï¼Œä¸”å¯¹PDFæ–‡ä»¶çš„ä¿®æ”¹èƒ½å¤ŸåŒæ­¥ã€‚</li>
<li>PDFçš„å­˜å‚¨æœ€å¥½å’Œæ•°æ®åº“ç³»ç»Ÿåˆ†ç¦»ï¼Œä»¥ä¾¿æœç´¢ã€å•ç‹¬æ›´æ”¹æˆ–è®¿é—®ã€‚</li>
<li>éœ€è¦å¯¹è®ºæ–‡è¿›è¡Œå¯è‡ªå®šä¹‰æ ¼å¼çš„è‡ªåŠ¨é‡å‘½åã€‚</li>
<li>ç•Œé¢ä¸èƒ½å¤ªä¸‘ã€‚</li>
<li>æ”¯æŒé«˜åº¦è‡ªå®šä¹‰æˆ–æœ‰å……è¶³çš„åŠŸèƒ½ï¼Œæœ€å¥½å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚</li>
<li>æ”¯æŒå„ç§å¼•æ–‡æ ¼å¼ã€‚</li>
<li>æ”¯æŒLatexå’ŒWordçš„ä¾¿æ·å¼•ç”¨ï¼ŒWordæœ€å¥½æœ‰æ’ä»¶ã€‚</li>
<li>æ‹¥æœ‰è¾ƒå¤§çš„äº‘å­˜å‚¨ç©ºé—´ï¼Œè‡³å°‘è¶³ä»¥å­˜å‚¨æ‰€æœ‰çš„PDFæ–‡æ¡£ã€‚</li>
<li>å¯ä»¥ä»iPadä¸Šè®¿é—®å¹¶ä¸”å¯ä»¥åŒæ­¥ã€ä¸Šä¼ å¯¹è®ºæ–‡çš„æ›´æ”¹ã€‚</li>
<li>ä¸‰ä¸ªå¹³å°PDFé˜…è¯»å™¨é…ç½®æœ€å¥½ç»Ÿä¸€ï¼Œä»¥å…é«˜äº®ã€æ’å…¥æ–‡æœ¬ç­‰æ ¼å¼ä¸ä¸€ã€‚</li>
</ol>
<p>å½’çº³å‡ºçš„è¿™å‡ ç‚¹ä¾¿æ˜¯æˆ‘å¯¹è®ºæ–‡ç®¡ç†ç³»ç»Ÿçš„æ‰€æœ‰éœ€æ±‚äº†ã€‚ä¹‹åä¾¿æ˜¯å¯¹å„ç§è®ºæ–‡ç®¡ç†è½¯ä»¶çš„è¯•ç”¨å’Œç»„åˆã€‚è¿™é‡Œç›´å¥”ä¸»é¢˜ï¼Œç»™å‡ºæˆ‘ç°åœ¨çš„å…¨å¥—ç³»ç»Ÿé…ç½®åŠé€‰æ‹©çš„åŸå› ã€‚</p>
<h2 id="ç³»ç»Ÿé…ç½®">ç³»ç»Ÿé…ç½®</h2>
<ul>
<li>Macä¸Windowsç«¯ä¸»è®ºæ–‡ç®¡ç†è½¯ä»¶ï¼š<a href="https://www.zotero.org/">Zotero</a></li>
<li>ä¸»è¦æ’ä»¶ï¼š<a href="http://zotfile.com/">zotfile</a>ï¼Œ<a href="https://github.com/retorquere/zotero-better-bibtex">zotero-better-bibtex</a></li>
<li>Macã€Windowsä¸iPadç»Ÿä¸€PDFåŒæ­¥è½¯ä»¶ï¼šDropbox</li>
<li>Macã€Windowsä¸iPadç»Ÿä¸€PDFé˜…è¯»å™¨ï¼šAdobe Acrobat</li>
</ul>
<h2 id="é€‰ç”¨åŸå› ">é€‰ç”¨åŸå› </h2>
<h3 id="zotero">Zotero</h3>
<p>å„å¤§å¹³å°ä¸Šä»¥åŠZoteroå®˜ç½‘å¯¹å…¶è®²è§£éƒ½å¾ˆå¤šä¹Ÿå¾ˆå……åˆ†äº†ï¼Œå¦‚æœä½ èƒ½å¤Ÿå¹¶ä¸”æ„¿æ„èŠ±ä¸Šä¸€äº›æ—¶é—´æ¥è¿›è¡Œè‡ªå®šä¹‰é…ç½®ï¼Œå®ƒå°†æ˜¯ä¸€ä¸ªå¯ä»¥æ»¡è¶³å‡ ä¹æ‰€æœ‰å¯¹è®ºæ–‡ç®¡ç†éœ€æ±‚çš„ç»ˆæè½¯ä»¶ã€‚æˆ‘è¿™é‡ŒåªæŒ‡å‡ºä¸€äº›æˆ‘è®¤ä¸ºéå¸¸ä¸é”™çš„ç‰¹æ€§ã€‚</p>
<ol type="1">
<li>è·¨å¹³å°ã€‚Macï¼ŒWindowså’ŒLinuxéƒ½æœ‰æ”¯æŒã€‚</li>
<li>æµè§ˆå™¨è®ºæ–‡æŠ“å–æ’ä»¶å¾ˆå¥½ç”¨ã€‚æ—¢å¯ç›´æ¥æŠ“å–PDFæ–‡ç« ä¹‹åè§£æå‡ºè®ºæ–‡ï¼Œä¹Ÿå¯åœ¨å¦‚Google Scholarç­‰é¡µé¢ç›´æ¥æ‰¹é‡æŠ“å–æ·»åŠ è®ºæ–‡ç´¢å¼•ï¼Œå¹¶å†è‡ªåŠ¨ä¸‹è½½ç›¸åº”çš„PDFã€‚ç”šè‡³åœ¨ä¸€äº›ä½œä¸šæ€§è´¨çš„å°è®ºæ–‡ä¸­æœ‰æ—¶éœ€è¦ç›´æ¥å¼•ç”¨æŸä¸ªç½‘é¡µæˆ–æŸä¸ªæ–‡æ¡£ï¼Œå®ƒä¹Ÿå¯ä»¥ç›´æ¥ç”Ÿæˆæ¡ç›®ã€‚</li>
<li>æ”¯æŒå¤šçº§ç›®å½•ã€‚è¿™ä¸ªå¤šç†è®ºä¸Šä¼¼ä¹å¯ä»¥æ— é™å¤šä¸‹å»ï¼Œéå¸¸è‡ªç”±ã€‚</li>
<li>æœ‰å¾ˆå¥½ç”¨çš„Wordæ’ä»¶ï¼Œä½¿ç”¨ä½“éªŒä¸æ»‘æµç•…ã€‚</li>
<li>æ‹¥æœ‰åœ¨çº¿çš„åºå¤§å¼•ç”¨æ ¼å¼åº“ï¼ŒåŸºæœ¬å¯ä»¥æ‰¾åˆ°æ‰€æœ‰éœ€è¦çš„å¼•æ–‡æ ¼å¼ã€‚</li>
<li>å¯ä»¥åŠ è½½å¾ˆå¤šç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œå¦‚æ”¯æŒè‡ªå®šä¹‰æ ¼å¼é‡å‘½åçš„zotfileï¼Œé’ˆå¯¹è¾“å‡ºå¼•ç”¨è¿›è¡Œä¼˜åŒ–çš„better-bibtexç­‰ã€‚</li>
<li>å¯ä»¥å°†æ¡ç›®çš„PDFæ–‡ä»¶å‚¨å­˜ç›®å½•å•åˆ—å‡ºæ¥ï¼Œå­˜åˆ°ä¸€ä¸ªè‡ªå®šä¹‰çš„åœ°æ–¹ï¼Œæ¯”å¦‚Dropboxæ–‡ä»¶å¤¹å†…éƒ¨ã€‚</li>
</ol>
<h3 id="dropbox">Dropbox</h3>
<ol type="1">
<li>å› ä¸ºç°åœ¨åœ¨ç¾å›½è¯»ä¹¦ï¼ŒDropboxçš„æœåŠ¡ç›¸å¯¹æ¥è¯´æ˜¯å¿«é€Ÿä¸”ç¨³å®šçš„ã€‚</li>
<li>Dropboxçš„åŒæ­¥åŠŸèƒ½åšçš„éå¸¸å¥½ï¼Œè¿™ä¹Ÿæ˜¯å…¶åœ¨æ­¤é¢†åŸŸæ·±è€•å¤šå¹´çš„ç»“æœã€‚</li>
<li>æœ€é‡è¦ä¸€ç‚¹ï¼ŒDropboxåœ¨iPadä¸Šå’ŒAdobe Acrobatæœ‰ç€åŸç”Ÿçš„é›†æˆã€‚åœ¨Dropboxä¸­ä½¿ç”¨Acrobatæ‰“å¼€å¹¶ç¼–è¾‘æ–‡ä»¶ï¼Œå…¶ä¿®æ”¹æ˜¯å¯ä»¥ç›´æ¥åŒæ­¥åˆ°Dropboxäº‘ç«¯çš„ã€‚è¿™ä¸€ç‚¹å¯¹äºç§»åŠ¨ç«¯æµè§ˆå’Œç¼–è¾‘è®ºæ–‡èµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</li>
<li>å…è´¹ç‰ˆè™½ç„¶åªæœ‰2Gåˆå§‹ç©ºé—´ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡é‚€è¯·å¥½å‹æ³¨å†Œè¾¾åˆ°æœ€å¤§çš„18Gã€‚è™½ç„¶ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œä½†æ˜¯å¯¹äºå­˜å‚¨è®ºæ–‡å·²ç»ç»°ç»°æœ‰ä½™äº†ã€‚ï¼ˆå¦è¿™ä¸ªé‚€è¯·æ³¨å†Œé€ç©ºé—´å¯ä»¥ç›´æ¥å»æ·˜å®æœç´¢ï¼Œå¯ä»¥ç”»å¾ˆå°‘çš„é’±å¾—åˆ°å¾ˆå¤šæ³¨å†ŒæœåŠ¡ï¼Œç›´è¾¾18Gã€‚ï¼‰</li>
</ol>
<h3 id="adobe-acrobat">Adobe Acrobat</h3>
<ol type="1">
<li>å¤šå¹³å°æ”¯æŒã€‚Macï¼ŒWindowsï¼ŒLinuxï¼ŒiOSï¼ŒAndroidéƒ½æœ‰ç€å¾ˆå¥½çš„æ”¯æŒã€‚</li>
<li>ä¸“ä¸šï¼Œæ”¯æŒå„ç§ç¼–è¾‘æ–¹å¼ã€‚å¸¸è§çš„é«˜äº®ã€ä¸‹åˆ’çº¿ã€æ·»åŠ æ–‡æœ¬ã€ç”»æ–¹æ¡†ã€åšæ‰¹æ³¨ç­‰è‡ªç„¶éƒ½æ˜¯æ”¯æŒçš„ã€‚</li>
<li>å¾ˆå¤šé«˜æ ¡éƒ½å’ŒAdobeå…¬å¸æœ‰ç€åè®®ï¼Œä½¿ç”¨å­¦ç”Ÿé‚®ç®±å¯ä»¥ç›´æ¥å…è´¹ä½¿ç”¨å…¨å¥—åŠŸèƒ½ã€‚</li>
<li>åŒå‰é¢æ‰€è¿°ï¼Œå…¶å’ŒDropboxçš„å…³è”æ€§æ”¯æŒæ˜¯æ•´å¥—ç³»ç»ŸæˆåŠŸçš„å…³é”®ã€‚</li>
</ol>
<h3 id="å¯¹æ¯”åŸå› ">å¯¹æ¯”åŸå› </h3>
<ol type="1">
<li>ä¹‹å‰æœ‰åœ¨ç”¨Mendeleyï¼Œä½†æ˜¯å¯¹æ¯”Zoteroï¼Œå°¤å…¶æ˜¯å¯¹æ¯”Zoteroå’Œå…¶ç¬¬ä¸‰æ–¹æ’ä»¶çš„ä¸°å¯ŒåŠŸèƒ½åï¼Œå‰è€…æ˜æ˜¾åŠ›ä¸ä»å¿ƒã€‚å¦å¤–Windowsç‰ˆæœ¬å…¶ç•Œé¢æ²¡æœ‰é’ˆå¯¹é«˜åˆ†è¾¨ç‡è¿›è¡Œé€‚é…ï¼Œå¹¶ä¸”ä½¿ç”¨äº†é»˜è®¤çš„å®‹ä½“ï¼Œæ˜¾ç¤ºè‹±æ–‡ä¸‘é™‹ä¸å ªï¼Œä¸”æ— æ³•æ›´æ”¹ã€‚åœ¨è®ºå›ä¸Šçœ‹åˆ°æœ‰è®¸å¤šå›å‹å‡ å¹´å‰å°±æå‡ºäº†è¿™äº›é—®é¢˜ï¼Œç„¶è€Œæ˜¾ç„¶å¼€å‘è€…å¹¶æ²¡æœ‰åšå‡ºç›¸åº”ã€‚å¯¹æ¯”Zoteroï¼Œå…¶è®ºå›ç¯å¢ƒã€æ´»è·ƒç¨‹åº¦ä»¥åŠé—®é¢˜è§£å†³é€Ÿåº¦éƒ½ä¼šæ›´å¥½ã€‚</li>
<li>Endnoteæ˜¯æ”¶è´¹è½¯ä»¶ï¼Œæˆ‘å¹¶æ²¡æœ‰æ·±å…¥ä½¿ç”¨ï¼Œè¿™é‡Œä¸å¤šç½®è¯„ï¼Œä½†å„ä½å¯ä»¥å®¹æ˜“æŸ¥åˆ°Endnoteå’ŒZoteroçš„åŒºåˆ«ã€‚</li>
<li>iPadä¸Šä¹Ÿè€ƒè™‘è¿‡ä½¿ç”¨PDF Reader -- Document Expertä½œä¸ºæµè§ˆå’Œç¼–è¾‘è½¯ä»¶ï¼Œä½†æ˜¯ä»Dropboxæ‰“å¼€çš„æ–‡ä»¶ç¼–è¾‘åæ˜¯ä»¥å‰¯æœ¬çš„å½¢å¼å­˜åœ¨äº†æœ¬åœ°ï¼Œå¹¶æ²¡æœ‰è¢«åŒæ­¥ï¼Œè¿™æ˜¯æ— æ³•æ¥å—çš„ã€‚</li>
</ol>
<h2 id="é…ç½®ç»†èŠ‚">é…ç½®ç»†èŠ‚</h2>
<h3 id="zoteroè®¾ç½®éƒ¨åˆ†">Zoteroè®¾ç½®éƒ¨åˆ†</h3>
<ol type="1">
<li>åœ¨æ‰€æœ‰éœ€è¦åŒæ­¥çš„ç”µè„‘ä¸Šç™»å½•Zoteroçš„è´¦å·ï¼Œå¦‚æ²¡æœ‰ï¼Œè¯·æ³¨å†Œã€‚</li>
<li>æ‰“å¼€è®¾ç½®ï¼Œæ›´æ”¹<code>Files and Folders</code> ä¸­çš„<code>Base Directory</code>é€‰é¡¹ä¸ºä½ çš„åŒæ­¥ç›˜åœ°å€ï¼Œå¦‚Dropboxï¼ŒOneDriveï¼Œåšæœäº‘ç­‰ã€‚è¯·ä¸è¦åŠ¨ä¸‹é¢çš„<code>Data Directory Location</code>ï¼Œè¿™ä¸ªæ˜¯Zoteroçš„æ€»ä½“æ•°æ®åº“çš„åœ°å€ï¼Œä¸å»ºè®®æ”¾åˆ°äº‘æ–‡ä»¶å¤¹ä¸‹ï¼Œå› ä¸ºåªè¦æœ‰ä¸¤ä¸ªç«¯åŒæ—¶ä½¿ç”¨Zoteroè¿™ä¸ªåŒæ­¥å°±å´©æ‰äº†ã€‚</li>
</ol>
<figure>
<img src="/2020/04/26/paper-zotero-dropbox/image-20191110225913571.png" alt="image-20191110225913571"><figcaption aria-hidden="true">image-20191110225913571</figcaption>
</figure>
<ol start="3" type="1">
<li>å®‰è£…<a href="http://zotfile.com/">zotfile</a>ã€‚æ›´æ”¹æœ‰å…³æ–‡ä»¶çš„è®¾ç½®ã€‚</li>
</ol>
<p>ä»Toolsæ è¿›å…¥ZotFile Preference</p>
<figure>
<img src="/2020/04/26/paper-zotero-dropbox/image-20191110230601630.png" alt="image-20191110230601630"><figcaption aria-hidden="true">image-20191110230601630</figcaption>
</figure>
<p>æ›´æ”¹PDFæ–‡ä»¶å­˜å‚¨ä½ç½®ã€‚è¿™é‡Œæ˜¯æŠŠæ–‡ä»¶å‚¨å­˜åˆ°äº‘ç›˜çš„å…³é”®æ­¥éª¤ã€‚ä¸Šé¢é‚£ä¸ªæ›´æ”¹æ–‡ä»¶å­˜å‚¨åœ°å€çš„ä½œç”¨æ˜¯æŒ‡å®šæœªæ¥åŠ å…¥çš„PDFæ–‡ä»¶çš„å­˜å‚¨åœ°å€ï¼Œè€Œè¿™é‡Œæ˜¯æŠŠå·²ç»åœ¨åº“çš„æ–‡ä»¶ç§»åŠ¨åˆ°è¿™ä¸ªåœ°å€ã€‚ä¸¤ä¸ªåœ°å€ç›¸åŒã€‚</p>
<figure>
<img src="/2020/04/26/paper-zotero-dropbox/image-20191110230944192.png" alt="image-20191110230944192"><figcaption aria-hidden="true">image-20191110230944192</figcaption>
</figure>
<p>æ›´æ”¹é‡å‘½åç›¸å…³çš„è®¾ç½®ã€‚è¿™é‡Œçš„%yå°±æ˜¯è®ºæ–‡å‘è¡¨å¹´ä»½ï¼Œ%jæ˜¯æœŸåˆŠåï¼Œ%tæ˜¯è®ºæ–‡æ ‡é¢˜ã€‚è€Œä¸­é—´çš„ä¸‹åˆ’çº¿åˆ™åªæ˜¯å•çº¯çš„ä¼šåœ¨é‡å‘½ååçš„æ–‡ä»¶åä¸­çš„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´åŠ ä¸€ä¸ªä¸‹æ»‘çº¿ç½¢äº†ï¼Œè¿™é‡Œå¯ä»¥æ›¿æ¢åšä»»æ„ã€‚</p>
<figure>
<img src="/2020/04/26/paper-zotero-dropbox/image-20191110230654373.png" alt="image-20191110230654373"><figcaption aria-hidden="true">image-20191110230654373</figcaption>
</figure>
<p>åœ¨ä½ çš„æ‰€æœ‰éœ€è¦åŒæ­¥çš„ç”µè„‘ä¸Šåšå®Œä¸Šè¿°æ­¥éª¤åï¼Œå¦‚æœä½ ä¹‹å‰æ²¡æœ‰Zoteroæˆ–å®ƒæ˜¯å…¨æ–°çš„æ²¡æœ‰æ¡ç›®ï¼Œé‚£ä½ çš„è®¾å®šå·²ç»ç»“æŸã€‚å¦‚æœåº“ä¸­å·²æœ‰å¾ˆå¤šè®ºæ–‡ï¼Œæƒ³è¦ç›´æ¥ç§»åŠ¨åˆ°Dropboxç›¸åº”ç›®å½•ä¸‹ï¼Œé‚£ä¹ˆè¯·æ‰§è¡Œä¸‹ä¸€æ­¥ï¼š</p>
<ol start="4" type="1">
<li>ç§»åŠ¨ä¸é‡å‘½åå·²æœ‰æ–‡ä»¶</li>
</ol>
<figure>
<img src="/2020/04/26/paper-zotero-dropbox/image-20191110231928468.png" alt="image-20191110231928468"><figcaption aria-hidden="true">image-20191110231928468</figcaption>
</figure>
<p>ç‚¹å‡» My Libraryï¼Œå…¨é€‰æ‰€æœ‰æ¡ç›®ï¼Œå³é”®é€‰æ‹©<code>Manage Attachments</code>-&gt;<code>Rename Attachments</code>å¼€å§‹ç§»åŠ¨å’Œé‡å‘½åã€‚</p>
<figure>
<img src="/2020/04/26/paper-zotero-dropbox/image-20191110232045736.png" alt="image-20191110232045736"><figcaption aria-hidden="true">image-20191110232045736</figcaption>
</figure>
<figure>
<img src="/2020/04/26/paper-zotero-dropbox/image-20191110232150562.png" alt="image-20191110232150562"><figcaption aria-hidden="true">image-20191110232150562</figcaption>
</figure>
<h3 id="ipadè®¾ç½®éƒ¨åˆ†">iPadè®¾ç½®éƒ¨åˆ†</h3>
<ol type="1">
<li>ä¸‹è½½Dropboxå’ŒAcrobatã€‚</li>
<li>æ‰“å¼€Dropboxï¼Œè¿›å…¥ä½ çš„è®ºæ–‡åŒæ­¥æ–‡ä»¶å¤¹ï¼Œä»»é€‰ä¸€ç¯‡ç‚¹å‡»æ‰“å¼€</li>
<li>å³ä¸‹è§’æ‰¾åˆ°ä¸€ä¸ªå…‰æ ‡é”®ï¼Œç‚¹å‡»ï¼Œä¼šæç¤ºç”¨Adobe Acrobat Readeræ‰“å¼€ã€‚</li>
<li>All set.</li>
</ol>
<figure>
<img src="/2020/04/26/paper-zotero-dropbox/IMG_2601.jpg" alt="IMG_2601"><figcaption aria-hidden="true">IMG_2601</figcaption>
</figure>
]]></content>
      <tags>
        <tag>tool</tag>
        <tag>paper</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonè°ƒç”¨éç›¸åŒæ–‡ä»¶å¤¹ä¸‹çš„MATLABæ–‡ä»¶</title>
    <url>/2018/08/23/py-call-matlab-in-dif-folder/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h1>
<p>Pythonå¦‚ä½•è°ƒç”¨éç›¸åŒæ–‡ä»¶å¤¹ä¸‹çš„MATLABæ–‡ä»¶ã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆ</h1>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matlab.engine</span><br><span class="line">eng = matlab.engine.start_matlab()</span><br><span class="line">eng.addpath(<span class="string">&#x27;./matlab_source_code&#x27;</span>)</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>Pycharmä¸­ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</title>
    <url>/2018/08/27/pycharm-virtual-env/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h1>
<p>å¦‚ä½•åœ¨Pycharmä¸­ä½¿ç”¨ç”¨äºæŸä¸ªappçš„ç‰¹å®šçš„è™šæ‹Ÿç¯å¢ƒ</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆ</h1>
<p>Once a virtual environment is created, it can be added to the list of available interpreters, as a local interpreter.</p>
<h2 id="to-add-an-existing-virtual-environment-to-the-list-of-available-interpreters"><a class="markdownIt-Anchor" href="#to-add-an-existing-virtual-environment-to-the-list-of-available-interpreters"></a> To add an existing virtual environment to the list of available interpreters</h2>
<ol>
<li>In the <a href="https://www.jetbrains.com/help/pycharm-edu/project-interpreter.html">Project Interpreter</a> page, click âš™ .</li>
<li>In the drop-down list, choose  Add .</li>
<li>In the <a href="https://www.jetbrains.com/help/pycharm-edu/select-path-dialog.html">Select Python Interpreter</a> dialog box that opens, choose the desired Python executable, and click OK.</li>
</ol>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>pycharm</tag>
      </tags>
  </entry>
  <entry>
    <title>Python åœ¨ç±»çš„é™æ€å‡½æ•°ä¸­è°ƒç”¨å¦ä¸€ä¸ªé™æ€å‡½æ•°</title>
    <url>/2020/03/04/python-call-static-in-static/</url>
    <content><![CDATA[<p>æœ‰ä¸¤ç§å¸¸è§è§£å†³åŠæ³•ï¼š</p>
<ol>
<li>è°ƒç”¨ç›®æ ‡å‡½æ•°çš„<code>__func__()</code>æ–¹æ³•ã€‚</li>
<li>ä½¿ç”¨<code>CLASS_NAME.target_func()</code>æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•æ›´åŠ å¹²å‡€ã€Pythonicã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Klass</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod  </span><span class="comment"># use as decorator</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">stat_func</span>():</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">42</span></span><br><span class="line"></span><br><span class="line">    _ANS = stat_func.__func__()  <span class="comment"># call the staticmethod</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">method</span>(<span class="params">self</span>):</span></span><br><span class="line">        ret = Klass.stat_func()</span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonçš„èµ‹å€¼ä¸æ·±æµ…æ‹·è´å®ä¾‹è§£æ</title>
    <url>/2020/02/11/python-copy/</url>
    <content><![CDATA[<h2 id="å¯¹è±¡æ˜¯ä¸€ä¸ªå®šå€¼">å¯¹è±¡æ˜¯ä¸€ä¸ªå®šå€¼</h2>
<p>æ­¤æ—¶ä¸‰ç§æ–¹æ³•çš„ä½œç”¨å®é™…ä¸Šæ˜¯ç›¸åŒçš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;äºšä¸å¨œ&quot;</span></span><br><span class="line">b = a</span><br><span class="line">c = copy.copy(a)</span><br><span class="line">d = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;æºï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&quot;èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(b))</span><br><span class="line">print(<span class="string">&quot;æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(c))</span><br><span class="line">print(<span class="string">&quot;æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(d))</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>è¾“å‡ºå¦‚ä¸‹:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">æºï¼šid(a)-&gt;&gt;&gt; 4394180400</span><br><span class="line">èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt; 4394180400</span><br><span class="line">æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt; 4394180400</span><br><span class="line">æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt; 4394180400</span><br></pre></td></tr></table></figure>
<p>å¦‚æœaçš„å€¼è¢«æ›´æ”¹ï¼Œåªæœ‰aæœ¬èº«çš„idä¼šæ”¹å˜ï¼Œbcdéƒ½ä¸å˜ã€‚</p>
<h2 id="å¯¹è±¡æ˜¯ä¸€ä¸ªå¼•ç”¨">å¯¹è±¡æ˜¯ä¸€ä¸ªå¼•ç”¨</h2>
<ul>
<li>é¦–å…ˆï¼Œå…ƒç»„ï¼Œæ•°ç»„ï¼Œå­—å…¸ï¼Œç±»ç­‰çš„æœ¬è´¨éƒ½æ˜¯å¼•ç”¨ï¼Œæˆ–ç§°ä¹‹ä¸ºâ€œæŒ‡é’ˆâ€ï¼Œæ¯ä¸ªå¼•ç”¨æŒ‡å‘çš„å®ä½“éƒ½æ˜¯æœ‰å…¶ç›¸åº”åœ°å€çš„ï¼Œæ¯”å¦‚è¿™é‡Œçš„<code>â€œäºšä¸å¨œâ€</code>åœ¨å†…å­˜ä¸­æœ‰ä¸€ä¸ªå…·ä½“çš„åœ°å€ï¼Œè€Œ<code>[â€œäºšä¸å¨œâ€]</code>åˆ™æ˜¯ä¸€ä¸ªå¯¹äºå†…å­˜ä¸­â€œäºšä¸å¨œâ€å®ä½“çš„ä¸€ä¸ªå¼•ç”¨é›†ï¼Œè¿™ä¸ªå¼•ç”¨é›†æœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªç‹¬ç‰¹çš„åœ°å€ã€‚</li>
<li>å¯¹äºä¸å¯å˜å¯¹è±¡ï¼ŒPython ç”¨å¼•ç”¨è®¡æ•°çš„æ–¹å¼ç®¡ç†å®ƒä»¬ï¼Œæ‰€ä»¥ Python ä¸ä¼šå¯¹å€¼ç›¸åŒçš„ä¸å¯å˜å¯¹è±¡ï¼Œç”³è¯·å•ç‹¬çš„å†…å­˜ç©ºé—´ã€‚åªä¼šè®°å½•å®ƒçš„å¼•ç”¨æ¬¡æ•°ã€‚</li>
<li>ä½¿ç”¨â€œå¼•ç”¨é›†â€èµ‹å€¼æ˜¯æŠŠå¼•ç”¨é›†æœ¬èº«çš„åœ°å€èµ‹ç»™äº†å·¦è¾¹çš„å˜é‡ï¼Œå³ä¸€ä¸ªå¼•ç”¨çš„å¼•ç”¨ã€‚</li>
<li>ä½¿ç”¨èµ‹å€¼çš„æ–¹æ³•å¾—åˆ°çš„å¯¹è±¡ï¼Œå½“åŸâ€œå¼•ç”¨é›†â€ä¸­çš„ä»»ä½•å¼•ç”¨å‘ç”Ÿä»»ä½•æ”¹å˜æ—¶ï¼Œå…¶éƒ½ä¼šéšç€æ”¹å˜ï¼Œå°±åƒä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚ä½†å¦‚æœåŸâ€œå¼•ç”¨é›†â€ç›´æ¥è¢«è¦†ç›–äº†ï¼Œåˆ™ä¸ä¼šéšä¹‹æ”¹å˜ã€‚</li>
</ul>
<h3 id="ä¾‹">ä¾‹ï¼š</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸€ä½æ•°ç»„æ›´æ”¹å†…å±‚å…ƒç´ </span></span><br><span class="line">a=[<span class="string">&quot;äºšä¸å¨œ&quot;</span>]</span><br><span class="line">b=a</span><br><span class="line">b = a</span><br><span class="line">c = copy.copy(a)</span><br><span class="line">d = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>] = <span class="string">&quot;æ¡äºº&quot;</span></span><br><span class="line">print(<span class="string">&quot;æºï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&quot;èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(b))</span><br><span class="line">print(<span class="string">&quot;æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(c))</span><br><span class="line">print(<span class="string">&quot;æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(d))</span><br><span class="line">print(a,b,c,d)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æºï¼šid(a)-&gt;&gt;&gt; 4585988416</span></span><br><span class="line"><span class="string">èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt; 4585988416</span></span><br><span class="line"><span class="string">æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt; 4585374256</span></span><br><span class="line"><span class="string">æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt; 4585117648</span></span><br><span class="line"><span class="string">[&#x27;æ¡äºº&#x27;] [&#x27;æ¡äºº&#x27;] [&#x27;äºšä¸å¨œ&#x27;] [&#x27;äºšä¸å¨œ&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€ä½æ•°ç»„å®Œå…¨å˜æ›´</span></span><br><span class="line">a=[<span class="string">&quot;äºšä¸å¨œ&quot;</span>]</span><br><span class="line">b=a</span><br><span class="line">b = a</span><br><span class="line">c = copy.copy(a)</span><br><span class="line">d = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line">a=[<span class="string">&quot;åˆ©å…¹&quot;</span>]</span><br><span class="line">print(<span class="string">&quot;æºï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&quot;èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(b))</span><br><span class="line">print(<span class="string">&quot;æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(c))</span><br><span class="line">print(<span class="string">&quot;æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(d))</span><br><span class="line">print(a,b,c,d)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æºï¼šid(a)-&gt;&gt;&gt; 4586047600</span></span><br><span class="line"><span class="string">èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt; 4583430096</span></span><br><span class="line"><span class="string">æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt; 4585223344</span></span><br><span class="line"><span class="string">æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt; 4585988416</span></span><br><span class="line"><span class="string">[&#x27;åˆ©å…¹&#x27;] [&#x27;äºšä¸å¨œ&#x27;] [&#x27;äºšä¸å¨œ&#x27;] [&#x27;äºšä¸å¨œ&#x27;]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># äºŒç»´æ•°ç»„æ›´æ”¹æœ€å†…å±‚å…ƒç´ </span></span><br><span class="line">a=[[<span class="string">&quot;äºšä¸å¨œ&quot;</span>]]</span><br><span class="line">b=a</span><br><span class="line">b = a</span><br><span class="line">c = copy.copy(a)</span><br><span class="line">print(<span class="string">&quot;æºï¼ˆé‡èµ‹å€¼å‰ï¼‰ï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">d = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>][<span class="number">0</span>]=<span class="string">&quot;åˆ©å…¹&quot;</span></span><br><span class="line">print(<span class="string">&quot;æºï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&quot;èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(b))</span><br><span class="line">print(<span class="string">&quot;æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(c))</span><br><span class="line">print(<span class="string">&quot;æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(d))</span><br><span class="line">print(a,b,c,d)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æºï¼ˆé‡èµ‹å€¼å‰ï¼‰ï¼šid(a)-&gt;&gt;&gt; 4586327008</span></span><br><span class="line"><span class="string">æºï¼šid(a)-&gt;&gt;&gt; 4586327008</span></span><br><span class="line"><span class="string">èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt; 4586327008</span></span><br><span class="line"><span class="string">æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt; 4586041088</span></span><br><span class="line"><span class="string">æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt; 4585375216</span></span><br><span class="line"><span class="string">[[&#x27;åˆ©å…¹&#x27;]] [[&#x27;åˆ©å…¹&#x27;]] [[&#x27;åˆ©å…¹&#x27;]] [[&#x27;äºšä¸å¨œ&#x27;]]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># äºŒç»´æ•°ç»„æ›´æ”¹ç¬¬ä¸€ç»´</span></span><br><span class="line">a=[[<span class="string">&quot;äºšä¸å¨œ&quot;</span>]]</span><br><span class="line">b=a</span><br><span class="line">b = a</span><br><span class="line">c = copy.copy(a)</span><br><span class="line">print(<span class="string">&quot;æºï¼ˆé‡èµ‹å€¼å‰ï¼‰ï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">d = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>]=[<span class="string">&quot;åˆ©å…¹&quot;</span>]</span><br><span class="line">print(<span class="string">&quot;æºï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&quot;èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(b))</span><br><span class="line">print(<span class="string">&quot;æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(c))</span><br><span class="line">print(<span class="string">&quot;æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(d))</span><br><span class="line">print(a,b,c,d)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æºï¼ˆé‡èµ‹å€¼å‰ï¼‰ï¼šid(a)-&gt;&gt;&gt; 4585239328</span></span><br><span class="line"><span class="string">æºï¼šid(a)-&gt;&gt;&gt; 4585239328</span></span><br><span class="line"><span class="string">èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt; 4585239328</span></span><br><span class="line"><span class="string">æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt; 4586082944</span></span><br><span class="line"><span class="string">æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt; 4586327008</span></span><br><span class="line"><span class="string">[[&#x27;åˆ©å…¹&#x27;]] [[&#x27;åˆ©å…¹&#x27;]] [[&#x27;äºšä¸å¨œ&#x27;]] [[&#x27;äºšä¸å¨œ&#x27;]]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># äºŒç»´æ•°ç»„å®Œå…¨å˜æ›´</span></span><br><span class="line">a=[[<span class="string">&quot;äºšä¸å¨œ&quot;</span>]]</span><br><span class="line">b=a</span><br><span class="line">b = a</span><br><span class="line">c = copy.copy(a)</span><br><span class="line">print(<span class="string">&quot;æºï¼ˆé‡èµ‹å€¼å‰ï¼‰ï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">d = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line">a=[[<span class="string">&quot;åˆ©å…¹&quot;</span>]]</span><br><span class="line">print(<span class="string">&quot;æºï¼šid(a)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(a))</span><br><span class="line">print(<span class="string">&quot;èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(b))</span><br><span class="line">print(<span class="string">&quot;æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(c))</span><br><span class="line">print(<span class="string">&quot;æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt;&quot;</span>, <span class="built_in">id</span>(d))</span><br><span class="line">print(a,b,c,d)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">æºï¼ˆé‡èµ‹å€¼å‰ï¼‰ï¼šid(a)-&gt;&gt;&gt; 4586082944</span></span><br><span class="line"><span class="string">æºï¼šid(a)-&gt;&gt;&gt; 4585468704</span></span><br><span class="line"><span class="string">èµ‹å€¼ï¼šid(b)-&gt;&gt;&gt; 4586082944</span></span><br><span class="line"><span class="string">æµ…æ‹·è´ï¼šid(c)-&gt;&gt;&gt; 4586327008</span></span><br><span class="line"><span class="string">æ·±æ‹·è´ï¼šid(d)-&gt;&gt;&gt; 4586041088</span></span><br><span class="line"><span class="string">[[&#x27;åˆ©å…¹&#x27;]] [[&#x27;äºšä¸å¨œ&#x27;]] [[&#x27;äºšä¸å¨œ&#x27;]] [[&#x27;äºšä¸å¨œ&#x27;]]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>èµ‹å€¼æ˜¯å®Œå…¨çš„å¿«æ·æ–¹å¼ã€‚</li>
<li>æµ…æ‹·è´çš„å®è´¨æ˜¯å¯¹ä¸€ä¸ªâ€œå¼•ç”¨é›†â€çš„æ‰€æœ‰å¼•ç”¨çš„æ‹·è´ï¼Œå³æ‹·è´äº†ä¸€ä»½â€œå¼•ç”¨é›†â€ä¸­è®°å½•çš„æ‰€æœ‰çš„è¿™äº›çš„ä¸å¯å˜å¯¹è±¡çš„åœ°å€ï¼Œä½†åªæ‹·è´äº†ä¸€å±‚ï¼Œæˆ–ç§°å¹¶æ²¡æœ‰æŠŠè¿™äº›å¯¹è±¡æœ¬èº«æ‹·è´ä¸€éã€‚</li>
<li>å¦‚æœå¼•ç”¨é›†é‡Œè¿˜æœ‰å¼•ç”¨é›†xï¼Œé‚£ä¹ˆæµ…æ‹·è´å¯¹xçš„ä½œç”¨å’Œèµ‹å€¼ç›¸åŒï¼Œå³å¦‚æœxé‡Œçš„å…ƒç´ å˜äº†ï¼Œæµ…æ‹·è´çš„ç»“æœè¿˜æ˜¯ä¼šè·Ÿç€å˜ã€‚</li>
<li>æ·±æ‹·è´æŠŠæ‹·è´å¯¹è±¡é‡Œé¢çš„æ‰€æœ‰å±‚çš„å¼•ç”¨é›†å…¨éƒ¨åšäº†æ‹·è´åŠ¨ä½œï¼Œç›´åˆ°å¼•ç”¨åˆ°ä¸å¯å˜å˜é‡ï¼Œæ‰€ä»¥å¯ä»¥è¯´æ·±æ‹·è´å‡ºæ¥çš„ç»“æœå’Œå…¶æ‹·è´å¯¹è±¡æ²¡æœ‰ä»»ä½•è€¦åˆå…³ç³»äº†ã€‚</li>
</ul>
<h2 id="ç®€è¦ç‰ˆæœ¬">ç®€è¦ç‰ˆæœ¬</h2>
<ul>
<li>ç”±äº Python å†…éƒ¨å¼•ç”¨è®¡æ•°çš„ç‰¹æ€§ï¼Œå¯¹äºä¸å¯å˜å¯¹è±¡ï¼Œæµ…æ‹·è´å’Œæ·±æ‹·è´çš„ä½œç”¨æ˜¯ä¸€è‡´çš„ï¼Œå°±ç›¸å½“äºå¤åˆ¶äº†ä¸€ä»½å‰¯æœ¬ï¼ŒåŸå¯¹è±¡å†…éƒ¨çš„ä¸å¯å˜å¯¹è±¡çš„æ”¹å˜ï¼Œä¸ä¼šå½±å“åˆ°å¤åˆ¶å¯¹è±¡ã€‚</li>
<li>æµ…æ‹·è´çš„æ‹·è´ã€‚å…¶å®æ˜¯æ‹·è´äº†åŸå§‹å…ƒç´ çš„å¼•ç”¨ï¼ˆå†…å­˜åœ°å€ï¼‰ï¼Œæ‰€ä»¥å½“æ‹·è´å¯å˜å¯¹è±¡æ—¶ï¼ŒåŸå¯¹è±¡å†…å¯å˜å¯¹è±¡çš„å¯¹åº”å…ƒç´ çš„æ”¹å˜ï¼Œä¼šåœ¨å¤åˆ¶å¯¹è±¡çš„å¯¹åº”å…ƒç´ ä¸Šï¼Œæœ‰æ‰€ä½“ç°ã€‚</li>
<li>æ·±æ‹·è´åœ¨é‡åˆ°å¯å˜å¯¹è±¡æ—¶ï¼Œåˆåœ¨å†…éƒ¨åšäº†æ–°å»ºäº†ä¸€ä¸ªå‰¯æœ¬ã€‚æ‰€ä»¥ï¼Œä¸ç®¡å®ƒå†…éƒ¨çš„å…ƒç´ å¦‚ä½•å˜åŒ–ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°åŸæ¥å‰¯æœ¬çš„å¯å˜å¯¹è±¡ã€‚</li>
</ul>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://juejin.im/post/5c6943266fb9a049ed316931">5å¼ å›¾å½»åº•ç†è§£Pythonä¸­çš„æµ…æ‹·è´ä¸æ·±æ‹·è´</a></p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python Data Visualization Libs Comparing</title>
    <url>/2018/08/11/python-data-visualization/</url>
    <content><![CDATA[<h1 id="python-data-visualization-comparing-5-tools">Python Data Visualizationâ€Šâ€”â€ŠComparing 5 Tools</h1>
<h3 id="èƒŒæ™¯ä»‹ç»">èƒŒæ™¯ä»‹ç»</h3>
<p>æœ¬æ¬¡ç”±äºé¡¹ç›®éœ€è¦ï¼Œè¦å°†æ·±åº¦å­¦ä¹ é¢„æµ‹å‡ºæ¥çš„æ•°æ®ï¼ˆ41x9çš„çŸ©é˜µï¼‰å’ŒLabelçŸ©é˜µè¿›è¡Œå¯¹æ¯”ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œ3Då¯è§†åŒ–ï¼Œå› è€Œå¯¹æ¯”äº†å‡ ä¸ªå¸¸è§çš„pythonæ•°æ®å¯è§†åŒ–åº“ã€‚</p>
<span id="more"></span>
<h4 id="ç®€å•è¯´ä¸‹å¯¹æ¯”ç»“æœ">ç®€å•è¯´ä¸‹å¯¹æ¯”ç»“æœï¼š</h4>
<ol type="1">
<li><p>æœ€ç»ˆé‡‡ç”¨Plotlyåº“ï¼Œå› ä¸ºå…¶å®Œç¾æ”¯æŒ3Dç»˜å›¾ï¼Œå¹¶ä¸”æä¾›å¯äº¤äº’çš„HTML5æ ¼å¼è¾“å‡ºï¼Œè¿™å¯¹äºéœ€è¦ä¸æ–­è°ƒæ•´è§’åº¦å’Œå¤§å°çš„æ•°æ®è§‚å¯Ÿæ¥è¯´è‡³å…³é‡è¦ã€‚æ•ˆæœå¦‚ä¸‹å›¾ï¼šä½ ä¸ä½†å¯ä»¥å¾—åˆ°æ¼‚äº®çš„ç»˜å›¾ï¼Œè¿˜å¯ä»¥é€šè¿‡é¼ æ ‡å·¦å³é”®ã€æ»šè½®è½»æ¾è°ƒæ•´å°ºåº¦ã€æ–¹å‘ç­‰å…³é”®å‚æ•°ï¼Œæ›´å¯ä»¥é€šè¿‡å³ä¸Šè§’çš„å„ç§å·¥å…·è¿›è¡Œè¿›ä¸€æ­¥è°ƒæ•´ã€‚å½“ç„¶ï¼Œå…¶ä¹Ÿæ”¯æŒ3Då›¾çš„Subplotã€‚</p>
<figure>
<img src="/2018/08/11/python-data-visualization/0069RVTdly1fu6sramtv3j317u0nsjyv.jpg" alt="image-20180811231857431"><figcaption aria-hidden="true">image-20180811231857431</figcaption>
</figure>
<ol start="2" type="1">
<li>Plotly åº“çš„ç¼ºç‚¹ï¼šè¿™ä¸ªåº“å¹¶ä¸æ˜¯å®Œå…¨å…è´¹çš„ã€‚å°½ç®¡è¿™æ ·ï¼ŒåŸºæœ¬ä¸ä¼šå½±å“ä½ çš„æ­£å¸¸ä½¿ç”¨ï¼Œé™¤éä½ ç”¨forå¾ªç¯é«˜é€Ÿä¸‹è½½æˆç™¾ä¸Šåƒå¼ å›¾ç‰‡ã€‚å…¶æ¯å¤©ç”»å›¾æ•°ç›®æ˜¯æ— é™çš„ï¼Œä¸è¿‡ä¿å­˜åªæœ‰100å¼ é™é¢ã€‚å…¶æœ‰åœ¨çº¿å’Œç¦»çº¿ä¸¤ç§æ¨¡å¼ï¼Œåœ¨çº¿æ”¯æŒç›´æ¥ä¿å­˜ï¼Œç¦»çº¿å¾ˆéº»çƒ¦ã€‚å¦å¤–ï¼Œå®é™…ä¸Šç¦»çº¿ä¼šæ¯”åœ¨çº¿æ›´å¿«ã€‚</li>
<li>Bokehï¼šè¿™ä¸ªåº“åœ¨äºŒä½ç»Ÿè®¡ç»˜å›¾ä¸Šæ˜¯æœ‰å¾ˆå¤§å¸å¼•åŠ›çš„ã€‚å›¾åƒè´¨é‡å¾ˆé«˜ï¼Œæä¾›çš„é…è‰²å¾ˆç²¾ç¾ï¼Œå¹¶ä¸”ä¹Ÿæ”¯æŒé¼ æ ‡äº¤äº’ï¼Œæ”¯æŒå¤šå¹…å›¾å…±äº«ä¸€ä»½æ•°æ®å¹¶ä¸”äº¤äº’æ—¶åŒæ­¥å˜åŒ–ï¼Œç‰¹è‰²æ˜æ˜¾ã€‚ä½†å¯¹3Dç”»å›¾æ”¯æŒè¾ƒå·®ã€‚</li>
</ol></li>
</ol>
<h4 id="ä¸‹é¢æ˜¯å¼•æ–‡">ä¸‹é¢æ˜¯<a href="https://codeburst.io/overview-of-python-data-visualization-tools-e32e1f716d10">å¼•æ–‡</a>ï¼š</h4>
<h3 id="introduction">Introduction</h3>
<p>Big data and analytics can be beautifully presented by using visualization tools in Python. Python is a great programming language with variety of options. It is object oriented, semantically structured and great for scripting programs as well as connecting other programmable components. Python is a favorite tool for programmers and data scientists because itâ€™s easy to learn, and the extensive list of built-in features and importable libraries contribute to increased productivity. The Python language has been around for nearly 30 years and the numerous user contributed libraries (e.g. Pandas) have many use cases, such as image modification, data analysis, and server automation. This means that sometimes it can be really difficult to pick the right tool for data analysis or visualization and figure out which one to use. For this purpose, different visualization methods in Python have been summarized, rendered and explained. The techniques were done within the same amount of time and same data sets to demonstrate the difference between each output. The point of the comparison is to understand which visualization tool is the simplest and visually presentable at the same time.</p>
<h3 id="essential-visualization-tools">Essential Visualization Tools</h3>
<p>The most common type of visualization is a simple bar chart. It is popular and commonly used type of visualization to make comparison between values and variety of categories. It can be vertically or horizontally oriented by adjusting x and y axes, depending on what kind of information or categories the chart requires to present. Parameters need to be identified, such as axes, similarities, title and decided on what exactly the visualization supposed to show. To make a simple bar chart, a number some of the most popular tools and libraries that have been invented for plotting the data could be utilized. These include the most used and common tools such as: Pandas, Seaborn, Bokeh, Pygal and Ploty.</p>
<p>Python libraries overview with analyzed examples below contain illustrative samples of the tools with data-set taken from <a href="https://mchb.hrsa.gov/whusa10/hstat/mh/pages/237mm.html">Womenâ€™s Health USA</a>. The data includes maternal mortality rates evaluated by age in five rows and titles in two columns to keep it simple. Same data set is being used for all examples that are demonstrated below. Additionally, just like any other programming language issues, errors or questions with the libraries can be found on stack overflow page by Google search.</p>
<h4 id="pandas">Pandas</h4>
<p>First tool is Pandas. The Pandas name is derived from panel data, a term for multidimensional structured data-set. It is a free software that was developed by Wes McKinney in 2008 while working at Applied Quantitative Research Capital Management global firm based in Greenwich, Connecticut, United States. It all started when the company needed a productive, easy to use tool to analyze quantitative data on financial data-sets. By the end of 2009, Wes McKinney convinced management to permit him to open source the library and it is being supported by other contributors ever since, to make it even better.</p>
<p>The Pandas library became highly optimized for usage, with useful written code that provides high function and rich data structured design. It is fast and easy to implement and contains a software library that is used within Python for powerful data analysis and manipulating data visualization.</p>
<p>The main feature of Pandas is data-frame that supplies built in options for plotting visualization in two dimension tabular style. It is column oriented with row and columns structured style. Pandas works great with other libraries to create a wide variety of plots. Pandas data structure can have different written values as well as labels and their axes.</p>
<p>To start the data visualization, first step is to load the library and import the data. Usually, the data stored in .csv (comma separated values) file, where each column is separated by comma, and each row by a new line. To create a bar plot with Pandas the following Python input code can be used.</p>
<p>import numpy as np import pandas as pd mortality_age = pd.read_csv(â€œmortality_by_age.csvâ€) mortality_age = mortality_age.sort_values(â€˜Deaths per 100,000 Live Births:â€™, ascending = False)[:5] mortality_age.plot(kind = â€œbarâ€)</p>
<p>That code executes the plot with detailed columns and title with default colors and background. Figure 1 shows the following plot output.</p>
<figure>
<img src="/2018/08/11/python-data-visualization/1*grNVtaqUzJi76I-X_dXuPA.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>Pandas Simple Bar Chart Input Example</p>
<p>The simple form of this plot looks acceptable and easy to read. The bar chart looks nice and clean. However, it is impossible to customize the graph into more detailed visualization just by using Pandas.</p>
<h4 id="seaborn">Seaborn</h4>
<p>Second tool is Seaborn. This tool integrates great with Pandas. It was invented and developed by Michael Waskom in 2014. It is another open-source software library for data analysis and visualization. Seaborn is a popular library for making appealing statistical data graphs in Python. It provides high level of graphic interface for drawing platform and helps to easily identify patterns and draw attention to key elements. It includes built in themes for styling of informative data plots. It uses grid object method that connects the structure of the figure to the visual structure of the given data set. The main goal of this method is to simplify complicated plots. Additional, Seaborn offers variety of styles that allow to modify colors and make it look even more appealing.</p>
<p>To run the example, the following code below is needed:</p>
<p>import pandas as pd import seaborn as sns import matplotlib.pyplot as plt mortality_age = pd.read_csv(â€œmortality_by_age.csvâ€) mortality_age = mortality_age.sort_values(â€˜Deaths per 100,000 Live Births:â€™, ascending = False)[:5] sns.set(style=â€darkgridâ€) mortality_age_plot = sns.barplot(x=mortality_age [â€œAge Rangeâ€], y=mortality_age[â€œDeaths per 100,000 Live Births:â€], palette = â€œmutedâ€, order=mortality_age[â€œAge Rangeâ€].tolist()) plt.xticks(rotation=90) plt.show()</p>
<p>That code executes the plot with detailed titles, nicely colored bars and grid. Figure 2 shows what the bar chart looks like.</p>
<figure>
<img src="/2018/08/11/python-data-visualization/0069RVTdly1fu6rjp7se5j30dp0bsmx7.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>Seaborn Simple Bar Chart Input Example</p>
<p>This method made it possible to rotate x and y axis to make the categories and titles readable. The visual graphic looks appealing and more exciting than the previous one.</p>
<h4 id="bokeh">Bokeh</h4>
<p>Third tool is Bokeh. It is different from the previous two methods. It was developed by Anacondaâ€™s development team in 2012 with funding from Defence Advanced Research Projects Agency. Bokeh is an open source and free to use for any type of project. It is versatile, integrates great with javascript and novel graphics style. It is an interactive library that was created for modern web browsers to visualize highly interactive plots and data applications. Bokehâ€™s method can create any kind of graphical plot including dash boards and variety of charts.</p>
<p>The simple visualization of a bar chart is in the example below. It shows the standard method to plot the data.</p>
<p>from bokeh.charts import Bar, output_file, show mortality_age = pd.read_csv(â€œmortality_by_age.csvâ€) data = { â€˜Age Rangeâ€™: mortality_age[â€˜Age Rangeâ€™], â€˜Deaths per 100,000 Live Birthsâ€™: mortality_age[â€˜Deaths per 100,000 Live Births:â€™] }</p>
<p># x-axis labels pulled from the interpreter column, stacking labels from sample column bar = Bar(data, values=â€™Deaths per 100,000 Live Birthsâ€™, label=â€™Deaths per 100,000 Live Birthsâ€™, stack=â€™Age Rangeâ€™, agg=â€™meanâ€™, title=â€Maternal Deaths per 100,000 Live Birthsâ€, legend=â€™top_rightâ€™, width=400)</p>
<p>output_file(â€œbarchart.htmlâ€) show(bar)</p>
<p>The code opens up a browserâ€™s window and displays an HTML page with the plot. Figure 3 below displays the plotted output.</p>
<figure>
<img src="/2018/08/11/python-data-visualization/0069RVTdly1fu6rjqg2yoj309w0ecaap.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>Bokeh Simple Bar Chart Output Example</p>
<p>The graph looks much nicer and cleaner. Bokeh method has a lot of customization option and functionality. Even thought it looks nice, it does not make sense to use for a simple bar visualization.</p>
<h4 id="pygal">Pygal</h4>
<p>Forth tool is Pygal. It is a part of Pythonâ€™s library that exports vector charts in different shapes and styles. It was created by a developer named Florian Mounier in 2012. It is also an open source free library and has been widely used because of its high customization options and simplicity at the same time. Options for creating visualizations are wide open and include pie charts, bar graphs, histograms, maps and so on. It all depends on the required look and feel of the graphic.</p>
<p>To create a simple bar chart the following input code can be used:</p>
<p>import pygal horizontalbar_chart = pygal.HorizontalBar() horizontalbar_chart.title = â€˜Maternal Mortality By Age (in %)â€™ horizontalbar_chart.add(â€˜Under 20 Years:â€™, 7.1) horizontalbar_chart.add(â€˜20â€“24 Years:â€™, 8.1) horizontalbar_chart.add(â€˜25â€“29 Years:â€™, 9.4) horizontalbar_chart.add(â€˜30â€“34 Years: â€˜, 12.1) horizontalbar_chart.add(â€™35 Years and Older:â€™, 32.2) horizontalbar_chart.render()</p>
<p>The output of the vector file looks really nice and visually appealing in style. It does not provide a zooming effect same as in the previous method, however it includes tool-tip hover state. It can be embedded into a web-page by using tag or code. Figure 4 displays the plotted output.</p>
<figure>
<img src="/2018/08/11/python-data-visualization/0069RVTdly1fu6rjoiov8j30b0089q32.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>Pygal Simple Bar Chart Input Example</p>
<p>The interactive and vector nature of the image could be utilized widely in websites and data applications.</p>
<h4 id="plotly">Plotly</h4>
<p>Fifth tool is Plotly, also named as Plot.ly because of its main platform online. It is an interactive online visualization tool that is being used for data analytics, scientific graphs and other visualization. It contains a great API including one for Python. There are lot of interactive, professional quality visualizations online that were created with this module. Plotly was developed by multiple developers, including Alex Johnson, Chris Parmer, Jack Parmer and Matthew Sundquist. The tool was named one of the â€˜â€™Top 20 Hottest Innovative Companies in Canadaâ€™â€™ by the Canadian Innovation Exchange. It is different from other Pythonâ€™s libraries by being an interactive online tool for creating the renderings. Therefore, everything that is being created with this tool is posted on the web. The great thing about Plotly is that it integrates well with pandas. The simplest way to use it is through Plotlyâ€™s online tools and import the data by uploading the data set file. It has many convenient features to interact with, extract and visualize the data. Additionally, the tool accepts many formats, such as .xls, .xlsx, or .csv files.</p>
<p>Figure 5 shows the user interface and settings within the dashboard of the online tool.</p>
<figure>
<img src="/2018/08/11/python-data-visualization/0069RVTdly1fu6rjr8fztj30o70dngm0.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>Plotly User Interface Tool Online</p>
<p>Figure 5 above shows the resulted bar chart after executing provided parameters setup and imported data sets file.</p>
<p>The process generated an amazing and beautiful highly interactive bar chart with tool-tips and varieties of other tool options such as zooming effect, panning, selecting, auto-scale, moving, resetting and so on. It is easily modified by clicking on different parts and parameters of the graph without code knowledge.</p>
<h3 id="conclusions">Conclusions</h3>
<p>All the Big Data without proper visualization extremly difficult to analyze. Python is one of the most innovative and popular tool for data visualization. The good news that it does not take much to create visualization in Python since this language has been around for over twenty years and accumulated exclusive libraries. There are multiple tools and options to visualize the data. However, having variety of options complicates the matter and create confusion for users. Identifying proper method that should be used depends on a project requirements and expectations. The proper way is to test different techniques and understand which one is appropriate.</p>
<p>Various visualization methods have been demonstrated by using same data-set to plot a simple bar chart. By using most common techniques demonstrated here, Pandas is the simplest method for basic plots. While Seaborn is great for creating visually appealing statistical charts that include color. Bokeh works great for more complicated visualizations and ideal for web based interactive presentations. Pygal works well for generating vector and interactive files. However, it does not have flexibility as other methods. Plotly is the most useful and easiest option for creating web based highly interactive visualizations.</p>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>visualization</tag>
      </tags>
  </entry>
  <entry>
    <title>Pythonå¹¶è¡Œç¼–ç¨‹</title>
    <url>/2018/08/22/python-parallel-programming/</url>
    <content><![CDATA[<p>Python çš„å¤šçº¿ç¨‹å¯ä»¥ä¼˜åŒ–è®¸å¤šé«˜è€—æ—¶çš„é˜»å¡æ€§æ­¥éª¤ã€‚æ¯”å¦‚æœºå™¨å­¦ä¹ ä¸­çš„å‚¨å­˜æ¨¡å‹ç­‰æ­¥éª¤ï¼Œå¦‚æœä¸²è¡Œå‚¨å­˜ï¼Œä¼šæ¶ˆè€—æ‰å¤§é‡æ—¶é—´åœ¨å­˜æ¨¡å‹ä¸Šï¼ŒGPUå¥½çš„æ—¶å€™ç”šè‡³æ¯”è®­ç»ƒæ—¶é—´è¿˜é•¿ã€‚ã€‚ã€‚</p>
<span id="more"></span>
<h2 id="å…ˆç¥­ä¸Šè‡ªå·±çš„ä»£ç å®ç°">å…ˆç¥­ä¸Šè‡ªå·±çš„ä»£ç å®ç°</h2>
<h4 id="å®šä¹‰éƒ¨åˆ†">å®šä¹‰éƒ¨åˆ†</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line">lock = threading.Lock()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_models</span>(<span class="params">opt, net, epoch, train_loss, best_loss, test_loss</span>):</span></span><br><span class="line">    <span class="comment"># Save a temp model</span></span><br><span class="line">    train_loss = <span class="built_in">float</span>(train_loss)</span><br><span class="line">    best_loss = <span class="built_in">float</span>(best_loss)</span><br><span class="line">    test_loss = <span class="built_in">float</span>(test_loss)</span><br><span class="line">    <span class="keyword">if</span> opt.SAVE_TEMP_MODEL:</span><br><span class="line">        net.save(epoch, train_loss / opt.NUM_TRAIN, <span class="string">&quot;temp_model.dat&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Save the best model</span></span><br><span class="line">    <span class="keyword">if</span> test_loss / opt.NUM_TEST &lt; best_loss:</span><br><span class="line">        best_loss = test_loss / opt.NUM_TEST</span><br><span class="line">        net.save(epoch, train_loss / opt.NUM_TRAIN, <span class="string">&quot;best_model.dat&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> best_loss</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span>(<span class="params">threading.Thread</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, opt, net, epoch, train_loss, best_loss, test_loss</span>):</span></span><br><span class="line">        threading.Thread.__init__(self)</span><br><span class="line">        self.opt = opt</span><br><span class="line">        self.net = net</span><br><span class="line">        self.epoch = epoch</span><br><span class="line">        self.train_loss = train_loss</span><br><span class="line">        self.best_loss = best_loss</span><br><span class="line">        self.test_loss = test_loss</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        lock.acquire()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.best_loss = save_models(self.opt, self.net, self.epoch, self.train_loss, self.best_loss, self.test_loss)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            lock.release()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="è°ƒç”¨éƒ¨åˆ†">è°ƒç”¨éƒ¨åˆ†</h4>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">threads = []</span><br><span class="line"><span class="keyword">if</span> epoch &gt; <span class="number">0</span>:</span><br><span class="line">    threads[epoch-<span class="number">1</span>].join()</span><br><span class="line">    best_loss_temp = threads[epoch-<span class="number">1</span>].best_loss</span><br><span class="line">    <span class="keyword">if</span> best_loss_temp != best_loss:</span><br><span class="line">        print(<span class="string">&quot;==&gt; Best Model Renewed.&quot;</span>)</span><br><span class="line">        best_loss = best_loss_temp</span><br><span class="line">        threads.append(MyThread(opt, net, epoch, train_loss, best_loss, test_loss))</span><br><span class="line">        threads[epoch].start()</span><br></pre></td></tr></table></figure>
<h2 id="å†å¼•ç”¨ä¸€ä¸‹å»–é›ªå³°çš„éƒ¨åˆ†æ•™ç¨‹">å†å¼•ç”¨ä¸€ä¸‹<a href="https://www.liaoxuefeng.com">å»–é›ªå³°</a>çš„éƒ¨åˆ†<a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143192823818768cd506abbc94eb5916192364506fa5d000">æ•™ç¨‹</a>ï¼š</h2>
<p>å¤šä»»åŠ¡å¯ä»¥ç”±å¤šè¿›ç¨‹å®Œæˆï¼Œä¹Ÿå¯ä»¥ç”±ä¸€ä¸ªè¿›ç¨‹å†…çš„å¤šçº¿ç¨‹å®Œæˆã€‚</p>
<p>æˆ‘ä»¬å‰é¢æåˆ°äº†è¿›ç¨‹æ˜¯ç”±è‹¥å¹²çº¿ç¨‹ç»„æˆçš„ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚</p>
<p>ç”±äºçº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿç›´æ¥æ”¯æŒçš„æ‰§è¡Œå•å…ƒï¼Œå› æ­¤ï¼Œé«˜çº§è¯­è¨€é€šå¸¸éƒ½å†…ç½®å¤šçº¿ç¨‹çš„æ”¯æŒï¼ŒPythonä¹Ÿä¸ä¾‹å¤–ï¼Œå¹¶ä¸”ï¼ŒPythonçš„çº¿ç¨‹æ˜¯çœŸæ­£çš„Posix Threadï¼Œè€Œä¸æ˜¯æ¨¡æ‹Ÿå‡ºæ¥çš„çº¿ç¨‹ã€‚</p>
<p>Pythonçš„æ ‡å‡†åº“æä¾›äº†ä¸¤ä¸ªæ¨¡å—ï¼š<code>_thread</code>å’Œ<code>threading</code>ï¼Œ<code>_thread</code>æ˜¯ä½çº§æ¨¡å—ï¼Œ<code>threading</code>æ˜¯é«˜çº§æ¨¡å—ï¼Œå¯¹<code>_thread</code>è¿›è¡Œäº†å°è£…ã€‚ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨<code>threading</code>è¿™ä¸ªé«˜çº§æ¨¡å—ã€‚</p>
<p>å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å°±æ˜¯æŠŠä¸€ä¸ªå‡½æ•°ä¼ å…¥å¹¶åˆ›å»º<code>Thread</code>å®ä¾‹ï¼Œç„¶åè°ƒç”¨<code>start()</code>å¼€å§‹æ‰§è¡Œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time, threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°çº¿ç¨‹æ‰§è¡Œçš„ä»£ç :</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loop</span>():</span></span><br><span class="line">    print(<span class="string">&#x27;thread %s is running...&#x27;</span> % threading.current_thread().name)</span><br><span class="line">    n = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; <span class="number">5</span>:</span><br><span class="line">        n = n + <span class="number">1</span></span><br><span class="line">        print(<span class="string">&#x27;thread %s &gt;&gt;&gt; %s&#x27;</span> % (threading.current_thread().name, n))</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">    print(<span class="string">&#x27;thread %s ended.&#x27;</span> % threading.current_thread().name)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;thread %s is running...&#x27;</span> % threading.current_thread().name)</span><br><span class="line">t = threading.Thread(target=loop, name=<span class="string">&#x27;LoopThread&#x27;</span>)</span><br><span class="line">t.start()</span><br><span class="line">t.join()</span><br><span class="line">print(<span class="string">&#x27;thread %s ended.&#x27;</span> % threading.current_thread().name)</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">thread MainThread <span class="keyword">is</span> running...</span><br><span class="line">thread LoopThread <span class="keyword">is</span> running...</span><br><span class="line">thread LoopThread &gt;&gt;&gt; <span class="number">1</span></span><br><span class="line">thread LoopThread &gt;&gt;&gt; <span class="number">2</span></span><br><span class="line">thread LoopThread &gt;&gt;&gt; <span class="number">3</span></span><br><span class="line">thread LoopThread &gt;&gt;&gt; <span class="number">4</span></span><br><span class="line">thread LoopThread &gt;&gt;&gt; <span class="number">5</span></span><br><span class="line">thread LoopThread ended.</span><br><span class="line">thread MainThread ended.</span><br></pre></td></tr></table></figure>
<p>ç”±äºä»»ä½•è¿›ç¨‹é»˜è®¤å°±ä¼šå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œæˆ‘ä»¬æŠŠè¯¥çº¿ç¨‹ç§°ä¸ºä¸»çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹åˆå¯ä»¥å¯åŠ¨æ–°çš„çº¿ç¨‹ï¼ŒPythonçš„<code>threading</code>æ¨¡å—æœ‰ä¸ª<code>current_thread()</code>å‡½æ•°ï¼Œå®ƒæ°¸è¿œè¿”å›å½“å‰çº¿ç¨‹çš„å®ä¾‹ã€‚ä¸»çº¿ç¨‹å®ä¾‹çš„åå­—å«<code>MainThread</code>ï¼Œå­çº¿ç¨‹çš„åå­—åœ¨åˆ›å»ºæ—¶æŒ‡å®šï¼Œæˆ‘ä»¬ç”¨<code>LoopThread</code>å‘½åå­çº¿ç¨‹ã€‚åå­—ä»…ä»…åœ¨æ‰“å°æ—¶ç”¨æ¥æ˜¾ç¤ºï¼Œå®Œå…¨æ²¡æœ‰å…¶ä»–æ„ä¹‰ï¼Œå¦‚æœä¸èµ·åå­—Pythonå°±è‡ªåŠ¨ç»™çº¿ç¨‹å‘½åä¸º<code>Thread-1</code>ï¼Œ<code>Thread-2</code>â€¦â€¦</p>
<h3 id="lock">Lock</h3>
<p>å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºï¼Œå¤šè¿›ç¨‹ä¸­ï¼ŒåŒä¸€ä¸ªå˜é‡ï¼Œå„è‡ªæœ‰ä¸€ä»½æ‹·è´å­˜åœ¨äºæ¯ä¸ªè¿›ç¨‹ä¸­ï¼Œäº’ä¸å½±å“ï¼Œè€Œå¤šçº¿ç¨‹ä¸­ï¼Œæ‰€æœ‰å˜é‡éƒ½ç”±æ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œæ‰€ä»¥ï¼Œä»»ä½•ä¸€ä¸ªå˜é‡éƒ½å¯ä»¥è¢«ä»»ä½•ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹ï¼Œå› æ­¤ï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«æ•°æ®æœ€å¤§çš„å±é™©åœ¨äºå¤šä¸ªçº¿ç¨‹åŒæ—¶æ”¹ä¸€ä¸ªå˜é‡ï¼ŒæŠŠå†…å®¹ç»™æ”¹ä¹±äº†ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¦ç¡®ä¿<code>balance</code>è®¡ç®—æ­£ç¡®ï¼Œå°±è¦ç»™<code>change_it()</code>ä¸Šä¸€æŠŠé”ï¼Œå½“æŸä¸ªçº¿ç¨‹å¼€å§‹æ‰§è¡Œ<code>change_it()</code>æ—¶ï¼Œæˆ‘ä»¬è¯´ï¼Œè¯¥çº¿ç¨‹å› ä¸ºè·å¾—äº†é”ï¼Œå› æ­¤å…¶ä»–çº¿ç¨‹ä¸èƒ½åŒæ—¶æ‰§è¡Œ<code>change_it()</code>ï¼Œåªèƒ½ç­‰å¾…ï¼Œç›´åˆ°é”è¢«é‡Šæ”¾åï¼Œè·å¾—è¯¥é”ä»¥åæ‰èƒ½æ”¹ã€‚ç”±äºé”åªæœ‰ä¸€ä¸ªï¼Œæ— è®ºå¤šå°‘çº¿ç¨‹ï¼ŒåŒä¸€æ—¶åˆ»æœ€å¤šåªæœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰è¯¥é”ï¼Œæ‰€ä»¥ï¼Œä¸ä¼šé€ æˆä¿®æ”¹çš„å†²çªã€‚åˆ›å»ºä¸€ä¸ªé”å°±æ˜¯é€šè¿‡<code>threading.Lock()</code>æ¥å®ç°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">balance = <span class="number">0</span></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_thread</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100000</span>):</span><br><span class="line">        <span class="comment"># å…ˆè¦è·å–é”:</span></span><br><span class="line">        lock.acquire()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># æ”¾å¿ƒåœ°æ”¹å§:</span></span><br><span class="line">            change_it(n)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="comment"># æ”¹å®Œäº†ä¸€å®šè¦é‡Šæ”¾é”:</span></span><br><span class="line">            lock.release()</span><br></pre></td></tr></table></figure>
<p>å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œ<code>lock.acquire()</code>æ—¶ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æˆåŠŸåœ°è·å–é”ï¼Œç„¶åç»§ç»­æ‰§è¡Œä»£ç ï¼Œå…¶ä»–çº¿ç¨‹å°±ç»§ç»­ç­‰å¾…ç›´åˆ°è·å¾—é”ä¸ºæ­¢ã€‚</p>
<p>è·å¾—é”çš„çº¿ç¨‹ç”¨å®Œåä¸€å®šè¦é‡Šæ”¾é”ï¼Œå¦åˆ™é‚£äº›è‹¦è‹¦ç­‰å¾…é”çš„çº¿ç¨‹å°†æ°¸è¿œç­‰å¾…ä¸‹å»ï¼Œæˆä¸ºæ­»çº¿ç¨‹ã€‚æ‰€ä»¥æˆ‘ä»¬ç”¨<code>try...finally</code>æ¥ç¡®ä¿é”ä¸€å®šä¼šè¢«é‡Šæ”¾ã€‚</p>
<p>é”çš„å¥½å¤„å°±æ˜¯ç¡®ä¿äº†æŸæ®µå…³é”®ä»£ç åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹ä»å¤´åˆ°å°¾å®Œæ•´åœ°æ‰§è¡Œï¼Œåå¤„å½“ç„¶ä¹Ÿå¾ˆå¤šï¼Œé¦–å…ˆæ˜¯é˜»æ­¢äº†å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼ŒåŒ…å«é”çš„æŸæ®µä»£ç å®é™…ä¸Šåªèƒ½ä»¥å•çº¿ç¨‹æ¨¡å¼æ‰§è¡Œï¼Œæ•ˆç‡å°±å¤§å¤§åœ°ä¸‹é™äº†ã€‚å…¶æ¬¡ï¼Œç”±äºå¯ä»¥å­˜åœ¨å¤šä¸ªé”ï¼Œä¸åŒçš„çº¿ç¨‹æŒæœ‰ä¸åŒçš„é”ï¼Œå¹¶è¯•å›¾è·å–å¯¹æ–¹æŒæœ‰çš„é”æ—¶ï¼Œå¯èƒ½ä¼šé€ æˆæ­»é”ï¼Œå¯¼è‡´å¤šä¸ªçº¿ç¨‹å…¨éƒ¨æŒ‚èµ·ï¼Œæ—¢ä¸èƒ½æ‰§è¡Œï¼Œä¹Ÿæ— æ³•ç»“æŸï¼Œåªèƒ½é æ“ä½œç³»ç»Ÿå¼ºåˆ¶ç»ˆæ­¢ã€‚</p>
<h3 id="å¤šæ ¸cpu">å¤šæ ¸CPU</h3>
<p>å¦‚æœä½ ä¸å¹¸æ‹¥æœ‰ä¸€ä¸ªå¤šæ ¸CPUï¼Œä½ è‚¯å®šåœ¨æƒ³ï¼Œå¤šæ ¸åº”è¯¥å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ã€‚</p>
<p>å¦‚æœå†™ä¸€ä¸ªæ­»å¾ªç¯çš„è¯ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ</p>
<p>æ‰“å¼€Mac OS Xçš„Activity Monitorï¼Œæˆ–è€…Windowsçš„Task Managerï¼Œéƒ½å¯ä»¥ç›‘æ§æŸä¸ªè¿›ç¨‹çš„CPUä½¿ç”¨ç‡ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç›‘æ§åˆ°ä¸€ä¸ªæ­»å¾ªç¯çº¿ç¨‹ä¼š100%å ç”¨ä¸€ä¸ªCPUã€‚</p>
<p>å¦‚æœæœ‰ä¸¤ä¸ªæ­»å¾ªç¯çº¿ç¨‹ï¼Œåœ¨å¤šæ ¸CPUä¸­ï¼Œå¯ä»¥ç›‘æ§åˆ°ä¼šå ç”¨200%çš„CPUï¼Œä¹Ÿå°±æ˜¯å ç”¨ä¸¤ä¸ªCPUæ ¸å¿ƒã€‚</p>
<p>è¦æƒ³æŠŠNæ ¸CPUçš„æ ¸å¿ƒå…¨éƒ¨è·‘æ»¡ï¼Œå°±å¿…é¡»å¯åŠ¨Nä¸ªæ­»å¾ªç¯çº¿ç¨‹ã€‚</p>
<p>è¯•è¯•ç”¨Pythonå†™ä¸ªæ­»å¾ªç¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> threading, multiprocessing</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loop</span>():</span></span><br><span class="line">    x = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        x = x ^ <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(multiprocessing.cpu_count()):</span><br><span class="line">    t = threading.Thread(target=loop)</span><br><span class="line">    t.start()</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨ä¸CPUæ ¸å¿ƒæ•°é‡ç›¸åŒçš„Nä¸ªçº¿ç¨‹ï¼Œåœ¨4æ ¸CPUä¸Šå¯ä»¥ç›‘æ§åˆ°CPUå ç”¨ç‡ä»…æœ‰102%ï¼Œä¹Ÿå°±æ˜¯ä»…ä½¿ç”¨äº†ä¸€æ ¸ã€‚</p>
<p>ä½†æ˜¯ç”¨Cã€C++æˆ–Javaæ¥æ”¹å†™ç›¸åŒçš„æ­»å¾ªç¯ï¼Œç›´æ¥å¯ä»¥æŠŠå…¨éƒ¨æ ¸å¿ƒè·‘æ»¡ï¼Œ4æ ¸å°±è·‘åˆ°400%ï¼Œ8æ ¸å°±è·‘åˆ°800%ï¼Œä¸ºä»€ä¹ˆPythonä¸è¡Œå‘¢ï¼Ÿ</p>
<p>å› ä¸ºPythonçš„çº¿ç¨‹è™½ç„¶æ˜¯çœŸæ­£çš„çº¿ç¨‹ï¼Œä½†è§£é‡Šå™¨æ‰§è¡Œä»£ç æ—¶ï¼Œæœ‰ä¸€ä¸ªGILé”ï¼šGlobal Interpreter Lockï¼Œä»»ä½•Pythonçº¿ç¨‹æ‰§è¡Œå‰ï¼Œå¿…é¡»å…ˆè·å¾—GILé”ï¼Œç„¶åï¼Œæ¯æ‰§è¡Œ100æ¡å­—èŠ‚ç ï¼Œè§£é‡Šå™¨å°±è‡ªåŠ¨é‡Šæ”¾GILé”ï¼Œè®©åˆ«çš„çº¿ç¨‹æœ‰æœºä¼šæ‰§è¡Œã€‚è¿™ä¸ªGILå…¨å±€é”å®é™…ä¸ŠæŠŠæ‰€æœ‰çº¿ç¨‹çš„æ‰§è¡Œä»£ç éƒ½ç»™ä¸Šäº†é”ï¼Œæ‰€ä»¥ï¼Œå¤šçº¿ç¨‹åœ¨Pythonä¸­åªèƒ½äº¤æ›¿æ‰§è¡Œï¼Œå³ä½¿100ä¸ªçº¿ç¨‹è·‘åœ¨100æ ¸CPUä¸Šï¼Œä¹Ÿåªèƒ½ç”¨åˆ°1ä¸ªæ ¸ã€‚</p>
<p>GILæ˜¯Pythonè§£é‡Šå™¨è®¾è®¡çš„å†å²é—ç•™é—®é¢˜ï¼Œé€šå¸¸æˆ‘ä»¬ç”¨çš„è§£é‡Šå™¨æ˜¯å®˜æ–¹å®ç°çš„CPythonï¼Œè¦çœŸæ­£åˆ©ç”¨å¤šæ ¸ï¼Œé™¤éé‡å†™ä¸€ä¸ªä¸å¸¦GILçš„è§£é‡Šå™¨ã€‚</p>
<p>æ‰€ä»¥ï¼Œåœ¨Pythonä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œä½†ä¸è¦æŒ‡æœ›èƒ½æœ‰æ•ˆåˆ©ç”¨å¤šæ ¸ã€‚å¦‚æœä¸€å®šè¦é€šè¿‡å¤šçº¿ç¨‹åˆ©ç”¨å¤šæ ¸ï¼Œé‚£åªèƒ½é€šè¿‡Cæ‰©å±•æ¥å®ç°ï¼Œä¸è¿‡è¿™æ ·å°±å¤±å»äº†Pythonç®€å•æ˜“ç”¨çš„ç‰¹ç‚¹ã€‚</p>
<p>ä¸è¿‡ï¼Œä¹Ÿä¸ç”¨è¿‡äºæ‹…å¿ƒï¼ŒPythonè™½ç„¶ä¸èƒ½åˆ©ç”¨å¤šçº¿ç¨‹å®ç°å¤šæ ¸ä»»åŠ¡ï¼Œä½†å¯ä»¥é€šè¿‡å¤šè¿›ç¨‹å®ç°å¤šæ ¸ä»»åŠ¡ã€‚å¤šä¸ªPythonè¿›ç¨‹æœ‰å„è‡ªç‹¬ç«‹çš„GILé”ï¼Œäº’ä¸å½±å“ã€‚</p>
<h2 id="threadlocal">ThreadLocal</h2>
<p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æ•°æ®ã€‚ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨è‡ªå·±çš„å±€éƒ¨å˜é‡æ¯”ä½¿ç”¨å…¨å±€å˜é‡å¥½ï¼Œå› ä¸ºå±€éƒ¨å˜é‡åªæœ‰çº¿ç¨‹è‡ªå·±èƒ½çœ‹è§ï¼Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹ï¼Œè€Œå…¨å±€å˜é‡çš„ä¿®æ”¹å¿…é¡»åŠ é”ã€‚</p>
<p>ä½†æ˜¯å±€éƒ¨å˜é‡ä¹Ÿæœ‰é—®é¢˜ï¼Œå°±æ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œä¼ é€’èµ·æ¥å¾ˆéº»çƒ¦ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_student</span>(<span class="params">name</span>):</span></span><br><span class="line">    std = Student(name)</span><br><span class="line">    <span class="comment"># stdæ˜¯å±€éƒ¨å˜é‡ï¼Œä½†æ˜¯æ¯ä¸ªå‡½æ•°éƒ½è¦ç”¨å®ƒï¼Œå› æ­¤å¿…é¡»ä¼ è¿›å»ï¼š</span></span><br><span class="line">    do_task_1(std)</span><br><span class="line">    do_task_2(std)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_task_1</span>(<span class="params">std</span>):</span></span><br><span class="line">    do_subtask_1(std)</span><br><span class="line">    do_subtask_2(std)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_task_2</span>(<span class="params">std</span>):</span></span><br><span class="line">    do_subtask_2(std)</span><br><span class="line">    do_subtask_2(std)</span><br></pre></td></tr></table></figure>
<p>æ¯ä¸ªå‡½æ•°ä¸€å±‚ä¸€å±‚è°ƒç”¨éƒ½è¿™ä¹ˆä¼ å‚æ•°é‚£è¿˜å¾—äº†ï¼Ÿç”¨å…¨å±€å˜é‡ï¼Ÿä¹Ÿä¸è¡Œï¼Œå› ä¸ºæ¯ä¸ªçº¿ç¨‹å¤„ç†ä¸åŒçš„<code>Student</code>å¯¹è±¡ï¼Œä¸èƒ½å…±äº«ã€‚</p>
<p>å¦‚æœç”¨ä¸€ä¸ªå…¨å±€<code>dict</code>å­˜æ”¾æ‰€æœ‰çš„<code>Student</code>å¯¹è±¡ï¼Œç„¶åä»¥<code>thread</code>è‡ªèº«ä½œä¸º<code>key</code>è·å¾—çº¿ç¨‹å¯¹åº”çš„<code>Student</code>å¯¹è±¡å¦‚ä½•ï¼Ÿ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">global_dict = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">std_thread</span>(<span class="params">name</span>):</span></span><br><span class="line">    std = Student(name)</span><br><span class="line">    <span class="comment"># æŠŠstdæ”¾åˆ°å…¨å±€å˜é‡global_dictä¸­ï¼š</span></span><br><span class="line">    global_dict[threading.current_thread()] = std</span><br><span class="line">    do_task_1()</span><br><span class="line">    do_task_2()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_task_1</span>():</span></span><br><span class="line">    <span class="comment"># ä¸ä¼ å…¥stdï¼Œè€Œæ˜¯æ ¹æ®å½“å‰çº¿ç¨‹æŸ¥æ‰¾ï¼š</span></span><br><span class="line">    std = global_dict[threading.current_thread()]</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_task_2</span>():</span></span><br><span class="line">    <span class="comment"># ä»»ä½•å‡½æ•°éƒ½å¯ä»¥æŸ¥æ‰¾å‡ºå½“å‰çº¿ç¨‹çš„stdå˜é‡ï¼š</span></span><br><span class="line">    std = global_dict[threading.current_thread()]</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹å¼ç†è®ºä¸Šæ˜¯å¯è¡Œçš„ï¼Œå®ƒæœ€å¤§çš„ä¼˜ç‚¹æ˜¯æ¶ˆé™¤äº†<code>std</code>å¯¹è±¡åœ¨æ¯å±‚å‡½æ•°ä¸­çš„ä¼ é€’é—®é¢˜ï¼Œä½†æ˜¯ï¼Œæ¯ä¸ªå‡½æ•°è·å–<code>std</code>çš„ä»£ç æœ‰ç‚¹ä¸‘ã€‚</p>
<p>æœ‰æ²¡æœ‰æ›´ç®€å•çš„æ–¹å¼ï¼Ÿ</p>
<p><code>ThreadLocal</code>åº”è¿è€Œç”Ÿï¼Œä¸ç”¨æŸ¥æ‰¾<code>dict</code>ï¼Œ<code>ThreadLocal</code>å¸®ä½ è‡ªåŠ¨åšè¿™ä»¶äº‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå…¨å±€ThreadLocalå¯¹è±¡:</span></span><br><span class="line">local_school = threading.local()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_student</span>():</span></span><br><span class="line">    <span class="comment"># è·å–å½“å‰çº¿ç¨‹å…³è”çš„student:</span></span><br><span class="line">    std = local_school.student</span><br><span class="line">    print(<span class="string">&#x27;Hello, %s (in %s)&#x27;</span> % (std, threading.current_thread().name))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_thread</span>(<span class="params">name</span>):</span></span><br><span class="line">    <span class="comment"># ç»‘å®šThreadLocalçš„student:</span></span><br><span class="line">    local_school.student = name</span><br><span class="line">    process_student()</span><br><span class="line"></span><br><span class="line">t1 = threading.Thread(target= process_thread, args=(<span class="string">&#x27;Alice&#x27;</span>,), name=<span class="string">&#x27;Thread-A&#x27;</span>)</span><br><span class="line">t2 = threading.Thread(target= process_thread, args=(<span class="string">&#x27;Bob&#x27;</span>,), name=<span class="string">&#x27;Thread-B&#x27;</span>)</span><br><span class="line">t1.start()</span><br><span class="line">t2.start()</span><br><span class="line">t1.join()</span><br><span class="line">t2.join()</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Hello, Alice (<span class="keyword">in</span> Thread-A)</span><br><span class="line">Hello, Bob (<span class="keyword">in</span> Thread-B)</span><br></pre></td></tr></table></figure>
<p>å…¨å±€å˜é‡<code>local_school</code>å°±æ˜¯ä¸€ä¸ª<code>ThreadLocal</code>å¯¹è±¡ï¼Œæ¯ä¸ª<code>Thread</code>å¯¹å®ƒéƒ½å¯ä»¥è¯»å†™<code>student</code>å±æ€§ï¼Œä½†äº’ä¸å½±å“ã€‚ä½ å¯ä»¥æŠŠ<code>local_school</code>çœ‹æˆå…¨å±€å˜é‡ï¼Œä½†æ¯ä¸ªå±æ€§å¦‚<code>local_school.student</code>éƒ½æ˜¯çº¿ç¨‹çš„å±€éƒ¨å˜é‡ï¼Œå¯ä»¥ä»»æ„è¯»å†™è€Œäº’ä¸å¹²æ‰°ï¼Œä¹Ÿä¸ç”¨ç®¡ç†é”çš„é—®é¢˜ï¼Œ<code>ThreadLocal</code>å†…éƒ¨ä¼šå¤„ç†ã€‚</p>
<p>å¯ä»¥ç†è§£ä¸ºå…¨å±€å˜é‡<code>local_school</code>æ˜¯ä¸€ä¸ª<code>dict</code>ï¼Œä¸ä½†å¯ä»¥ç”¨<code>local_school.student</code>ï¼Œè¿˜å¯ä»¥ç»‘å®šå…¶ä»–å˜é‡ï¼Œå¦‚<code>local_school.teacher</code>ç­‰ç­‰ã€‚</p>
<p><code>ThreadLocal</code>æœ€å¸¸ç”¨çš„åœ°æ–¹å°±æ˜¯ä¸ºæ¯ä¸ªçº¿ç¨‹ç»‘å®šä¸€ä¸ªæ•°æ®åº“è¿æ¥ï¼ŒHTTPè¯·æ±‚ï¼Œç”¨æˆ·èº«ä»½ä¿¡æ¯ç­‰ï¼Œè¿™æ ·ä¸€ä¸ªçº¿ç¨‹çš„æ‰€æœ‰è°ƒç”¨åˆ°çš„å¤„ç†å‡½æ•°éƒ½å¯ä»¥éå¸¸æ–¹ä¾¿åœ°è®¿é—®è¿™äº›èµ„æºã€‚</p>
<h2 id="pythonå¦‚ä½•ä»çº¿ç¨‹ä¸­è¿”å›å€¼"><a href="https://zhuanlan.zhihu.com/p/21458868">Pythonå¦‚ä½•ä»çº¿ç¨‹ä¸­è¿”å›å€¼</a></h2>
<p>Python ä»å¤šçº¿ç¨‹ä¸­è¿”å›å€¼ï¼Œæœ‰å¤šç§æ–¹æ³•ï¼š</p>
<p>1ã€å¸¸è§çš„æœ‰å†™ä¸€ä¸ªè‡ªå·±çš„å¤šçº¿ç¨‹ç±»ï¼Œå†™ä¸€ä¸ªæ–¹æ³•è¿”å›ã€‚</p>
<p>2ã€å¯ä»¥è®¾ç½®ä¸€ä¸ªå…¨å±€çš„é˜Ÿåˆ—è¿”å›å€¼ã€‚</p>
<p>3ã€ä¹Ÿå¯ä»¥ç”¨multiprocessing.pool.ThreadPool ã€‚</p>
<p>ä¸‹é¢é»„å“¥å†™ä¸€ä¸ªç±»ä»çº¿ç¨‹ä¸­è¿”å›å€¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">number</span>):</span></span><br><span class="line">    time.sleep(<span class="number">20</span>)</span><br><span class="line">    <span class="keyword">return</span> number</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span>(<span class="params">Thread</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, number</span>):</span></span><br><span class="line">        Thread.__init__(self)</span><br><span class="line">        self.number = number</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.result = foo(self.number)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_result</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">thd1 = MyThread(<span class="number">3</span>)</span><br><span class="line">thd2 = MyThread(<span class="number">5</span>)</span><br><span class="line">thd1.start()</span><br><span class="line">thd2.start()</span><br><span class="line">thd1.join()</span><br><span class="line">thd2.join()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> thd1.get_result()</span><br><span class="line"><span class="built_in">print</span> thd2.get_result()</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>multi-thread</tag>
      </tags>
  </entry>
  <entry>
    <title>python å‡½æ•°å‚æ•°çš„ä¼ é€’(å‚æ•°å¸¦æ˜Ÿå·çš„è¯´æ˜)</title>
    <url>/2018/04/03/python-param-star/</url>
    <content><![CDATA[<p>æœ¬æ–‡è½¬è½½è‡ª<a href="http://www.cnblogs.com/smiler/archive/2010/08/02/1790132.html">CNBLOGS</a></p>
<p>pythonä¸­å‡½æ•°å‚æ•°çš„ä¼ é€’æ˜¯é€šè¿‡èµ‹å€¼æ¥ä¼ é€’çš„ã€‚å‡½æ•°å‚æ•°çš„ä½¿ç”¨åˆæœ‰ä¿©ä¸ªæ–¹é¢å€¼å¾—æ³¨æ„ï¼š1.å‡½æ•°å‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ 2.åœ¨è°ƒç”¨å‡½æ•°çš„è¿‡ç¨‹ä¸­å‚æ•°æ˜¯å¦‚ä½•è¢«è§£æ</p>
<span id="more"></span>
<p>å…ˆçœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨pythonä¸­å‡½æ•°å‚æ•°çš„å®šä¹‰ä¸»è¦æœ‰å››ç§æ–¹å¼ï¼š</p>
<h2 id="farg1arg2...">1. F(arg1,arg2,...)</h2>
<p>è¿™ æ˜¯æœ€å¸¸è§çš„å®šä¹‰æ–¹å¼ï¼Œä¸€ä¸ªå‡½æ•°å¯ä»¥å®šä¹‰ä»»æ„ä¸ªå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°é—´ç”¨é€—å·åˆ†å‰²ï¼Œç”¨è¿™ç§æ–¹å¼å®šä¹‰çš„å‡½æ•°åœ¨è°ƒç”¨çš„çš„æ—¶å€™ä¹Ÿå¿…é¡»åœ¨å‡½æ•°ååçš„å°æ‹¬å·é‡Œæä¾›ä¸ªæ•°ç›¸ç­‰çš„ å€¼ï¼ˆå®é™…å‚æ•°ï¼‰ï¼Œè€Œä¸”é¡ºåºå¿…é¡»ç›¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿™ç§è°ƒç”¨æ–¹å¼ä¸­ï¼Œå½¢å‚å’Œå®å‚çš„ä¸ªæ•°å¿…é¡»ä¸€è‡´ï¼Œè€Œä¸”å¿…é¡»ä¸€ä¸€å¯¹åº”ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€ä¸ªå½¢å‚å¯¹åº”è¿™ç¬¬ä¸€ä¸ªå®å‚ã€‚ä¾‹ å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a</span>(<span class="params">x,y</span>):</span></span><br><span class="line"><span class="built_in">print</span> x,y</span><br></pre></td></tr></table></figure>
<p>è°ƒç”¨è¯¥å‡½æ•°ï¼Œa(1,2)åˆ™xå–1ï¼Œyå–2ï¼Œå½¢å‚ä¸å®å‚ç›¸å¯¹åº”ï¼Œå¦‚æœa(1)æˆ–è€…a(1,2,3)åˆ™ä¼šæŠ¥é”™ã€‚</p>
<h2 id="farg1arg2value2...">2. F(arg1,arg2=value2,...)</h2>
<p>è¿™ç§æ–¹å¼å°±æ˜¯ç¬¬ä¸€ç§çš„æ”¹è¿›ç‰ˆï¼Œæä¾›äº†é»˜è®¤å€¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a</span>(<span class="params">x,y=<span class="number">3</span></span>):</span></span><br><span class="line"><span class="built_in">print</span> x,y</span><br></pre></td></tr></table></figure>
<p>è°ƒç”¨è¯¥å‡½æ•°ï¼Œa(1,2)åŒæ ·è¿˜æ˜¯xå–1ï¼Œyå–2ï¼Œä½†æ˜¯å¦‚æœa(1)ï¼Œåˆ™ä¸ä¼šæŠ¥é”™äº†ï¼Œè¿™ä¸ªæ—¶å€™xè¿˜æ˜¯1ï¼Œyåˆ™ä¸ºé»˜è®¤çš„3ã€‚ä¸Šé¢è¿™ä¿©ç§æ–¹å¼ï¼Œè¿˜å¯ä»¥æ›´æ¢å‚æ•°ä½ç½®ï¼Œæ¯”å¦‚a(y=8,x=3)ç”¨è¿™ç§å½¢å¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<h2 id="farg1">3. F(*arg1)</h2>
<p>ä¸Š é¢ä¿©ä¸ªæ–¹å¼æ˜¯æœ‰å¤šå°‘ä¸ªå½¢å‚ï¼Œå°±ä¼ è¿›å»å¤šå°‘ä¸ªå®å‚ï¼Œä½†æœ‰æ—¶å€™ä¼šä¸ç¡®å®šæœ‰å¤šå°‘ä¸ªå‚æ•°ï¼Œåˆ™æ­¤æ—¶ç¬¬ä¸‰ç§æ–¹å¼å°±æ¯”è¾ƒæœ‰ç”¨ï¼Œå®ƒä»¥ä¸€ä¸ª*åŠ ä¸Šå½¢å‚åçš„æ–¹å¼æ¥è¡¨ç¤ºè¿™ä¸ªå‡½æ•° çš„å®å‚ä¸ªæ•°ä¸å®šï¼Œå¯èƒ½ä¸º0ä¸ªä¹Ÿå¯èƒ½ä¸ºnä¸ªã€‚æ³¨æ„ä¸€ç‚¹æ˜¯ï¼Œä¸ç®¡æœ‰å¤šå°‘ä¸ªï¼Œåœ¨å‡½æ•°å†…éƒ¨éƒ½è¢«å­˜æ”¾åœ¨ä»¥å½¢å‚åä¸ºæ ‡è¯†ç¬¦çš„tupleä¸­ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">a</span>(<span class="params">*x</span>):</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(x)==<span class="number">0</span>:</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;None&#x27;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="built_in">print</span> x</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a(<span class="number">1</span>)</span><br><span class="line">(<span class="number">1</span>,)        <span class="comment">#å­˜æ”¾åœ¨å…ƒç»„ä¸­</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a()</span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a(m=<span class="number">1</span>,y=<span class="number">2</span>,z=<span class="number">3</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">File <span class="string">&quot;&lt;pyshell#16&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> -toplevel-</span><br><span class="line">a(m=<span class="number">1</span>,y=<span class="number">2</span>,z=<span class="number">3</span>)</span><br><span class="line">TypeError: a() got an unexpected keyword argument <span class="string">&#x27;m&#x27;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">File <span class="string">&quot;&lt;pyshell#25&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> -toplevel-</span><br><span class="line">a(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">TypeError: a() takes exactly <span class="number">0</span> arguments (<span class="number">2</span> given)</span><br></pre></td></tr></table></figure>
<h2 id="farg1-1">4. F(**arg1)</h2>
<p>å½¢å‚åå‰åŠ ä¿©ä¸ª*è¡¨ç¤ºï¼Œå‚æ•°åœ¨å‡½æ•°å†…éƒ¨å°†è¢«å­˜æ”¾åœ¨ä»¥å½¢å¼åä¸ºæ ‡è¯†ç¬¦çš„dictionaryä¸­ï¼Œè¿™æ—¶è°ƒç”¨å‡½æ•°çš„æ–¹æ³•åˆ™éœ€è¦é‡‡ç”¨arg1=value1,arg2=value2è¿™æ ·çš„å½¢å¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">a</span>(<span class="params">**x</span>):</span><span class="keyword">if</span> <span class="built_in">len</span>(x)==<span class="number">0</span>:<span class="built_in">print</span> <span class="string">&#x27;None&#x27;</span><span class="keyword">else</span>:<span class="built_in">print</span> x  &gt;&gt;&gt; a()<span class="literal">None</span>&gt;&gt;&gt; a(x=<span class="number">1</span>,y=<span class="number">2</span>)&#123;<span class="string">&#x27;y&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;x&#x27;</span>: <span class="number">1</span>&#125;      <span class="comment">#å­˜æ”¾åœ¨å­—å…¸ä¸­&gt;&gt;&gt; a(1,2)            #è¿™ç§è°ƒç”¨åˆ™æŠ¥é”™Traceback (most recent call last):</span></span><br><span class="line">File <span class="string">&quot;&lt;pyshell#25&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> -toplevel-</span><br><span class="line">a(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">TypeError: a() takes exactly <span class="number">0</span> arguments (<span class="number">2</span> given)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»‹ç»äº†å››ç§å®šä¹‰æ–¹å¼ï¼Œæ¥ä¸‹æ¥çœ‹å‡½æ•°å‚æ•°åœ¨è°ƒç”¨è¿‡ç¨‹ä¸­æ˜¯æ€ä¹ˆè¢«è§£æçš„,å…¶å®åªè¦è®°ä½ä¸Šé¢è¿™å››ç§æ–¹æ³•ä¼˜å…ˆçº§ä¾æ¬¡é™ä½ï¼Œå…ˆ1ï¼Œå2ï¼Œå†3ï¼Œæœ€å4ï¼Œä¹Ÿå°±æ˜¯å…ˆæŠŠæ–¹å¼1ä¸­çš„argè§£æï¼Œç„¶åè§£ææ–¹å¼2ä¸­çš„arg=valueï¼Œå†è§£ææ–¹å¼3ï¼Œå³æ˜¯æŠŠå¤šå‡ºæ¥çš„argè¿™ç§å½¢å¼çš„å®å‚ç»„æˆä¸ªtupleä¼ è¿›å»ï¼Œæœ€åæŠŠå‰©ä¸‹çš„key=valueè¿™ç§å½¢å¼çš„å®å‚ç»„æˆä¸€ä¸ªdictionaryä¼ ç»™å¸¦ä¿©ä¸ªæ˜Ÿå·çš„å½¢å‚ï¼Œä¹Ÿå°±æ–¹å¼4ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">x,y=<span class="number">1</span>,*a,**b</span>):</span></span><br><span class="line">    <span class="built_in">print</span> x,y,a,b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(<span class="number">1</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">1</span> () &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> () &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> (<span class="number">3</span>,) &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> (<span class="number">3</span>, <span class="number">4</span>) &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(x=<span class="number">1</span>,y=<span class="number">2</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> () &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(<span class="number">1</span>,a=<span class="number">2</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">1</span> () &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,a=<span class="number">4</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> (<span class="number">3</span>,) &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,y=<span class="number">4</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">File <span class="string">&quot;&lt;pyshell#52&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> -toplevel-</span><br><span class="line">test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,y=<span class="number">4</span>)</span><br><span class="line">TypeError: test() got multiple values <span class="keyword">for</span> keyword argument <span class="string">&#x27;y&#x27;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬¬ä¸€æŠŠPytorchå®ç°LSTMç»éªŒæ€»ç»“</title>
    <url>/2018/03/26/pytorch-first-lstm/</url>
    <content><![CDATA[<h2 id="lstmæ¨¡å‹ç®€ä»‹">LSTMæ¨¡å‹ç®€ä»‹</h2>
<h3 id="æ•´ä½“è®¤è¯†">æ•´ä½“è®¤è¯†ï¼š</h3>
<ul>
<li><p>ä¸‹å›¾æ˜¯LSTMæ¨¡å‹çš„åŸºæœ¬â€œç»†èƒâ€ï¼Œåœ¨å¤„ç†ä¸€ä¸ªå¥å­æ—¶ï¼Œæ¯ä¸ªå•è¯éƒ½å¯¹åº”ä¸€ä¸ªâ€œç»†èƒâ€ã€‚</p>
<img src="/2018/03/26/pytorch-first-lstm/03/26/pytorch-first-lstm/LSTM3-chain.png" class title="The repeating module in an LSTM contains four interacting layers">
<img src="/2018/03/26/pytorch-first-lstm/03/26/pytorch-first-lstm/LSTM2-notation.png" class title="Notion used above">
<span id="more"></span>
<h3 id="å…·ä½“æ„ä¹‰">å…·ä½“æ„ä¹‰ï¼š</h3></li>
<li><p>è´¯ç©¿ <span class="math display">\[C_{t-1}\]</span> å’Œ <span class="math inline">\(C_t\)</span> çš„ä¸€æ¡çº¿ä¸­åŒ…å«çš„ä¿¡æ¯æ˜¯è¿è´¯çš„å…¨æ–‡/å¥ä¸­è•´å«çš„ä¿¡æ¯ï¼Œå¯ä»¥ç†è§£ä¸ºä¸»å¹²å†…å®¹ã€‚</p>
<img src="/2018/03/26/pytorch-first-lstm/03/26/pytorch-first-lstm/LSTM3-C-line.png" class></li>
<li><p>LSTM å’Œæ™®é€š RNN ç›¸æ¯”, å¤šå‡ºäº†ä¸‰ä¸ªæ§åˆ¶å™¨. (è¾“å…¥æ§åˆ¶, è¾“å‡ºæ§åˆ¶, å¿˜è®°æ§åˆ¶)</p>
<img src="/2018/03/26/pytorch-first-lstm/03/26/pytorch-first-lstm/LSTM3-focus-f.png" class title="å¿˜è®°æ§åˆ¶ï¼ŒæŠŠå·²ç»ä¸é‡è¦çš„ä¿¡æ¯è¿‡æ»¤æ‰">
<img src="/2018/03/26/pytorch-first-lstm/03/26/pytorch-first-lstm/LSTM3-focus-i.png" class title="è¾“å…¥æ§åˆ¶ï¼ŒæŠŠæœ‰ä»·å€¼çš„ä¿¡æ¯æ”¾åˆ°ä¸»å¹²ä¸­">
<img src="/2018/03/26/pytorch-first-lstm/03/26/pytorch-first-lstm/LSTM3-focus-o.png" class title="è¾“å‡ºæ§åˆ¶ï¼ŒæŠŠæœ¬èŠ‚ç‚¹å’Œä¸»å¹²ä¸­çš„é‡è¦ä¿¡æ¯è¾“å‡º"></li>
<li><p>æ›´è¯¦ç»†çš„å†…å®¹è¯·å‚è§ï¼š<a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/">LSTMå§‹ç¥–çº§åšå®¢</a></p></li>
<li><p>LSTMæœ‰ä¸¤ç§ Input-&gt;Output æ¨¡å¼ï¼Œä¸€ç§æ˜¯ä¸€å¯¹ä¸€ï¼Œä¸€ç§æ˜¯å¤šå¯¹ä¸€ï¼Œå¦‚ä¸‹å›¾:</p>
<img src="/2018/03/26/pytorch-first-lstm/03/26/pytorch-first-lstm/LSTM_many_to_one_many_to_many.jpg" class title="LSTM Paterns">
<p>å…¶ä¸­ï¼Œè¿™é‡Œçš„â€œå¤šâ€å’Œâ€œä¸€â€æŒ‡çš„æ˜¯è¾“å…¥å’Œè¾“å‡ºèŠ‚ç‚¹ã€‚è¾“å…¥èŠ‚ç‚¹åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­æ„å‘³ç€ä¸€å¥è¯çš„å‡ ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯éƒ½ä¼šè¾“å‡ºä¸€ä¸ªhiddenå±‚çš„TensorFlowï¼Œè€Œå¦‚æœæˆ‘ä»¬æŠŠæ¯ä¸ªTensoréƒ½è€ƒè™‘å†åç»­çš„å±‚ä¸­ï¼Œæ¯”å¦‚åœ¨ç»™å¥å­ä¸­çš„æ¯ä¸ªå•è¯æ ‡æ³¨è¯æ€§çš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±æ˜¯â€œå¤šâ€ä¸ªå•è¯ -&gt; â€œå¤šâ€ä¸ªè¾“å‡ºï¼ˆæ‰“ä¸Šçš„æ ‡ç­¾ï¼‰ï¼›è€Œåƒæ˜¯å¥å­åˆ†ç±»æƒ…å†µä¸‹ï¼Œå°±æ˜¯â€œå¤šâ€ä¸ªå•è¯ -&gt; â€œä¸€â€ä¸ªè¾“å‡ºï¼ˆå¥å­çš„å…·ä½“åˆ†ç±»ï¼‰ã€‚</p></li>
</ul>
<h2 id="é‡‡å‘ç¬”è®°å®è·µ">é‡‡å‘ç¬”è®°ï¼ˆå®è·µï¼‰</h2>
<ul>
<li><p>é€å…¥DataLoaderä¸­çš„æ•°æ®ä¸€å®šè¦æ˜¯numpyæ•°ç»„ï¼Œä¸èƒ½æ˜¯list</p></li>
<li><p>è¿›å…¥DataLoaderä¸­çš„æ•°æ®å¦‚æœæœ‰å¥½å‡ å±‚ï¼Œå¿…é¡»ä¿è¯æ¯ä¸€å±‚éƒ½æ˜¯listä¸èƒ½æ˜¯numpyã€‚å¦‚ä¸€ä¸ªä¸‰å±‚æ•°ç»„ï¼Œæœ€å†…å±‚inneræ˜¯np.arrayï¼Œåˆ™è¦åšçš„æ“ä½œæ˜¯ï¼šnp.array(list[list[list(inner), â€¦],â€¦])ï¼Œå¦åˆ™ä¼šæŠ¥å„ç§å¥‡æ€ªçš„é”™è¯¯</p></li>
<li><p>è®¡ç®—lossçš„criterionä¸­çš„å„ä¸ªoutputã€labelç­‰å¿…é¡»æ˜¯autograd.Variableå˜é‡è€Œä¸æ˜¯torch.tensorç±»å‹</p></li>
<li><p>nn.CrossEntropyLoss(output, labels)ä¸­çš„labelsçš„ç±»å‹å¿…é¡»æ˜¯torch.LongTensorè€Œä¸æ˜¯torch.FloatTensor</p></li>
<li><p>è¯»å–æ•°æ®æœ€å¥½è¿˜æ˜¯è€è€å®å®ç”¨Dataloaderï¼Œå¦åˆ™è¿˜æ˜¯åŒæ ·çš„ï¼Œæ•°æ®æ ¼å¼å¯èƒ½ä¼šå‡ºæ„æƒ³ä¸åˆ°çš„é”™è¯¯</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Beibei</span>(<span class="params">Dataset</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, trainData, train_num, test_num, train=<span class="literal">True</span></span>):</span></span><br><span class="line">        self.train = train</span><br><span class="line">        self.train_num = train_num</span><br><span class="line">        self.test_num = test_num</span><br><span class="line">        <span class="keyword">if</span> self.train:</span><br><span class="line">            self.train_data = trainData[:train_num]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.test_data = trainData[train_num:train_num+test_num]</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span>(<span class="params">self, index</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.train:</span><br><span class="line">            sentence, label = self.train_data[index]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            sentence, label = self.test_data[index]</span><br><span class="line">        send2word = get_wordvecs(sentence=sentence)</span><br><span class="line">        <span class="keyword">return</span> send2word, label</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.train:</span><br><span class="line">            <span class="keyword">return</span> self.train_num</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.test_num</span><br></pre></td></tr></table></figure></li>
<li><p>æ³¨æ„åœ¨ä¸€ä¸ªcellé‡Œé¢å®šä¹‰äº†å‡½æ•°ï¼Œæœ‰æ—¶å€™ä¼šé¡ºä¾¿å†åŒä¸€ä¸ªcellé‡Œé¢å®šä¹‰äº†ä¸€æŠŠéšæ„çš„è¾“å…¥æ•°æ®æµ‹è¯•ä¸€æŠŠï¼Œä½†æ˜¯åƒä¸‡è®°ä½ä¸è¦æŠŠå‡½æ•°çš„è¾“å…¥å½¢å‚ææˆäº†ä½ å®šä¹‰çš„é‚£ä¸ªæµ‹è¯•é‡ï¼Œå¦åˆ™ä¼šåœ¨æš—åœ°é‡Œç‚¸çš„ä½“æ— å®Œè‚¤</p></li>
<li><p>æ•°æ®éœ€è¦å¤„ç†çš„éƒ¨åˆ†æœ€å¥½æ”¾åœ¨Datasetçš„ç±»é‡Œé¢è¿”å›å€¼å¤„å¤„ç†ï¼Œè¿™æ ·ä¼šèŠ‚çœç©ºé—´å’Œå†…å­˜ã€‚å¦‚æœæŠŠè¿™äº›é¢„å¤„ç†æå‰ä¸€æ¬¡æ€§åšäº†ï¼Œå°¤å…¶æ˜¯Word2Vecè¿™ç§æ“ä½œï¼Œä¼šåƒæ‰å¤§é‡å†…å­˜</p></li>
<li><p>loss.backward(retain_variables=True)#retain_graph=True)çš„ä½œç”¨ï¼š</p></li>
</ul>
<blockquote>
<p>After <code>loss.backward</code> you cannot do another <code>loss.backward</code> unless <code>retain_variables</code> is true.</p>
<p>In plain words, the backward proc will consume the intermediate saved Tensors (Variables) used for backpropagation unless you explicitly tell PyTorch to retain them.</p>
</blockquote>
<ul>
<li>ç”±ä¸Šè¿°è§£ç­”å¯çŸ¥ï¼Œretain_variables=Trueè¯­å¥ç¡®ä¿äº†ç”¨äºè®¡ç®—åå‘ä¼ æ’­çš„ä¸­é—´å˜é‡ä¸ä¼šåœ¨è®¡ç®—ä¸­è¢«é”€æ¯ã€‚</li>
<li>åˆç”±ä¸‹å¯çŸ¥ï¼Œç›®å‰æœ€å¥½ä½¿ç”¨çš„æ–¹å¼æ˜¯retain_graph=True</li>
</ul>
<blockquote>
<p>It is essentially the same, <code>retain_variables</code> argument has been deprecated in favor of <code>retain_graph</code>.</p>
</blockquote>
<ul>
<li><p>å½“batchå‚æ•°æ”¾åœ¨ç¬¬ä¸€ä¸ªæ—¶ï¼Œæ¬²å¾—åˆ°ä¸€ä¸ªbatchä¸­æ¯ä¸ªå¥å­çš„é¢„æµ‹ä¸­æœ€ç›¸è¿‘çš„ä¸€ä¸ªå€¼å’Œå…¶å¯¹åº”çš„åºå·ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">values, indices = torch.<span class="built_in">max</span>(tensor, <span class="number">0</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>LSTMåœ¨pytorchä¸­çš„è¾“å…¥è¾“å‡ºä¿¡æ¯çš„é¡ºåºæ˜¯ï¼š(sentence,batch,word2vec)è¿™æ ·ä¸å¤ªè‡ªç„¶ï¼Œç”¨ä¸‹åˆ—å†™æ³•å¯ä»¥æ›´æ­£è‡³(batch,sentence,word2vec)ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">self.lstm = nn.LSTM(embedding_dim, hidden_dim, batch_first=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="æˆ‘çš„ä»£ç å®ç°">æˆ‘çš„ä»£ç å®ç°ï¼š</h2>
<h3 id="many-to-one">Many to One</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">import</span> torch.autograd</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> torch.nn.init <span class="keyword">as</span> init</span><br><span class="line">torch.manual_seed(<span class="number">233</span>)</span><br><span class="line">random.seed(<span class="number">233</span>)</span><br><span class="line">np.random.seed(<span class="number">233</span>)</span><br><span class="line">EMBEDDING_DIM = <span class="number">200</span></span><br><span class="line">HIDDEN_DIM    = <span class="number">640</span></span><br><span class="line">BATCH_SIZE    = <span class="number">256</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Neural Networks model : LSTM</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LSTM</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, embedding_dim, hidden_dim, tagset_size</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(LSTM, self).__init__()</span><br><span class="line">        self.hidden_dim = hidden_dim</span><br><span class="line">        self.lstm = nn.LSTM(embedding_dim, hidden_dim, batch_first=<span class="literal">False</span>)</span><br><span class="line">        self.hidden2tag = nn.Linear(hidden_dim, tagset_size)</span><br><span class="line">        self.hidden = self.init_hidden()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init_hidden</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> (Variable(torch.zeros(<span class="number">1</span>, <span class="number">20</span>, self.hidden_dim)),</span><br><span class="line">                Variable(torch.zeros(<span class="number">1</span>, <span class="number">20</span>, self.hidden_dim)))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, wordvecs</span>):</span></span><br><span class="line">        lstm_out, self.hidden = self.lstm(wordvecs, self.hidden)</span><br><span class="line">        tag_space = self.hidden2tag(lstm_out[:,-<span class="number">1</span>,:])</span><br><span class="line">        tag_scores = F.softmax(tag_space)</span><br><span class="line">        self.hidden = self.init_hidden()</span><br><span class="line">        <span class="keyword">return</span> tag_scores</span><br></pre></td></tr></table></figure>
<h3 id="many-to-many">Many to many</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">import</span> torch.autograd</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> torch.nn.init <span class="keyword">as</span> init</span><br><span class="line">torch.manual_seed(<span class="number">233</span>)</span><br><span class="line">random.seed(<span class="number">233</span>)</span><br><span class="line">np.random.seed(<span class="number">233</span>)</span><br><span class="line">EMBEDDING_DIM = <span class="number">200</span></span><br><span class="line">HIDDEN_DIM    = <span class="number">640</span></span><br><span class="line">BATCH_SIZE    = <span class="number">256</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Neural Networks model : LSTM</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LSTM</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, embedding_dim, hidden_dim, tagset_size</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(LSTM, self).__init__()</span><br><span class="line">        self.hidden_dim = hidden_dim</span><br><span class="line">        self.lstm = nn.LSTM(embedding_dim, hidden_dim, batch_first=<span class="literal">False</span>)</span><br><span class="line">        self.hidden2tag = nn.Linear(hidden_dim*<span class="number">20</span>, tagset_size)</span><br><span class="line">        self.hidden = self.init_hidden()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init_hidden</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> (Variable(torch.zeros(<span class="number">1</span>, <span class="number">20</span>, self.hidden_dim)),</span><br><span class="line">                Variable(torch.zeros(<span class="number">1</span>, <span class="number">20</span>, self.hidden_dim)))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, wordvecs</span>):</span></span><br><span class="line">        lstm_out, self.hidden = self.lstm(wordvecs, self.hidden)</span><br><span class="line">        tag_space = self.hidden2tag(lstm_out.view(-<span class="number">1</span>, self.hidden_dim*<span class="number">20</span>))</span><br><span class="line">        tag_scores = F.softmax(tag_space)</span><br><span class="line">        self.hidden = self.init_hidden()</span><br><span class="line">        <span class="keyword">return</span> tag_scores</span><br></pre></td></tr></table></figure>
<p>ä¸¤è€…æœ€å¤§çš„å·®åˆ«åœ¨äºåœ¨lstmçš„è¾“å‡ºä¹‹åæ˜¯å–output[:,-1,:]ï¼Œå³æˆªå–ä¸€å¥è¯çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„Hiddenå±‚çš„è¾“å‡ºï¼ˆMany to Oneï¼‰ï¼Œè¿˜æ˜¯è¦æ‰€æœ‰çš„è¾“å‡ºï¼Œå³output.view(-1, self.hidden_dim*20)ï¼ŒæŠŠbatchçš„ç»´åº¦å’Œsentenceçš„ç»´åº¦æ‰“å¹³ï¼ŒæŠŠä¸¤ç»´é™åˆ°ä¸€ç»´ã€‚</p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>pytorch</tag>
        <tag>lstm</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorch å­¦ä¹ ç¬”è®° --å…¥é—¨</title>
    <url>/2018/03/19/pytorch-start/</url>
    <content><![CDATA[<h1 id="pytorch-å­¦ä¹ ç¬”è®°---å…¥é—¨">Pytorch å­¦ä¹ ç¬”è®° --å…¥é—¨</h1>
<ul>
<li><p>æ­å»ºä¸€ä¸ªæ¨¡å‹çš„æ­¥éª¤ï¼š</p>
<ol type="1">
<li><p>importéœ€è¦çš„æ¨¡å—</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">import</span> torchvision.transforms <span class="keyword">as</span> transforms</span><br></pre></td></tr></table></figure>
<span id="more"></span></li>
<li><p>Loadéœ€è¦çš„æ•°æ®ã€‚æ•°æ®åˆ†ä¸ºtrainsetå’Œtestsetï¼Œè‘—åçš„ä¸€äº›æ•°æ®é›†å¦‚Imagenet, CIFAR10, MNISTç­‰å¯ä»¥ç›´æ¥åœ¨torchvision.datasetä¸­Loadã€‚trainloader = torch.utils.data.DataLoader(trainset, batch_size=4, shuffl =True, num_workers=2) è¯­å¥çš„ä½œç”¨æ˜¯æŠŠè¯»è¿›æ¥çš„æ•°æ®åˆ†å¥½batchï¼Œåšå¥½shuffleã€‚num_workersè¡¨ç¤ºä½¿ç”¨çš„è¿›ç¨‹æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">  transform = transforms.Compose(</span><br><span class="line">    [transforms.ToTensor(),</span><br><span class="line">       transforms.Normalize((<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>), (<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>))])</span><br><span class="line">  </span><br><span class="line">  trainset = torchvision.datasets.CIFAR10(root=<span class="string">&#x27;./data&#x27;</span>, train=<span class="literal">True</span>,</span><br><span class="line">                                          download=<span class="literal">True</span>, transform=transform)</span><br><span class="line">trainloader = torch.utils.data.DataLoader(trainset, batch_size=<span class="number">4</span>,</span><br><span class="line">                                            shuffle=<span class="literal">True</span>, num_workers=<span class="number">2</span>)</span><br><span class="line">  </span><br><span class="line">  testset = torchvision.datasets.CIFAR10(root=<span class="string">&#x27;./data&#x27;</span>, train=<span class="literal">False</span>,</span><br><span class="line">                                         download=<span class="literal">True</span>, transform=transform)</span><br><span class="line">testloader = torch.utils.data.DataLoader(testset, batch_size=<span class="number">4</span>,</span><br><span class="line">                                           shuffle=<span class="literal">False</span>, num_workers=<span class="number">2</span>)</span><br><span class="line">  </span><br><span class="line">  classes = (<span class="string">&#x27;plane&#x27;</span>, <span class="string">&#x27;car&#x27;</span>, <span class="string">&#x27;bird&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>,</span><br><span class="line">           <span class="string">&#x27;deer&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;frog&#x27;</span>, <span class="string">&#x27;horse&#x27;</span>, <span class="string">&#x27;ship&#x27;</span>, <span class="string">&#x27;truck&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>å®šä¹‰ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">  <span class="comment"># autograd.Variableçš„ä½œç”¨æ˜¯åœ¨äºå¯¹äºä¸€ä¸ªç»™å®šçš„å˜é‡ï¼Œå½“å®šä¹‰äº†forwardå‡½æ•°åè‡ªåŠ¨ç”Ÿæˆbackwardå‡½æ•°ï¼Œä¾¿äºåé¢è®¡ç®—backwardå‡½æ•°çš„æ¢¯åº¦ã€‚åŒç†ï¼ŒFçš„ä½œç”¨æ˜¯å¯¹äºä¸€ä¸ªç»™å®šçš„å‡½æ•°ï¼Œ...</span></span><br><span class="line">  <span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn <span class="comment"># å¼•ç”¨ç¥ç»ç½‘ç»œçš„å„ä¸ªå±‚æ—¶è¦å¯¼å…¥çš„æ¨¡å—</span></span><br><span class="line">  <span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F </span><br><span class="line">  </span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Net</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">      <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">      è¿™ä¸ªç±»å½“å®ä¾‹åŒ–å¹¶ç»™å–‚è¿›æ¥æ•°æ®åä¼šè‡ªåŠ¨æ‰§è¡Œä»inputåˆ°outputçš„è¿‡ç¨‹</span></span><br><span class="line"><span class="string">      &#x27;&#x27;&#x27;</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span> </span><br><span class="line">          <span class="comment"># è¿™é‡Œçš„initè¦å†™çš„ä¸œè¥¿æ˜¯ä¹‹åä½ çš„ç½‘ç»œé‡Œé¢ä¼šç”¨åˆ°çš„æ‰€æœ‰çš„å±‚</span></span><br><span class="line">          <span class="built_in">super</span>(Net, self).__init__()</span><br><span class="line">          self.conv1 = nn.Conv2d(<span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>)</span><br><span class="line">          self.pool = nn.MaxPool2d(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">          self.conv2 = nn.Conv2d(<span class="number">6</span>, <span class="number">16</span>, <span class="number">5</span>)</span><br><span class="line">          self.fc1 = nn.Linear(<span class="number">16</span> * <span class="number">5</span> * <span class="number">5</span>, <span class="number">120</span>)</span><br><span class="line">        self.fc2 = nn.Linear(<span class="number">120</span>, <span class="number">84</span>)</span><br><span class="line">          self.fc3 = nn.Linear(<span class="number">84</span>, <span class="number">10</span>)</span><br><span class="line">  </span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">          <span class="comment"># è¿™é‡Œæ˜¯å‰å‘å‡½æ•°ï¼Œè¦é¡ºåºä»rawæ•°æ®ä¸€å±‚ä¸€å±‚å†™ä¸‹æ¥ï¼Œåå‘å‡½æ•°ä¼šè‡ªåŠ¨å®šä¹‰</span></span><br><span class="line">          x = self.pool(F.relu(self.conv1(x)))</span><br><span class="line">          x = self.pool(F.relu(self.conv2(x)))</span><br><span class="line">          x = x.view(-<span class="number">1</span>, <span class="number">16</span> * <span class="number">5</span> * <span class="number">5</span>)</span><br><span class="line">          x = F.relu(self.fc1(x))</span><br><span class="line">          x = F.relu(self.fc2(x))</span><br><span class="line">          x = self.fc3(x)</span><br><span class="line">          <span class="keyword">return</span> x</span><br><span class="line">      net = Net() <span class="comment"># åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹ç¥ç»ç½‘ç»œ</span></span><br></pre></td></tr></table></figure></li>
<li><p>å®šä¹‰ä¸€ä¸ªLosså‡½æ•°å’Œä¼˜åŒ–å™¨</p></li>
<li><p>å®šä¹‰ä¸€ä¸ªLosså‡½æ•°å’Œä¼˜åŒ–å™¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br><span class="line"></span><br><span class="line">criterion = nn.CrossEntropyLoss() <span class="comment"># criterionå®šä¹‰çš„æ˜¯Losså‡½æ•°</span></span><br><span class="line">optimizer = optim.SGD(net.parameters(), lr=<span class="number">0.001</span>, momentum=<span class="number">0.9</span>) <span class="comment"># optimizerå®šä¹‰çš„æ˜¯ä¼˜åŒ–æ–¹å¼ã€‚å®ƒä½œç”¨äºæ¢¯åº¦ã€‚</span></span><br></pre></td></tr></table></figure></li>
<li><p>ç”¨è®­ç»ƒé›†è®­ç»ƒç½‘ç»œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):  <span class="comment"># epochè¡¨ç¤ºæŠŠç›¸åŒçš„è®­ç»ƒé›†é‡å¤è®­ç»ƒçš„æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line">    running_loss = <span class="number">0.0</span> <span class="comment"># è¿™ä¸ªæ˜¯ç”¨æ¥è®¡ç®—æ¯ä¸ªæ­¥é•¿(è¿™é‡Œçš„2000)å†…losså‡½æ•°ç»“æœçš„å¹³å‡å€¼</span></span><br><span class="line">    <span class="keyword">for</span> i, data <span class="keyword">in</span> <span class="built_in">enumerate</span>(trainloader, <span class="number">0</span>):</span><br><span class="line">        <span class="comment"># get the inputs</span></span><br><span class="line">        inputs, labels = data</span><br><span class="line"></span><br><span class="line">        <span class="comment"># wrap them in Variable</span></span><br><span class="line">        inputs, labels = Variable(inputs), Variable(labels)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># zero the parameter gradients</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># forward + backward + optimize</span></span><br><span class="line">        outputs = net(inputs)</span><br><span class="line">        loss = criterion(outputs, labels)</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print statistics</span></span><br><span class="line">        running_loss += loss.data[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> i % <span class="number">2000</span> == <span class="number">1999</span>:    <span class="comment"># print every 2000 mini-batches</span></span><br><span class="line">            print(<span class="string">&#x27;[%d, %5d] loss: %.3f&#x27;</span> %</span><br><span class="line">                  (epoch + <span class="number">1</span>, i + <span class="number">1</span>, running_loss / <span class="number">2000</span>))</span><br><span class="line">            running_loss = <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;Finished Training&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨æµ‹è¯•é›†ä¸Šæµ‹è¯•ç½‘ç»œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•´ä½“å‡†ç¡®ç‡æµ‹è¯•</span></span><br><span class="line">correct = <span class="number">0</span></span><br><span class="line">total = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> testloader:</span><br><span class="line">    images, labels = data</span><br><span class="line">    outputs = net(Variable(images))</span><br><span class="line">    <span class="comment"># è¿™é‡Œçš„1è¡¨ç¤ºçš„axisï¼Œ0è¡¨ç¤ºæ¯ä¸€åˆ—çš„maxï¼›1è¡¨ç¤ºæ¯ä¸€è¡Œçš„maxï¼Œè¿”å›ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡Œçš„æœ€å¤§å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¯¥æœ€å¤§å€¼çš„ä½ç½®</span></span><br><span class="line">    _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>) </span><br><span class="line">    total += labels.size(<span class="number">0</span>)</span><br><span class="line">    correct += (predicted == labels).<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;Accuracy of the network on the 10000 test images: %d %%&#x27;</span> % (</span><br><span class="line">    <span class="number">100</span> * correct / total))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ†ç±»å‡†ç¡®ç‡æµ‹è¯•</span></span><br><span class="line">class_correct = <span class="built_in">list</span>(<span class="number">0.</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">class_total = <span class="built_in">list</span>(<span class="number">0.</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> testloader:</span><br><span class="line">    images, labels = data</span><br><span class="line">    outputs = net(Variable(images))</span><br><span class="line">    _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">    c = (predicted == labels).squeeze()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        label = labels[i]</span><br><span class="line">        class_correct[label] += c[i]</span><br><span class="line">        class_total[label] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    print(<span class="string">&#x27;Accuracy of %5s : %2d %%&#x27;</span> % (</span><br><span class="line">        classes[i], <span class="number">100</span> * class_correct[i] / class_total[i]))</span><br></pre></td></tr></table></figure></li>
</ol></li>
<li><p>åœ¨GPUä¸Šè®­ç»ƒï¼šç½‘ç»œå’Œå˜é‡ï¼ˆinputå’Œlabelï¼‰åœ¨å®šä¹‰åéœ€è¦è°ƒç”¨cuda()æ–¹æ³•ã€‚å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">net.cuda() <span class="comment"># ä½¿ç”¨GPU</span></span><br><span class="line">inputs, labels = Variable(inputs.cuda()), Variable(labels.cuda())</span><br></pre></td></tr></table></figure></li>
<li><p>å¤šGPUå¹¶è¡Œè®¡ç®—ï¼šnn.DataParallelã€‚ä½¿ç”¨GPUï¼Œå¹¶åœ¨å¤šGPUæ—¶å¹¶è¡Œè®¡ç®—çš„ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model = Model(input_size, output_size) </span><br><span class="line"><span class="keyword">if</span> torch.cuda.device_count() &gt; <span class="number">1</span>: <span class="comment"># å¦‚æœæœ‰å¤šä¸ªGPUå°±å¹¶è¡Œ</span></span><br><span class="line">  print(<span class="string">&quot;Let&#x27;s use&quot;</span>, torch.cuda.device_count(), <span class="string">&quot;GPUs!&quot;</span>)</span><br><span class="line">  <span class="comment"># dim = 0 [30, xxx] -&gt; [10, ...], [10, ...], [10, ...] on 3 GPUs</span></span><br><span class="line">  model = nn.DataParallel(model)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> torch.cuda.is_available(): <span class="comment"># å¦‚æœæœ‰GPUå°±ç”¨GPU</span></span><br><span class="line">   model.cuda()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŠŠæ•°æ®æ”¾åˆ°å¹¶è¡Œçš„GPUä¸Šå¹¶è¾“å‡ºæ¯å—GPUä¸Šåˆ†é…åˆ°çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> rand_loader:</span><br><span class="line">    <span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">        input_var = Variable(data.cuda())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        input_var = Variable(data)</span><br><span class="line"></span><br><span class="line">    output = model(input_var)</span><br><span class="line">    print(<span class="string">&quot;Outside: input size&quot;</span>, input_var.size(),</span><br><span class="line">          <span class="string">&quot;output_size&quot;</span>, output.size())</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>é™åˆ¶Win10ä¸­åº”ç”¨ç¨‹åºçš„CPUä½¿ç”¨ç‡</title>
    <url>/2018/08/28/restrict-win10-cpu/</url>
    <content><![CDATA[<h1 id="é—®é¢˜">é—®é¢˜</h1>
<p>å¦‚ä½•é™åˆ¶Windowsä¸‹æŸä¸ªç‰¹å®šåº”ç”¨ç¨‹åºçš„CPUä½¿ç”¨ç‡ã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h1>
<p><strong>é€šè¿‡åœ¨Win10ä¸­ä¸ºæŸäº›åº”ç”¨ç¨‹åºåˆ†é…æ›´å°‘çš„å†…æ ¸æ¥é™åˆ¶CPUä½¿ç”¨ç‡</strong></p>
<ol type="1">
<li>æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨</li>
</ol>
<figure>
<img src="/2018/08/28/restrict-win10-cpu/006tNbRwgy1fupx4d1fxdj31b215ub29.jpg" alt="image-20180828121424616"><figcaption aria-hidden="true">image-20180828121424616</figcaption>
</figure>
<span id="more"></span>
<ol start="2" type="1">
<li>è¿›å…¥<code>Details</code>é€‰é¡¹å¡ï¼Œæ‰¾åˆ°CPUæ¶ˆè€—å‰§çƒˆçš„ç›®æ ‡ç¨‹åºï¼Œå³é”®é€‰æ‹©<code>Set affinity</code></li>
</ol>
<figure>
<img src="/2018/08/28/restrict-win10-cpu/006tNbRwgy1fupx4rpj4jj31b215u7wh.jpg" alt="image-20180828121552884"><figcaption aria-hidden="true">image-20180828121552884</figcaption>
</figure>
<ol start="3" type="1">
<li>ç‚¹é€‰æ‰åˆé€‚é‡çš„CPUå†…æ ¸</li>
</ol>
<figure>
<img src="/2018/08/28/restrict-win10-cpu/006tNbRwgy1fupx797p23j31b01601kx.jpg" alt="image-20180828121647347"><figcaption aria-hidden="true">image-20180828121647347</figcaption>
</figure>
]]></content>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Curriculum Vitae -- Zhongyang Zhang</title>
    <url>/2019/10/03/resume/</url>
    <content><![CDATA[<figure>
<img src="/2019/10/03/resume/cv.png" alt="Resume_ZhongyangZhang_HUST"><figcaption aria-hidden="true">Resume_ZhongyangZhang_HUST</figcaption>
</figure>
]]></content>
      <tags>
        <tag>Resume</tag>
      </tags>
  </entry>
  <entry>
    <title>Jupyter notebookè¿œç¨‹è®¿é—®æœåŠ¡å™¨é…ç½®</title>
    <url>/2018/05/15/server-jn/</url>
    <content><![CDATA[<p>1.èƒŒæ™¯</p>
<p>ã€€ã€€ä¸€ç›´è‹¦æ¼äºæœ¬åœ°æœºå™¨å’ŒæœåŠ¡å™¨ä¸Šéƒ½è¦é…ç½®ä¸€äº›æœºå™¨å­¦ä¹ æ–¹é¢çš„ç¯å¢ƒï¼Œä»Šå¤©èŠ±äº†ç‚¹æ—¶é—´ç ”ç©¶äº†ä¸‹Jupter notebookè¿œç¨‹è®¿é—®æœåŠ¡å™¨ï¼Œæ‰€ä»¥è®°å½•ä¸€ä¸‹ã€‚</p>
<p>ã€€ã€€æœ‰äº›æ­¥éª¤éå¿…é¡»ï¼Œè¿™é‡Œå°½é‡å†™æ¸…æ¥šï¼Œè¯»è€…ç†è§£åè‡ªè¡Œå†³å®šå¦‚ä½•å®‰è£…ï¼Œæœ¬æ–‡ä»¥érootç”¨æˆ·å®‰è£…ã€‚</p>
<span id="more"></span>
<p>2.æ³¨æ„äº‹é¡¹</p>
<blockquote>
<p>ä¸€å®šè¦æ³¨æ„æ£€æŸ¥æœåŠ¡å™¨ç«¯çš„é˜²ç«å¢™ç›¸åº”ç«¯å£æœ‰æ²¡æœ‰æ‰“å¼€ï¼ï¼ï¼</p>
<p>ä½ç½®å¾€å¾€åœ¨ï¼š</p>
<p>å®‰å…¨-&gt;é˜²ç«å¢™-&gt;æ·»åŠ è§„åˆ™-&gt;åº”ç”¨æ›´æ”¹</p>
<p>VPCç½‘ç»œ-&gt;ç‚¹å‡»å·²ç»åˆ›å»ºçš„VPCç½‘ç»œ-&gt;ç®¡ç†é…ç½®-&gt;æ·»åŠ è§„åˆ™-&gt;åº”ç”¨æ›´æ”¹</p>
</blockquote>
<p>3.å®‰è£…æ­¥éª¤</p>
<ol type="1">
<li><p>ç™»å½•æœåŠ¡å™¨</p></li>
<li><p>æ£€æŸ¥æ˜¯å¦æœ‰å®‰è£…jupyter notebook,ç»ˆç«¯è¾“å…¥jupyter notebook,å¦‚æœæŠ¥é”™å°±æ˜¯æ— ï¼Œé‚£ä¹ˆå°±è¦ç”¨ä¸‹é¢å‘½ä»¤å®‰è£…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$sudo pip install pyzmq</span><br><span class="line">$sudo pip install tornado</span><br><span class="line">$sudo pip install jinja2</span><br><span class="line">$sudo pip install jsonschema</span><br><span class="line">$sudo pip install jupyter</span><br></pre></td></tr></table></figure></li>
<li><p>ç”Ÿæˆé…ç½®æ–‡ä»¶</p></li>
</ol>
<p>jupyter notebook --generate-config</p>
<ol start="4" type="1">
<li>ç”Ÿæˆå¯†ç ï¼ˆåç»­å†™é…ç½®æ–‡ä»¶ã€ç™»å½•Jupyter notebookéœ€è¦ï¼‰</li>
</ol>
<p>jupyter notebook password</p>
<p>æˆ–æ‰“å¼€pythonç»ˆç«¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">In [1]: from IPython.lib import passwd</span><br><span class="line"></span><br><span class="line">In [2]: passwd()</span><br><span class="line">Enter password: </span><br><span class="line">Verify password: </span><br><span class="line">Out[2]: &#39;sha1:0e422dfccef2:84cfbcbb3ef95872fb8e23be3999c123f862d856&#39; </span><br></pre></td></tr></table></figure>
<ol start="5" type="1">
<li>ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶</li>
</ol>
<p>vim ~/.jupyter/jupyter_notebook_config.py</p>
<p>è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼ˆè¿™é‡Œå¯ä»¥è‡ªè¡Œé…ç½®ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c.NotebookApp.ip&#x3D;&#39;*&#39;</span><br><span class="line">c.NotebookApp.password &#x3D; u&#39;sha:ce...åˆšæ‰å¤åˆ¶çš„é‚£ä¸ªå¯†æ–‡&#39;</span><br><span class="line">c.NotebookApp.open_browser &#x3D; False</span><br><span class="line">c.NotebookApp.port &#x3D;8888 #éšä¾¿æŒ‡å®šä¸€ä¸ªç«¯å£</span><br><span class="line">c.NotebookApp.allow_root &#x3D; True</span><br><span class="line">c.IPKernelApp.pylab &#x3D; &#39;inline&#39;</span><br></pre></td></tr></table></figure>
<ol start="6" type="1">
<li>å¯åŠ¨Jupter notebook</li>
</ol>
<p>jupyter notebook</p>
<ol start="7" type="1">
<li>è¿œç¨‹è®¿é—®</li>
</ol>
<p>æ­¤æ—¶åº”è¯¥å¯ä»¥ç›´æ¥ä»æœ¬åœ°æµè§ˆå™¨ç›´æ¥è®¿é—®http://address_of_remote:8888å°±å¯ä»¥çœ‹åˆ°jupyterçš„ç™»é™†ç•Œé¢ã€‚ï¼ˆç‰¹åˆ«æ³¨æ„ï¼šæœåŠ¡å™¨ä¸Šçš„Jupyter notebookä¸è¦å…³ï¼‰</p>
<ol start="8" type="1">
<li>æœ¬åœ°ç«¯å£è½¬å‘</li>
</ol>
<p>sshè½¬å‘å‘½ä»¤ï¼šssh -L <local host><local port>:<remote host>:<remote port> <SSH hostname> æœ€å¥½æ˜¯åœ¨vim ~/.zshrc ä¸­è®¾ç½®åˆ«åå¦‚ï¼š</SSH></remote></remote></local></local></p>
<p>alias aihubjn1='ssh -L localhost:9999:localhost:8989 root@saas.aihub.finalshares.com -p 2880'</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨sshç«¯å£è½¬å‘</span><br><span class="line">ssh -L localhost:9999:localhost:8989 root@saas.aihub.finalshares.com -p 2880</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šåœ¨æœåŠ¡å™¨å‘èµ·jupyteræœåŠ¡</span><br><span class="line">jupyter notebook --port 8989</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šæœ¬åœ°å¼€å¯9999</span><br><span class="line">æµè§ˆå™¨è®¿é—®ï¼šhttp:&#x2F;&#x2F;localhost:9999&#x2F;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œrootä¸ºusername,ç™»å½•sshçš„è´¦å·ï¼Œsaas.aihub.finalshares.com:2880æ˜¯è€å¸ˆæä¾›çš„æœåŠ¡å™¨sshç«¯å£ï¼Œæˆ‘ä½¿ç”¨è‡ªå·±çš„9999ç«¯å£ç›‘å¬æœåŠ¡å™¨ä¸Šçš„8989ç«¯å£ï¼Œä¿¡æ¯é€šè¿‡sshè½¬å‘ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå¯åŠ¨jupyterå³å¯æœ¬åœ°ç™»å½•ï¼Œçˆ½çš„é£èµ·ã€‚</p>
<ol start="9" type="1">
<li>ä¸€ç‚¹å°é—®é¢˜</li>
</ol>
<p>ç”±äºç¬”è€…ä¹‹å‰æœ¬åœ°è½¬è¿‡jupter notebook,æ”¹ä¸‹ç«¯å£å·ç™»å½•</p>
<p>jupyter notebook --no-browser --port=8889</p>
<p>3.å‚è€ƒæ–‡çŒ®</p>
<p>ï¼ˆ1ï¼‰<a href="https://zhuanlan.zhihu.com/p/20226040">å¦‚ä½•åœ¨äº‘ç«¯æœåŠ¡å™¨è¿è¡ŒJupyter Notebookï¼Ÿ</a></p>
<p>ï¼ˆ2ï¼‰<a href="http://blog.csdn.net/patrick75/article/details/51473884">é€šè¿‡SSHè¿œç¨‹ä½¿ç”¨jupyter notebook</a></p>
<p>ï¼ˆ3ï¼‰<a href="http://www.cnblogs.com/yangxiaolan/p/5778305.html">è¿œç¨‹è®¿é—®jupyter notebook</a></p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>server</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼˜é›…åœ°ä½¿ç”¨sshå…å¯†ç™»å½•</title>
    <url>/2018/08/27/ssh-no-password/</url>
    <content><![CDATA[<h1 id="é—®é¢˜">é—®é¢˜</h1>
<p>å¦‚ä½•ä¼˜é›…åœ°ä½¿ç”¨sshç™»å½•ï¼Œå¹¶ä¸éœ€è¦æ¯æ¬¡è¾“å…¥å¯†ç ã€‚</p>
<span id="more"></span>
<h1 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h1>
<h2 id="æ­¥éª¤ä¸€ä½¿ç”¨aliasæˆ–configè®°ä½serverä¿¡æ¯">æ­¥éª¤ä¸€ï¼šä½¿ç”¨<em>Alias</em>æˆ–<em>config</em>è®°ä½Serverä¿¡æ¯</h2>
<h3 id="æ·»åŠ alias">æ·»åŠ Alias</h3>
<p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨é»˜è®¤çš„bashï¼Œåˆ«å<em>alias</em>ä¿¡æ¯ä¼šè¢«ä¿å­˜åœ¨<code>~/.bashrc</code>æ–‡ä»¶ä¸­ï¼›å¦‚æœä½ ä½¿ç”¨äº†zshï¼Œé‚£ä¹ˆä½ éœ€è¦åœ¨<code>~/.zshrc</code>æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚</p>
<p>æ·»åŠ åˆ«åæ“ä½œåªéœ€åœ¨è¯¥æ–‡ä»¶çš„ä»»æ„ä½ç½®æ’å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆä¸è¿‡å»ºè®®åŠ è½½æœ€å‰æˆ–æœ€åæ–¹ä¾¿ç®¡ç†å’ŒæŸ¥æ‰¾ï¼‰ï¼š</p>
<p><code>alias new_name="ssh user@domain -p port_num"</code></p>
<p>å¹¶åœ¨ä¿å­˜å¹¶é€€å‡ºåæ¿€æ´»è¯¥æ–‡ä»¶ï¼š<code>source ~/.bashrc</code> æˆ– <code>source ~/.zshrc</code></p>
<h3 id="æ·»åŠ .sshconfigé…ç½®">æ·»åŠ ~/.ssh/configé…ç½®</h3>
<p>æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä»£ç æ®µï¼š</p>
<p><strong>æœ‰IdentityFileï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host miracle</span><br><span class="line">        HostName `xxx.xxx.xxx.xxx`</span><br><span class="line">        User `username`</span><br><span class="line">        Port `2880`</span><br><span class="line">        IdentityFile `~/xxx/xxx/cert.pem`</span><br><span class="line">        UseKeychain yes</span><br><span class="line">        AddKeysToAgent yes</span><br></pre></td></tr></table></figure>
<p><strong>æ— IdentityFileï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host yoo</span><br><span class="line">        HostName `xxx.xxx.xxx.xxx`</span><br><span class="line">        User `username`</span><br><span class="line">        Port `2880`</span><br><span class="line">        UseKeychain yes</span><br><span class="line">        AddKeysToAgent yes</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼ŒIdentityFileã€UseKeychainã€AddKeysToAgentç­‰é¡¹ä¸æ˜¯å¿…é¡»çš„ã€‚</p>
<p>ç™»å½•æ–¹æ³•ï¼š<code>ssh miracle</code>ï¼Œå…¶ä¸­æ­¤å¤„çš„miracleæ˜¯ä½ ç»™ä½ çš„Hostèµ·çš„åå­—ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šæ–¹ä¾¿ï¼Œæ›´æ˜“äºç®¡ç†ï¼Œå¹¶ä¸”ä½¿ç”¨scpç­‰æ—¶ä¹Ÿä¼šæ›´æ–¹ä¾¿ï¼Œæ¯”å¦‚ï¼š<code>scp *.mat miracle:~</code></p>
<h2 id="æ­¥éª¤äºŒå…å¯†ç™»å½•">æ­¥éª¤äºŒï¼šå…å¯†ç™»å½•</h2>
<ol type="1">
<li>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨è¿‡rsaå¯†é’¥å¯¹ï¼Œå…ˆç”Ÿæˆï¼š<code>ssh-keygen</code> ï¼Œé€‰é¡¹å¯ä»¥ä¸€è·¯Enter</li>
<li>åˆ‡æ¢åˆ° <em>~/.ssh/</em> æ–‡ä»¶å¤¹ä¸‹å°†å…¬é’¥å‘é€åˆ°æœåŠ¡å™¨ä¸Šçš„æŸæ–‡ä»¶å¤¹é‡Œï¼š<code>scp -P 2880 ~/.ssh/id_rsa.pub root@xxx.xxx.xxx.xxx:~</code></li>
<li>ç™»å½•æœåŠ¡å™¨ï¼ŒæŠŠPCç«¯çš„å…¬é’¥æ·»åŠ è‡³sshä¿¡ä»»åˆ—è¡¨æœ«å°¾ï¼š<code>cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code></li>
<li>å¦‚æœæœåŠ¡å™¨ä¸Šæ²¡æœ‰ç”Ÿæˆrsaå¯†é’¥å¯¹ï¼ŒæŒ‰ï¼ˆ1ï¼‰ä¸­æ“ä½œåœ¨æœåŠ¡å™¨ä¸Šé‡å¤</li>
<li>å¦‚æœåšäº†è¿™äº›åä¾ç„¶éœ€è¦ä½ è¾“å…¥ä¸€ä¸ª<em>passphrase</em>ï¼š<code>Enter passphrase for /Users/miracle/.ssh/id_rsa:</code>ï¼Œè¿™ä¸ªpassphaseæ˜¯æŒ‡ä½ ç”Ÿæˆsshå¯†é’¥æ—¶è¾“å…¥çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœä½ ä¸€ç›´æŒ‰çš„Enterï¼Œè¿™é‡Œä¹Ÿç›´æ¥Enterå°±å¥½ï¼Œä½†æ˜¯å¦‚æœä¸å¹¸ä½ å½“æ—¶è¾“å…¥äº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä½ éœ€è¦è¿›è¡Œæ­¥éª¤ï¼ˆ6ï¼‰ï¼š</li>
<li>Add Identity Using Keychainï¼š<code>ssh-add -K ~/.ssh/id_rsa</code>ï¼Œä¹‹åå®ƒä¼šè®©ä½ è¾“å…¥ä¸Šé¢æåˆ°çš„è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œåšå®Œè¿™ä¸€æ­¥ä¹‹åï¼Œä½ å°†ä¼šæ°¸è¿œä¸ç”¨å†åœ¨ç™»å½•è¿™å°æœåŠ¡å™¨æ—¶è¾“å…¥å¯†ç </li>
</ol>
]]></content>
      <tags>
        <tag>linux</tag>
        <tag>ssh</tag>
      </tags>
  </entry>
  <entry>
    <title>ç§å­ç­ä¸­è‹±æ–‡ä»‹ç»</title>
    <url>/2018/03/08/seed-class-english/</url>
    <content><![CDATA[<h1 id="åŸºäºé¡¹ç›®ä¿¡æ¯ç±»ä¸“ä¸šæ•™è‚²å®éªŒç­ç§å­ç­æœ¬ç§‘åŸ¹å…»è®¡åˆ’22">åŸºäºé¡¹ç›®ä¿¡æ¯ç±»ä¸“ä¸šæ•™è‚²å®éªŒç­ï¼ˆç§å­ç­ï¼‰æœ¬ç§‘åŸ¹å…»è®¡åˆ’(2+2)</h1>
<p><strong>Undergraduate Program for Advanced Project-based Information Science Education (Seeds Class)</strong></p>
<h2 id="ä¸€-åŸ¹å…»ç›®æ ‡">ä¸€ã€ åŸ¹å…»ç›®æ ‡</h2>
<p>â… . Educational Objectives</p>
<p>ä»¥çœŸå®ç§‘ç ”é¡¹ç›®ä¸ºç‰µå¼•ï¼Œé€šè¿‡â€œå¹²ä¸­å­¦â€çš„æ–¹å¼ï¼Œå°†ä¸“ä¸šç†è®ºçŸ¥è¯†çš„å­¦ä¹ ä¸ç§‘ç ”é¡¹ç›®å®è®­ç´§å¯†ç»“åˆï¼Œå¼±åŒ–æ•™å¸ˆè¯¾å ‚è®²æˆï¼Œå¢å¼ºå­¦ç”Ÿè‡ªä¸»å’Œå¿«é€Ÿå­¦ä¹ èƒ½åŠ›ã€åˆ›æ–°æ€ç»´èƒ½åŠ›å’Œå®è·µåŠ¨æ‰‹èƒ½åŠ›ï¼Œä¿ƒè¿›å­¦ç”Ÿçš„ç»¼åˆç´ è´¨å‘å±•ï¼ŒåŸ¹å…»ä¸€æ‰¹å…¼å…·æŠ€æœ¯åŠ›å’Œé¢†å¯¼åŠ›çš„ç²¾è‹±ä¹‹æ‰ã€‚</p>
<span id="more"></span>
<p>This program is designed in a unique â€œlearning-via-doingâ€ approach in that the course study is closely integrated to the research and development practices from real engineering projects. Lecturing time is considerably reduced; however, more credits are contributed to hands-on practical training and interns in order to enhance the students with high self-motivation and quick learning capability, strong innovation initiatives and problem-solving capability. The students are comprehensively trained to produce top-tier elites with solid technical background and outstanding leadership.</p>
<h2 id="äºŒ-åŸºæœ¬è§„æ ¼è¦æ±‚">äºŒ åŸºæœ¬è§„æ ¼è¦æ±‚</h2>
<p>â…¡.Skills Profile</p>
<p>æ¯•ä¸šç”Ÿåº”è·å¾—ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„çŸ¥è¯†å’Œèƒ½åŠ›:</p>
<ol type="1">
<li>å…·æœ‰è¾ƒæ‰å®çš„æ•°ç†åŸºç¡€ï¼Œå…·æœ‰è¾ƒå¼ºçš„è‹±è¯­è¯­è¨€èƒ½åŠ›ï¼›</li>
<li>æŒæ¡æ–‡çŒ®æ£€ç´¢å’Œæ’°å†™ç§‘æŠ€è®ºæ–‡çš„æ–¹æ³•ï¼Œäº†è§£ä¿¡æ¯å­¦ç§‘çš„å‘å±•åŠ¨æ€å’Œç†è®ºå‰æ²¿ï¼›</li>
<li>æŒæ¡ä¿¡æ¯ç§‘å­¦ã€ç”µå­ç§‘å­¦ã€è®¡ç®—æœºç§‘å­¦çš„åŸºæœ¬ç†è®ºå’Œæ–¹æ³•ï¼›</li>
<li>å…·æœ‰è®¾è®¡å’Œå¼€å‘é€šä¿¡ä¸ä¿¡æ¯ç³»ç»Ÿã€è§£å†³å®é™…é—®é¢˜çš„å·¥ç¨‹å®è·µèƒ½åŠ›ï¼›</li>
<li>å…·æœ‰è¾ƒå¥½çš„äººæ–‡ç¤¾ç§‘çŸ¥è¯†å’Œäººæ–‡ç´ è´¨ï¼›</li>
<li>å…·æœ‰è¾ƒå¼ºçš„å›¢é˜Ÿåˆä½œå’Œç§‘æŠ€åˆ›æ–°ç²¾ç¥ã€‚</li>
</ol>
<p>Students are expected to acquire the following knowledge or skills:</p>
<ol type="1">
<li>Consolidated background in both mathematics and physicsand strong English capability;</li>
<li>Skills in searching literatures and writing technical report, and familiar with the development trends in the discipline and research frontiers;</li>
<li>Understanding basic theories and skills in information science, electronics science and computer science;</li>
<li>Hands-on engineering experiences in solving real problems in the design and development ofcommunication and information systems;</li>
<li>Sound knowledge in humanities-and-art and good personality;</li>
<li>Cooperative attitude as a team player and strong innovative initiatives.</li>
</ol>
<h2 id="ä¸‰-åŸ¹å…»ç‰¹è‰²">ä¸‰ åŸ¹å…»ç‰¹è‰²</h2>
<p>â…¢. Program Features</p>
<p>ä»¥ç”µè·¯ã€ä¿¡å·å¤„ç†ä¸ºåŸºç¡€ï¼Œç”µå­è®¾å¤‡å’Œç³»ç»Ÿè®¾è®¡åŠåº”ç”¨ä¸ºæ–¹å‘ï¼Œä¸ä»…å…·æœ‰æ‰å®çš„ã€å®½å¹¿çš„ç†è®ºåŸºç¡€ï¼Œè€Œä¸”å…·æœ‰è¾ƒå¼ºçš„å·¥ç¨‹å®è·µå’Œåˆ›æ–°èƒ½åŠ›ã€‚ç‰¹åˆ«æ˜¯åŠ¨æ‰‹èƒ½åŠ›å’Œå¿«é€Ÿå­¦ä¹ èƒ½åŠ›å¼ºï¼›æ‰€å­¦çŸ¥è¯†èƒ½çµæ´»è¿ç”¨ï¼Œç»ˆç”Ÿä¸å¿˜ï¼›å…·æœ‰é«˜å°šçš„é“å¾·æƒ…æ“ã€ä¼˜ç§€çš„å·¥ä½œä½œé£å’Œå‡ºè‰²çš„åè°ƒèƒ½åŠ›ï¼Œç»¼åˆç´ è´¨çªå‡ºã€‚</p>
<p>This program focuses on the design and application of electronic devices and systems in circuit and signal processing. Students are required to construct solid and broad theoretical background, and they are enhanced with the hands-on engineering experiences and innovation initiatives. In particular, the students are strong in solving real engineering problems and quick learning; they are able to apply knowledge flexibly in solving real problems in that the knowledge follows the students in a life-long fashion; they are fully-developed with moral integrity, excellent working style and outstanding coordination capability.</p>
<h2 id="å››-ä¸»å¹²å­¦ç§‘">å›› ä¸»å¹²å­¦ç§‘</h2>
<p>â…£. Major Disciplines</p>
<p>ç”µå­ç§‘å­¦ä¸æŠ€æœ¯</p>
<p>Electronics Science and Technology</p>
<h2 id="äº”-å­¦åˆ¶ä¸å­¦ä½">äº” å­¦åˆ¶ä¸å­¦ä½</h2>
<p>â…¤. Length of schooling and Degree</p>
<p>å­¦åˆ¶ï¼šå››å¹´åˆ¶</p>
<p>Length of Schooling: Four years</p>
<p>æˆäºˆå­¦ä½ï¼šå·¥å­¦å­¦å£«</p>
<p>Degrees Conferred: Bachelor of Engineering</p>
<h2 id="å…­-å­¦æ—¶ä¸å­¦åˆ†">å…­ å­¦æ—¶ä¸å­¦åˆ†</h2>
<p>â…¥. Hours/ Credits</p>
<p>ç§å­ç­å­¦ç”Ÿå¤§ä¸€å’Œå¤§äºŒçš„è¯¾ç¨‹å­¦ä¹ è·Ÿéšä¿¡æ¯å¤§ç±»åŸä¸“ä¸šæ™®é€šç­ä¸Šè¯¾ï¼Œå¤§ä¸‰å’Œå¤§å››åˆ™é›†ä¸­å•ç‹¬æˆè¯¾ã€‚å®Œæˆå­¦ä¸šæœ€ä½è¯¾å†…å­¦åˆ†ï¼ˆå«è¯¾ç¨‹ä½“ç³»ä¸é›†ä¸­æ€§å®è·µæ•™å­¦ç¯èŠ‚ï¼‰è¦æ±‚ï¼š185</p>
<p>The students in the Seed Class in their year I and II take the same courses together with the students in the same major for information science. The students in the Seed Class in their year III and IV follow the curriculum of their own for separate lecture delivery. Minimum Credits of Curriculum (including course system and intensive practical training / internship): 187</p>
<p>å®Œæˆå­¦ä¸šæœ€ä½è¯¾å¤–å­¦åˆ†è¦æ±‚ï¼š5</p>
<p>Minimum Extracurricular Credits: 5</p>
]]></content>
      <tags>
        <tag>seed-class</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorchåˆ©ç”¨Tensorboardxè¿›è¡Œç½‘ç»œç»“æ„å¯è§†åŒ–</title>
    <url>/2018/08/18/tensorboardx-net-visualization/</url>
    <content><![CDATA[<p>ä¹‹å‰æåˆ°è¿‡åˆ©ç”¨<code>python-graphviz</code>è¿›è¡Œè‡ªåŠ¨ç½‘ç»œå¯è§†åŒ–ï¼Œå°½ç®¡å…¶è¾ƒä¸ºé€‚åˆå±•ç¤ºï¼Œä½†æ˜¯Tensorboardç”Ÿæˆçš„ç½‘ç»œç»“æ„å›¾æœ‰ç€å¯æŠ˜å ã€ä¾¿äºè°ƒè¯•çš„ä¼˜ç‚¹ï¼Œé‚£Pytorchå¯ä»¥ä½¿ç”¨è¿™é¡¹åŠŸèƒ½å—ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œtensorboardxæä¾›äº†è¿™é¡¹æ”¯æŒã€‚</p>
<span id="more"></span>
<p>é¦–å…ˆæä¾›ç›¸å…³èµ„æºï¼š</p>
<h2 id="èµ„æºä¸ä¸‹è½½">èµ„æºä¸ä¸‹è½½</h2>
<ol type="1">
<li><p>tensorboardxçš„å®‰è£…ï¼š<code>pip install tensorboardx</code></p></li>
<li><p>tensorboardxç”»ç½‘ç»œå›¾çš„å®ä¾‹ï¼š<a href="https://github.com/lanpa/tensorboardX/blob/master/examples/demo_graph.py">å®ä¾‹</a></p></li>
<li><p>ç»“æœå±•ç¤ºï¼š</p>
<figure>
<img src="/2018/08/18/tensorboardx-net-visualization/006tNbRwgy1fuemv60tllj30ba0isn4w.jpg" alt="image-20180818175931766"><figcaption aria-hidden="true">image-20180818175931766</figcaption>
</figure></li>
</ol>
<h2 id="åŸºç¡€æ“ä½œ">åŸºç¡€æ“ä½œ</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dummy_input = Variable(torch.rand(<span class="number">13</span>, <span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>))</span><br><span class="line">model = Net1()</span><br><span class="line"><span class="keyword">with</span> SummaryWriter(comment=<span class="string">&#x27;Net1&#x27;</span>) <span class="keyword">as</span> w:</span><br><span class="line">    w.add_graph(model, (dummy_input, ))</span><br></pre></td></tr></table></figure>
<h2 id="warning">WARNING</h2>
<p>å¦‚æœéœ€è¦å¯è§†åŒ–ç½‘ç»œç»“æ„å›¾ï¼Œä¸€å®šè¦è®©è¿™ä¸€æ­¥æ“ä½œæ”¾åœ¨æŠŠnetåŠ è½½ä¸ºCUDAæ¨¡å‹ä¹‹å‰è¿›è¡Œï¼</p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>pytorch</tag>
        <tag>visualization</tag>
      </tags>
  </entry>
  <entry>
    <title>tensorflowï¼šç†è§£ rank, shape, type</title>
    <url>/2019/02/08/tf-rst/</url>
    <content><![CDATA[<p>tensorflow ä½¿ç”¨ä¸€ç§å« tensor çš„æ•°æ®ç»“æ„å»å±•ç¤ºæ‰€æœ‰çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ tensor çœ‹æˆæ˜¯ n ç»´çš„ array æˆ–è€… listã€‚åœ¨ tensorflow çš„å„éƒ¨åˆ†å›¾å½¢é—´æµåŠ¨ä¼ é€’çš„åªèƒ½æ˜¯tensorã€‚</p>
<span id="more"></span>
<h3 id="rank">rank</h3>
<p>rank å°±æ˜¯ tensor çš„ç»´æ•°ã€‚ ä¾‹å¦‚æˆ‘ä»¬æ‰€è¯´çš„æ ‡é‡(Scalar)ï¼š <code>s = 8</code> ç»´æ•°ä¸º 0ï¼Œæ‰€ä»¥å®ƒçš„ rank ä¸º 0ã€‚</p>
<p>ä¾‹å¦‚çŸ¢é‡(Vector)ï¼š <code>v = [1, 2, 3]</code>ï¼Œrank ä¸º 1ã€‚</p>
<p>ä¾‹å¦‚çŸ©é˜µ(Matrix)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">m &#x3D; [</span><br><span class="line">  [1, 1, 1],</span><br><span class="line">  [2, 2, 2],</span><br><span class="line">  [3, 3, 3]</span><br><span class="line">] # rank ä¸º 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åˆä¾‹å¦‚ rank ä¸º 3 çš„ tensorï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">t &#x3D; [[[2], [4], [6]], [[8], [10], [12]], [[14], [16], [18]]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¾æ¬¡ç±»æ¨â€¦â€¦</p>
<h3 id="shape">shape</h3>
<p>tensorflow ç”¨ 3 ç§æ–¹å¼æè¿°ä¸€ä¸ª tensor çš„ç»´æ•°ï¼š rank, shape, ä»¥åŠ dimension number (ç»´æ•°) æ‰€ä»¥ shape å’Œ rank çš„æ„æ€çš„ä¸€æ ·çš„ï¼Œåªæ˜¯è¡¨è¾¾çš„å½¢å¼ä¸åŒã€‚</p>
<table>
<thead>
<tr class="header">
<th>rank</th>
<th>shape</th>
<th>dimension</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>[]</td>
<td>0 ç»´</td>
</tr>
<tr class="even">
<td>1</td>
<td>[D0]</td>
<td>1 ç»´</td>
</tr>
<tr class="odd">
<td>2</td>
<td>[D0, D1]</td>
<td>2 ç»´</td>
</tr>
<tr class="even">
<td>n</td>
<td>[D0, D1, ..., Dn-1]</td>
<td>n ç»´</td>
</tr>
</tbody>
</table>
<p>shape å†™æˆåªåŒ…å«æ•´æ•°çš„ list æˆ–è€… tuple å½¢å¼ï¼Œä¾‹å¦‚ [1, 4, 2]</p>
<h3 id="data-type">data type</h3>
<p>tensor çš„æ•°æ®ç»“æ„é™¤äº† ç»´æ•°(dimensionality)ï¼Œè¿˜æœ‰ æ•°æ®ç±»å‹(data type)ã€‚ ä¾‹å¦‚ 32ä½æµ®ç‚¹æ•°(32 bits floating point) ç­‰ç­‰ï¼Œå¯ä»¥ä»ä¸‹é¢çš„é“¾æ¥ä¸­æŸ¥çœ‹å®Œæ•´çš„ï¼š <a href="https://link.jianshu.com/?t=https://www.tensorflow.org/programmers_guide/dims_types#data_types">https://www.tensorflow.org/programmers_guide/dims_types#data_types</a></p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>tensorflow</tag>
      </tags>
  </entry>
  <entry>
    <title>Plan of Project Tomasulo Visual</title>
    <url>/2019/10/22/tomasulo/</url>
    <content><![CDATA[<h1 id="aims">Aims</h1>
<ol type="1">
<li>Build a project to visualize the workflow of Tomasulo's algorithm.</li>
<li>The project should contain at least these parts: Cycle graph, Register info, Pipeline, Data info, Code info and statistics.</li>
<li>We can add some additional components.</li>
</ol>
<span id="more"></span>
<h1 id="points">Points</h1>
<ol type="1">
<li>Language: Java</li>
<li>GUI Support: Swing</li>
<li>Collaboration Platform: <a href="https://github.com/miracleyoo/Tomasulo-Visual">GitHub</a></li>
<li>Divide pattern: By components. Each one 2 components.</li>
<li>DDL: Next week(Oct 29)</li>
<li>Algorithm Reference: <a href="https://youtu.be/jyjE6NHtkiA">Youtube</a></li>
</ol>
<h1 id="reference-images">Reference Images</h1>
<figure>
<img src="/2019/10/22/tomasulo/image-20191022180533866.png" alt="WinMips64"><figcaption aria-hidden="true">WinMips64</figcaption>
</figure>
<figure>
<img src="/2019/10/22/tomasulo/image-20191022180615852.png" alt="Slides"><figcaption aria-hidden="true">Slides</figcaption>
</figure>
<figure>
<img src="/2019/10/22/tomasulo/image-20191022180646659.png" alt="Youtube Course"><figcaption aria-hidden="true">Youtube Course</figcaption>
</figure>
]]></content>
      <tags>
        <tag>computer-architecture</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨treeç”Ÿæˆç›®å½•æ ‘å¹¶æ˜¾ç¤ºä¸­æ–‡</title>
    <url>/2018/05/14/tree/</url>
    <content><![CDATA[<p>å½“ä½ æƒ³ä¼˜é›…åœ°ç”Ÿæˆä¸€ä¸ªæŒ‡å®šç›®å½•çš„æ–‡ä»¶ç›®å½•æ ‘æ—¶ï¼Œç›¸ä¿¡è¿™ä¸ªtreeå·¥å…·å¯ä»¥å¸®åŠ©ä½ </p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p>MacOSï¼š<code>brew install tree</code></p>
<p>Ubuntuï¼š<code>sudo apt-get inatall tree</code></p>
<span id="more"></span>
<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<blockquote>
<p>treeå‘½ä»¤å¯ä»¥ä»¥ç›®å½•æ ‘çš„å½¢å¼æ˜¾ç¤ºæŒ‡å®š(é»˜è®¤æ˜¾ç¤ºè¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿ)ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼Œåœ¨Debianæˆ–è€…Ubuntuç³»ç»Ÿä¸­å¯ä»¥ç”¨aptå®‰è£…ï¼š</p>
</blockquote>
<blockquote>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
</blockquote>
<blockquote>
<p>ä½†æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œtreeå‘½ä»¤æ— æ³•æ˜¾ç¤ºä¸­æ–‡æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åï¼Œä¼šæ˜¯ä¸€ä¸²è½¬ä¹‰å­—ç¬¦ã€‚è¿™æ—¶å¯ä»¥ç”¨é€‰é¡¹-Næ¥æ˜¾ç¤ºä¸­æ–‡æ–‡ä»¶åï¼š</p>
<p>æœ€ç®€å•å®ç”¨çš„å‘½ä»¤ï¼š<code>tree -N</code></p>
</blockquote>
<h2 id="é€‰é¡¹">é€‰é¡¹</h2>
<blockquote>
<p>å…³äºtreeå‘½ä»¤é€‰é¡¹çš„ç®€å•ä»‹ç»å¦‚ä¸‹ï¼š</p>
</blockquote>
<ul>
<li>-a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚</li>
<li>-A ä½¿ç”¨ASNIç»˜å›¾å­—ç¬¦æ˜¾ç¤ºæ ‘çŠ¶å›¾è€Œéä»¥ASCIIå­—ç¬¦ç»„åˆã€‚</li>
<li>-C åœ¨æ–‡ä»¶å’Œç›®å½•æ¸…å•åŠ ä¸Šè‰²å½©ï¼Œä¾¿äºåŒºåˆ†å„ç§ç±»å‹ã€‚</li>
<li>-d æ˜¾ç¤ºç›®å½•åç§°è€Œéå†…å®¹ã€‚</li>
<li>-D åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ›´æ”¹æ—¶é—´ã€‚</li>
<li>-f åœ¨æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¹‹å‰ï¼Œæ˜¾ç¤ºå®Œæ•´çš„ç›¸å¯¹è·¯å¾„åç§°ã€‚</li>
<li>-F åœ¨æ‰§è¡Œæ–‡ä»¶ï¼Œç›®å½•ï¼ŒSocketï¼Œç¬¦å·è¿æ¥ï¼Œç®¡é“åç§°åç§°ï¼Œå„è‡ªåŠ ä¸Šâ€*â€,â€/â€,â€=â€,â€@â€,â€|â€å·ã€‚</li>
<li>-g åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„åç§°ï¼Œæ²¡æœ‰å¯¹åº”çš„åç§°æ—¶ï¼Œåˆ™æ˜¾ç¤ºç¾¤ç»„è¯†åˆ«ç ã€‚</li>
<li>-i ä¸ä»¥é˜¶æ¢¯çŠ¶åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</li>
<li>-I<èŒƒæœ¬æ ·å¼> ä¸æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</èŒƒæœ¬æ ·å¼></li>
<li>-l å¦‚é‡åˆ°æ€§è´¨ä¸ºç¬¦å·è¿æ¥çš„ç›®å½•ï¼Œç›´æ¥åˆ—å‡ºè¯¥è¿æ¥æ‰€æŒ‡å‘çš„åŸå§‹ç›®å½•ã€‚</li>
<li>-n ä¸åœ¨æ–‡ä»¶å’Œç›®å½•æ¸…å•åŠ ä¸Šè‰²å½©ã€‚</li>
<li>-N ç›´æ¥åˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ï¼ŒåŒ…æ‹¬æ§åˆ¶å­—ç¬¦ã€‚</li>
<li>-p åˆ—å‡ºæƒé™æ ‡ç¤ºã€‚</li>
<li>-P<èŒƒæœ¬æ ·å¼> åªæ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶æˆ–ç›®å½•åç§°ã€‚</èŒƒæœ¬æ ·å¼></li>
<li>-q ç”¨â€?â€å·å–ä»£æ§åˆ¶å­—ç¬¦ï¼Œåˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ã€‚</li>
<li>-s åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•å¤§å°ã€‚</li>
<li>-t ç”¨æ–‡ä»¶å’Œç›®å½•çš„æ›´æ”¹æ—¶é—´æ’åºã€‚</li>
<li>-u åˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…åç§°ï¼Œæ²¡æœ‰å¯¹åº”çš„åç§°æ—¶ï¼Œåˆ™æ˜¾ç¤ºç”¨æˆ·è¯†åˆ«ç ã€‚</li>
<li>-x å°†èŒƒå›´å±€é™åœ¨ç°è¡Œçš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè‹¥æŒ‡å®šç›®å½•ä¸‹çš„æŸäº›å­ç›®å½•ï¼Œå…¶å­˜æ”¾äºå¦ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œåˆ™å°†è¯¥å­ç›®å½•äºˆä»¥æ’é™¤åœ¨å¯»æ‰¾èŒƒå›´å¤–ã€‚</li>
</ul>
]]></content>
      <tags>
        <tag>server</tag>
        <tag>tool</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntuçš„apt-getæ‰¾ä¸åˆ°è½¯ä»¶åŒ…è§£å†³æ–¹æ¡ˆ</title>
    <url>/2018/08/15/ubuntu-apt-get-fail/</url>
    <content><![CDATA[<p>æœ‰æ—¶Ubuntuç³»ç»Ÿè‡ªå¸¦çš„apt-getä¼šè®©äººå¤´ç–¼çš„ä»€ä¹ˆåŒ…éƒ½å®‰è£…å¤±è´¥ï¼Œæç¤ºæ— æ³•æ‰¾åˆ°ç›¸åº”åŒ…ã€‚</p>
<h2 id="åŸå› "><a class="markdownIt-Anchor" href="#åŸå› "></a> åŸå› ï¼š</h2>
<p><code>apt-get</code>å‘½ä»¤å¤ªä¹…æœªæ›´æ–°ï¼Œæˆ–æ˜¯æœåŠ¡å™¨è‡ªå¸¦ç‰ˆæœ¬è¿‡ä½ï¼Œéœ€è¦æ‰‹åŠ¨æ›´æ–°å¹¶å‡çº§ç›¸åº”çš„åº“ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆï¼š</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>linux</tag>
        <tag>apt-get</tag>
      </tags>
  </entry>
  <entry>
    <title>Video Classification Investigation Report</title>
    <url>/2019/11/07/video-classification/</url>
    <content><![CDATA[<h1 id="overview">Overview</h1>
<p>Video classification, or in our case, more specifically, action recognition, are studied for a long time. There are many traditional as well as deep learning based method developed to address this problem, and the latest action recognition result trained on a large dataset Kinetics can even reach 98% accuracy. Considering the fact that the action we need to classify is not too much, giving enough data and using the pre-trained model on Kinetics, the result can be quite promising.</p>
<span id="more"></span>
<h1 id="tough-points-in-video-classification">Tough Points in Video Classification</h1>
<ol type="1">
<li>The huge computational cost</li>
<li>How to capture long context and make decision comprehensively</li>
<li>How to design the classification structure which contain spatiotemporal information</li>
<li>How to deal with a smaller dataset</li>
</ol>
<h1 id="approaches-overview">Approaches overview</h1>
<h2 id="the-core-idea">The core idea</h2>
<ol type="1">
<li>Try to build a workflow which can combine both spatial information and temporal information.</li>
<li>Try to focus on both frame itself and the motion near each frame.</li>
<li>Try to make decision based on the whole video rather than only parts of it.</li>
<li>Try to decrease the computational cost and remove the long pre-process.</li>
</ol>
<h2 id="two-basic-methods">Two basic methods</h2>
<h3 id="single-stream-network"><a href="https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/42455.pdf">Single Stream Network</a></h3>
<figure>
<img src="/2019/11/07/video-classification/image-20191028125241454.png" alt="image-20191028125241454"><figcaption aria-hidden="true">image-20191028125241454</figcaption>
</figure>
<p>There are four ways of fusion, which means combine the information from each frame together to derive the final answer. They are:</p>
<ol type="1">
<li>Single frame uses single architecture that fuses information from all frames at the last stage.</li>
<li>Late fusion uses two nets with shared parameters, spaced 15 frames apart, and also combines predictions at the end.</li>
<li>Early fusion combines in the first layer by convolving over 10 frames.</li>
<li>Slow fusion involves fusing at multiple stages, a balance between early and late fusion.</li>
</ol>
<h3 id="two-stream-networks"><a href="https://arxiv.org/pdf/1406.2199.pdf">Two Stream Networks</a></h3>
<figure>
<img src="/2019/11/07/video-classification/image-20191028125608889.png" alt="image-20191028125608889"><figcaption aria-hidden="true">image-20191028125608889</figcaption>
</figure>
<p>Video can naturally be decomposed into spatial and temporal components.</p>
<ol type="1">
<li>The spatial part, in the form of individual frame appearance, carries information about scenes and objects depicted in the video.</li>
<li>The temporal part, in the form of motion across the frames, conveys the movement of the observer (the camera) and the objects. In fact, the essence of "motion" is <a href="https://en.wikipedia.org/wiki/Optical_flow">optical flow</a>.</li>
</ol>
<h1 id="improvement-of-methods">Improvement of methods</h1>
<p>Firstly I'd like to show a graph which shows an overview of all previous action classification architectures drawn in the paper <a href="https://arxiv.org/abs/1705.07750">Quo Vadis, Action Recognition? A New Model and the Kinetics Dataset</a>.</p>
<figure>
<img src="/2019/11/07/video-classification/image-20191028130233266.png" alt="image-20191028130233266"><figcaption aria-hidden="true">image-20191028130233266</figcaption>
</figure>
<p>To summarize, there are these kinds of improved methods:</p>
<ol type="1">
<li><p><a href="https://arxiv.org/abs/1411.4389">LRCN</a>: Long-term Recurrent Convolutional Networks for Visual Recognition and Description</p>
<figure>
<img src="/2019/11/07/video-classification/GenericLRCN_high.png" alt="2 stream architecture"><figcaption aria-hidden="true">2 stream architecture</figcaption>
</figure>
<p>Send each frame to a CNN at first and then uses the features extracted as the input of LSTM.</p></li>
<li><p><a href="https://arxiv.org/pdf/1412.0767">C3D</a>: Learning Spatiotemporal Features with 3D Convolutional Networks</p>
<figure>
<img src="/2019/11/07/video-classification/c3d_high-1572285955778.png" alt="SegNet Architecture"><figcaption aria-hidden="true">SegNet Architecture</figcaption>
</figure>
<p>The first time using 3D Conv to process frames.</p></li>
<li><p><a href="https://arxiv.org/abs/1502.08029">Conv3D &amp; Attention</a>: Describing Videos by Exploiting Temporal Structure</p>
<figure>
<img src="/2019/11/07/video-classification/Larochelle_paper_high.png" alt="Attention Mechanism"><figcaption aria-hidden="true">Attention Mechanism</figcaption>
</figure>
<p>Add a attention mask before send the CNN-extracted feature into LSTM.</p></li>
<li><p><a href="https://arxiv.org/abs/1604.06573">TwoStreamFusion</a>: Convolutional Two-Stream Network Fusion for Video Action Recognition</p>
<figure>
<img src="/2019/11/07/video-classification/fusion_strategies_high.png" alt="SegNet Architecture"><figcaption aria-hidden="true">SegNet Architecture</figcaption>
</figure>
<p>Fuse two stream in a smarter way and get a better result.</p></li>
<li><p><a href="https://arxiv.org/abs/1608.00859">TSN</a> :Temporal Segment Networks: Towards Good Practices for Deep Action Recognition</p>
<figure>
<img src="/2019/11/07/video-classification/tsn_high.png" alt="SegNet Architecture"><figcaption aria-hidden="true">SegNet Architecture</figcaption>
</figure>
<p>Select video snippets not completely randomly, but divide the video into k equal-length parts and choose a snippets randomly from each division.</p></li>
<li><p><a href="https://arxiv.org/pdf/1704.02895.pdf">ActionVlad</a>:ActionVLAD: Learning spatio-temporal aggregation for action classification</p>
<figure>
<img src="/2019/11/07/video-classification/actionvlad-1572285243641.png" alt="SegNet Architecture"><figcaption aria-hidden="true">SegNet Architecture</figcaption>
</figure>
<p>In this work, the most notable contribution by the authors is the usage of learnable feature aggregation (VLAD) as compared to normal aggregation using maxpool or avgpool.</p></li>
<li><p><a href="https://arxiv.org/abs/1704.00389">HiddenTwoStream</a>:Hidden Two-Stream Convolutional Networks for Action Recognition</p>
<figure>
<img src="/2019/11/07/video-classification/image-20191028134438690.png" alt="image-20191028134438690"><figcaption aria-hidden="true">image-20191028134438690</figcaption>
</figure>
<p>It uses a "MotionNet" to take the place of optical flow.</p></li>
<li><p><a href="https://arxiv.org/abs/1705.07750">I3D</a>: Quo Vadis, Action Recognition? A New Model and the Kinetics Dataset</p>
<p>Mainly used pretrained network by ImageNet and Kinetics dataset. Also, it use different 3D network for images and optical flows.</p></li>
<li><p><a href="https://arxiv.org/abs/1711.08200">T3D</a>: Temporal 3D ConvNets: New Architecture and Transfer Learning for Video Classification</p>
<figure>
<img src="/2019/11/07/video-classification/ttl_layer_high.png" alt="SegNet Architecture"><figcaption aria-hidden="true">SegNet Architecture</figcaption>
</figure>
<p>Transfer a 2-D DenseNet to a 3D one.</p></li>
</ol>
<h1 id="result-comparation">Result comparation</h1>
<figure>
<img src="/2019/11/07/video-classification/image-20191028133828231.png" alt="image-20191028133828231"><figcaption aria-hidden="true">image-20191028133828231</figcaption>
</figure>
<figure>
<img src="/2019/11/07/video-classification/image-20191028133226300.png" alt="image-20191028133226300"><figcaption aria-hidden="true">image-20191028133226300</figcaption>
</figure>
<h1 id="current-thought">Current Thought</h1>
<p>As we can see from the analysis above, the I3D is the most computational efficient and accurate method. Also, the pre-trained model of I3D is provided by the author, so we can also take advantage of it. Now I think we should collect enough data of the corresponding action. Moreover, I noticed that there are many new method on Temporal Action Proposals, Temporal Action Localization and Dense-Captioning Events in Videos appearing this year in the competition ActivityNet, I may research into it to get better result later.</p>
<h1 id="datasets">Datasets</h1>
<ul>
<li><a href="https://www.crcv.ucf.edu/data/UCF101.php">UCF101</a></li>
<li><a href="https://cs.stanford.edu/people/karpathy/deepvideo/">Sports-1M</a></li>
<li><a href="https://deepmind.com/research/open-source/kinetics">Kinetics</a></li>
<li><a href="http://activity-net.org/download.html">ActivityNet Version 1.3 dataset</a></li>
</ul>
<h1 id="codes">Codes</h1>
<ul>
<li><a href="https://github.com/hassony2/kinetics_i3d_pytorch">I3D models transfered from Tensorflow to PyTorch</a></li>
<li><a href="https://github.com/deepmind/kinetics-i3d">I3D models trained on Kinetics</a></li>
<li><a href="https://github.com/kenshohara/video-classification-3d-cnn-pytorch">Video Classification Using 3D ResNet</a></li>
</ul>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="http://blog.qure.ai/notes/deep-learning-for-videos-action-recognition-review">Deep Learning for Videos: A 2018 Guide to Action Recognition</a></li>
<li><a href="https://arxiv.org/abs/1705.07750">Quo Vadis, Action Recognition? A New Model and the Kinetics Dataset</a></li>
<li><a href="https://github.com/jinwchoi/awesome-action-recognition">Awesome Action Recognition</a></li>
<li><a href="http://activity-net.org/index.html">ActivityNet</a></li>
<li><a href="https://www.sciencedirect.com/science/article/abs/pii/0004370281900242">Determining optical flow</a></li>
</ul>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>cv</tag>
        <tag>video-classification</tag>
      </tags>
  </entry>
  <entry>
    <title>Win10æ”¯æŒå¤šç”¨æˆ·åŒæ—¶ç™»é™†æ–¹æ³•</title>
    <url>/2018/08/22/win10-multi-user/</url>
    <content><![CDATA[<h2 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h2>
<p>æ™®é€šçš„ï¼ˆéWin Serverï¼‰Win10ç³»ç»Ÿå¹¶ä¸æ”¯æŒåŒæ—¶å¤šç”¨æˆ·ç™»å½•ï¼Œåªèƒ½ä¸€ä¸ªæŠŠå¦ä¸€ä¸ªæŒ¤ä¸‹å»æ‰èƒ½ç»§ç»­ï¼Œè€Œä¸”å¤šäººå…±äº«ä¸€ä¸ªæ¡Œé¢ã€‚</p>
<h2 id="è§£å†³åŠæ³•"><a class="markdownIt-Anchor" href="#è§£å†³åŠæ³•"></a> è§£å†³åŠæ³•</h2>
<p>è§GitHubï¼š<a href="https://github.com/stascorp/rdpwrap">é“¾æ¥</a>ï¼Œstascorpå¤§ç¥å†™äº†ä¸€ä¸ªæ’ä»¶ï¼Œç›´æ¥å®‰è£…å³å¯äº«å—å¤šç”¨æˆ·åŒæ—¶ç™»å½•ã€‚</p>
<p>å¯ä¾›ä¸‹è½½çš„releaseåŒ…çš„åœ°å€ï¼š<a href="https://github.com/stascorp/rdpwrap/releases">é“¾æ¥</a></p>
]]></content>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsä¸é‡å¯ç”µè„‘å°†è·¯å¾„åŠ å…¥ç³»ç»ŸPATH</title>
    <url>/2018/09/15/windows-norestart-set-env/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h1>
<p>å¦‚ä½•åœ¨ä¸é‡å¯ç”µè„‘çš„æƒ…å†µä¸‹å°†æŸä¸ªè·¯å¾„åŠ å…¥åˆ°ç³»ç»Ÿè·¯å¾„PATHä¸­ã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆ"></a> è§£å†³æ–¹æ¡ˆ</h1>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦æ·»åŠ çš„è·¯å¾„åç§°ä¸º<code>C:\ProgramData\Anaconda3</code></p>
<p>é‚£ä¹ˆåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š</p>
<p><code>set PATH=%PATH%C:\ProgramData\Anaconda3;</code></p>
<p>å®Œæ¯•åï¼Œå¯ä»¥ä½¿ç”¨<code>echo %PATH%</code>æŸ¥çœ‹å½“å‰ç³»ç»Ÿè·¯å¾„ä¸­æ˜¯å¦å·²ç»å®Œæˆæ·»åŠ </p>
<h1 id="æ³¨æ„"><a class="markdownIt-Anchor" href="#æ³¨æ„"></a> æ³¨æ„</h1>
<p>è¿™ç§æ·»åŠ ä»…é™äºåœ¨å½“å‰å‘½ä»¤è¡Œä¸­æœ‰æ•ˆï¼Œé‡å¯å‘½ä»¤è¡Œè¯·é‡æ–°æ“ä½œã€‚</p>
]]></content>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac OSä¸‹Cå¼€å‘ç›¸å…³äº‹é¡¹</title>
    <url>/2018/07/29/xcode-c/</url>
    <content><![CDATA[<h1 id="xcodeç®€æ˜æ•™ç¨‹mac-osä¸‹cå¼€å‘ç¯å¢ƒçš„æ­å»º">Xcodeç®€æ˜æ•™ç¨‹ï¼ˆMac OSä¸‹Cå¼€å‘ç¯å¢ƒçš„æ­å»ºï¼‰</h1>
<p>åœ¨ Mac OS X ä¸‹å­¦ä¹ Cè¯­è¨€ä½¿ç”¨ Xcodeã€‚Xcode æ˜¯ç”±Appleå®˜æ–¹å¼€å‘çš„IDEï¼Œæ”¯æŒCã€C++ã€Objective-Cã€Swiftç­‰ï¼Œå¯ä»¥ç”¨æ¥å¼€å‘ Mac OS X å’Œ iOS ä¸Šçš„åº”ç”¨ç¨‹åºã€‚Xcodeæœ€åˆä½¿ç”¨GCCä½œä¸ºç¼–è¯‘å™¨ï¼Œåæ¥ç”±äºGCCçš„ä¸é…åˆï¼Œæ”¹ç”¨LLVM/Clangã€‚</p>
<p>Xcode çš„å®‰è£…éå¸¸ç®€å•ï¼Œåœ¨ APP Store ä¸Šç›´æ¥ä¸‹è½½å³å¯ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>
<span id="more"></span>
<h2 id="åœ¨xcodeä¸Šè¿è¡Œcè¯­è¨€ç¨‹åº">åœ¨Xcodeä¸Šè¿è¡ŒCè¯­è¨€ç¨‹åº</h2>
<p>åœ¨ Xcode ä¸Šè¿è¡ŒCè¯­è¨€ç¨‹åºéœ€è¦å…ˆåˆ›å»ºå·¥ç¨‹ï¼Œå†åœ¨å·¥ç¨‹ä¸­æ·»åŠ æºä»£ç ã€‚</p>
<ol type="1">
<li>æ‰“å¼€ Xcodeï¼Œé€‰æ‹©â€œCreate a new Xcode projectâ€åˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ol>
<figure>
<img src="/2018/07/29/xcode-c/006tNc79ly1ftrj0gvwv6j314c0ngth9.jpg" alt="image-20180729181817554"><figcaption aria-hidden="true">image-20180729181817554</figcaption>
</figure>
<ol start="2" type="1">
<li>æ¥ä¸‹æ¥ï¼Œé€‰æ‹©è¦åˆ›å»ºçš„å·¥ç¨‹ç±»å‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ol>
<figure>
<img src="/2018/07/29/xcode-c/006tNc79ly1ftrj13r485j31420ssjuw.jpg" alt="image-20180729181855118"><figcaption aria-hidden="true">image-20180729181855118</figcaption>
</figure>
<ol start="3" type="1">
<li>é€‰æ‹©â€œOS X --&gt; Application --&gt; Command Line Toolâ€ï¼Œç‚¹å‡»â€œNextâ€ã€‚Command Line Tool æ˜¯â€œå‘½ä»¤è¡Œå·¥å…·â€çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯æ§åˆ¶å°ç¨‹åºã€‚</li>
</ol>
<figure>
<img src="/2018/07/29/xcode-c/006tNc79ly1ftrj1kdat7j31460t0mzl.jpg" alt="image-20180729181921915"><figcaption aria-hidden="true">image-20180729181921915</figcaption>
</figure>
<p>è¿™é‡Œéœ€è¦å¡«å†™å’Œå·¥ç¨‹ç›¸å…³çš„ä¸€äº›ä¿¡æ¯ï¼š</p>
<ul>
<li>Product Nameï¼šäº§å“åç§°ï¼Œå³å·¥ç¨‹åç§°ã€‚</li>
<li>Organization Nameï¼šç»„ç»‡åç§°ï¼Œå³å…¬å¸ã€ä¸ªäººã€åä¼šã€å›¢é˜Ÿç­‰çš„åç§°ã€‚</li>
<li>Organization Identifierï¼šç»„ç»‡æ ‡è¯†ç¬¦ï¼Œå³æœ‰åˆ«äºå…¶ä»–ç»„ç»‡çš„ä¸€ä¸ªæ ‡è®°ï¼Œä¾‹å¦‚èº«ä»½è¯å·ã€å…¬å¸ç½‘å€ã€ç»„ç»‡æœºæ„ä»£ç è¯ç­‰ã€‚</li>
<li>Bundle Identifierï¼šç¨‹åºæ ‡è¯†ç¬¦ï¼Œå³æœ‰åˆ«äºå…¶ä»–ç¨‹åºçš„ä¸€ä¸ªæ ‡è®°ï¼Œç”± Organization Identifier + Product Name ç»„æˆã€‚</li>
<li>Languageï¼šå·¥ç¨‹æ‰€ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿™é‡Œé€‰æ‹©Cè¯­è¨€ã€‚</li>
</ul>
<ol start="4" type="1">
<li>ç‚¹å‡»â€œNextâ€ï¼Œä¿å­˜æ–‡ä»¶åå³å¯è¿›å…¥å½“å‰å·¥ç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ol>
<p>å·¦ä¾§æ˜¯å·¥ç¨‹ç›®å½•ï¼Œä¸»è¦åŒ…å«äº†å·¥ç¨‹æ‰€ç”¨åˆ°çš„æ–‡ä»¶å’Œèµ„æºã€‚å•å‡»â€œmain.câ€ï¼Œå³å¯è¿›å…¥ä»£ç ç¼–è¾‘æ¨¡å¼ï¼Œè¿™é‡Œ Xcode å·²ç»ä¸ºæˆ‘ä»¬åˆ›å»ºå¥½äº†ä¸€ä¸ªâ€œHello Worldâ€å°ç¨‹åºã€‚ç‚¹å‡»ä¸Šæ–¹çš„â€œè¿è¡Œâ€æŒ‰é’®ï¼Œå³å¯åœ¨å³ä¸‹è§’çš„é€‰é¡¹å¡ä¸­çœ‹åˆ°è¾“å‡ºç»“æœã€‚</p>
<h1 id="ä¿®æ”¹å·¥ä½œè·¯å¾„ä½¿ä¹‹ä¸å½“å‰ä»£ç å­˜æ”¾ç›®å½•ä¸€è‡´">ä¿®æ”¹å·¥ä½œè·¯å¾„ä½¿ä¹‹ä¸å½“å‰ä»£ç å­˜æ”¾ç›®å½•ä¸€è‡´</h1>
<p>å¦‚ä¸‹å›¾åœ¨Xcodeä¸­ç‚¹å‡»å·¥ç¨‹åï¼Œé€‰æ‹©Edit Schemeï¼Œä¹‹ååœ¨Use custom working directoryå‰æ‰“é’©ï¼Œå¹¶å°†å·¥ä½œè·¯å¾„ä¿®æ”¹ä¸º<strong>/Users/mac/Desktop/test</strong>ã€‚</p>
<figure>
<img src="/2018/07/29/xcode-c/006tNc79ly1ftrjltwyphj30ji084jsl.jpg" alt="image-20180729183848469"><figcaption aria-hidden="true">image-20180729183848469</figcaption>
</figure>
<figure>
<img src="/2018/07/29/xcode-c/006tNc79ly1ftrjmjg1v2j31di0rowkh.jpg" alt="image-20180729183918230"><figcaption aria-hidden="true">image-20180729183918230</figcaption>
</figure>
]]></content>
      <tags>
        <tag>c</tag>
        <tag>xcode</tag>
      </tags>
  </entry>
  <entry>
    <title>Word - é«˜çº§æŠ€å·§ - æ ·å¼å®šä¹‰/å¯¼èˆªçª—æ ¼/å¤šçº§åˆ—è¡¨/è‡ªå®šä¹‰ç›®å½•</title>
    <url>/2018/08/13/word-adv-skill/</url>
    <content><![CDATA[<p>ä¸€ã€æ ·å¼å®šä¹‰å’Œå¯¼èˆªçª—æ ¼</p>
<h4 id="æ­¥éª¤ä¸€-åˆ›å»ºä¸€çº§æ ‡é¢˜æ ·å¼è®¾ç½®ç›¸åº”æ ¼å¼">æ­¥éª¤ä¸€ åˆ›å»ºä¸€çº§æ ‡é¢˜æ ·å¼ï¼Œè®¾ç½®ç›¸åº”æ ¼å¼</h4>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ“ä½œï¼šå¼€å§‹é€‰é¡¹å¡-&gt;åˆ›å»ºæ ·å¼-&gt;è¾“å…¥æ ·å¼åç§°-&gt;ç‚¹å‡»ä¿®æ”¹-&gt;è¾“å…¥æŒ‡å®šæ ·å¼-&gt;å•å‡»ç¡®å®šæŒ‰é’®</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>ä¸€çº§åˆ—è¡¨æ ·å¼æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¸€çº§åˆ—è¡¨ï¼šå°ä¸‰å®‹ä½“åŠ ç²—ï¼Œå¤§çº²çº§åˆ«1çº§ï¼Œ1.5å€è¡Œè·ï¼Œæ— ç‰¹æ®Šæ ¼å¼ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br></pre></td></tr></table></figure>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>åˆ›å»ºæ ·å¼</p>
<figure>
<img src="/2018/08/13/word-adv-skill/684.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æ ·å¼æ ¼å¼</p>
<figure>
<img src="/2018/08/13/word-adv-skill/527.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¤§çº²çº§åˆ«è®¾ç½®</p>
<h4 id="æ­¥éª¤äºŒ-åˆ›å»ºå…¶ä½™æ ‡é¢˜æˆ–å†…å®¹æ ·å¼">æ­¥éª¤äºŒ åˆ›å»ºå…¶ä½™æ ‡é¢˜æˆ–å†…å®¹æ ·å¼</h4>
<p>æ ¹æ®æ­¥éª¤ä¸€çš„æ–¹æ³•ï¼Œä¾æ¬¡åˆ›å»ºäºŒçº§æ ‡é¢˜ï¼Œä¸‰çº§æ ‡é¢˜ï¼Œå››çº§æ ‡é¢˜ï¼Œæˆ‘çš„æ­£æ–‡æ–°æ ·å¼ï¼Œå…¶æ ¼å¼å¯¹åº”å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">äºŒçº§æ ‡é¢˜ï¼šå°å››å®‹ä½“åŠ ç²—ï¼Œå¤§çº²çº§åˆ«2çº§ï¼Œ1.5å€è¡Œè·ï¼Œå·¦ä¾§ç¼©è¿›1å­—ç¬¦ï¼Œæ— ç‰¹æ®Šæ ¼å¼ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br><span class="line">ä¸‰çº§æ ‡é¢˜ï¼šå°å››å®‹ä½“ä¸åŠ ç²—ï¼Œå¤§çº²çº§åˆ«3çº§ï¼Œ1.5å€è¡Œè·ï¼Œå·¦ä¾§ç¼©è¿›1.5å­—ç¬¦ï¼Œæ— ç‰¹æ®Šæ ¼å¼ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br><span class="line">å››çº§æ ‡é¢˜ï¼šäº”å·å®‹ä½“åŠ ç²—ï¼Œå¤§çº²çº§åˆ«4çº§ï¼Œ1.5å€è¡Œè·ï¼Œå·¦ä¾§ç¼©è¿›2å­—ç¬¦ï¼Œæ— ç‰¹æ®Šæ ¼å¼ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br><span class="line">æˆ‘çš„æ­£æ–‡ï¼šå°äº”å®‹ä½“ä¸åŠ ç²—ï¼Œå•å€è¡Œè·ï¼Œé¦–è¡Œç¼©è¿›2å­—ç¬¦ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼šç¼©è¿›è®¾ç½®æ–¹æ³•ï¼Œå•å‡»æ ¼å¼æŒ‰é’® -&gt; é€‰æ‹©æ®µè½ã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/681.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æ®µè½è®¾ç½®å…¥å£</p>
<figure>
<img src="/2018/08/13/word-adv-skill/529.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æ®µè½ç¼©è¿›è®¾ç½®</p>
<h4 id="æ­¥éª¤ä¸‰-è®¾ç½®æ ·å¼è‡³å¯¹åº”å†…å®¹">æ­¥éª¤ä¸‰ è®¾ç½®æ ·å¼è‡³å¯¹åº”å†…å®¹</h4>
<p>é€‰ä¸­å†…å®¹å•å‡»æŒ‡å®šæ ·å¼å¿«é€Ÿè®¾ç½®æ ¼å¼ï¼Œæ“ä½œç®€å•è¿™é‡Œä¸å†èµ˜è¿°ï¼Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æ ·å¼æ•ˆæœ</p>
<p>å½“ç„¶è¿™é‡Œä¸ºä»€ä¹ˆéœ€è¦æ ·å¼çš„åˆ›å»ºå’Œå®šä¹‰ï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå¤æ‚ã€‚ä¸»è¦ç›®çš„æ˜¯ä¸ºåç»­çš„æ“ä½œå¥ å®šåŸºç¡€ï¼Œæ¯”å¦‚å¤šçº§åˆ—è¡¨ï¼Œç›®å½•çš„è‡ªåŠ¨ç”Ÿæˆç­‰ï¼Œä½¿æ“ä½œæ›´åŠ æ–¹ä¾¿ã€‚</p>
<h4 id="æ­¥éª¤å››-è°ƒå‡ºå·¦ä¾§å¯¼èˆªçª—æ ¼">æ­¥éª¤å›› è°ƒå‡ºå·¦ä¾§å¯¼èˆªçª—æ ¼</h4>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ“ä½œï¼šè§†å›¾é€‰é¡¹å¡ -&gt; æ˜¾ç¤ºæ ç›®å‹¾é€‰å¯¼èˆªçª—æ ¼</span><br></pre></td></tr></table></figure>
<p>ç”±äºå‰é¢çš„æ“ä½œå¯¹æ ·å¼è¿›è¡Œäº†å¤§çº²è§†å›¾çš„è®¾ç½®ï¼Œæ‰€ä»¥è°ƒå‡ºå¯¼èˆªçª—å£åï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸‹é¢çš„æ•ˆæœï¼Œå¦‚æœæ˜¾ç¤ºå†…å®¹ä¸ºç©ºæˆ–è€…æ•ˆæœä¸ä½³ï¼Œè¯·æŸ¥çœ‹æ“ä½œè¿‡ç¨‹æ˜¯å¦ç”±é—æ¼æˆ–å‡ºé”™ã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¯¼èˆªçª—å£è°ƒå‡º</p>
<h3 id="äºŒå¤šçº§åˆ—è¡¨">äºŒã€å¤šçº§åˆ—è¡¨</h3>
<h4 id="æ­¥éª¤ä¸€-å®šä¹‰æ–°çš„å¤šçº§åˆ—è¡¨">æ­¥éª¤ä¸€ å®šä¹‰æ–°çš„å¤šçº§åˆ—è¡¨</h4>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ“ä½œï¼šå¼€å§‹é€‰é¡¹å¡ -&gt; æ®µè½é€‰é¡¹ -&gt; ç‚¹å‡»å¤šçº§åˆ—è¡¨æŒ‰é’® -&gt; å®šä¹‰æ–°çš„å¤šçº§åˆ—è¡¨</span><br></pre></td></tr></table></figure>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å®šä¹‰æ–°çš„å¤šçº§åˆ—è¡¨</p>
<h4 id="æ­¥éª¤äºŒ-è®¾ç½®åˆ—è¡¨æ ¼å¼">æ­¥éª¤äºŒ è®¾ç½®åˆ—è¡¨æ ¼å¼</h4>
<p>1.é¦–å…ˆè®¾ç½®ä¸€çº§åˆ—è¡¨çš„æ ¼å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœˆå‡ºéƒ¨åˆ†ä¸ºä¿®æ”¹é¡¹ï¼Œå…¶ä½™æ ¹æ®è‡ªèº«æƒ…å†µä¿®æ”¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ“ä½œï¼šå•å‡»è¦ä¿®æ”¹çš„çº§åˆ« -&gt; å°†çº§åˆ«é“¾æ¥åˆ°æ ·å¼(ä¸€çº§æ ‡é¢˜) -&gt; èµ·å§‹ç¼–å· -&gt; æ­¤çº§åˆ«çš„ç¼–å·æ ·å¼ -&gt; ç¼–å·ä¹‹åé€‰æ‹©ç©ºæ ¼(åˆ¶è¡¨æ ¼ä¼šå½±å“åç»­ç›®å½•ç”Ÿæˆçš„æ•ˆæœ)</span><br></pre></td></tr></table></figure>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è®¾ç½®ä¸€çº§åˆ—è¡¨æ ¼å¼</p>
<p>2.è®¾ç½®äºŒçº§åˆ—è¡¨æ ¼å¼ï¼Œæ“ä½œä¸ä¸€çº§åˆ—è¡¨ä¸€è‡´ï¼Œåªä¸è¿‡æ­¤æ—¶éœ€è¦è®¾ç½®åŒ…å«çš„çº§åˆ«ç¼–å·æ¥è‡ªï¼Œå› ä¸ºäºŒçº§åˆ—è¡¨å‰é¢çš„åºå·éœ€è¦æ ¹æ®ä¸€çº§åˆ—è¡¨æ”¹å˜ï¼Œæ­¤æ—¶éœ€è¦è®¾ç½®åŒ…å«çš„çº§åˆ«ç¼–å·æ¥è‡ªçº§åˆ«ä¸€ï¼Œæ“ä½œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è®¾ç½®äºŒçº§åˆ—è¡¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ç¼–å·çš„æ ¼å¼1.1ï¼Œå…¶ä¸­å°æ•°ç‚¹ä¸ºæ‰‹åŠ¨æ·»åŠ ï¼Œå…¶ä½™æ–‡æœ¬ç¼©è¿›ä½ç½®ç­‰é€‰é¡¹ï¼Œå¯æ ¹æ®è‡ªèº«è¦æ±‚è¿›è¡Œä¿®æ”¹ã€‚</span><br></pre></td></tr></table></figure>
<p>3.æ ¹æ®äºŒçº§åˆ—è¡¨æ ¼å¼çš„è®¾ç½®æ­¥éª¤ï¼Œä¾æ¬¡è®¾ç½®ä¸‰çº§åˆ—è¡¨å’Œå››çº§åˆ—è¡¨ï¼Œæœ€ç»ˆæ•ˆæœå¦‚ä¸‹</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¤šçº§åˆ—è¡¨</p>
<p>è¿™æ ·æ“ä½œçš„å¥½å¤„ç›¸ä¿¡å¤§å®¶éƒ½æ˜ç™½ï¼Œå‡å¦‚åœ¨æ’°å†™æ–‡æ¡£çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦è°ƒæ•´ç« èŠ‚æˆ–è€…åˆ å‡ç« èŠ‚çš„è¯ï¼Œæ ‡é¢˜å‰é¢çš„åºå·ä¼šè·Ÿç€è‡ªåŠ¨å˜åŒ–ï¼Œè€Œä¸è‡³äºåƒä¸ªå°ç™½ä¸€æ ·ï¼Œé‡æ–°æŠŠç¼–å·ä¸€ä¸ªä¸ªæ‰‹åŠ¨å»æ›´æ”¹ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœæƒ³å®šä¹‰ä»¥ä¸‹å½¢å¼çš„å¤šçº§åˆ—è¡¨ï¼Œä¹Ÿæ˜¯éå¸¸ç®€å•çš„ï¼Œä¸‹é¢è¯·çœ‹æ­¥éª¤ï¼š</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å®šä¹‰æ–°çš„å¤šçº§åˆ—è¡¨</p>
<ol type="a">
<li>ç¼–è¾‘ä¸€çº§åˆ—è¡¨æ—¶ï¼Œåœ¨â€œè¾“å…¥ç¼–å·çš„æ ¼å¼â€ä¸€æ ä¸­ï¼Œæ‰‹åŠ¨è¾“å…¥ç¬¬ç« ï¼Œå…¶ä¸­çš„æ•°å­—ä¸€äºŒä¸‰ç”±ä¸‹é¢çš„â€œæ­¤çº§åˆ«çš„ç¼–å·æ ·å¼â€ç»™å‡ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ol>
<figure>
<img src="/2018/08/13/word-adv-skill/560.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç¼–è¾‘ä¸€çº§åˆ—è¡¨</p>
<ol start="2" type="a">
<li>ç¼–è¾‘äºŒä¸‰å››çº§åˆ—è¡¨æ—¶ï¼Œè·Ÿä¹‹å‰æ­¥éª¤ç±»ä¼¼ï¼Œä¸è¿‡éœ€è¦å‹¾é€‰â€œæ­£è§„å½¢å¼ç¼–å·â€çš„é€‰é¡¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li>
</ol>
<figure>
<img src="/2018/08/13/word-adv-skill/563.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç¼–è¾‘äºŒä¸‰å››çº§åˆ—è¡¨</p>
<h3 id="ä¸‰è‡ªå®šä¹‰ç›®å½•">ä¸‰ã€è‡ªå®šä¹‰ç›®å½•</h3>
<p>ç›®å½•çš„å¼•ç”¨ï¼Œä¹Ÿæ˜¯éå¸¸é‡è¦çš„æŠ€èƒ½ï¼Œæ„Ÿå…´è¶£çš„è¯åšå¥½getå‡†å¤‡ã€‚æ­¥éª¤ä¹Ÿç›¸å¯¹ç®€å•ï¼Œå¸Œæœ›èƒ½è®©ä½ ä»¬æœ‰æ‰€æ”¶è·ï¼Œä¸‹é¢å°†å¯¹æ­¥éª¤è¿›è¡Œè¡¨è¿°å’Œæ¼”ç¤ºã€‚ 1.æ‰¾åˆ°è‡ªå®šä¹‰ç›®å½•æŒ‰é’®ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æ“ä½œï¼šå¼•ç”¨é€‰é¡¹å¡ -&gt; ç›®å½• -&gt; è‡ªå®šä¹‰ç›®å½•</span><br></pre></td></tr></table></figure>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è‡ªå®šä¹‰ç›®å½•å…¥å£</p>
<p>2.è®¾ç½®ç›®å½•çº§åˆ«å¯¹åº”æ ·å¼ï¼Œå•å‡»é€‰é¡¹æŒ‰é’®ï¼Œæ¸…é™¤é»˜è®¤çš„ç›®å½•çº§åˆ«ï¼Œå°†ç›®å½•çº§åˆ«ä¸æ ·å¼æ ‡é¢˜è¿›è¡Œç»‘å®šã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æœ‰æ•ˆæ ·å¼ï¼šä¸€çº§æ ‡é¢˜ -&gt;ç›®å½•çº§åˆ«ï¼š 1</span><br><span class="line">æœ‰æ•ˆæ ·å¼ï¼šäºŒçº§æ ‡é¢˜ -&gt;ç›®å½•çº§åˆ«ï¼š 2</span><br><span class="line">æœ‰æ•ˆæ ·å¼ï¼šä¸‰çº§æ ‡é¢˜ -&gt;ç›®å½•çº§åˆ«ï¼š 3</span><br><span class="line">æœ‰æ•ˆæ ·å¼ï¼šå››çº§æ ‡é¢˜ -&gt;ç›®å½•çº§åˆ«ï¼š 4</span><br></pre></td></tr></table></figure>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç»‘å®šæ ·å¼</p>
<p>3.ç»‘å®šè®¾ç½®å®Œæˆåï¼Œç‚¹å‡»ä¿®æ”¹æŒ‰é’®ï¼Œè®¾ç½®æ¯ä¸€çº§çš„æ ¼å¼ï¼Œè¿™é‡Œç¤ºä¾‹çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¸€çº§ç›®å½•ï¼šå››å·å®‹ä½“ï¼Œ1.5å€è¡Œè·ï¼Œæ— ç‰¹æ®Šæ ¼å¼ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br><span class="line">äºŒçº§ç›®å½•ï¼šå°å››å®‹ä½“ï¼Œ1.5å€è¡Œè·ï¼Œå·¦ä¾§ç¼©è¿›0.5å­—ç¬¦ï¼Œæ— ç‰¹æ®Šæ ¼å¼ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br><span class="line">ä¸‰çº§ç›®å½•ï¼šäº”å·å®‹ä½“ï¼Œ1.5å€è¡Œè·ï¼Œå·¦ä¾§ç¼©è¿›1å­—ç¬¦ï¼Œæ— ç‰¹æ®Šæ ¼å¼ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br><span class="line">å››çº§ç›®å½•ï¼šäº”å·å®‹ä½“ï¼Œ1.5å€è¡Œè·ï¼Œå·¦ä¾§ç¼©è¿›1.5å­—ç¬¦ï¼Œæ— ç‰¹æ®Šæ ¼å¼ï¼Œå…¶ä½™é»˜è®¤ã€‚</span><br></pre></td></tr></table></figure>
<p>å•å‡»æ ·å¼çª—ä½“ä¸­çš„<strong>ç›®å½•1</strong>åï¼Œå•å‡»<strong>ä¿®æ”¹</strong>æŒ‰é’®ä¿®æ”¹æ ·å¼ï¼Œæœ€åç‚¹å‡»<strong>ç¡®å®š</strong>æŒ‰é’®ã€‚åŒç†ï¼Œè®¾ç½®<strong>ç›®å½•2</strong>ï¼Œ<strong>ç›®å½•3</strong>ï¼Œ<strong>ç›®å½•4</strong>æ ·å¼ã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç›®å½•æ ·å¼</p>
<p>4.å•å‡»ç›®å½•çª—ä½“ä¸­ç¡®å®šæŒ‰é’®ï¼Œæ­¤æ—¶å¯çœ‹åˆ°ç›®å½•å·²æˆåŠŸç”Ÿæˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç›®å½•ç”Ÿæˆæ•ˆæœ</p>
<p><strong>å¦å¤–ï¼Œä¸‹é¢è¿˜æœ‰ä¸¤ç‚¹éœ€è¦å¤§å®¶æ³¨æ„</strong></p>
<ol type="1">
<li><p>å½“æ­£æ–‡å†…å®¹å‘ç”Ÿä¿®æ”¹æ—¶ï¼Œå¯åœ¨ç›®å½•åŒºåŸŸå•å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©æ›´æ–°åŸŸï¼Œæ›´æ–°æ•´ä¸ªç›®å½•æˆ–åªæ›´æ–°é¡µç ï¼Œå³å¯å®Œæˆç›®å½•çš„æ›´æ–°æ“ä½œã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æ›´æ–°åŸŸ</p></li>
<li><p>å½“å‡ºç°æ ‡é¢˜å’Œåºå·ä¹‹å‰å‡ºç°è‹¥å¹²ç©ºæ ¼æ—¶ï¼Œå‡ºç°è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯å¤šçº§åˆ—è¡¨å®šä¹‰çš„æ—¶å€™è®¾ç½®â€œç¼–å·ä¹‹åâ€çš„æ ¼å¼ä¸ºâ€œåˆ¶è¡¨ç¬¦â€è€Œé€ æˆçš„ã€‚æ­¤æ—¶éœ€çœ‹ä¸‹å¤šçº§åˆ—è¡¨çš„è®¾ç½®ä¸­ï¼Œæœ‰æ²¡æœ‰å°†â€œç¼–å·ä¹‹åâ€çš„é€‰é¡¹è®¾ç½®ä¸ºç©ºæ ¼ã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/700.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•å‡ºç°ç©ºæ ¼é—®é¢˜</p></li>
</ol>
<p>ä»¥ä¸‹ä¸ºæ”¹æ­£æ–¹æ³•ï¼š</p>
<figure>
<img src="/2018/08/13/word-adv-skill/566.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ä¿®å¤è‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•å‡ºç°ç©ºæ ¼é—®é¢˜</p>
<h1 id="word-ä¸­å›¾ç‰‡å’Œè¡¨æ ¼çš„è‡ªåŠ¨ç¼–å·">Word ä¸­å›¾ç‰‡å’Œè¡¨æ ¼çš„è‡ªåŠ¨ç¼–å·</h1>
<p>å‘è¡¨äº <a href="https://cnzhx.net/blog/auto-number-fig-or-table-in-word/">2013-05-24</a> ä½œè€… <a href="https://cnzhx.net/">H Zeng</a><br>
æ›´æ–°äº 2015-08-27</p>
<p>ä½¿ç”¨ Word ç¼–è¾‘é•¿æ–‡æ¡£ç»å¸¸éœ€è¦ç»™æ–‡æ¡£ä¸­çš„å›¾ç‰‡å’Œè¡¨æ ¼è¿›è¡Œç¼–å·ï¼Œç‰¹åˆ«æ˜¯ç§‘æŠ€æ–‡æ¡£ï¼Œå¦‚æ¯•ä¸šè®ºæ–‡ã€‚äººå·¥ç»™å›¾ç‰‡å’Œè¡¨æ ¼ç¼–å·çš„ç¼ºç‚¹æƒ³å¿…å¾ˆå¤šäººéƒ½æ›¾é‡åˆ°è¿‡ï¼Œä¸ä¿®æ”¹è¿˜å¥½ï¼Œä¸€è°ƒæ•´é¡ºåºå°±å¤§ä¹±ã€‚Word å…¶å®å¯ä»¥è‡ªåŠ¨ç»™å›¾ç‰‡å’Œè¡¨æ ¼åˆ†åˆ«ç¼–å·ï¼Œç”šè‡³å¯ä»¥è®¾å®šç¼–å·çš„æ ¼å¼ï¼Œåœ¨ä¿®æ”¹æ–‡æ¡£çš„æ—¶å€™å®ƒè¿˜å¯ä»¥è‡ªåŠ¨è°ƒæ•´ç¼–å·ã€‚è¿™ç»å¯¹æ˜¯ç¼–è¾‘é•¿æ–‡æ¡£æ‰€å¿…å¤‡çš„æŠ€å·§ã€‚</p>
<p>å› ä¸ºå›¾ç‰‡å’Œè¡¨æ ¼éœ€è¦åˆ†åˆ«ç¼–å·ï¼Œå¹¶ä¸”æ“ä½œæ–¹å¼ç±»ä¼¼ï¼Œä¸‹é¢å°±ä»¥å›¾ç‰‡çš„è‡ªåŠ¨ç¼–å·ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚éœ€è¦æ³¨æ„çš„åŒºåˆ«æ˜¯ï¼ŒæŒ‰ç…§ä¸€èˆ¬çš„ä¹ æƒ¯ï¼Œä»¥åŠç§‘æŠ€æ–‡æ¡£çš„è¦æ±‚ï¼Œå›¾é¢˜åº”è¯¥æ”¾åœ¨å›¾ç‰‡çš„ä¸‹æ–¹ï¼Œè€Œè¡¨é¢˜åº”è¯¥æ”¾åœ¨è¡¨æ ¼çš„ä¸Šæ–¹ã€‚</p>
<p>æœ¬æ–‡ä»‹ç»çš„æ“ä½œå¯ä»¥åšä¸ºå‰é¢ä»‹ç»çš„<a href="https://cnzhx.net/blog/word-styles-for-zzti-thesis/">ä½¿ç”¨ Word ä¸­çš„æ ·å¼æ¥åŠ é€Ÿè®ºæ–‡æ’ç‰ˆæ“ä½œ</a>çš„è¡¥å……ã€‚åˆ†æˆä¸¤å¤§å—æ¥ä»‹ç»ï¼š<a href="https://cnzhx.net/blog/auto-number-fig-or-table-in-word/#insert_caption">æ·»åŠ è‡ªåŠ¨ç¼–å·</a>ã€<a href="https://cnzhx.net/blog/auto-number-fig-or-table-in-word/#insert_ref">å¼•ç”¨ç¼–å·</a>ã€‚</p>
<p>Word æœ‰å†…ç½®çš„é¢˜æ³¨æ ¼å¼ï¼Œå¦‚æœä¸æƒ³ç”¨ï¼Œè¿˜å¯ä»¥æ–°å»ºæ–°çš„æ ¼å¼ã€‚åœ¨æ–‡æ¡£ä¸­æ–°å»ºä¹‹åï¼Œä»¥åå°±å¯ä»¥ç›´æ¥ç”¨äº†ã€‚</p>
<h3 id="é¦–å…ˆæ’å…¥é¢˜æ³¨">é¦–å…ˆï¼Œæ’å…¥é¢˜æ³¨ã€‚<a href="https://cnzhx.net/blog/auto-number-fig-or-table-in-word/#i-1">Â¶</a></h3>
<p>æ’å…¥éœ€è¦çš„å›¾ç‰‡ï¼Œåœ¨å›¾ç‰‡ä¸Šå•å‡»é¼ æ ‡å³é”®ï¼Œé€‰æ‹©â€œ<strong>æ’å…¥é¢˜æ³¨</strong>â€ï¼ˆInsert Captionï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œ</p>
<figure>
<img src="/2018/08/13/word-adv-skill/word-fig-insert-cation.png" alt="Word ä¸­ä¸ºå›¾ç‰‡å³é”®å•å‡»é€‰æ‹©â€œæ’å…¥é¢˜æ³¨â€ï¼ˆInsert Captionï¼‰"><figcaption aria-hidden="true">Word ä¸­ä¸ºå›¾ç‰‡å³é”®å•å‡»é€‰æ‹©â€œæ’å…¥é¢˜æ³¨â€ï¼ˆInsert Captionï¼‰</figcaption>
</figure>
<p>Word ä¸­ä¸ºå›¾ç‰‡å³é”®å•å‡»é€‰æ‹©â€œæ’å…¥é¢˜æ³¨â€ï¼ˆInsert Captionï¼‰</p>
<h3 id="ç¬¬äºŒè°ƒæ•´é…ç½®">ç¬¬äºŒï¼Œè°ƒæ•´é…ç½®ã€‚</h3>
<p>åœ¨å¼¹å‡ºçš„<strong>é¢˜æ³¨è®¾ç½®å¯¹è¯æ¡†</strong>ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ä¸­è¾“å…¥/è®¾ç½®é¢˜æ³¨çš„æ ‡é¢˜ï¼ˆè¾“å…¥æ ‡é¢˜æ—¶æœ€å¥½åœ¨å‰é¢è‡ªåŠ¨ç”Ÿæˆçš„é¢˜æ³¨æ ‡ç­¾å’Œç¼–å·åé¢è¾“å…¥ä¸€ä¸ªç©ºæ ¼ï¼‰ï¼Œé€‰é¡¹ä¸­çš„æ ‡ç­¾ã€ï¼ˆé¢˜æ³¨ï¼‰ä½ç½®ï¼Œè¿˜å¯ä»¥å‹¾é€‰ä¸‹é¢çš„æ’é™¤æ ‡ç­¾é€‰é¡¹ã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/006tKfTcly1ftwdfnps37j30e80a8gme.jpg" alt="Word å›¾ç‰‡é¢˜æ³¨å¯¹è¯æ¡†"><figcaption aria-hidden="true">Word å›¾ç‰‡é¢˜æ³¨å¯¹è¯æ¡†</figcaption>
</figure>
<p>Word å›¾ç‰‡é¢˜æ³¨å¯¹è¯æ¡†</p>
<p>å¦‚æœå·²ç»æ–°å»ºè¿‡æ ‡ç­¾äº†ï¼Œå¯ä»¥åœ¨é€‰æ‹©æ ‡ç­¾é‚£ä¸€æ å³è¾¹çš„å°ç®­å¤´é‚£é‡Œæ‰¾åˆ°ã€‚</p>
<h3 id="ç¬¬ä¸‰æ–°å»ºæ ‡ç­¾">ç¬¬ä¸‰ï¼Œæ–°å»ºæ ‡ç­¾ã€‚</h3>
<p>å¦‚æœé»˜è®¤çš„é¢˜æ³¨å½¢å¼ä¸ç¬¦åˆè¦æ±‚ï¼Œè¿˜å¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªâ€œ<strong>æ–°æ ‡ç­¾</strong>â€ï¼ˆNew Labelï¼‰ï¼Œä¹Ÿå¯ä»¥åªæ›´æ”¹â€œç¼–å·â€ã€‚æ¯”å¦‚ä¸Šé¢é»˜è®¤çš„æ ‡ç­¾æ˜¯ Figureï¼Œæˆ‘æƒ³æ”¹æˆâ€œ<strong>å›¾</strong>â€ã€‚äºæ˜¯å•å‡»â€œæ–°å»ºæ ‡ç­¾â€ï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­è¾“å…¥â€œå›¾â€ï¼ˆä¸è¦å¼•å·ï¼‰ï¼Œæ­¤æ—¶é¢˜æ³¨å¯¹è¯æ¡†çš„ç¬¬ä¸€è¡Œçš„è‡ªåŠ¨ç”Ÿæˆéƒ¨åˆ†å°±ç¬¦åˆè¦æ±‚äº†ã€‚</p>
<h3 id="ç¬¬å››ä¿®æ”¹ç¼–å·æ ¼å¼">ç¬¬å››ï¼Œä¿®æ”¹ç¼–å·æ ¼å¼ã€‚</h3>
<p>ä¸€èˆ¬æ¯•ä¸šè®ºæ–‡ä¸­çš„å›¾å’Œè¡¨ï¼Œå…¶é¢˜æ³¨çš„ç¼–å·éœ€è¦å¸¦ä¸Šç« èŠ‚å·ï¼Œä¾‹å¦‚ï¼Œå›¾1-1 xxxã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å•å‡»â€œç¼–å·â€ï¼ˆNumberingï¼‰ï¼Œæ‰“å¼€â€œé¢˜æ³¨ç¼–å·â€ï¼ˆCaption Numberingï¼‰å¯¹è¯æ¡†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/006tKfTcly1ftwdfm5c0dj30fo0ae751.jpg" alt="Word å›¾ç‰‡é¢˜æ³¨ç¼–å·è®¾ç½®å¯¹è¯æ¡†"><figcaption aria-hidden="true">Word å›¾ç‰‡é¢˜æ³¨ç¼–å·è®¾ç½®å¯¹è¯æ¡†</figcaption>
</figure>
<p>Word å›¾ç‰‡é¢˜æ³¨ç¼–å·è®¾ç½®å¯¹è¯æ¡†</p>
<p>é€‰ä¸­â€œåŒ…å«ç« èŠ‚å·â€ï¼ˆInclude chapter numberï¼‰ï¼Œä¸Šé¢å¯ä»¥é€‰æ‹©æ•°å­—æ ¼å¼ï¼Œç„¶åå°±å¯ä»¥åœ¨ä¸‹é¢é€‰æ‹© Heading 1ï¼Œä¸‹é¢è¿˜æœ‰è¿æ¥ç¬¦ã€‚è¿™ä¸ª Heading 1 å°±æ˜¯ä¸€çº§æ ‡é¢˜çš„æ„æ€ï¼ˆä¸€èˆ¬ç« æ ‡é¢˜éƒ½ç”¨ä¸€çº§æ ‡é¢˜ï¼‰ã€‚</p>
<p>è¿™äº›ä¿®æ”¹å®Œæˆåï¼Œåœ¨åŒä¸€ä¸ªæ–‡æ¡£ä¸­éƒ½æ˜¯ä¸€ç›´æœ‰æ•ˆçš„ã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/006tKfTcly1ftwdfmflsdj30fo0ae751.jpg" alt="Word å›¾ç‰‡é¢˜æ³¨ç¤ºä¾‹"><figcaption aria-hidden="true">Word å›¾ç‰‡é¢˜æ³¨ç¤ºä¾‹</figcaption>
</figure>
<p>Word å›¾ç‰‡é¢˜æ³¨ç¤ºä¾‹</p>
<p>æˆå“å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ä¸Šé¢çš„é‚£ä¸ªç« æ ‡é¢˜ï¼ˆ1 ç¤ºä¾‹ï¼‰ï¼ŒWord ä¼šæŠ¥é”™ï¼Œä¸è¿‡åªè¦å†ç»™æ–‡æ¡£åŠ å…¥ç« æ ‡é¢˜ï¼Œç„¶åæ›´æ–°ä¸€ä¸‹é¢˜æ³¨å³å¯ã€‚</p>
<h3 id="ç¬¬äº”æ›´æ–°é¢˜æ³¨">ç¬¬äº”ï¼Œæ›´æ–°é¢˜æ³¨ã€‚</h3>
<p>æ¯æ¬¡è°ƒæ•´äº†å›¾ç‰‡/è¡¨æ ¼åœ¨æ–‡æ¡£ä¸­çš„é¡ºåºï¼Œæˆ–è€…æ˜¯åœ¨ä¸­é—´åˆ é™¤/å¢åŠ äº†æŸäº›å›¾ç‰‡/è¡¨æ ¼ï¼Œæ•´ä¸ªæ–‡æ¡£çš„å›¾ç‰‡/è¡¨æ ¼çš„ç¼–å·éƒ½éœ€è¦é‡æ–°ç¼–æ’ã€‚ä¸€èˆ¬ Word ä¼šè‡ªåŠ¨å®Œæˆï¼Œå¦‚æœå‘ç°å®ƒæ²¡æœ‰è‡ªåŠ¨å®Œæˆï¼Œå¯ä»¥é€‰ä¸­æ–‡æ¡£å…¨éƒ¨å†…å®¹ï¼Œç„¶åé¼ æ ‡å³é”®å•å‡»ï¼Œé€‰æ‹©èœå•ä¸­çš„â€œæ›´æ–°åŸŸâ€å³å¯ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ <a href="https://cnzhx.net/blog/shortcuts-for-ms-word-field/">Word åŸŸçš„å¿«æ·é”®æ“ä½œ</a>ä»¥æé«˜æ•ˆç‡ã€‚</p>
<p>Word ä¸­æä¾›äº†å¾ˆå¤šè‡ªåŠ¨å®Œæˆçš„åŠŸèƒ½ï¼Œå‡ ä¹éƒ½æ˜¯é€šè¿‡ <a href="http://office.microsoft.com/zh-cn/word-help/HA102749146.aspx">Word ä¸­çš„åŸŸåŠŸèƒ½</a>æ¥å®Œæˆçš„ã€‚</p>
<h2 id="å¼•ç”¨å›¾ç‰‡è¡¨æ ¼çš„ç¼–å·">2. å¼•ç”¨å›¾ç‰‡/è¡¨æ ¼çš„ç¼–å·</h2>
<p>æ—¢ç„¶å›¾ç‰‡/è¡¨æ ¼çš„ç¼–å·æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæˆ‘ä»¬åœ¨è¡Œæ–‡ä¸­å¼•ç”¨çš„æ—¶å€™ï¼Œæ¯”å¦‚ å›¾ 1-1ã€è¡¨ 1-1ï¼Œä¹Ÿåº”è¯¥ä½¿ç”¨è‡ªåŠ¨çš„ç¼–å·ï¼Œä»¥æ–¹ä¾¿åœ¨è°ƒæ•´æ–‡æ¡£ä¹‹åå›¾ç‰‡/è¡¨æ ¼çš„ç¼–å·å‘ç”Ÿå˜åŒ–æ—¶è®© Word è‡ªåŠ¨ç»™å¼•ç”¨çš„ç¼–å·ä¹Ÿåšç›¸åº”çš„è°ƒæ•´ã€‚</p>
<figure>
<img src="/2018/08/13/word-adv-skill/006tKfTcly1ftwdfp9nkbj30j80ei0ty.jpg" alt="Word æ’å…¥äº¤å‰å¼•ç”¨çš„å›¾ç‰‡"><figcaption aria-hidden="true">Word æ’å…¥äº¤å‰å¼•ç”¨çš„å›¾ç‰‡</figcaption>
</figure>
<p>Word æ’å…¥äº¤å‰å¼•ç”¨çš„å›¾ç‰‡</p>
<p>å¼•ç”¨å¾ˆç®€å•ï¼Œåªè¦å°†é¼ æ ‡å…‰æ ‡å®šä½åˆ°éœ€è¦æ’å…¥å¼•ç”¨çš„ä½ç½®ï¼Œç„¶åï¼ˆæ­¥éª¤ç¼–å·å¦‚ä¸Šå›¾æ‰€ç¤ºï¼‰ï¼š</p>
<ol type="1">
<li>å•å‡» Word å·¥å…·æ ä¸­çš„â€œ<strong>å¼•ç”¨</strong>â€ï¼ˆReferencesï¼‰é€‰é¡¹å¡ï¼›</li>
<li>å•å‡»â€œ<strong>äº¤å‰å¼•ç”¨</strong>â€ï¼ˆCross-referenceï¼‰å³å¯æ‰“å¼€å¯¹è¯æ¡†ï¼›</li>
<li>é€‰æ‹©è¦å¼•ç”¨çš„â€œ<strong>ç±»å‹</strong>â€ï¼ˆReference typeï¼‰ï¼›</li>
<li>é€‰æ‹©å¼•ç”¨æ ¼å¼ï¼ˆInsert reference toï¼‰ï¼Œä¸€èˆ¬æ˜¯â€œ<strong>åªæœ‰æ ‡ç­¾å’Œç¼–å·</strong>â€ï¼ˆOnly label and numberï¼‰ï¼›</li>
<li>æŒ‘é€‰è¦å¼•ç”¨çš„é‚£å¹…å›¾ï¼›</li>
<li>å•å‡»â€œ<strong>æ’å…¥</strong>â€ï¼ˆInsertï¼‰ï¼›</li>
<li>å·²å®Œæˆã€‚</li>
</ol>
<p>ä¸ºäº†æé«˜æ•ˆç‡ï¼Œä¸Šé¢çš„æ­¥éª¤ 1~2 å¯ä»¥ç”¨å¿«æ·é”®ï¼ˆæŒ‰é¡ºåºï¼‰ï¼šAlt â€”â€”&gt; s â€”â€”&gt; r fï¼›è€Œæ­¥éª¤ 3~7 å¯ä»¥ç”¨ Tab é”®é…åˆä¸Šã€ä¸‹é”®å’Œ Enter é”®æ¥å®Œæˆã€‚è¿™æ ·å¯ä»¥è¾¾åˆ°æ‰‹ä¸ç¦»å¼€é”®ç›˜å°±èƒ½å®Œæˆæ‰€æœ‰æ“ä½œçš„ç›®çš„ã€‚</p>
]]></content>
      <tags>
        <tag>word</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡zsshè¿›è¡Œè·¨è·³æ¿æœºçš„æ–‡ä»¶ä¼ è¾“</title>
    <url>/2018/08/27/zssh-file/</url>
    <content><![CDATA[<h1 id="é—®é¢˜">é—®é¢˜</h1>
<p>å½“ä½¿ç”¨äº†è·³æ¿æœºè¿æ¥è¿œç¨‹æœåŠ¡å™¨æ—¶ï¼Œä¼ è¾“è¾ƒå¤§æ–‡ä»¶è¾ƒä¸ºéº»çƒ¦ã€‚</p>
<h1 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h1>
<h3 id="ä½¿ç”¨zsshè¿›è¡Œä¼ è¾“">ä½¿ç”¨zsshè¿›è¡Œä¼ è¾“</h3>
<ol type="1">
<li>å®‰è£…è½¯ä»¶ã€‚Macç«¯ï¼š<code>brew install zssh</code></li>
</ol>
<span id="more"></span>
<h3 id="ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨">ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨</h3>
<ol type="1">
<li>ç”¨zsshç™»å½•åˆ°è¿œç«¯æœåŠ¡å™¨ï¼š<code>zssh user1@domain1 -p port</code></li>
<li>å¦‚æœéœ€è¦è¿›è¡Œè·³æ¿æ“ä½œï¼Œç»§ç»­ï¼š<code>ssh user2@domain2 -p port</code></li>
<li>åˆ‡æ¢æ–‡ä»¶å¤¹åˆ°å°†è¦æ¥æ”¶æ–‡ä»¶çš„ç›®å½•ï¼š<code>cd xx/xx/xx</code></li>
<li>è¿›å…¥zsshï¼šæŒ‰ä¸‹<code>ctrl+@</code>ç»„åˆé”®</li>
<li>æ¥ä¸‹æ¥ï¼Œä½ ä¼šè¿›å…¥ä»¥<code>zssh &gt;</code>å¼€å¤´çš„å‘½ä»¤è¡Œä¸­ï¼Œæ­¤æ—¶ä½ å®é™…ä¸Šæ˜¯åœ¨æœ¬æœºæ“ä½œ</li>
<li>åˆ‡æ¢åˆ°æœ¬æœºå¾…ä¼ æ–‡ä»¶çš„ä½ç½®ï¼š<code>zssh &gt; cd target_folder</code></li>
<li>å¼€å§‹ä¼ è¾“æ–‡ä»¶åˆ°è¿›å…¥zsshå‰çš„æœåŠ¡å™¨ç›®å½•ä¸‹ï¼š<code>zssh &gt; sz 123.txt</code></li>
</ol>
<h3 id="ä¸‹è½½æœåŠ¡å™¨æ–‡ä»¶åˆ°æœ¬æœº">ä¸‹è½½æœåŠ¡å™¨æ–‡ä»¶åˆ°æœ¬æœº</h3>
<ol type="1">
<li>å…ˆå°†æœ¬åœ°ç›®å½•åˆ‡æ¢åˆ°å°†è¦æ¥æ”¶æ–‡ä»¶çš„æ–‡ä»¶ç›®å½•ä¸‹ï¼š<code>cd xxx/xxx/xxx</code></li>
<li>ç”¨zsshç™»å½•åˆ°è¿œç«¯æœåŠ¡å™¨ï¼š<code>zssh user1@domain1 -p port</code></li>
<li>å¦‚æœéœ€è¦è¿›è¡Œè·³æ¿æ“ä½œï¼Œç»§ç»­ï¼š<code>ssh user2@domain2 -p port</code></li>
<li>åˆ‡æ¢æ–‡ä»¶å¤¹åˆ°å°†è¦å‘é€æ–‡ä»¶çš„ç›®å½•ï¼š<code>cd xx/xx/xx</code></li>
<li>åœ¨è¿œç¨‹æœºå™¨ä¸Š,å¯åŠ¨sz, å‡†å¤‡å‘é€æ–‡ä»¶ï¼š<code>sz 123.txt</code></li>
<li>çœ‹åˆ°ä¸€å †ä¹±ç ï¼Œæ­¤æ—¶æŒ‰ä½ç»„åˆé”®è¿›å…¥zsshï¼š<code>ctrl+@</code></li>
<li>æ¥ä½å¯¹åº”çš„æ–‡ä»¶ï¼š<code>zssh &gt; rz</code></li>
</ol>
<h1 id="æç¤º">æç¤º</h1>
<ol type="1">
<li><p>zssh ç›¸å½“äºä¸€ä¸ªå¥—åœ¨åç»­æœåŠ¡å™¨ç«¯æ“ä½œä¸Šçš„ä¸€å±‚å£³ï¼Œä½ æŒ‰ä¸‹<code>ctrl+@</code>æ—¶å°±å›åˆ°äº†ä½ çš„æœ¬æœºè¿›è¡Œæ“ä½œã€‚</p></li>
<li><p>ä¼ è¾“æ–‡ä»¶åˆ†ä¸ºä¸¤æ­¥è¿›è¡Œï¼Œåˆ†åˆ«æ˜¯<code>rz</code>ï¼šæ¥æ”¶å’Œ<code>sz</code>ï¼šä¼ è¾“</p></li>
<li><p>è¡¥å……å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zssh &gt; pwd &#x2F;&#x2F;æŸ¥çœ‹æœ¬åœ°æœºå™¨çš„ç›®å½•ä½ç½®</span><br><span class="line">zssh &gt; cd  &#x2F;&#x2F;xxx&#x2F;xxx&#x2F;xxx åˆ‡æ¢ç›®å½•</span><br><span class="line">zssh &gt; ls  &#x2F;&#x2F;æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ–‡ä»¶åˆ—è¡¨</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>server</tag>
        <tag>tool</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>â€œå¡å°”è¾¾â€é€šå…³æ„Ÿæƒ³</title>
    <url>/2019/09/11/zelda/</url>
    <content><![CDATA[<p>è·ç¦»æš‘å‡é€šå…³å¡å°”è¾¾å·²ç»æœ‰äº†æ¥è¿‘ä¸€ä¸ªæœˆçš„æ—¶é—´äº†ï¼ŒæœŸé—´ä¸€ç›´æƒ³å†™è¿™ä¹ˆä¸€ç¯‡æ„Ÿæƒ³ï¼Œç„¶ç¢äºå„ç§æ‚äº‹ï¼Œä¹Ÿæœ‰è‡ªå·±æ‹–å»¶ç—‡çš„åŸå› ä¸€ç›´æ²¡èƒ½ä¸‹ç¬”ã€‚æ€»æ˜¯æ„Ÿè§‰ä¸‹ç¬”å†™ä¸‹å†™æ–‡å­—æ˜¯ä¸€é¡¹æœ‰ç€å…¶å›ºæœ‰çš„ã€è¶³å¤Ÿçš„ç¥åœ£æ€§çš„ä¸œè¥¿ï¼Œè«éå¤´è„‘æ­¤åˆ»ååˆ†æ¸…é†’ï¼Œæ–­ä¸æ„¿ç³Ÿè·µè¿™ä¸€ä¸»é¢˜ã€‚</p>
<span id="more"></span>
<p>æ¯ä¸ªäººå¿ƒçµçš„è§’è½é‡Œæ€»ä¼šå­˜æœ‰é‚£ä¹ˆä¸€ä»½ä¸¤ä»½åˆå§‹çš„æ„ŸåŠ¨ï¼Œå…¶å¦‚åŒå—æå†°æ¶ä¸­ç›´æ¥å–å‡ºçš„å†°æ ¸ä¸€èˆ¬æ™¶è¹å‰”é€ï¼Œåªæ˜¯é‚£ä¹ˆé—ä¸–ç‹¬ç«‹çš„å­˜åœ¨ç€ã€‚ç°åœ¨å¦„å›¾è¿½æƒ³ç©¶ç«Ÿæ˜¯å“ªä¸€åˆ»å¼€å§‹æˆ‘è¢«è¿™æ¬¾æ¸¸æˆæ·±æ·±çš„æ‰“åŠ¨ï¼Œæ„¿ä¸ºå…¶åºŸå¯å¿˜é£Ÿã€åªæ±‚èƒ½åœ¨å…¶ä¸­å¤šå¾…ä¸€åˆ†ä¸€ç§’ï¼Œç¡®æ— æ³•æƒ³èµ·ã€‚ä½†ä¹Ÿè®¸é‚£æœ¬å°±ä¸æ˜¯ä¸€ç¬çš„æ„ŸåŠ¨ï¼Œè€Œæ˜¯å¦‚åŒå¤§æ¼ ä¸­è¢«é£æ²™ç¢ç£¨åˆ°å…‰æ»‘çš„å·¨çŸ³ï¼Œå¹¶éæŸä¸€ç²’æ²™æˆ–æŸä¸€ç¼•é£ä½¿å…¶å¦‚æ­¤ï¼Œä½†å›è¿‡å¤´æ¥ï¼Œè¿˜æ˜¯ä¼šä¸æ–­æ„Ÿå¹è¿™ä¸€å£®ä¸¾ã€‚</p>
<p>é‚£ä¸ªä¸–ç•Œæ˜¯å¤šä¹ˆçš„ä»¤äººç¥å¾€ï¼ä»æ°´ä¸­ä¸€è·ƒè€Œèµ·çš„å“æ‹‰æ—ã€ç«å±±ä¸­åƒå²©çŸ³èˆ¬åˆšå¼ºçš„é¼“éš†æ—ã€æ²™æ¼ ä¸­ç›´é¢ç¼“æ­¥å‰è¡Œçš„æ ¼é²ç‰¹æ—ã€è“å¤©ä¸Šç›´å†²äº‘éœ„çš„åˆ©ç‰¹æ—ï¼Œä»¥åŠä¸€è§ä¹‹ä¸‹ç¥ç§˜è«æµ‹ä½†èå…¥å…¶ä¸­åå´åˆæ˜¾å¾—æ·³æœ´è‡ªç„¶çš„å¸Œå¡æ—ï¼Œéƒ½åœ¨è¿™ç‰‡å¹¿é˜”æ— å ã€ç§˜å¯†æœ‰å¦‚ç¹æ˜Ÿèˆ¬ä¼—å¤šçš„æµ·æ‹‰é²çš„å¤§è·¯ä¸Šé»˜é»˜ç¹è¡ç”Ÿæ¯ã€‚è€Œæˆ‘ï¼Œåˆ™æ—¢æ˜¯ä¸€ä¸ªå¤±å¿†åçš„æ—è§‚è€…ï¼Œåˆæ˜¯ä¸€ä¸ªè¯¸å¤šé‡å¤§äº‹ä»¶çš„å‚ä¸è€…ï¼Œæˆ‘ï¼Œè¡Œèµ°äºè¿™ç‰‡åœŸåœ°ã€‚</p>
<p>è¿™é‡Œçš„äººç‰©æ˜¯æœ‰æ€§æ ¼çš„ï¼Œä»–ä»¬ç»™äººæ„Ÿè§‰å¹¶ä¸æ˜¯ä¸€ä¸ªä¸ªå•çº¯çš„NPCã€‚è¿™é‡Œçš„äººéƒ½æœ‰ç€è‡ªå·±çš„ç”Ÿæ´»ï¼Œä»–ä»¬æ—¥å‡ºè€Œä½œï¼Œæ—¥è½è€Œæ¯ï¼Œæœ‰è‡ªå·±çš„å·¥ä½œä¸ç›¸åº”çš„è´£ä»»ï¼Œä¹Ÿæœ‰å’Œå…¶ä»–äººä¹‹é—´çš„ç¾ç»Šï¼Œç”šè‡³æœ‰ç€å¯¹æœªæ¥çš„å±•æœ›ä¸å¸Œå†€ã€‚ä»–ä»¬ä¸æ˜¯ä¸ºäº†ä¸»äººå…¬è€Œå­˜åœ¨çš„å·¥å…·äººï¼Œè€Œæ˜¯è¿™ç‰‡å¹¿é˜”å¤§é™†çœŸæ­£çš„å±…æ°‘ã€çœŸæ­£çš„ä¸»äººã€‚ä½œä¸ºä¸€åæ²‰ç¡å·²ä¹…å´èƒŒè´Ÿç€æ‹¯æ•‘è¿™ä¸ªä¸–ç•Œé‡ä»»çš„è‹±æ°ï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±åè€Œåƒæ˜¯ä¸€ä¸ªå¾®ä¸è¶³é“çš„è¿‡å®¢ï¼Œå¹¶ä¸æ˜¯é‚£ä¹ˆäººäººçš†çŸ¥ï¼Œç”šè‡³ä¸ºäº†å¾—åˆ°äº›æƒ…æŠ¥æˆ–ç‰©èµ„è¿˜è¦æƒ³å°½åŠæ³•å»è®¨å¥½é‚£äº›â€œè¯¥æ­»â€çš„åœŸè‘—ã€‚ä½†è¿™ç§æ„Ÿè§‰å¹¶ä¸åã€‚æˆ‘æ˜¯è¿™ä¸ªä¸–ç•Œä¸­çš„ä¸€å‘˜ï¼Œæˆ‘å’Œåœ¨å„å¤„é‡åˆ°çš„äººä¸æ–­äº§ç”Ÿç€ç¾ç»Šï¼Œäº§ç”Ÿç€ç›¸äº’é—´çš„è´£ä»»ä¸åˆ©ç›Šå…³ç³»ï¼Œå’Œä»–ä¹ˆè¿™ç§è·ç¦»çš„è”ç³»ä»¤äººååˆ†èˆ’é€‚ã€‚</p>
<p>åœ¨è¿™ç‰‡å¤§é™†ä¸Šï¼Œæˆ‘å¹¶ä¸å—åˆ°ä»»åŠ¡çš„çº¦æŸï¼Œå°½ç®¡ç¡®å®æœ‰å„ç§ä¸»çº¿æ”¯çº¿ä»»åŠ¡å­˜åœ¨ã€‚æˆ‘åœ¨è¿™é‡Œæ˜¯çœŸæ­£è‡ªç”±çš„ï¼Œæˆ‘å¿ƒçµä¸­çš„è¨€è¯­æ˜¯æœ‰é‡é‡çš„ï¼Œå®ƒç»ˆå°†å¦‚å®åœ°ååº”åœ¨è¿™ç‰‡åœŸåœ°ä¸Šã€‚æˆ‘å¯ä»¥é€‰æ‹©å¼€ç€æ»‘ç¿”å¸†åœ¨å±±è°·é—´æ”¾æµªå½¢éª¸ã€æ¸¸çŒå››æ–¹ï¼Œä¹Ÿå¯ä»¥å¾¡å†°è€Œè¡Œï¼Œæ¥åˆ°ä¸–ç•Œå°½å¤´çš„åŸå§‹å°å²›ã€‚æˆ‘èƒ½è·Ÿéšä¸»çº¿ä»»åŠ¡å¼€ç–†æ‹“åœŸï¼Œç‚¹äº®ä¸€ä¸ªä¸ªç¥åº™ä¼ é€ç‚¹ï¼Œä¹Ÿèƒ½é ç€ä»–ä»¬å‘¨æ¸¸ä¸–ç•Œï¼Œæœé›†å„å¤„ç‰¹è‰²æœé¥°ã€çƒ¹è°ƒæ–™ç†ã€é™ªæ‘é‡Œå°å­©å­ç©æ‰è¿·è—ã€‚æµ·æ‹‰é²å¤§åœ°ä¸Šæœ‰ç€å¤šç§å¤šæ ·ã€äº¤ç»‡ç¼ ç»•çš„æƒ…æ„Ÿã€‚ä½ æ—¢å¯ä»¥æ„Ÿåˆ°äººé±¼å…¬ä¸»ç±³æ³•é‚£ç”„äºçº¯ç²¹çš„çˆ±æ‹ï¼Œé‚£ä¸è®¡ä¸€åˆ‡å´ç”˜æ„¿é»˜é»˜æ— é—»ã€åè€Œä»æ—æ”¯æŒå…¬ä¸»çš„é‚£ç§ä»¤äººå¿ƒè„ä»¿ä½›è¢«äººè¢«è½»è½»æªä½çš„æµ“çƒˆæƒ…æ„Ÿï¼Œä¹Ÿèƒ½ä»å¥¹èº«ä¸Šæ„Ÿè§‰åˆ°é¢ä¸´é‡å¤§è´£ä»»æ—¶çš„å‹‡äºæ‹…å½“ã€ä¸æƒ§ä¸é€€ã€‚</p>
<p>æˆ‘çœŸçš„å¤ªå–œæ¬¢è¿™ä¸ªç±³æ³•å…¬ä¸»äº†ï¼ï¼ï¼å¥¹èµ ä¸æˆ‘çš„æŠ€èƒ½æ˜¯æ­»äº¡æ—¶åˆ»çš„æ²»æ„ˆã€‚æ¯å½“æˆ‘å¿«è¦æ’‘ä¸ä½çš„æ—¶å€™ï¼Œç±³æ³•çš„é‚£å¥"ãƒŸãƒ•ã‚¡ãƒ¼ã®ç¥ˆã‚Šã€ã„ã¤ã§ã‚‚ä½¿ãˆã‚‹ã‚ˆ"ä¸­é¥±å«ç€çˆ±æ‹ä¸æ¸©æŸ”çš„è¯è¯­æ€»ä¼šè®©æˆ‘æ„Ÿåˆ°ååˆ†çš„å®‰å¿ƒï¼Œç”šè‡³åœ¨è‚‰ä½“è¢«æ²»æ„ˆä¹‹å‰å¿ƒçµå·²ç»è¢«æ— æ•°æ¬¡æ²»æ„ˆäº†ã€‚ä½ è¯´ç­‰è¿™åœºæˆ˜äº‰ç»“æŸåè¿˜æ¥æ‰¾ä½ ç©ï¼Œç„¶è€Œæˆ‘å·²ç»æ¥äº†ï¼Œä½ å´åˆåœ¨å“ªé‡Œå‘¢ï¼Ÿï¼Ÿï¼Ÿå³ä½¿åˆ°äº†åæœŸï¼Œæ²¡äº‹è¿˜æ˜¯ä¼šæ¥å“æ‹‰é¢†åœ°è½¬ä¸€è½¬ï¼Œçœ‹åˆ°ç±³æ³•å…¬ä¸»é‚£æ™¶è¹å‰”é€çš„é›•åƒã€å¬ç€é¢†åœ°å†…äººæ°‘å¯¹å…¬ä¸»ç”±è¡·çš„èµé¢‚è¿˜æ˜¯ä¼šè®©äººå¿ƒæƒ…å¤šå°‘å˜å¾—çˆ½æœ—ä¸€äº›çš„ã€‚</p>
<p>åœ¨æ²™æ¼ ä¸­è¿›åŸé‚£æ®µè«éçœŸçš„æ˜¯å®˜æ–¹ç¦åˆ©ï¼Ÿï¼Ÿæ—å…‹å­å¥³è£…ä¸Šçº¿çœŸçš„æ˜¯è®©æˆ‘åƒäº†ä¸€é²¸ï¼Œæ„å¤–çš„è¿˜æŒºå¥½çœ‹å“ˆå“ˆå“ˆã€‚</p>
<p>å¡å°”è¾¾ç»™æˆ‘ç•™ä¸‹æ·±åˆ»å°è±¡çš„è¿˜æœ‰å…¶ä½å¤šè¾¹å½¢ã€é«˜å¯¹æ¯”åº¦ï¼Œåˆæœ‰å¦‚æ²¹ç”»èˆ¬çš„æ¸²æŸ“é£æ ¼ã€‚é¦–å…ˆåšåˆ°å¼€æ”¾ä¸–ç•Œçš„ç»éå¡å°”è¾¾ï¼Œä½†å…¶å¯¹å¼€æ”¾ä¸–ç•Œçš„å†å®šä¹‰ä¸å…¶ä»¤äººè¿‡ç›®ä¸å¿˜çš„æ¸²æŸ“é£æ ¼çš„ç¡®æ˜¯æœ‰ç›¸å½“ç‹¬åˆ°ä¹‹å¤„çš„ã€‚è¿™æ˜¯ä¸€ä¸ªå¦‚è¯—å¦‚ç”»çš„ä¸–ç•Œï¼Œåœ°ä¸Šæ‘‡æ›³ç€çš„å°è‰æ˜¯é‚£ä¹ˆçš„æ°´å«©ç¿ ç»¿è€Œæƒ¹äººç–¼çˆ±ï¼Œå¤©ç©ºæ˜¯å¦‚æ­¤çš„æ¹›è“è€Œä¸€å°˜ä¸æŸ“ï¼Œå†°å±±æ˜¯å¦‚æ­¤çš„å†·é…·è€Œå­¤å¯‚ï¼Œæ²™æ¼ æ˜¯å¦‚æ­¤çš„ç‹‚æ”¾ä¸ç¾ï¼Œæ°´æ˜¯å•çº¯è€Œæ´å‡€çš„ï¼Œè™½ç„¶å¹¶æ²¡æœ‰é€¼çœŸçš„æ°´æ³¢å›¾æ ·ï¼Œä½†è¿™ä¸ªä¸–ç•Œåˆ«å…·ä¸€æ ¼çš„ç¾æ„Ÿç€å®åœ¨æˆ‘çš„å¿ƒä¸­ç•™ä¸‹äº†æŒ¥ä¹‹ä¸å»åˆæµ“å¢¨é‡å½©çš„ä¸€ç¬”ã€‚å¦å¤–ï¼Œè¿™ç§æ¸²æŸ“é£æ ¼ä¹Ÿå¤§å¤§é™ä½äº†æ¸²æŸ“å¼€é”€ï¼Œå¡å°”è¾¾èƒ½åœ¨switchè¿™ä¸ªç¡¬ä»¶èƒ½åŠ›å¹¶ä¸ååˆ†å‡ºè‰²çš„å¹³å°ä¸Šåšåˆ°å¦‚æ­¤æµç•…çš„æ•ˆæœï¼Œå’Œå…¶æ¸²æŸ“æ¨¡å¼ä¹Ÿæ˜¯åˆ†ä¸å¼€çš„ã€‚ä»»å¤©å ‚æ˜¾ç„¶çŸ¥é“è‡ªå®¶switchçš„ç¡¬ä»¶å®åŠ›ä¸æ¸¸æˆå®šä½ï¼ŒæˆåŠŸåšåˆ°äº†ç”¨ä¸€ä¸ªå¼€é”€ç›¸å¯¹å¾ˆä½çš„æ¸²æŸ“æ¨¡å¼åŒæ—¶ä¿è¯äº†æ¸¸æˆæµç•…åº¦å’Œå¯è¾¨è¯†åº¦ä¸å¯ä¾›ç”¨æˆ·è®°å¿†å›å‘³çš„ç‰¹ç‚¹ï¼Œå¯è°“æ˜¯ä¸€ä¸¾å¤šå¾—ã€‚</p>
<p>è‡³äºè¿™æ¬¾æ¸¸æˆåœ¨æ¸¸æˆæœºåˆ¶ä¸Šç©¶ç«Ÿä¸ºä½•å¦‚æ­¤æ‰“åŠ¨äººï¼Œé™¤äº†è‡ªå·±æœ‰é™çš„ç®€ä»‹ä¹‹å¤–ï¼Œä¹Ÿçœ‹äº†ä¸å°‘æ›´ä¸“ä¸šçš„è¯„ä»·ï¼Œçœ‹å®Œåæ›´æƒŠè§‰æ­¤ä¸ºçœŸæ­£ç¥ä½œã€‚ç ”ç©¶æ¸¸æˆä»ä¸šè€…ä»¬çš„åˆ†æï¼Œåˆ™åˆå¾—åˆ°äº†ä¸å°‘ä½œä¸ºä¸€ä¸ªå•çº¯çš„ç©å®¶å¾ˆéš¾å‘ç°çš„è§‚å¯Ÿè§†è§’ï¼Œè€Œè¿™äº›ä¸œè¥¿æ°æ°æ˜¯ä½¿æ¸¸æˆå°ç¥æ›´ä¸ºæ ¸å¿ƒçš„åŸå› ã€‚</p>
<p>é¦–å…ˆæ˜¯å¡å°”è¾¾å……åˆ†çš„åˆ©ç”¨äº†é«˜åº¦è¿™ä¸ªè¦å› ï¼Œä½¿å¾—ç©å®¶å¯ä»¥è‡ªè¡Œç™»é«˜æœ›è¿œï¼Œå®šä½åˆ°è‡ªå·±çš„ç›®æ ‡åœ°ç‚¹ã€‚åŒæ—¶ï¼Œæ¸¸æˆå¼€å‘è€…æ˜¾ç„¶å¸Œæœ›ç”¨æˆ·ä¸æ–­æ”€ç™»åˆ°é«˜å¤„ï¼Œè€Œå‡ºç°åœ¨å±±é¡¶å„å¤„çš„â€œå‘€å“ˆå“ˆâ€å°±æ˜¯ä¸€ä¸ªéå¸¸æ˜æ˜¾çš„è¯æ®ã€‚å…¶å®æ¯æ¬¡ç™»é¡¶ä¸€å¤„æˆ–å°å±±ä¸˜æˆ–é«˜åŸé›ªå±±ï¼Œå†…å¿ƒæ·±å¤„è¿˜æ˜¯ååˆ†æ¸´æœ›å¬åˆ°é‚£ä¸€å£°æ¸…è„†å¯çˆ±çš„å‘€å“ˆå“ˆçš„ã€‚æ­¤å¤–è¿˜åŒ…æ‹¬æ—å…‹ä½¿ç”¨æ‰‹ä¸­çš„æ»‘ç¿”ä¼é£è¡Œã€æŒç›¾æ»‘è¡Œç­‰è¿åŠ¨æ–¹å¼çš„å¼•å…¥ï¼Œéƒ½å˜ç›¸æ¿€èµ·äº†ç©å®¶æ›´å¤§çš„æ”€ç™»æ¬²æœ›ã€‚åœ¨æ¸¸æˆçš„è¯¸å¤šé¼“åŠ±ä¸‹ï¼Œç”¨æˆ·è‡ªç„¶ä¼šå¸Œæœ›å¤šç™»é«˜æœ›è¿œï¼Œé¸Ÿç°ä¼—ç”Ÿï¼Œè€Œè¿™æ ·ä¸€æ¥ï¼Œæ¸¸æˆä¾¿è‡ªç„¶è€Œç„¶çš„ä¸å†éœ€è¦ä½¿ç”¨å¤§é‡çš„å¼•å¯¼æ ‡æ³¨ï¼Œå¦‚å°åœ°å›¾ä¸Šæ— å¤„ä¸åœ¨çš„æ„Ÿå¹å·å’Œé—®å·ç­‰ç¬¦å·ï¼Œè€ŒæŠŠå¯»æ‰¾ä½ç½®çš„ä»»åŠ¡å˜ç›¸å§”ä»»ç»™äº†ç©å®¶ï¼Œç³»ç»Ÿåªè´Ÿè´£æä¾›ä¸€ä¸ªæ–¹ä½ï¼Œæ€ä¹ˆè¿‡å»å…¨é è‡ªå·±ã€‚è¿™ä¸€ç‚¹æ˜¯ä¸€ä¸ªå¤§èƒ†çš„åˆ›æ–°ï¼Œä¹Ÿä½¿å¾—æ¸¸æˆæ›´åŠ çš„ç«‹ä½“åŒ–ï¼Œè€Œä¸æ˜¯è®©ç©å®¶å˜æˆç¦»å¼€å°åœ°å›¾å’Œè¯¸å¤šæ ‡æ³¨å¯¹ä¸–ç•Œå®Œå…¨æ²¡æœ‰æ¦‚å¿µçš„ç›²äººé€‰æ‰‹ã€‚</p>
<p>å…¶æ¬¡æ˜¯å…‰ã€‚å³ä½¿æ˜¯åœ¨å¾ˆè¿œçš„åœ°æ–¹ï¼Œç©å®¶ä¾æ—§å¯ä»¥çœ‹åˆ°é‚£å¼•è¯±äººå»æ¢ç´¢çš„æ¥è‡ªé«˜å¡”å’Œç¥åº™çš„æ©™é»„è‰²è¾‰å…‰ï¼Œå®ƒä»¬æ— ç–‘åœ¨æ½œæ„è¯†ä¸­å°±ç»™äº†ç©å®¶ä»¥è¿ç»­ä¸æ–­çš„ç›®æ ‡ã€‚ç»“åˆä»¥çœ‹ä¼¼ç®€å•å®ç”¨ä½†å…¶å®å®ç°å¹¶ä¸ç®€å•çš„æœ›è¿œé•œå’Œæ ‡è®°ç³»ç»Ÿï¼ŒçœŸçš„æ˜¯è®©äººèƒ½ä¸æ–­ä»å¿ƒåº•æ¶Œç°å‡ºé‚£äººç±»æœ€åŸåˆçš„æ¢ç´¢æ¸´æœ›ã€‚è€Œè¿™ä¸€ä¸ªåˆä¸€ä¸ªçš„æ ‡è®°ï¼Œè¿™äº›è¿œå¤„çš„ç¥åº™ä¸é«˜å¡”ï¼Œåˆ™åœ¨å®è´¨ä¸Šæ‹…å½“äº†â€œå°ç›®æ ‡â€çš„åŠŸæ•ˆï¼Œèƒ½æŒç»­ä¸æ–­çš„ç»™äººæä¾›æˆå°±æ„Ÿï¼Œè€Œä¸”ä¿è¯äº†ç©å®¶åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸è‡³äºæ— äº‹å¯åšï¼Œå³åœ¨è¿™é‡Œï¼Œä½ æ°¸è¿œä¸ä¼šæ— èŠã€‚</p>
<p>ç„¶åæ˜¯æ–°æ‰‹æ•™å­¦éƒ¨åˆ†ã€‚æ–°æ‰‹æ•™å­¦éƒ¨åˆ†çš„èŠ‚å¥æŠŠæ¡çš„å¾ˆç²¾å‡†ï¼Œæ—¢èƒ½è®©ä¸€ä¸ªä»æ²¡ç©è¿‡æ­¤ç±»æ¸¸æˆçš„å°ç™½æˆåŠŸä¸Šæ‰‹è€Œä¸è§‰å¾—åƒåŠ›ï¼Œä¹Ÿèƒ½è®©è€é¸Ÿä¸è§‰å¾—æ— èŠï¼Œè€Œè¿™ä¸€ç‚¹å¾€å¾€æ˜¯æ¸¸æˆè®¾è®¡è€…å¾ˆéš¾é¡¾è™‘åˆ°çš„ã€‚å¡å°”è¾¾çš„ç©æ³•å…¶å®å¹¶ä¸ç®€å•ï¼Œéšä¾¿ä¸€æƒ³å°±èƒ½åˆ—ä¸¾å‡ºä¸€å¤§å †éœ€è¦å­¦ä¹ æ‰èƒ½æŒæ¡çš„æŠ€å·§ï¼ŒæŠ›å¼€å„ç§æˆ˜æ–—æŠ€å·§ä¸è¯´ï¼Œå…‰æ˜¯è®©ç©å®¶ç†è§£è¦è§£é”ç­æœ›å¡”ã€é’»è¿›ç¥åº™è§£è°œã€ä¼ é€ç‚¹çš„ç‚¹äº®ã€æ»‘ç¿”å¸†çš„ä½¿ç”¨ã€ä»¥åŠå››å¤§å¼‚èƒ½ï¼ˆç‚¸å¼¹ã€ç£åŠ›ã€å†°å—ã€æ—¶é—´é”å®šï¼‰çš„ä½¿ç”¨ã€é©¬çš„ç›¸å…³åŠ¨ä½œç­‰éƒ½å¹¶ä¸æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œç„¶è€Œåœ¨å‰ç½®çš„å¼•å¯¼éƒ¨åˆ†å´éƒ½å±•ç°çš„ååˆ†è‡ªç„¶ã€‚å¯¹äºæ—å…‹å¤±å¿†çš„è¿™ä¸ªè®¾å®šä¹Ÿæ˜¯è®©æˆ‘å¾ˆæ„Ÿå…´è¶£çš„ä¸€ç‚¹ã€‚é¦–å…ˆä»–çš„å¤±å¿†ç»™äº†è€å›½ç‹ç»™äºˆæ–°æ‰‹æ•™å­¦çš„ç†ç”±ï¼Œä¹Ÿè®©ç©å®¶ä¸€å¼€å§‹å¯¹æµ·æ‹‰é²çš„ä¸€æ— æ‰€çŸ¥å˜å¾—æƒ…æœ‰å¯åŸã€‚ç”±äºå…¶å¤±å¿†å‰è¿˜æœ‰ç€ä¸€ä¸ªååˆ†é‡è¦çš„èº«ä»½ï¼Œæ‰€ä»¥æ— è®ºç©å®¶èµ°åˆ°å“ªé‡Œéƒ½ä¼šæœ‰é‚£ä¹ˆä¸€ä¸¤ä¸ªå…³é”®äººç‰©å¯ä»¥å’Œä»–å±•å¼€å¯¹è¯ã€å¸ƒç½®ä»»åŠ¡ï¼Œè¿™åˆåœ¨æ— å½¢ä¸­å¸®åŠ©äº†ç©å®¶æ¢ç´¢ä¸–ç•Œï¼Œä¸”è®¾è®¡è€…èƒ½ç±æ­¤å°†æ–°æ‰‹æ•™å­¦è¿›è¡Œå¹¿ä¹‰çš„å»¶ä¼¸ï¼Œæ¯”å¦‚åœ¨å¿è€…æ‘å­¦ä¹ æˆ˜æ–—æŠ€å·§ç­‰ã€‚å¦å¤–ï¼Œç”±äºå¤±å¿†å‰æ—å…‹çš„ç‰¹æ®Šèº«ä»½ï¼Œæ‰€æœ‰çš„è‹±çµä»¥åŠå¡å°”è¾¾å…¬ä¸»éƒ½å’Œä»–æœ‰ç€åƒä¸ä¸‡ç¼•çš„è”ç³»ï¼Œè¿™ä¹Ÿå®è´¨ä¸Šæ¨åŠ¨äº†å‰§æƒ…çš„å‘å±•ã€‚ä¸å¾—ä¸è¯´ï¼Œè¿™ä¸ªè®¾å®šæ¥çš„å®åœ¨æ˜¯å¤ªå¦™ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†â€”â€”ç‰©ç†ç³»ç»Ÿä¸ç³»ç»Ÿé—´çš„ç›¸äº’ä½œç”¨ã€ç›¸äº’å…³è”ã€‚ä¸€ä¸ªæ¸¸æˆå¥½ç©ä¸å¦å…¶å®å¹¶ä¸ä¸€å®šåœ¨äºå…¶å¼•å…¥äº†å¤šå°‘ç‰©ç†ç³»ç»Ÿï¼Œæˆ–ç§°è‡ªç”±åº¦ï¼Œè€Œæ›´å¤šåœ°å’Œè¿™äº›ç³»ç»Ÿé—´çš„ç›¸äº’è”ç³»æœ‰å…³ã€‚åœ¨å¡å°”è¾¾ä¸­ï¼Œå°±æœ‰ç£ã€ç”µã€é£ã€æ°´ã€æ¸©åº¦ã€æ—¶é—´ï¼ˆæˆ–ç›¸åº”çš„å†²é‡ï¼‰ã€å¤©æ°”ã€ä½“åŠ›ç­‰ç³»ç»Ÿï¼Œè€Œè¿™äº›ç³»ç»Ÿä¹‹é—´éƒ½ä¸æ˜¯å­¤ç«‹çš„ã€‚éå­¤ç«‹çš„ç‰©ç†ç³»ç»Ÿæ„å‘³ç€ç©å®¶å¯èƒ½æ›´å¤šåœ°åˆ©ç”¨ç”Ÿæ´»ä¸­çš„å¸¸è¯†ï¼Œè¿™å¾€å¾€å¯ä»¥æ¿€å‘å‡ºç©å®¶æ›´ä¸°å¯Œçš„åˆ›é€ åŠ›ï¼Œä»è€Œä½¿å¾—æ¸¸æˆæ›´åŠ ç”ŸåŠ¨è€ç©ã€‚é›¨å¤©å²©å£ä¼šæ¹¿æ»‘ï¼Œä¸é€‚äºçˆ¬å±±ï¼Œä½†ä½ å®Œå…¨å¯ä»¥æ‰¾ä¸ªåœ°æ–¹ç”Ÿç«æŒ¨è¿‡å»ï¼›å°å²›é¥è¿œï¼Œä½ æ—¢å¯ä»¥ä½¿ç”¨é€ å†°èƒ½åŠ›ä¸€ä¸ªä¸ªåˆ›é€ å†°å—é£è¿‡å»ï¼Œä¹Ÿå¯ä»¥æ‹¿ä¸€æŠŠå›¢æ‰‡é©±åŠ¨å¸†èˆ¹åˆ’è¿‡å»ï¼Œç”šè‡³å¯ä»¥æŠŠä¸€ä¸ªé‡‘å±ç‰©ä½“æ”¾åˆ°å¸†æ†å‰é¢ç”¨ç£åŠ›é©±åŠ¨ï¼›æŠŠä¸€ä¸ªç‰©ä½“é€åˆ°è¿·å®«ä¸­å¢™çš„å¯¹é¢ï¼Œä½ å¯ä»¥è§£è°œé¢˜èµ°è¿‡å»ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ç”¨æ°”çƒç»‘åœ¨å®ƒä¸Šé¢å¹¶ç”¨é£å¹è¿‡å»......è¿™ä¸€åˆ‡å®åœ¨å¤ªè¿‡ç”ŸåŠ¨ã€å¤ªè¿‡çœŸå®ã€å¯Œäºåˆ›é€ æ€§ï¼Œè€Œæ‰€æœ‰çš„è¿™äº›ç‰¹ç‚¹éƒ½ä¼šæœ‰ä¸€ä¸ªå…±åŒçš„ä½œç”¨â€”â€”è®©æ¸¸æˆæ›´å¥½ç©ã€‚</p>
<p>è€Œè¿™ï¼Œä¸ä¹Ÿæ­£æ˜¯ä»»å¤©å ‚æ‰€ä¸€ç›´åšæŒåœ¨åšçš„å—ï¼Ÿ</p>
]]></content>
      <tags>
        <tag>essay</tag>
        <tag>game</tag>
        <tag>zelda</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorch Core Code Research</title>
    <url>/2019/12/11/Pytorch-Core-Code-Research/</url>
    <content><![CDATA[<h2 id="pytorch-release-version-composition">Pytorch Release Version Composition</h2>
<p>The repository cloned from GitHub <a href="https://github.com/pytorch/pytorch">pytorch/pytorch</a> is different from the package we download using <code>pip install</code> or <code>conda install</code>. In fact, the former contains many C/C++ based files, which consist of the basic of Pytorch, while the latter is more concise and contains compiled libraries and dll files instead.</p>
<p>Here, let's discuss the release version, or the installed package at first. The package has a lot of components, Here I only pick out some most important parts to do explanation.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128191350467.png" alt="image-20191128191350467"><figcaption aria-hidden="true">image-20191128191350467</figcaption>
</figure>
<span id="more"></span>
<h4 id="nn">nn</h4>
<p>All deep learning layersâ€™ python entrance are located here. They mainly collect parameters from init input and do some modification to the input data. After that it will send core computation operation together with parameters into <code>torch._C</code> based functions.</p>
<h4 id="autograd">autograd</h4>
<p>Contains a series of base functions which serves for back propagation. Also, if you dig in, the core implementation is still from C libraries. Variable wrap is also put here, but now it is just omitted because of the merge of tensor and Variable.</p>
<h4 id="cuda">CUDA</h4>
<p>Mainly these parts are contained in <code>cuda</code> folder: Stream, Event, Broadcast and Random.</p>
<ul>
<li>A CUDA stream is a linear sequence of execution that belongs to a specific device, independent from other streams.</li>
<li>CUDA events are synchronization markers that can be used to monitor the device's progress, to accurately measure timing, and to synchronize CUDA streams.</li>
<li>Broadcast related functions mainly do the jobs to make sure operations run on different GPUs and gather correctly.</li>
</ul>
<h4 id="optim">optim</h4>
<p><code>torch.optim</code> is a package implementing various optimization algorithms. Most commonly used methods are already supported, like <code>adam</code>, <code>sgd</code> and <code>adagrad</code>.</p>
<h4 id="distributed">distributed</h4>
<p>The <code>distributions</code> package contains parameterizable probability distributions and sampling functions. This allows the construction of stochastic computation graphs and stochastic gradient estimators for optimization.</p>
<h4 id="onnx">onnx</h4>
<p>The <code>torch.onnx</code> module contains functions to export models into the ONNX IR format. These models can be loaded with the ONNX library and then converted to models which run on other deep learning frameworks.</p>
<h4 id="tensor">tensor</h4>
<p>Most basic tensor class defined here. It inherit a super class from C lib, called <code>torch._C._TensorBase</code> . And it attaches a lot of method like <code>register_hook</code>,<code>resize</code>, <code>norm</code> to tensor class. All these method eventually call C based libraries.</p>
<h4 id="lib">lib</h4>
<p>The library where compiled C/C++ files located. There are <code>.dll</code> files as well as <code>.lib</code> files. According to the bug reports on google, I believe <code>.dll</code> files are specially compiled for the compatibility of windows and <code>.lib</code> can be used in linux and some of them are also usable in Windows.(If you find a more accurate explanation, please tell me:) These files included: <code>_C.lib</code>, <code>c10.lib</code>, <code>torch.lib</code>, <code>c10_cuda.lib</code>.</p>
<h4 id="functional">functional</h4>
<p>Functions related to tensor operation are all located here. In fact, again, they are wrappers of functions from C libraries. You can find functions like <code>tensordot</code>, <code>unique</code>, <code>split</code> in this file.</p>
<h4 id="utils">utils</h4>
<p>All kinds of utilities codes are located here. This include dataset related code <code>dataloader.py</code>, <code>dataset.py</code>, <code>sampler.py</code>, also include save and output related <code>checkpoint.py</code>. Some TensorBoard support can also be found here.</p>
<h2 id="how-pytorch-manage-its-inner-resource">How Pytorch manage its inner resource</h2>
<h3 id="what-is-tensor">What is Tensor</h3>
<p>In <a href="https://en.wikipedia.org/wiki/Mathematics">mathematics</a>, a <strong>tensor</strong> is an algebraic object that describes a <a href="https://en.wikipedia.org/wiki/Linear_mapping">linear mapping</a> from one set of algebraic objects to another. Objects that tensors may map between include, but are not limited to, <a href="https://en.wikipedia.org/wiki/Vector_(mathematics_and_physics)">vectors</a> and <a href="https://en.wikipedia.org/wiki/Scalar_(mathematics)">scalars</a>, and, recursively, even other tensors. The tensor is the central data structure in PyTorch. It's an n-dimensional data structure containing some sort of scalar type, e.g., floats, ints, et cetera. We can think of a tensor as consisting of some data, and then some metadata describing the size of the tensor, the type of the elements in contains (dtype), what device the tensor lives on (CPU memory, CUDA memory)</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Simple%20Tutorials%20on%20Tensors.jpg" alt="what is tensor"><figcaption aria-hidden="true">what is tensor</figcaption>
</figure>
<h3 id="how-tensor-organizes">How Tensor organizes</h3>
<p>TH library is responsible for the computation,storage and memory management of Tensor. It divide the "Tensor" into two separate parts: Storage and Access/View.</p>
<p>Storage: <strong>THStorage</strong>. It manage the way of storing the Tensor.</p>
<p>Access: <strong>THTensor</strong>. It provide a access to user.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191203093005864.png" alt="image-20191203093005864"><figcaption aria-hidden="true">image-20191203093005864</figcaption>
</figure>
<h4 id="data-storage">Data Storage</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">THStorage</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"> real *data;</span><br><span class="line"> <span class="keyword">ptrdiff_t</span> size;</span><br><span class="line"> <span class="keyword">int</span> refcount;</span><br><span class="line"> <span class="keyword">char</span> flag;</span><br><span class="line"> THAllocator *allocator;</span><br><span class="line"> <span class="keyword">void</span> *allocatorContext;</span><br><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">THStorage</span> *<span class="title">view</span>;</span></span><br><span class="line">&#125; THStorage;</span><br></pre></td></tr></table></figure>
<ul>
<li>All of the "Tensor" in CPU is in fact a C pointer pointing to a data structure in memory like this. And it use reference count to do memory management.</li>
<li><strong>refcount</strong>: Here we apply reference count method to do automatic garbage collection. When the reference number becomes 0, this struct will be freed automatically.</li>
</ul>
<h4 id="data-access">Data Access</h4>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">THTensor</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"> <span class="keyword">long</span> *size;</span><br><span class="line"> <span class="keyword">long</span> *stride;</span><br><span class="line"> <span class="keyword">int</span> nDimension;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Attention: storage-&gt;size might be bigger than the size of tensor.</span></span><br><span class="line"> THStorage *storage;</span><br><span class="line"> <span class="keyword">ptrdiff_t</span> storageOffset;</span><br><span class="line"> <span class="keyword">int</span> refcount;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">char</span> flag;</span><br><span class="line"></span><br><span class="line">&#125; THTensor;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>nDimension</strong>: The number of dimensions</li>
<li><strong>size</strong>: It contains the length information of all dimensions.</li>
<li><strong>refcount</strong>: Reference count</li>
<li><strong>storage</strong>: Pointer of this data structure</li>
<li><strong>stride</strong>: The size of each dimension.</li>
</ul>
<h4 id="memory-allocator">Memory Allocator</h4>
<h5 id="c10coreallocator.h"><code>/c10/core/Allocator.h</code></h5>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;memory&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">C10_API</span> <span class="title">Allocator</span> &#123;</span></span><br><span class="line">  <span class="keyword">virtual</span> ~Allocator() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> DataPtr <span class="title">allocate</span><span class="params">(<span class="keyword">size_t</span> n)</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;</span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> DeleterFnPtr <span class="title">raw_deleter</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">void</span>* <span class="title">raw_allocate</span><span class="params">(<span class="keyword">size_t</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> dptr = allocate(n);</span><br><span class="line">    AT_ASSERT(dptr.get() == dptr.get_context());</span><br><span class="line">    <span class="keyword">return</span> dptr.release_context();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">raw_deallocate</span><span class="params">(<span class="keyword">void</span>* ptr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> d = raw_deleter();</span><br><span class="line">    AT_ASSERT(d);</span><br><span class="line">    d(ptr);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>The <code>allocate</code> function is directly included from head file <code>memory</code>.</p>
<h5 id="atensrcththallocator.cpp"><code>/aten/src/TH/THAllocator.cpp</code></h5>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">at::DataPtr <span class="title">THMapAllocator::makeDataPtr</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *filename, <span class="keyword">int</span> flags, <span class="keyword">size_t</span> size, <span class="keyword">size_t</span>* actual_size_out)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">auto</span>* context = <span class="keyword">new</span> THMapAllocator(filename, flags, size);</span><br><span class="line">  <span class="keyword">if</span> (actual_size_out) *actual_size_out = context-&gt;size();</span><br><span class="line">  <span class="keyword">return</span> &#123;context-&gt;data(), context, &amp;deleteTHMapAllocator, at::DeviceType::CPU&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Default allocator is malloc/free allocator. malloc and realloc raise an error (using THError) on allocation failure.</p>
</blockquote>
<h3 id="understand-parameters">Understand Parameters</h3>
<p>It is hard and not straightforward enough to understand stride and storage offset, so let's borrow some images from <a href="http://blog.ezyang.com/2019/05/pytorch-internals/">ezyang</a>, who is supposed to be an inner developer of Pytorch, to elaborate this problem.</p>
<p>A tensor is a mathematical concept. But to represent it on our computers, we have to define some sort of physical representation for them. The most common representation is to lay out each element of the tensor contiguously in memory (that's where the term contiguous comes from), writing out each row to memory.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128191750794.png" alt="image-20191128191750794"><figcaption aria-hidden="true">image-20191128191750794</figcaption>
</figure>
<p>Please notice the relationship of sizes and strides. If we get a tensor with a size of (D,H,W) and this tensor is directly defined by user rather than a slice or result of some operation, the stride of it will be (H*W, W, 1). You can compare and draw a conclusion yourself. Each stride element in a certain dimension will be the product of all the following dimensions, and the stride of the last dimension will be 1.</p>
<p>Physically, stride means how many blocks of memory computer need to skip to get to the starting position of the next corresponding dimension. And if we use a formula to compute the memory position of a <span class="math inline">\(Tensor[i,j,k]\)</span>, it will be <span class="math inline">\(storageOffset + i * stride[0] + j * stride[1] + k * stride[2]\)</span>.</p>
<p>In the example image above, I've specified that the tensor contains 32-bit integers, so you can see that each integer lies in a physical address, each offset four bytes from each other. To remember what the actual dimensions of the tensor are, we have to also record what the sizes are as extra metadata.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128192741907.png" alt="image-20191128192741907"><figcaption aria-hidden="true">image-20191128192741907</figcaption>
</figure>
<p>Then comes to the memory offset. What does this mean? As we has mentioned before, a tensor storage may support multiple tensor view, and if we sliced the first N elements, then we will start from N+1 memory position. The following examples will give a further explanation.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128193018098.png" alt="image-20191128193018098"><figcaption aria-hidden="true">image-20191128193018098</figcaption>
</figure>
<p>You can see in the left example, we start at the third element block, so that means we skip two block, and here the offset is 2. Because of the slice, the two dimensional tensor becomes one dimensional tensor, and conjoint elements are continuous in physical storage, this means the strides is [1]. Size is the number of elements in this case and it is 2.</p>
<p>In the right example, conjoint elements are not continuous, but it do start from the beginning, so the strides is [2] and offset is 0. There are still two elements in total so the sizes don't change.</p>
<p>What's more, if you still find it somehow difficult to understand, you may try <a href="https://ezyang.github.io/stride-visualizer/index.html">this website</a> to playing with these parameters and see the dynamic process.</p>
<h3 id="tensor-implementation-dispatch">Tensor implementation dispatch</h3>
<p>As we know, although in Python, you can use any type of data as you wish, as the interpreter will take care of the rest of the things. However, since the basic kernels are written in C/C++, functions from Python need to be dispatched into same functions with different input and device type. To a C/C++ functions, a certain function cannot take in <code>int</code> and <code>float</code> Tensor as a same <code>X</code> at the same time, they need separate implementation.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128221930437.png" alt="image-20191128221930437"><figcaption aria-hidden="true">image-20191128221930437</figcaption>
</figure>
<h3 id="how-to-dispatch">How to dispatch</h3>
<p>As we discussed above, the basic C/C++ implementation need to dispatch according to data and device type. But in code, how to actually do this work?</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128222130891.png" alt="image-20191128222130891"><figcaption aria-hidden="true">image-20191128222130891</figcaption>
</figure>
<p>There are basically three methods.</p>
<ol type="1">
<li>Write these functions with different data and device type separately, and manually.</li>
<li>Using template function to build those dispatched function in the compiling time. But this only works in C++, while many code in Pytorch is still written in C.</li>
<li>Apply the magic item -- Macro. By defining the function name as a Macro which takes in one or some parameters, like the data type name, we can compile this function in different types by <code>#define</code> and <code>#undef</code> multiple times, setting the variables in function name macro into various type name to compile the function into many copies which support different types.</li>
</ol>
<p>Here's a simplified example:</p>
<h4 id="file-structure">File structure:</h4>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ add.c <span class="comment"># Used to extend generic/add.c</span></span><br><span class="line">â”œâ”€â”€ add.h <span class="comment"># Used to extend generic/add.h</span></span><br><span class="line">â”œâ”€â”€ general.h <span class="comment"># Including other header files</span></span><br><span class="line">â””â”€â”€ generic</span><br><span class="line"> â”œâ”€â”€ add.c <span class="comment"># Definition of generic function add</span></span><br><span class="line"> â””â”€â”€ add.h <span class="comment"># Definition of generic type Vector</span></span><br></pre></td></tr></table></figure>
<h4 id="add.h">add.h</h4>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// add.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;general.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONCAT_2_EXPAND(A, B) A ## B</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONCAT_2(A, B) CONCAT_2_EXPAND(A, B)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONCAT_3_EXPAND(A, B, C) A ## B ## C</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONCAT_3(A, B, C) CONCAT_3_EXPAND(A, B, C)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Vector_(NAME) CONCAT_3(Num, Vector_, NAME)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Vector CONCAT_2(Num, Vector)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> num float</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Num Float</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;generic/add.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> num</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> Num</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> num double</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Num Double</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;generic/add.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> num</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> Num</span></span><br></pre></td></tr></table></figure>
<h4 id="add.c">add.c</h4>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// add.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;add.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> num float</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Num Float</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;generic/add.c&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> num</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> Num</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> num double</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Num Double</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;generic/add.c&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> num</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">undef</span> Num</span></span><br></pre></td></tr></table></figure>
<h4 id="genericadd.h">generic/add.h</h4>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// generic/add.h</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Vector</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">num *data;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">&#125; Vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="keyword">void</span> <span class="title">Vector_</span><span class="params">(add)</span><span class="params">(Vector *C, Vector *A, Vector *B)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="genericadd.c">generic/add.c</h4>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// generic/add.c</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Vector_</span><span class="params">(add)</span><span class="params">(Vector *C, Vector *A, Vector *B)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i, n;</span><br><span class="line">n = C-&gt;n;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">C-&gt;data[i] = A-&gt;data[i] + B-&gt;data[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="an-example-finding-thstorage">An Example finding THStorage</h2>
<p>I try to find the definition of THStorage, since it will give us a brief understand of the file management structure of pytorch, and we can also grab a basic idea of how those macros and includes are forming this huge project. We start from <code>torch/csrc/Storage.cpp</code>, and check step by step to the file included.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Storage.cpp                 -&gt;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;TH/TH.h&gt;          -&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;TH/THStorageFunction.h&gt;   -&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;TH/generic/THStorage.h&gt;   -&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;c10/core/StorageImpl.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>Find the macro definition in <code>TH/generic/THStorage.h</code>:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> THStorage at::StorageImpl</span></span><br></pre></td></tr></table></figure>
<p>Find the structure definition in <code>c10/core/StorageImpl.h</code>:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> c10 &#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">C10_API</span> <span class="title">StorageImpl</span> <span class="keyword">final</span> :</span> <span class="keyword">public</span> c10::intrusive_ptr_target &#123;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  caffe2::TypeMeta  data_type_;  <span class="comment">// Data type</span></span><br><span class="line">  DataPtr data_ptr_;             <span class="comment">// Data pointer</span></span><br><span class="line">  <span class="keyword">int64_t</span> numel_;                <span class="comment">// Data number</span></span><br><span class="line">  <span class="keyword">bool</span> resizable_;</span><br><span class="line">  <span class="keyword">bool</span> received_cuda_;</span><br><span class="line">  Allocator* allocator_;         <span class="comment">// Data&#x27;s allocator</span></span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Therefore, the hidding real tpye of <code>THWStorage</code> is <code>at::StorageImpl</code>, and it is the implementation of data storage. Let's look into the definition of <code>THPStorage_(pynew)</code> at first, when the value of <code>cdata</code> is not provided, it need to create an implementation of class <code>THWStorage</code> using function <code>THWStorage_(NAME)</code>, and the value of NAME can possibly be:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span>                <span class="comment">// New a THStorage, if size not specified, size=0, that means using default Allocator</span></span><br><span class="line"><span class="built_in">free</span></span><br><span class="line">size</span><br><span class="line">get</span><br><span class="line"><span class="built_in">set</span></span><br><span class="line">data</span><br><span class="line">newWithSize        <span class="comment">// New THStorageï¼Œspecify size but use default Allocator</span></span><br><span class="line">newWithAllocator   <span class="comment">// New THStorageï¼Œspecify size and Allocator</span></span><br><span class="line">copy_functions</span><br><span class="line">copyByte</span><br><span class="line">...</span><br><span class="line">copyCudaByte</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>And also some macro definitions:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> THWStorage_(NAME) THStorage_(NAME)     <span class="comment">// torch/csrc/THP.h</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> THStorage_(NAME) TH_CONCAT_4(TH,Real,Storage_,NAME)   <span class="comment">// TH/THStorageFunctions.h</span></span></span><br></pre></td></tr></table></figure>
<p>The declaration of function <code>THStorage_(NAME)</code> lives in <code>TH/generic/THStorage.h</code>, <code>TH/generic/THStorageCopy.h</code> and the implementation part lies in corresponding cpp files.</p>
<p>(BTW, if using cuda, the declaration of <code>#define THWStorage_(NAME) THCStorage_(NAME)</code>lie in <code>THC/generic/THCStorage.h</code> and <code>THC/generic/THCStorageCopy.h</code>)</p>
<p>Take THStorage_(newWithSize) function as an example, look into <code>TH/generic/THStorage.cpp</code> and we can find the definition:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">THStorage* <span class="title">THStorage_</span><span class="params">(newWithSize)</span><span class="params">(<span class="keyword">ptrdiff_t</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  THStorage* storage = c10::make_instrusive&lt;at::StorageImpl&gt;(</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> THQUANTIZED</span></span><br><span class="line">    caffe2::TypeMeta::Make&lt;<span class="keyword">quantized_t</span>&gt;(),</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">    caffe2::TypeMeta::Make&lt;<span class="keyword">scalar_t</span>&gt;(),        <span class="comment">// New a scalar_t type</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    size,</span><br><span class="line">    getTHDefaultAllocator(),</span><br><span class="line">    <span class="literal">true</span>).release();</span><br><span class="line">  <span class="keyword">return</span> storage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It's not hard to infer from this code block that it new an <code>StorageImpl</code>, and add an intrusive pointer pointing to one of them, at last return a pointer pointing to <code>StorageImpl</code> and destroy the intrusive pointer. Macro THStorage is <code>at::StorageImpl</code>, so this method simply new a <code>StorageImpl and return a pointer pointing to it. According to the definition of</code>c10::make_instrusive`, this work will actually be done by the constructor of StorageImpl' and it is:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">StorageImpl(</span><br><span class="line">    caffe2::TypeMeta data_type,</span><br><span class="line">    int64_4 numel,</span><br><span class="line">    at::Allocator* allocator,</span><br><span class="line">    <span class="keyword">bool</span> resizable)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>We will only traced here and this show a representative example of how pytorch inner code call and implement those method.</p>
<h2 id="autograd-1">Autograd</h2>
<p>Autograd is a method which support automatic computation of gradient which will be used in the back propagation. Autograd depend directly on the computational graph. Computational graph is used for defining the pipeline of a model. It combines functions with variables and shows how they connect to each other.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128215249350.png" alt="image-20191128215249350"><figcaption aria-hidden="true">image-20191128215249350</figcaption>
</figure>
<p>A directed graph with the following property:</p>
<ol type="1">
<li>Edge: a function, or a function's dependency</li>
<li>Points with input edges: a function (or operator)</li>
<li>Points with output edges: a variable</li>
</ol>
<p>Computational graph has two major types, they are dynamic and static computational graphs. TensorFlow applies static graph, it has the following characteristics:</p>
<ul>
<li>First define the structure of the graph, and then assign values to the leaf nodes (this is the origin of placeholder)</li>
<li>Then forward according to the assignment of leaf nodes</li>
</ul>
<p>Pytorch, on the other hand, utilize dynamic graph. The structure of the graph is established at the same time as the forward, so there is no need to use placeholder.</p>
<p>Here is an example inner code of autograd.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128215538638.png" alt="image-20191128215538638"><figcaption aria-hidden="true">image-20191128215538638</figcaption>
</figure>
<p>Here we will elaborate these parameters which get involved in this process.</p>
<ul>
<li><p><strong>Data</strong>: Itâ€™s the data a variable is holding.</p></li>
<li><p><strong>requires_grad</strong>: This member, if true starts tracking all the operation history and forms a backward graph for gradient calculation.</p></li>
<li><p><strong>grad:</strong> grad holds the value of gradient. If requires_grad is False it will hold a None value. Even if requires_grad is True, it will hold a None value unless .backward() function is called from some other node.</p></li>
<li><p><strong>grad_fn:</strong> This is the backward function used to calculate the gradient.</p></li>
<li><p><strong>is_leaf</strong>: A node is leaf if :</p>
<ol type="1">
<li><p>It was initialized explicitly by some function like x = torch.tensor(1.0) or x = torch.randn(1, 1) (basically all the tensor initializing methods discussed at the beginning of this post).</p></li>
<li><p>It is created after operations on tensors which all have requires_grad = False.</p></li>
<li><p>It is created by calling .detach() method on some tensor.</p></li>
</ol></li>
</ul>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128215740348.png" alt="image-20191128215740348"><figcaption aria-hidden="true">image-20191128215740348</figcaption>
</figure>
<h2 id="pytorch-source-code-composition">Pytorch Source Code Composition</h2>
<p>Since different data type, different devices are supported, and python code call C/C++ based code, the source code structure is not easy to understand. Here is the most important parts in the root directory.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128193909092.png" alt="image-20191128193909092"><figcaption aria-hidden="true">image-20191128193909092</figcaption>
</figure>
<p>And provide a more detailed directory comment as well as explanation below.</p>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128194349295.png" alt="image-20191128194349295"><figcaption aria-hidden="true">image-20191128194349295</figcaption>
</figure>
<h3 id="explanation-of-crucial-folders">Explanation of crucial folders</h3>
<h4 id="c10">C10</h4>
<p><strong>C</strong>affe <strong>Ten</strong>sor Library: Most basic tensor library. Codes here can be deployed to mobile devices as well as servers. It contains the core abstractions of PyTorch, including the actual implementations of the Tensor and Storage data structures.</p>
<h4 id="aten">ATen</h4>
<p><strong>A</strong> <strong>TEN</strong>sor library for C++11, the C++ tensor library for Pytorch. It is a C++ library that implements the <strong>operations</strong> of Tensors. If you're looking for where some kernel code lives, chances are it's in ATen. ATen itself bifurcates into two neighborhoods of operators: the "native" operators, which are modern, C++ implementations of operators, and the "legacy" operators (TH, THC, THNN, THCUNN), which are legacy, C implementations. The legacy operators are the bad part of town; try not to spend too much time there if you can.</p>
<h4 id="caffe2">Caffe2</h4>
<p>This part is from the original Caffe2. After the merge of Pytorch and Caffe2, Caffe2 become a kind of backend in Pytorch.</p>
<h4 id="torch">Torch</h4>
<p>This is the part normally called by user when then use Pytorch to train or test their models. It contains what you are most familiar with: the actual Python modules that you import and use.</p>
<h4 id="torchcsrc">Torch/csrc</h4>
<p>The C++ code that implements what you might call the frontend of PyTorch. In more descriptive terms, it implements the binding code that translates between the Python and C++ universe, and also some pretty important pieces of PyTorch, like the autograd engine and the JIT compiler. It also contains the C++ frontend code.</p>
<h3 id="mechanism-inside-a-simple-call">Mechanism inside a simple call</h3>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/image-20191128223910466.png" alt="image-20191128223910466"><figcaption aria-hidden="true">image-20191128223910466</figcaption>
</figure>
<h2 id="basic-condition-of-memory-management-in-pytorch">Basic Condition of Memory Management in Pytorch</h2>
<ol type="1">
<li>Every tensor will be assigned with a allocator when it is initialized.</li>
<li><code>c10/core/Allocator.h</code>: Pytorch default allocator class defined here.</li>
</ol>
<p>Some Policy in <code>c10/core/Allocator.h</code>:</p>
<ul>
<li><p>A DataPtr is a unique pointer (with an attached deleter and some context for the deleter) to some memory, which also records what device is for its data. nullptr DataPtrs can still have a nontrivial device; this allows us to treat zero-size allocations uniformly with non-zero allocations.</p></li>
<li><p>Choice of CPU here is arbitrary; if there's an "undefined" device, we could use that too.</p></li>
<li><p>The deleter can be changed while running using function <code>compare_exchange_deleter</code>.</p></li>
<li><p>This context is used to generate DataPtr which have arbitrary <code>std::function</code> deleters associated with them. In some user facing functions, we give a (user-friendly) interface for constructing tensors from external data which take an arbitrary <code>std::function</code> deleter. Grep for InefficientStdFunctionContext to find these occurrences.</p>
<p>This context is inefficient because we have to do a dynamic allocation <code>InefficientStdFunctionContext</code>, on top of the dynamic allocation which is implied by <code>std::function</code> itself.</p></li>
</ul>
<ol start="3" type="1">
<li>There is a fake allocator in Aten(<code>aten/src/ATen/CPUFixedAllocator.h</code>), which just throws exceptions if some cpu fixed operation is actually used, like <code>cpu_fixed_malloc</code>, <code>cpu_fixed_realloc</code>, <code>cpu_fixed_free</code>.</li>
<li><code>c10/core/CPUAllocator.cpp</code> contains functions: <code>alloc_cpu</code>, <code>free_cpu</code>, <code>memset_junk</code>, <code>alloc_cpu</code> even has the code dealing with NUMA machine. And there is a class <code>MemoryAllocationReporter</code> which is used to report C10's memory allocation and deallocation status.</li>
<li><code>c10/core/Allocator.cpp</code>: Set and get allocator for different device type.</li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">DeviceType::CPU</span><br><span class="line">DeviceType::CUDA</span><br><span class="line">DeviceType::OPENGL</span><br><span class="line">DeviceType::OPENCL</span><br><span class="line">DeviceType::MKLDNN</span><br><span class="line">DeviceType::IDEEP</span><br><span class="line">DeviceType::HIP</span><br><span class="line">DeviceType::FPGA</span><br><span class="line">DeviceType::MSNPU</span><br><span class="line">DeviceType::XLA</span><br></pre></td></tr></table></figure>
<ol start="6" type="1">
<li><p><code>c10/core/StorageImpl.h</code> &amp; <code>c10/core/Storage.h</code>: Mainly allocates memory buffer using given allocator and creates a storage with it. Mark.</p></li>
<li><p><code>c10/cuda/CUDACachingAllocator.cpp</code> is a caching allocator for CUDA. It has the following description:</p></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Yet another caching allocator for CUDA device allocations.</span><br><span class="line"></span><br><span class="line">- Allocations are associated with a stream. Once freed, blocks can be</span><br><span class="line">  re-allocated on the same stream, but not on any other stream.</span><br><span class="line">- The allocator attempts to find the smallest cached block that will fit the</span><br><span class="line">  requested size. If the block is larger than the requested size, it may be</span><br><span class="line">  split. If no block is found, the allocator will delegate to cudaMalloc.</span><br><span class="line">- If the cudaMalloc fails, the allocator will free all cached blocks that</span><br><span class="line">  are not split and retry the allocation.</span><br><span class="line">- Large (&gt;1MB) and small allocations are stored in separate pools.</span><br><span class="line">  Small requests are packed into 2MB buffers. Large requests will use the</span><br><span class="line">  smallest available free block or allocate a new block using cudaMalloc.</span><br><span class="line">  To reduce fragmentation, requests between 1MB and 10MB will allocate and</span><br><span class="line">  split a 20MB block, if no free block of sufficient size is available.</span><br><span class="line"></span><br><span class="line">With this allocator, allocations and frees should logically be considered</span><br><span class="line">&quot;usages&quot; of the memory segment associated with streams, just like kernel</span><br><span class="line">launches. The programmer must insert the proper synchronization if memory</span><br><span class="line">segments are used from multiple streams.</span><br><span class="line"></span><br><span class="line">The library provides a recordStream() function to help insert the correct</span><br><span class="line">synchronization when allocations are used on multiple streams. This will</span><br><span class="line">ensure that the block is not reused before each recorded stream completes</span><br><span class="line">work.</span><br></pre></td></tr></table></figure>
<h2 id="how-python-interact-with-cc">How Python interact with C/C++</h2>
<h3 id="compile-c-program-to-.so-library-and-call-it-in-python">Compile C program to .so library and call it in python</h3>
<h4 id="compile-as-shared-library">Compile as shared library</h4>
<ol type="1">
<li>Finish writing your C code.</li>
<li>Compile it into a <code>*.so</code> file.</li>
<li>Import <code>ctypes</code> in python file.</li>
<li>Load <code>*.so</code> file inside a python file.</li>
<li>*Define the input type of a C function.</li>
<li>Call function inside the <code>*.so</code> file.</li>
</ol>
<p><strong>function.c</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myFunction</span><span class="params">(<span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">if</span> ((num &amp; (num - <span class="number">1</span>)) == <span class="number">0</span>)</span><br><span class="line">          <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Compile</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">gcc -fPIC -shared -o libfun.so function.c</span><br></pre></td></tr></table></figure>
<p><strong>function.py</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ctypes </span><br><span class="line">NUM = <span class="number">16</span>      </span><br><span class="line">fun = ctypes.CDLL(libfun.so)   </span><br><span class="line">fun.myFunction.argtypes=[ctypes.c_int] </span><br><span class="line">returnVale = fun.myFunction(NUM)     </span><br></pre></td></tr></table></figure>
<h4 id="add-wrapper-in-c-file">Add wrapper in C++ file</h4>
<p>If this is a C++ file, you need to expose the function you want to use in a <code>extern "C"</code> wrapper.</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">bar</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Hello&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// Since ctypes can only talk to C functions, you need </span></span><br><span class="line"><span class="comment">// to provide those declaring them as extern &quot;C&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line">    <span class="function">Foo* <span class="title">Foo_new</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Foo(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Foo_bar</span><span class="params">(Foo* foo)</span></span>&#123; foo-&gt;bar(); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And then compile:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">g++ -c -fPIC foo.cpp -o foo.o</span><br><span class="line">g++ -shared -Wl,-install_name,libfoo.so -o libfoo.so  foo.o</span><br></pre></td></tr></table></figure>
<p>Afterwards, thing in Python code are similar as those in C.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> ctypes <span class="keyword">import</span> cdll</span><br><span class="line">lib = cdll.LoadLibrary(<span class="string">&#x27;./libfoo.so&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.obj = lib.Foo_new()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bar</span>(<span class="params">self</span>):</span></span><br><span class="line">        lib.Foo_bar(self.obj)</span><br><span class="line"><span class="comment"># Once you have that you can call it like</span></span><br><span class="line"></span><br><span class="line">f = Foo()</span><br><span class="line">f.bar() <span class="comment">#and you will see &quot;Hello&quot; on the screen</span></span><br></pre></td></tr></table></figure>
<h3 id="c-file-include-module-and-expose">C++ file include module and Expose</h3>
<p>Include &lt;boost/python.hpp&gt; the function in BOOST_PYTHON_MODULE</p>
<p>A C++ Function can be exposed to Python by writing a Boost.Python wrapper:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;boost/python.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="keyword">const</span>* <span class="title">greet</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BOOST_PYTHON_MODULE(hello_ext)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> boost::python;</span><br><span class="line">    def(<span class="string">&quot;greet&quot;</span>, greet);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>That's it. We're done. We can now build this as a shared library. The resulting DLL is now visible to Python. Here's a sample Python session:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> hello_ext</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span> hello_ext.greet()</span><br><span class="line">hello, world</span><br></pre></td></tr></table></figure>
<h2 id="integrating-a-ccuda-operation-with-pytorch">Integrating a C++/CUDA Operation with PyTorch</h2>
<p>When we want to build a customized method or module, we can choose whether to build it in python or C++. The former is easier but the C++ version is faster and more efficient, especially when we want to build a frequently used or time consuming module. Here comes the explanation.</p>
<h4 id="cpu-integration">CPU Integration</h4>
<p>Besides integrate C++ file in python and use it in Pytorch, Pytorch itself provides us with two quite straightforward way to finish this job. They are Building with <code>setuptools</code> and JIT Compiling Extensions.</p>
<p>For the â€œahead of timeâ€ flavor, we build our C++ extension by writing a <code>setup.py</code> script that uses setuptools to compile our C++ code. For the LLTM, it looks as simple as this:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup, Extension</span><br><span class="line"><span class="keyword">from</span> torch.utils <span class="keyword">import</span> cpp_extension</span><br><span class="line"></span><br><span class="line">setup(name=<span class="string">&#x27;lltm_cpp&#x27;</span>,</span><br><span class="line">      ext_modules=[cpp_extension.CppExtension(<span class="string">&#x27;lltm_cpp&#x27;</span>, [<span class="string">&#x27;lltm.cpp&#x27;</span>])],</span><br><span class="line">      cmdclass=&#123;<span class="string">&#x27;build_ext&#x27;</span>: cpp_extension.BuildExtension&#125;)</span><br></pre></td></tr></table></figure>
<p>The JIT compilation mechanism provides you with a way of compiling and loading your extensions on the fly by calling a simple function in PyTorchâ€™s API called <code>torch.utils.cpp_extension.load()</code>. For the LLTM, this would look as simple as this:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.cpp_extension <span class="keyword">import</span> load</span><br><span class="line"></span><br><span class="line">lltm_cpp = load(name=<span class="string">&quot;lltm_cpp&quot;</span>, sources=[<span class="string">&quot;lltm.cpp&quot;</span>])</span><br></pre></td></tr></table></figure>
<h4 id="cuda-integration">CUDA Integration</h4>
<p>Integration of our CUDA-enabled op with PyTorch is again very straightforward. If you want to write a <code>setup.py</code> script, it could look like this:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup</span><br><span class="line"><span class="keyword">from</span> torch.utils.cpp_extension <span class="keyword">import</span> BuildExtension, CUDAExtension</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    name=<span class="string">&#x27;lltm&#x27;</span>,</span><br><span class="line">    ext_modules=[</span><br><span class="line">        CUDAExtension(<span class="string">&#x27;lltm_cuda&#x27;</span>, [</span><br><span class="line">            <span class="string">&#x27;lltm_cuda.cpp&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;lltm_cuda_kernel.cu&#x27;</span>,</span><br><span class="line">        ])</span><br><span class="line">    ],</span><br><span class="line">    cmdclass=&#123;</span><br><span class="line">        <span class="string">&#x27;build_ext&#x27;</span>: BuildExtension</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
<p>Instead of <code>CppExtension()</code>, we now use <code>CUDAExtension()</code>. We can just specify the <code>.cu</code> file along with the <code>.cpp</code> files â€“ the library takes care of all the hassle this entails for you. The JIT mechanism is even simpler:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.cpp_extension <span class="keyword">import</span> load</span><br><span class="line"></span><br><span class="line">lltm = load(name=<span class="string">&#x27;lltm&#x27;</span>, sources=[<span class="string">&#x27;lltm_cuda.cpp&#x27;</span>, <span class="string">&#x27;lltm_cuda_kernel.cu&#x27;</span>])</span><br></pre></td></tr></table></figure>
<h2 id="conclusion">Conclusion</h2>
<ul>
<li>Pytorchâ€™s python part doesnâ€™t have special care on memory management, means it just works in the way standard python programs work.</li>
<li>Current Pytorch source codes contains codes from multiple source, some of them are pure legacy, some come from caffe2, some serves as basic code, some are packed into dlls to serve python. Also, codes are different for those in CPU and CUDA, we need to focus on the right part if any optimization want to be made.</li>
<li>Almost all Pytorch core modules and functions are implemented in C++ based code and that will be much more efficient.</li>
<li>Every tensor is attached with a memory allocator, which can not only do the work of allocate and free, but also record the device on which it is located. Different kinds of allocator for different data type can be delivered as input parameter, this makes the code more compatible.</li>
<li>Pytorch combines multiple code dispatch method and they work well for C and C++ code.</li>
<li>Python can call compiled C file using ctypes, but Pytorch provides a toolset which makes it even easier.</li>
</ul>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="http://blog.ezyang.com/2019/05/pytorch-internals/">PyTorch internals</a></li>
<li><a href="https://towardsdatascience.com/pytorch-autograd-understanding-the-heart-of-pytorchs-magic-2686cd94ec95">PyTorch Autograd</a></li>
<li><a href="https://pytorch.org/docs/stable/index.html">PYTORCH DOCUMENTATION</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/34629243">PyTorchæºç æµ…æ</a></li>
<li><a href="https://github.com/pytorch/pytorch">Pytorch GitHub Repo</a></li>
</ul>
<h2 id="slides">Slides</h2>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_1.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_2.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_3.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_4.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_5.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_6.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_7.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_8.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_9.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_10.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_11.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_12.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_13.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_14.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_15.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_16.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_17.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_18.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_19.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_20.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_21.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_22.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<figure>
<img src="/2019/12/11/Pytorch-Core-Code-Research/Final%20Report_23.jpg" alt="Final Report_1.jpg"><figcaption aria-hidden="true">Final Report_1.jpg</figcaption>
</figure>
<p><strong>Zhongyang Zhang</strong></p>
]]></content>
      <tags>
        <tag>machine learning</tag>
        <tag>deep learning</tag>
        <tag>Pytorch</tag>
        <tag>C++</tag>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title>The introduction of American University</title>
    <url>/2018/07/29/american-u/</url>
    <content><![CDATA[<h1 id="the-introduction-of-american-university">The introduction of American University</h1>
<h2 id="frequently-asked-question">Frequently Asked Question</h2>
<h3 id="å½•å–å§”å‘˜ä¼šçœ‹ä¸­ä»€ä¹ˆ">å½•å–å§”å‘˜ä¼šçœ‹ä¸­ä»€ä¹ˆ?</h3>
<p>â€‹ åšå£«ç ”ç©¶ç”Ÿçš„å½•å–å…¶å®çœ‹ä¸­çš„æ˜¯ç ”ç©¶ç»éªŒã€‚å½“ç„¶ï¼Œæ‰˜ç¦å’ŒGREåˆ†æ•°ï¼Œä»¥åŠæœ¬ç§‘å¤§å­¦çš„æ’åä¹Ÿååˆ†é‡è¦ã€‚å¯¹äºGPAï¼Œç›¸å¯¹å‰ä¸¤è€…æ¥è¯´ï¼Œå…¶å®å¹¶æ²¡æœ‰é‚£ä¹ˆé‡è¦ã€‚</p>
<p>ã€€ã€€å†³å®šè°èƒ½å¾—åˆ°è¿™äº›å°±è¯»æœºä¼šçš„æ˜¯æ¯ä¸€ä¸ªç³»çš„å½•å–å§”å‘˜ä¼šã€‚å§”å‘˜ä¼šæˆå‘˜æ¯å¹´ç”±ä¸åŒçš„æ•™æˆç»„æˆï¼Œé€šå¸¸ç”±æ•™æˆé˜…è¯»éšå³åˆ†é…çš„ç”³è¯·èµ„æ–™ï¼Œç„¶åå°†ç”³è¯·è€…çš„è´¨é‡åšä¸€ä¸ªç®€å•æ’åºã€‚ç„¶åè¿™äº›è¢«æŒ‘é€‰å‡ºçš„å€™é€‰äººå†æ‹¿åˆ°å½•å–å§”å‘˜ä¼šä¹‹å†…è¿›è¡ŒæŠ•ç¥¨ã€‚å½“ç„¶ï¼Œæ¯ä¸€ä¸ªå­¦æ ¡å’Œæ¯ä¸€ä¸ªä¸“ä¸šçš„åšæ³•éƒ½ä¸å¤ªä¸€æ ·ã€‚</p>
<span id="more"></span>
<p>â€‹ åšå£«ç ”ç©¶ç”Ÿå’Œä¸“ä¸šå¯†åˆ‡ç›¸å…³ã€‚å› æ­¤å§”å‘˜ä¼šçœ‹ä¸­çš„æ˜¯ç”³è¯·äººå¯¹ä¸“ä¸šäº†è§£çš„æƒ…å†µã€‚å› æ­¤ç ”ç©¶ç»éªŒæ˜¯æœ€è¢«çœ‹ä¸­çš„ã€‚ä½ åšè¿‡å“ªäº›ç ”ç©¶ï¼Œå‘è¡¨è¿‡å“ªäº›ä¸“ä¸šæ–‡ç« ï¼Œé€ƒä¸è¿‡æ•™æˆçš„ç«çœ¼é‡‘ç›ã€‚æ•™æˆä¼šåœ¨çœ‹åˆ°è¿™äº›ç»éªŒçš„ä¸€ç¬é—´ï¼Œåœ¨å¿ƒé‡Œæœ‰ä¸€ä¸ªæ‚é‡ã€‚</p>
<p>ã€€ã€€æœ‰è¶³å¤Ÿå¥½çš„è‹±è¯­æˆç»©(æ‰˜ç¦å’ŒGRE)æ˜¯å¿…å¤‡çš„ã€‚å¦å¤–æœ¬ç§‘é™¢æ ¡çš„æ’åå’ŒGPAä¹Ÿä¼šè¢«çº³å…¥è€ƒé‡å› ç´ ã€‚ä¸€å¥è¯ï¼Œåšå£«ç ”ç©¶ç”Ÿçš„ç ”ç©¶ç»éªŒå æ®äº†æ•´ä¸ªç”³è¯·çš„é‡ä¸­ä¹‹é‡ï¼Œå­¦ç”Ÿåœ¨å†™ä¸ªäººç”³è¯·æ—¶ï¼Œä¹Ÿè¦é‡ç‚¹é™ˆè¿°ã€‚å…¶ä»–æ¡ä»¶ï¼ŒåŸºæœ¬åªæ˜¯ä¸€äº›çº³å…¥è€ƒé‡çš„å…ˆå†³æ¡ä»¶ã€‚</p>
<h3 id="å¥—ç£æœ‰æ²¡æœ‰ç”¨">â€œå¥—ç£â€æœ‰æ²¡æœ‰ç”¨?</h3>
<p>ã€€ã€€ä¼°è®¡æ²¡æœ‰å“ªä¸€ä¸ªç”³è¯·è¿‡ç¾å›½å¤§å­¦çš„å­¦ç”Ÿï¼Œå°¤å…¶æ˜¯ç”³è¯·åšå£«ç ”ç©¶ç”Ÿçš„å­¦ç”Ÿä¸çŸ¥é“ä»€ä¹ˆæ˜¯â€œå¥—ç£â€çš„ã€‚åœ¨ç”³è¯·çš„è¿‡ç¨‹ä¸­ï¼Œä¸€äº›ç”³è¯·è€…ä¼šå’Œæ•™æˆå†™ç”µå­é‚®ä»¶ï¼Œè¿›è¡Œå­¦æœ¯æ¢è®¨ï¼Œè¿™æ ·å­¦ç”Ÿå¯ä»¥åœ¨ç”³è¯·çš„è¿‡ç¨‹ä¸­ç»™è‡ªå·±æ·»åŠ å°è±¡åˆ†ã€‚</p>
<p>ã€€ã€€çºµæ•™æˆå¯¹æˆ‘è¯´ï¼Œä»–æ¯å¤©éƒ½æ¥åˆ°å¥½å‡ åå°å¥—ç£ä¿¡ã€‚ç„¶è€Œï¼Œâ€œå¥—ç£ä¿¡â€åˆ°åº•æœ‰æ²¡æœ‰ç”¨?è¿™æ˜¯å¾ˆå¤šå­¦ç”Ÿçš„å›°æƒ‘ã€‚å¯¹è¿™ä¸ªé—®é¢˜çºµæ•™æˆè¯´ï¼Œâ€œæˆ‘æ¯å¤©æ¥åˆ°å¾ˆå¤šå¥—ç£ä¿¡ï¼Œä½†æ˜¯å…¶ä¸­å¤§éƒ¨åˆ†çš„å†…å®¹éƒ½æ˜¯æ™®é€šçš„æ‰“ä¸ªæ‹›å‘¼ï¼Œè¡¨ä¸ªå†³å¿ƒï¼Œæ™®é€šçš„ä»‹ç»æƒ…å†µï¼Œè¿™æ ·çš„å¥—ç£ä¿¡ä¸ä¼šå¼•èµ·æ•™æˆä»»ä½•å…´è¶£ã€‚ä½†æ˜¯ï¼Œæœ‰å¾ˆå¤šå­¦ç”Ÿè®¤è®¤çœŸçœŸåœ°é˜…è¯»è¿‡æ•™æˆçš„å­¦æœ¯è®ºæ–‡ï¼Œæœ¬ç€è®¨è®ºé—®é¢˜çš„æ–¹å¼ç»™æ•™æˆå†™ä¿¡ã€‚æå‡ºæœ‰ä»·å€¼çš„é—®é¢˜ï¼Œè¿™ç§é‚®ä»¶ï¼Œæˆ‘éƒ½ä¸å¿å¿ƒä¸å›!â€</p>
<p>ã€€ã€€çºµæ•™æˆçš„å›ç­”å¾ˆèƒ½è¯´æ˜é—®é¢˜ï¼Œæ¯«æ— ç›®çš„å¥—ç£åŸºæœ¬æ— æ•ˆã€‚è€Œé’ˆå¯¹æ•™æˆçš„ç ”ç©¶æ–¹å‘åšè¿‡ç ”ç©¶çš„äººï¼Œä¼šå¼•èµ·æ•™æˆçš„æ³¨æ„ã€‚â€œä¸è¿‡ï¼Œâ€çºµæ•™æˆå‘Šè¯‰ç¬”è€…ï¼Œâ€œå³ä¾¿æ˜¯éå¸¸æœ‰ç ”ç©¶æ–¹å‘çš„å¥—ç£ï¼Œèƒ½å¤Ÿå¯¹ç”³è¯·èµ·å·¨å¤§å¸®åŠ©çš„å‡ ç‡ä¹Ÿä¸å¤§ã€‚å› ä¸ºå¥—ç£æˆåŠŸå…¶å®æœ‰ä¸‰ä¸ªæ¡ä»¶ã€‚ç¬¬ä¸€ï¼Œä½ çš„é‚®ä»¶çœŸçš„æ‰“åŠ¨äº†æ•™æˆï¼Œè®©æ•™æˆæ„¿æ„å¸æ”¶ä½ ã€‚ç¬¬äºŒï¼Œæ•™æˆæœ¬äººåœ¨å½•å–å§”å‘˜ä¼šé‡Œï¼Œå¹¶æœ‰ä¸€å®šçš„å‘è¨€æƒã€‚ç¬¬ä¸‰ï¼Œæ•™æˆæœ‰ç ”ç©¶ç»è´¹å¹¶ä¸”æ„¿æ„ç»™ä½ ã€‚è€ŒåŒæ—¶æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶çš„å¹¶ä¸å¤šè§ã€‚</p>
<p>ã€€ã€€â€œå¯¹äºä¸­å›½å­¦ç”Ÿï¼Œå¥—ç£ä¿¡ä¹Ÿè®¸å¹¶æ²¡æœ‰åå¤„ã€‚ä½†æ˜¯è¦çœŸæ­£çš„åšä¸€ä»½æˆåŠŸçš„ç”³è¯·ï¼Œè¿˜æ˜¯è¦è¸è¸å®å®åœ°æŠŠæ¡å¥½æ¯ä¸€ä¸ªç»†èŠ‚!â€</p>
<h3 id="ä¸­å›½å­¦ç”Ÿçš„é€šç—…æ˜¯ä»€ä¹ˆ">ä¸­å›½å­¦ç”Ÿçš„é€šç—…æ˜¯ä»€ä¹ˆ?</h3>
<ol type="1">
<li><p>ä¸­å›½å­¦ç”Ÿçš„ä¸ªäººé™ˆè¿°ä¸€èˆ¬éƒ½è¦æœ‰åä¸½çš„å¼€ç¯‡å’Œç»“å°¾ã€‚ä¸­é—´çš„ç”¨è¯ä¹Ÿæ˜¯å¤æ‚ï¼Œæœ‰æ—¶å€™çœ‹åˆ°å¾ˆå¤šé•¿å¥ã€‚è€Œç¾å›½äººå†™çš„ä¸ªäººé™ˆè¿°è¯­è¨€å´ç›¸å¯¹ç®€å•ã€‚å½¢æˆè¿™ä¸ªç°è±¡çš„åŸå› ä¸€æ–¹é¢æ˜¯ä¸­å›½å­¦ç”Ÿç”¨éæ¯è¯­å†™ä½œï¼Œå› æ­¤ä¸å¯èƒ½å’Œç¾å›½äººä¸€æ ·è‡ªç„¶ã€‚å¦ä¸€æ–¹é¢ï¼Œä¸­å›½äººè®¤ä¸ºå¤æ‚çš„ã€åä¸½çš„è‹±æ–‡å°±æ˜¯å¥½çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªè¯¯åŒºã€‚å…¶å®ç®€å•æœ´å®çš„è¯­è¨€æ›´æ‰“åŠ¨äººã€‚ å†™ä½œä¸­çš„é€»è¾‘æ€§æ›´åŠ é‡è¦ã€‚</p></li>
<li><p>åœ¨é¢è¯•ä¸­ï¼Œä¸­å›½å­¦ç”Ÿé¢å¯¹ä¸ä¼šçš„é—®é¢˜ç‰¹åˆ«ç´§å¼ ï¼Œè€Œä¸”ç‰¹åˆ«æ³¨æ„è¦å¯¹æ•™æˆæä¾›ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆã€‚å¾€å¾€åœ¨ä¸€ä¸ªé¢è¯•ä¸­ï¼Œæ•™æˆæœ‰æ—¶å€™ä¼šæå‡ºä¸€äº›ä¸“ä¸šé—®é¢˜ï¼Œè€Œä¸­å›½å­¦ç”Ÿä¼šå¾ˆæ³¨é‡ç»“æœã€‚ä¸€æ—¦è®¤ä¸ºè¿™ä¸ªé—®é¢˜ä¸æ‡‚ï¼Œæˆ‘é¢è¯•å°±ç ¸äº†ã€‚</p>
<p>äº‹å®å¹¶éå¦‚æ­¤ã€‚æ•™æˆè€ƒå¯Ÿçš„æ˜¯ä½ é¢å¯¹é—®é¢˜çš„æ€åº¦å’Œè§£å†³é—®é¢˜çš„æ€è·¯ã€‚å¦‚æœä½ æ²¡æœ‰å¬æ¸…é—®é¢˜ï¼Œç”šè‡³å¯ä»¥å‘æ•™æˆæé—®ï¼Œâ€œä½ èƒ½å¸®æˆ‘è§£é‡Šä¸€ä¸‹é—®é¢˜å—?â€å¾ˆå¤šä¸­å›½å­¦ç”Ÿé‡åˆ°ä¸ä¼šçš„é—®é¢˜å¾ˆå°‘ä¼šè¯´ï¼šâ€œå¯¹ä¸èµ·ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘æ²¡æœ‰ç ”ç©¶è¿‡ã€‚â€è€Œæ˜¯å¾€å¾€ä¼šå°½é‡æ‹¼å‡‘èµ·æœ‰é™çš„çŸ¥è¯†èƒ¡ä¹±å›ç­”ã€‚è€Œæä¾›çš„ç­”æ¡ˆå¾€å¾€å’Œé—®é¢˜æ²¡æœ‰å…³ç³»ã€‚â€œè¿™äº›éƒ½æ˜¯ä¼šå‡åˆ†çš„è¡Œä¸º!â€çºµæ•™æˆè¯´ã€‚</p></li>
</ol>
<h2 id="diference-between-ph.d-and-master">Diference between Ph.D and Master</h2>
<h3 id="å†…å®¹æ¥æº">å†…å®¹æ¥æºï¼š</h3>
<ol type="1">
<li><a href="http://blog.sina.com.cn/s/blog_673097a30100jdru.html">æ°´å“¥è°ˆç•™å­¦-ç¾å›½ç†å·¥ç”³è¯·ï¼Œé€‰ç¡•å£«ï¼ˆMSï¼‰è¿˜æ˜¯åšå£«ï¼ˆPhDï¼‰</a> æ¥è‡ªï¼š<a href="https://www.zhihu.com/people/caoxianshui">æ›¹è´¤æ°´</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/32678974">ç•™å­¦ç¾å›½è¯»CSçš„ç¡•å£«æ¯”åšå£«ç»æµä¸Šæ›´åˆç®—ä¹ˆï¼Ÿæœªå¿…ï¼</a> æ¥è‡ªï¼š<a href="https://www.zhihu.com/people/qian-chen-23-70">Chen Qian</a> åŠ©ç†æ•™æˆ åŠ å·å¤§å­¦åœ£å…‹é²æ–¯åˆ†æ ¡</li>
</ol>
<h3 id="overall-description">Overall Description</h3>
<p>ç”³è¯·MSï¼Œæ„å‘³ç€å¾ˆå¯èƒ½æ²¡æœ‰å¥–å­¦é‡‘ï¼Œæ„å‘³ç€ä½œä¸ºæˆå¹´äººï¼Œè¿˜è¦èŠ±å®¶é‡Œåå‡ ä¸‡ç”šè‡³å‡ åä¸‡çš„å­˜æ¬¾ï¼›ç”³è¯·PhDï¼Œæ„å‘³ç€è‡ªå·±è¦åœ¨æœªæ¥5å¹´-8å¹´çš„æ—¶é—´æ´»åœ¨ä¸€ä¸ªå……æ»¡å®éªŒï¼Œå……æ»¡æ–‡çŒ®çš„ç¯å¢ƒä¸­å‘†ç€ï¼Œå¦‚æœç¢°ç€ä¸ªäººå“ï¼ˆRPï¼‰ä¸å¥½çš„æ•™æˆï¼Œå°†ä¼šéå¸¸éƒé—·ã€‚ç”³è¯·MSï¼Œæ„å‘³ç€å¯ä»¥æ—©ä¸€ç‚¹æ‰¾å·¥ä½œï¼Œå› ä¸ºé—¨æ§›ä½ï¼Œæ‰¾åˆ°å¥½å·¥ä½œçš„æœºä¼šåœ¨ç¾å›½æ¥è¯´ï¼Œæ¯”è¾ƒå®¹æ˜“ï¼›ç”³è¯·PhDï¼Œæ„å‘³ç€ä¸€å¹´å‡ ä¸‡ç¾å…ƒçš„å¥–å­¦é‡‘ï¼Œå­¦æ ¡ç»™çš„å¤šçš„è¯ï¼Œè¿˜èƒ½ä¹°è½¦ã€é¡ºå¸¦å…»ä¸ªè€å©†å­©å­å•¥çš„ï¼Œå›å›½è¿˜èƒ½æœ‰æœºä¼šè¿›å…¥é«˜æ ¡ï¼Œè¦æ˜¯æ··å¾—å¥½æ•´ä¸€å †grantï¼Œå°æ—¥å­å°†å¾ˆæ»‹æ¶¦ã€‚</p>
<h3 id="ç¾å›½çš„ç¡•å£«å’Œåšå£«åŸ¹å…»çš„ç›®æ ‡å’Œæ€è·¯æ˜¯ä¸åŒçš„">ç¾å›½çš„ç¡•å£«å’Œåšå£«åŸ¹å…»çš„ç›®æ ‡å’Œæ€è·¯æ˜¯ä¸åŒçš„ï¼</h3>
<p>ç¾å›½çš„4å¹´æœ¬ç§‘ä¹ æƒ¯å«Collegeï¼Œä¹‹åæ˜¯graduate schoolï¼ˆæ—¢ç ”ç©¶ç”Ÿæ•™è‚²ï¼Œå…¶å®å›½å†…ä¹Ÿè¿™ä¹ˆå«ï¼Œåªä¸è¿‡å¤§å®¶ç°åœ¨ä¹ æƒ¯æŠŠç¡•å£«ç ”ç©¶ç”Ÿç®€åŒ–æˆç ”ç©¶ç”Ÿï¼Œåšå£«ç ”ç©¶ç”Ÿç®€åŒ–ä¸ºåšå£«ã€‚å…¶ä»–çš„Professional schoolï¼Œæ¯”å¦‚æ³•å­¦é™¢ï¼ŒåŒ»å­¦é™¢ï¼Œç‰™åŒ»å­¦é™¢ï¼Œè¯å­¦é™¢å•¥çš„ä¹Ÿæ˜¯graduate schoolæ˜¯æœ‰äº†Bachelorä¹‹åæ‰èƒ½è¯»çš„ï¼Œè¿™ä¸ªå°±ä¸å±•å¼€äº†ï¼‰ã€‚ç¾å›½å­¦æ ¡åŸºæœ¬ä¸ŠæŠŠç ”ç©¶ç”Ÿæ•™è‚²åˆ†æˆä¸¤ç±»ï¼Œä¸€ç±»æ˜¯ç¡•å£«ï¼Œä¸€ç±»æ˜¯åšå£«ã€‚è®°ä½ï¼Œæ˜¯å¹¶åˆ—çš„å…³ç³»ï¼Œè€Œä¸ä¼šåƒå›½å†…ï¼Œæ™®éæ˜¯é€’è¿›å…³ç³»ã€‚</p>
<p>å¤§å®¶å¯ä»¥çœ‹çœ‹CMUçš„ä¸€ä¸ªæ•™æˆå¯¹PhDçš„æè¿°ï¼š</p>
<blockquote>
<p>A Ph.D. is a long, in depth research exploration of one topic. By long weâ€™re typically talking about 6 years. By in depth we mean that at the end of the Ph.D. you will be the world expert or close to it in your particular area. You will know more than your advisor about your particular research area. You will know more about your research than anyone at your school. By one we mean that by the last couple years of your Ph.D., you will typically be working on only one narrow problem. The Ph.D. is not about breadth, it is about depth.</p>
</blockquote>
<p>è€ŒMasterå‘¢ï¼Œå¼ºè°ƒçš„æ˜¯â€œbreadthâ€ã€‚ä¸€ä¸ªMSå­¦ç”Ÿä¸€å¹´å°±å¾—å­¦6-8é—¨è¯¾ï¼ˆæ€»å…±27-36ä¸ªå­¦åˆ†å·¦å³ï¼‰ï¼Œå¯ä¸€ä¸ªPhD6å¹´æ‰ä¼šä¸Šä¸åˆ°10é—¨è¯¾ï¼ˆä¸Šä¸ªä¸€å¹´å·¦å³ï¼Œå°±å¼€å§‹è‡ªå·±çš„è¯¾é¢˜ç ”ç©¶äº†ï¼Œå¦‚æœä¹‹å‰åœ¨å›½å†…è¯»è¿‡ç¡•å£«ï¼Œè€æ¿è§‰å¾—è¯¾ç¨‹çŸ¥è¯†ç»“æ„å¤Ÿäº†ï¼Œç”šè‡³å¯ä»¥ç›´æ¥è¿›å…¥è¯¾é¢˜â€”â€”è¿™ä¹Ÿè®©å¤§å®¶çŸ¥é“ï¼Œæ‰€è°“çš„ç¾å›½ä¸è®¤ä¸­å›½ç¡•å£«å­¦ä½æ˜¯ä¸ªæŒºæ‰¯çš„è¯´æ³•ï¼Œå…¶å®æ˜¯äººå®¶å¾ˆå¤šå¾ˆå¤šåšå£«é¡¹ç›®æœ¬æ¥å°±åªè¦ä½ æœ‰æœ¬ç§‘å­¦ä½å°±å¯ä»¥ç›´æ¥ç”³è¯·ï¼Œè€Œä¸æ˜¯ç¡•å£«å­¦ä½ä¸å—è®¤å¯ã€‚ã€‚ã€‚è¦è·‘é¢˜äº†ï¼Œè¯´å›æ¥ï¼‰ã€‚ç¡•å£«ä»¥åº”ç”¨ã€å°±ä¸šä¸ºå¯¼å‘ï¼Œè€ŒPhDä»¥æ·±å…¥çš„å­¦æœ¯ç ”ç©¶ä¸ºå¯¼å‘ã€‚æ‰€ä»¥åŸ¹å…»çš„ç›®æ ‡ä¸ä¸€æ ·ï¼Œé€‚åˆçš„äººç¾¤å°±ä¸ä¸€æ ·ã€‚å¤§å®¶ä¸€å®šè¦æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œé€‰æ‹©ã€‚</p>
<p>æ ¹æ®æˆ‘è¿™äº›å¹´çš„æ€»ç»“ï¼Œå¾—å‡ºä¸€ä¸ªå­¦ä½é€‰æ‹©çš„ä¸‰åŸåˆ™ï¼Œé€ç»™å¤§å®¶ï¼š</p>
<ol type="1">
<li>å¦‚æœè‡ªå·±å–œæ¬¢æå­¦æœ¯ã€é€‚åˆPhDç”Ÿæ´»ï¼Œé‚£ä¹ˆé¦–é€‰PhDï¼›</li>
<li>åœ¨ä¸ç¡®å®šè‡ªå·±æ˜¯ä¸æ˜¯è¶³å¤Ÿå–œæ¬¢MS or PhDçš„æ—¶å€™ï¼ŒåŒæ—¶å®¶é‡Œåˆèƒ½å¤Ÿä¸ºè‡ªå·±æä¾›30wå·¦å³çš„ç•™å­¦é¢„ç®—è€Œä¸ä¼šä¸¥é‡å½±å“åˆ°å®¶åº­çš„ç”Ÿæ´»è´¨é‡çš„æƒ…å†µä¸‹ï¼Œé¦–é€‰MSï¼›</li>
<li>ä¸åˆ°ä¸‡ä¸å¾—å·²çš„æƒ…å†µä¸‹ï¼Œä¸è¦ä¸ºäº†é’±è€Œé€‰æ‹©PhDã€‚</li>
</ol>
<p>ç¬¬ä¸€æ¡åŸåˆ™æ¯”è¾ƒå¥½ç†è§£ï¼Œé€‚åˆçš„ã€å–œæ¬¢çš„æ‰æ˜¯æœ€å¥½çš„ã€‚è‡ªå·±å–œæ¬¢ï¼Œå°±ä¸ä¼šè§‰å¾—åœ¨5~8å¹´ç”šè‡³æ›´é•¿æ—¶é—´é‡Œåœ¨æŸä¸€ä¸ªç»†å°é—®é¢˜ä¸Šä½œæ·±å…¥çš„ç ”ç©¶æ˜¯ä»¶ç—›è‹¦çš„äº‹æƒ…ï¼Œæ— æ³•åšæŒï¼Œä¹Ÿå°±èƒ½å¤ŸæˆåŠŸã€‚è€Œä¸”è¿™ç§é€‚åˆæ˜¯èƒ½å¤Ÿå¸¦æ¥ä¸°åšçš„ç‰©è´¨å›æŠ¥çš„ã€‚å› ä¸ºç»è¿‡è¿™ä¹ˆé•¿æ—¶é—´çš„ç ”ç©¶ï¼Œä½ è‚¯å®šä¼šæˆä¸ºè¿™é¢†åŸŸä¸­çš„ä¸“å®¶ï¼Œäººå®¶å€¼å¾—åœ¨ä½ èº«ä¸ŠèŠ±è¿™ä¹ˆå¤šé’±ã€‚ï¼ˆå½“ç„¶ï¼Œå¦‚æœæœ‰å›å›½å½“æ•™æˆçš„æ‰“ç®—ï¼ŒPhDä¹Ÿæ˜¯å¿…è¦çš„ï¼Œå¦åˆ™å°†ä¼šæ— æ³•å’Œåˆ«äººç«äº‰ï¼‰</p>
<p>ç¬¬äºŒæ¡åŸåˆ™æˆ‘è¦é‡ç‚¹è§£é‡Šä¸€ä¸‹ï¼Œæˆ‘è§‰å¾—å¯¹å›½å†…å­¦ç”Ÿæ¯”è¾ƒæœ‰æ„ä¹‰ã€‚å› ä¸ºå¾ˆå¤šä¹‹æ‰€ä»¥ç”³è¯·PhDæ˜¯å› ä¸ºè§‰å¾—PhDæ¯”MSé«˜ä¸€çº§ï¼Œå‡ºæ¥æ›´å¥½æ‰¾å·¥ä½œï¼ˆå…¶å®äº‹å®ä¸Šåœ¨ç¾å›½å…¶å®æ˜¯åè¿‡æ¥çš„ï¼‰ï¼Œå¹¶ä¸æ˜¯å› ä¸ºè‡ªå·±å–œæ¬¢ã€‚å› ä¸ºå„ç§è¯¯è§£è€Œåšå‡ºé”™è¯¯é€‰æ‹©çš„äººéå¸¸å¤šã€‚æˆ‘ä¹‹æ‰€ä»¥æ€»ç»“å‡ºç¬¬äºŒæ¡åŸåˆ™ï¼Œä¾æ®å¦‚ä¸‹ï¼š</p>
<p>ç¬¬ä¸€ï¼Œé€‰MSæœ‰åˆ©äºå¸®åŠ©è‡ªå·±æ‰¾åˆ°çœŸæ­£é€‚åˆè‡ªå·±çš„æ–¹å‘ã€‚å›½å†…åœ¨åŸºç¡€æ•™è‚²é˜¶æ®µï¼Œå¯¹äºå­¦ç”Ÿçš„å…´è¶£å¼•å¯¼å’Œå¯å‘æ¯”é‡æ˜¯æ¯”è¾ƒå°çš„ï¼Œæ›´å¤šçš„è¿˜æ˜¯å‡å­¦ç‡çš„å‹åŠ›ã€‚æ‰€ä»¥å¾ˆå¤šå­¦ç”Ÿæ˜¯ä¸å¤ªæ¸…æ¥šè‡ªå·±åˆ°åº•å–œæ¬¢åšä»€ä¹ˆï¼Œæ“…é•¿åšä»€ä¹ˆã€‚è´¸ç„¶é€‰æ‹©PhDï¼Œå¾ˆæœ‰å¯èƒ½ä¼šåœ¨ä¸€æ®µæ—¶é—´ååæ‚”è‡ªå·±çš„å†³å®šã€‚è€Œé€‰æ‹©MSï¼Œæ¥è§¦åˆ°ä¸€ä¸ªæ–°çš„ç¯å¢ƒä¸­çš„å„ç§æ–°çš„ã€ä¸°å¯Œçš„ä¿¡æ¯ï¼Œç»è¿‡è‡ªå·±çš„å°è¯•ï¼Œæ‰¾åˆ°æœ€é€‚åˆè‡ªå·±çš„æ–¹å‘çš„å‡ ç‡å°†æ›´å¤§ã€‚ï¼ˆè¿™ç§æƒ…å†µæˆ‘è¿™äº›å¹´è§åˆ°å¾ˆå¤šã€‚å°±åƒæˆ‘ä¸€ä¸ªå­¦ç”Ÿå»ç¾å›½ä¹‹åï¼Œåæ¥è¿‡å¹´æ‰“ç”µè¯ç»™æˆ‘æ‹œå¹´æ—¶è¯´å¤šäºæˆ‘å½“æ—¶åŠ›åŠä»–ç”³è¯·ç¡•å£«è€Œä¸æ˜¯åšå£«ï¼Œè¦ä¸ç„¶ä»–è‚¯å®šä¼šåæ‚”ï¼‰</p>
<p>ç¬¬äºŒï¼Œå¦‚æœé€‰æ‹©çš„æ˜¯MSï¼Œä¸€æ¥åœ¨ç”³è¯·ä¸Šï¼Œæ›´å®¹æ˜“å»åˆ°ä¸€ä¸ªæ›´é«˜çš„ä¼˜ç§€å­¦æ ¡å¹³å°ã€‚è¿™æ ·çš„è¯ï¼Œå­¦æ ¡çš„å¸ˆèµ„åŠ›é‡ã€æ°›å›´ã€æ ¡å‹åœˆï¼Œå¯¹æœªæ¥çš„å°±ä¸šã€èŒä¸šå‘å±•æœ‰å¾ˆå¥½çš„å¸®åŠ©ã€‚å› ä¸ºåŒä¸€æ‰€å­¦æ ¡ï¼Œç¡•å£«å’Œåšå£«å½•å–çš„éš¾åº¦æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚ä¸å°‘å‰20å­¦æ ¡çš„CSä¸“ä¸šï¼ŒPhDå›½é™…å­¦ç”Ÿä¹Ÿå°±æ‹›ä¸åˆ°20ä¸ªï¼Œæ¯å¹´ç”³è¯·çš„äººæœ‰ä¸Šåƒåï¼Œè€Œqualified</p>
<p>candidatesæœ‰ä¸Šç™¾äººã€‚ã€‚ã€‚ç«äº‰çš„æƒ¨çƒˆç¨‹åº¦æ€§ç”±æ­¤å¯è§ä¸€èˆ¬ã€‚è€Œä»–ä»¬çš„MSä¸€å¹´å´ä¼šæ‹›å°‘åˆ™äº”å…­åï¼Œå¤šåˆ™äºŒä¸‰ç™¾ï¼Œæœºä¼šæ— ç–‘è¦å¤§å¾ˆå¤šã€‚</p>
<p>ç¬¬ä¸‰ï¼Œé€‰æ‹©MSï¼Œä¸ä¼šæŸå¤±å¤ªå¤šæ—¶é—´å’Œé‡‘é’±ã€‚ç”±äºç¾å›½çš„è‡ªç”±æ€§å’Œç ”ç©¶ç”Ÿåˆ¶åº¦çš„ç‰¹æ€§ï¼ŒMSè½¬PhDï¼ŒPhDè½¬MSæ˜¯ä¸€ä»¶æ¯”åœ¨å›½å†…å®¹æ˜“å¾ˆå¤šçš„äº‹æƒ…ã€‚æ‰€ä»¥é€‰æ‹©MSè¿‡å»ï¼Œæ— è®ºæ˜¯è¯»å®ŒMSè½¬å»å…¶ä»–å­¦æ ¡è¯»PhDï¼Œè¿˜æ˜¯åœ¨æœ¬æ ¡ç›´æ¥è½¬PhDï¼Œéƒ½æ˜¯æ¯”åœ¨å›½å†…ä»¥å›½é™…å­¦ç”Ÿèº«ä»½ç”³è¯·è¦å®¹æ˜“çš„äº‹æƒ…ã€‚ï¼ˆå¾ˆå¤šå­¦æ ¡ï¼Œç¬¬ä¸€å¹´MSå’ŒPhDä¸Šçš„è¯¾ç¨‹åŸºæœ¬æ˜¯å·®ä¸å¤šçš„ï¼Œå­¦åˆ†å¯ä»¥éå¸¸é¡ºåˆ©è½¬åˆ°PhDé˜¶æ®µï¼‰è€Œä¸”äººåœ¨ç¾å›½ä¹‹åï¼Œæ‹¿åˆ°å¥–å­¦é‡‘çš„æœºä¼šä¼šæ¯”åœ¨å›½å†…ç”³è¯·è¦å¤šã€‚å› ä¸ºæœ‰äº›å¥–å­¦é‡‘æ˜¯åªå¯¹åœ¨è¯»å­¦ç”Ÿå¼€æ”¾çš„ï¼Œæ›´é‡è¦çš„æ˜¯ä½ äººåœ¨å­¦æ ¡äº†ï¼Œæ•™æˆä¸Šè¿‡ä½ çš„è¯¾ï¼ŒçŸ¥é“ä½ çš„å¹³æ—¶è¡¨ç°æˆ–è€…èƒ½è§ä½ é¢è·Ÿä½ å…·ä½“é¢è°ˆï¼Œå’Œä¸€ä¸ªåªèƒ½ä»6å¼ çº¸ä¸Šè·å–çš„ä¿¡æ¯é è°±ç¨‹åº¦ï¼Œèƒ½ä¸€æ ·å—ã€‚ã€‚ã€‚æ‰€ä»¥å…ˆç”¨MSè¿‡å»ç¾å›½ï¼Œåœ¨æ—¶é—´å’Œé‡‘é’±ä¸Šå¹¶ä¸ä¼šæœ‰ä»€ä¹ˆæŸå¤±ã€‚ï¼ˆè¿™ä¸ªæ˜¯å¯¹æƒ³è¯»PhDçš„å­¦ç”Ÿè¯´çš„ï¼Œä½ è¦æ˜¯åªæƒ³MSï¼Œé‚£ä¹ˆåšå£«çš„è¿™äº›ä¼˜åŠ¿æœ¬æ¥å°±å¯¹ä½ æ²¡æ„ä¹‰ï¼‰</p>
<p>ç¬¬å››ï¼Œé€‰æ‹©MSè¿‡å»ä¹‹åï¼Œè‡ªå·±åœ¨é€‰æ‹©å¯¼å¸ˆçš„æ—¶å€™æ›´æœ‰ä¸»åŠ¨æƒï¼Œâ€œç¦»å©šç‡â€ä¼šå¤§å¤§é™ä½ã€‚æœ‰ä¸å°‘ä¸“ä¸šçš„PhDæ˜¯æ²¡æœ‰è®¾ç½®rotationçš„ï¼ˆç”Ÿç‰©ç±»çš„æœ‰ä¸å°‘å¥½å­¦æ ¡éƒ½æ˜¯å…ˆrotationï¼Œä½†CS EEè¿™ç±»å·¥ç¨‹é¡¹ç›®å¥½å¤šéƒ½æ˜¯è€æ¿æœ‰é¡¹ç›®ç›´æ¥å®šçš„ï¼‰ï¼Œè¿™æ ·åœ¨ç”³è¯·çš„æ—¶å€™ï¼Œæˆ–è€…åˆšåˆ°ç¾å›½æ²¡å¤šä¹…å°±è¦åˆ¶å®šå¯¼å¸ˆäº†ã€‚è™½ç„¶ä½ ä»¬ä¼šèŠ±è¾ƒå¤šçš„æ—¶é—´å»ç ”ç©¶æ•™æˆçš„ç ”ç©¶æ–¹å‘å’Œè‡ªå·±èƒŒæ™¯çš„åŒ¹é…æ€§ï¼Œè‡ªå·±æ˜¯ä¸æ˜¯æ„Ÿå…´è¶£ã€‚ä½†æ˜¯æ•™æˆçš„äººå“ï¼Œæ€§æ ¼ï¼Œå³ä½¿åœ¨ä»–ä»¬çš„ä¸»é¡µä¸Šï¼Œä¹Ÿæ˜¯å¾ˆéš¾äº†è§£æ¸…æ¥šçš„ã€‚å¦‚æœä¸€ä¸å°å¿ƒé€‰äº†ä¸€ä¸ªäººå“ä¸å¥½çš„è€æ¿ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½ä¼šå¯¼è‡´å‡ å¹´çš„PhDç”Ÿæ´»è¿‡å¾—æå…¶éƒé—·å’Œç—›è‹¦ã€‚è€Œé€‰æ‹©MSï¼Œé‚£ä¹ˆè‡ªä¸»æƒæ›´å¤šçš„å°±ä¼šåœ¨è‡ªå·±çš„æ‰‹é‡Œï¼Œåˆ°å­¦æ ¡ä¹‹åï¼Œæœ‰æ›´å¤šçš„æ¸ é“å»äº†è§£ä¸€ä¸ªæ•™æˆçš„äººå“ã€å¯¹å¾…å­¦ç”Ÿçš„æ€åº¦è¿™äº›å¾ˆé‡è¦çš„ä¿¡æ¯ã€‚æœ‰äº†è¿™äº›ä¿¡æ¯ï¼Œé”™è¯¯â€œç»“åˆâ€çš„æ¦‚ç‡å°†å¤§å¤§é™ä½ã€‚</p>
<p>å…³äºç¬¬ä¸‰åŸåˆ™ï¼Œä¹‹æ‰€ä»¥ä¼šæœ‰è¿™ç§ç°è±¡ï¼Œæ›´å¤šçš„æ˜¯ç”±äºå’±ä»¬å›½å®¶çš„å›½æƒ…æ‰€å¯¼è‡´çš„ã€‚ç»å¤§å¤šæ•°äººå‡ºå›½éƒ½æ˜¯ä¸ºäº†å¥”ä¸€ä¸ªå¥½å‰ç¨‹orâ€œé’±ç¨‹â€ã€‚æˆ‘ä»¬å¼ºè°ƒï¼Œé¦–å…ˆå°½é‡åœ¨å‰ä¸¤ä¸ªåŸåˆ™å°±è§£å†³é—®é¢˜ã€‚å¦‚æœæ²¡æœ‰èµ„é‡‘æ”¯æŒï¼Œè‡ªå·±åˆçœŸçš„ä¸å–œæ¬¢è¯»PhDï¼Œæˆ–è€…æ„Ÿå…´è¶£çš„ä¸“ä¸šå¥–å­¦é‡‘æ— æ³•æ‹¿åˆ°ï¼Œè¦ä¹ˆé€‰æ‹©èƒ½å¤Ÿç»™ä½ å…¨å¥–çš„MSï¼ˆè™½ç„¶å¾ˆéš¾ï¼Œä½†æ˜¯æœ‰æœºä¼šï¼›å¦å¤–å¯ä»¥è€ƒè™‘åŠ æ‹¿å¤§ã€æ–°åŠ å¡æˆ–è€…é¦™æ¸¯åšè·³æ¿ï¼‰ã€‚è¦ä¹ˆå»ç¾å›½è¯»PhDï¼Œä½†å°½é‡æŠŠPhDå¿µå®Œï¼Œè®¤çœŸåšè¯¾é¢˜ã€‚å¦‚æœçœŸçš„è¦è½¬å»å…¶ä»–ä¸“ä¸šï¼Œä¹Ÿè¦æŠŠäººåšå¥½ä¸€ç‚¹ï¼Œåˆ«è®©æ•™æˆå› æ­¤å¦å®šæ•´ä¸ªä¸­å›½çš„å­¦ç”Ÿï¼Œæˆ–è€…è‡ªå·±æ¯æ ¡çš„å­¦ç”Ÿã€‚</p>
<p>æ›¾ç»å¾ˆå¤šä¸­å›½å­¦ç”Ÿï¼ˆåŒ…æ‹¬æ¸…ååŒ—å¤§ç­‰ä¸­å›½æœ€ä¼˜ç§€å­¦æ ¡å‡ºå»çš„å­¦ç”Ÿï¼‰ä¸ºäº†å‡ºå›½ï¼Œä¸ºäº†å¥–å­¦é‡‘ï¼Œä¼šé€‰æ‹©PhDï¼Œåœ¨ç”³è¯·æ—¶ä¼šå‘Šè¯‰æ•™æˆè‡ªå·±å¤šä¹ˆå¤šä¹ˆå–œæ¬¢PhDï¼Œå–œæ¬¢æ•™æˆæ‰€ä½œçš„è¯¾é¢˜ã€‚è€Œåˆ°äº†ç¾å›½ä¸€ä¸¤å¹´ä¹‹åï¼Œé¢å¯¹å¤–é¢çš„èŠ±èŠ±ä¸–ç•Œï¼Œå†³å®šæå‰æ¯•ä¸šï¼Œç„¶åèƒŒç€è€æ¿å»æ‰¾å·¥ä½œï¼Œä¸€æ—¦æ‰¾åˆ°å·¥ä½œå°±æ”¾è€æ¿é¸½å­ã€‚ç¾å›½äººæ˜¯æ¯”è¾ƒå¼ºè°ƒè‡ªç”±çš„ï¼Œä¼šéå¸¸å°Šé‡å­¦ç”Ÿä»¬çš„é€‰æ‹©ï¼Œæ‰€ä»¥ç¾å›½çš„PhD</p>
<p>candidatesåœ¨è¯»PhDçš„è¿‡ç¨‹ä¸­ï¼Œåªè¦æ‹¿å¤Ÿè¶³å¤Ÿçš„å­¦åˆ†ä¹‹åæ˜¯å¯ä»¥æ‹¿ç€ç¡•å£«å­¦ä½æ¯•ä¸šçš„ã€‚åˆšå¼€å§‹ï¼Œç¾å›½çš„æ•™æˆçœ‹åˆ°ä¸­å›½å­¦ç”Ÿç”³è¯·æå‰æ¯•ä¸šï¼Œå¤šæ•°ä¼šå°Šé‡å­¦ç”Ÿçš„é€‰æ‹©ï¼Œæ”¾å­¦ç”Ÿèµ°ã€‚å¯æ˜¯åæ¥å½“è€ç¾ä»¬å‘ç°è¿™ç§ç°è±¡è¶Šæ¥è¶Šå¤šï¼Œå‡ºç°åœ¨ä¸­å›½å­¦ç”Ÿèº«ä¸Šçš„é¢‘ç‡å¾ˆé«˜ï¼Œå¹¶æœ€ç»ˆæ˜ç™½çœŸæ­£åŸå› æ—¶ï¼Œä»–ä»¬å°±ä¼šéå¸¸æ°”æ„¤ã€‚å› ä¸ºæ•™æˆä»¬ä»è‡ªå·±çš„é¡¹ç›®ç»è´¹é‡Œæé’±æ‹›PhDæ˜¯æ¥å¸®è‡ªå·±åšè¯¾é¢˜çš„ï¼Œå¥½ä¸å®¹æ˜“åŸ¹å…»2å¹´ï¼Œæ­£å‡†å¤‡å‡ºæˆæœå‘¢ï¼Œç»“æœå­¦ç”Ÿæ”¾è‡ªå·±é¸½å­äº†ï¼Œæµªè´¹äº†é’±ä¸è¯´ï¼Œæ›´å…³é”®çš„æ˜¯é‡æ–°æ‹›äººåŸ¹å…»äººå‘¨æœŸå¾ˆé•¿ï¼Œå¦‚æœè‡ªå·±çš„æˆæœä¸€ç›´å‡ºä¸æ¥ï¼Œå°±å¾ˆéš¾è¯„ä¸ŠTenureï¼ˆç»ˆèº«æ•™æˆï¼‰è€Œå¦‚æœä¸€ä¸ªæ•™æˆåœ¨å­¦æ ¡7å¹´å·¦å³çš„æ—¶é—´ä¸èƒ½æˆä¸ºTenureçš„è¯ï¼Œå°±å¾—å·é“ºç›–èµ°äººã€‚æ‰€ä»¥æœ‰äº›æ•™æˆæ˜ç¡®åœ¨è‡ªå·±çš„ä¸»é¡µä¸­å£°æ˜ï¼Œä¸å†æ‹›æ”¶ä¸­å›½å­¦ç”Ÿã€‚ï¼ˆè¯·è§ZZä¸€Michiganæ•™æˆç»™æ¸…åPhDç”³è¯·è€…çš„æ‹’ä¿¡ ï¼‰å¯¹äºé‚£äº›è¦è½¬MSçš„å­¦ç”Ÿï¼Œæœ‰äº›è€æ¿å°±è®©ç³»é‡Œä¸ç»™å­¦ä½ï¼Œä¸æ”¾äººã€‚æˆ‘æ›¾ç»åœ¨ç½‘ä¸Šè®¤è¯†äº†ä¸€åå›½å†…çš„ç•™å­¦ç”Ÿã€‚è‡ªå·±æ‰¾åˆ°å·¥ä½œäº†æƒ³æ¯•ä¸šï¼Œè€æ¿ä¸æ”¾ã€‚äºæ˜¯ä¸¤ä¸ªäººå°±åƒµæŒç€ã€‚å­¦ç”Ÿå¤©å¤©åœ¨å®¶é‡Œç¡å¤§è§‰ï¼Œè€æ¿ä¹Ÿä¸è®©ä»–æ¯•ä¸šã€‚æ‰€ä»¥è¯´ï¼Œå¸Œæœ›å¤§å®¶ä¸€å®šè®©è‡ªå·±å»é€‚ç”¨å‰ä¸¤ä¸ªåŸåˆ™ã€‚è¿™æ ·æ‰æ˜¯ç¬¦åˆç•™å­¦çš„æœ¬æ„çš„ã€‚</p>
<p>### ç»æµé¢å»ºæ¨¡</p>
<p>ä½œä¸ºä¸€ä¸ªç§‘å­¦å·¥ä½œè€…ï¼Œå½“ç„¶è¯´å¹²å°±å¹²ï¼Œå»ºä¸€ä¸ªæ¨¡çœ‹çœ‹å§ã€‚äºæ˜¯æˆ‘å»ºäº†ä¸‹é¢ä¸€ä¸ªæ¨¡å‹ï¼š</p>
<p>è¯»CSçš„Masterï¼Œè®¾ï¼š</p>
<p>ä¸ºæœŸä¸¤å¹´ï¼Œæ¯å¹´çš„å­¦è´¹ä¸º$35Kï¼ˆæˆ‘å–äº†æˆ‘ä»¬UCSCçš„æ•°æ®ï¼Œä¸è¿‡ç§ç«‹å­¦æ ¡æ›´è´µï¼Œä¼šåˆ°45Kï¼Œæœ‰äº›å­¦æ ¡æ›´ä¾¿å®œï¼Œå¯èƒ½25Kï¼Œå–35KåŸºæœ¬å·®ä¸å¤šï¼‰</p>
<p>æ¯å¹´çš„ç”Ÿæ´»è´¹20Kï¼ˆåŠ å·å¤§å­¦çš„æ•°æ®ï¼Œç¾å›½å…¶ä»–å·ä¼šè¾ƒä½ï¼‰</p>
<p>ç¬¬ä¸‰å¹´å‚åŠ å·¥ä½œï¼Œç¨åçš„æ”¶å…¥70Kï¼ˆç»ç»Ÿè®¡ï¼ŒCSç¡•å£«å­¦ä½çš„è½¯ä»¶å·¥ç¨‹å¸ˆå¹³å‡å·¥èµ„ç¨å‰89K(<a href="https://link.zhihu.com/?target=https%3A//www.payscale.com/research/US/Degree%3DMaster_of_Science_%28MS%29%252C_Computer_Science_%28CS%29/Salary">Master of Science (MS), Computer Science (CS) Degree Salary</a>)ï¼Œå› æ­¤70Kä¸ç®—ä½ä¼°ï¼‰ï¼Œç”Ÿæ´»è´¹ç”¨30Kï¼ˆå·¥ä½œåŸºæœ¬åœ¨åŠ å·ã€çº½çº¦ã€è¥¿é›…å›¾ç­‰å¼€é”€è¾ƒé«˜çš„åœ°åŒºï¼‰ã€‚æ¯å¹´çš„å·¥èµ„æ¶¨å¹…ä¸º5%ï¼ˆè¿™ä¸ªæ•°æ®åŸºæœ¬ä¸æ”¹å˜æœ€åçš„ç»“æœï¼Œè®¾ä¸º10%ä¹Ÿä¸€æ ·ï¼‰</p>
<p>è¯»CSçš„PhDï¼Œè®¾ï¼š</p>
<p>ä¸ºæœŸäº”å¹´ï¼Œæ¯å¹´å­¦è´¹ç”±å­¦æ ¡æˆ–å¯¼å¸ˆç»™äº¤äº†ï¼Œå¦æœ‰ç¨å25Kçš„ç”Ÿæ´»è¡¥è´´ï¼ˆåŠ å·æ ‡å‡†ï¼Œå…¶ä»–å·å¯èƒ½åªæœ‰20Kï¼Œä½†ç”Ÿæ´»è´¹åŒæ ·ä¸‹é™ï¼Œå› æ­¤æ²¡åŒºåˆ«ï¼‰</p>
<p>æ¯å¹´çš„ç”Ÿæ´»è´¹20K</p>
<p>ç¬¬å…­å¹´å‚åŠ å·¥ä½œï¼Œç¨åçš„æ”¶å…¥80Kï¼ˆç»ç»Ÿè®¡ï¼ŒCSåšå£«å­¦ä½çš„è½¯ä»¶å·¥ç¨‹å¸ˆå¹³å‡å·¥èµ„ç¨å‰106K(<a href="https://link.zhihu.com/?target=https%3A//www.payscale.com/research/US/Degree%3DDoctorate_%28PhD%29%252C_Computer_Science_%28CS%29/Salary">Doctorate (PhD), Computer Science (CS) Degree Salaries</a>)ï¼Œå› æ­¤80Kä¸ç®—é«˜ä¼°ï¼‰ã€‚ç”Ÿæ´»è´¹30Kã€‚æ¯å¹´çš„å·¥èµ„æ¶¨å¹…ä¸º6%ï¼ˆéƒ½PhDäº†ï¼Œæ€»è¦ç¨å¾®æ¯”Masteré«˜é‚£ä¹ˆä¸€ç‚¹ç‚¹å§ï¼Œå½“ç„¶è¿™ä¸ªæ•°æ®ä¸æ”¹å˜æœ€åç»“æœï¼Œè®¾ä¸º10%ä¹Ÿä¸€æ ·ï¼‰</p>
<p>ä¸‹é¢æ˜¯æˆ‘çš„åšå£«ç”Ÿç”»çš„æ¯”è¾ƒå›¾ï¼š</p>
<figure>
<img src="/2018/07/29/american-u/v2-b9f0316405ac67d864340615ee5e272c_hd.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æˆ‘ä»¬å‘ç°ï¼Œ<strong>CS PhDçš„å‡€æ”¶å…¥æ’é«˜äºç¡•å£«</strong>ã€‚å†è€ƒè™‘åˆ°é€šè´§è†¨èƒ€ç‡ï¼Œå…¶å®ç¬¬ä¸€å¹´æ¬ ä¸‹çš„å­¦è´¹åé¢éœ€è¦æ›´å¤šçš„é’±æ‰èƒ½è¡¥ä¸Šï¼Œæ‰€ä»¥å·®è·åº”è¯¥æ›´æ˜æ˜¾ã€‚</p>
<h3 id="æ·±åº¦è®¨è®º">æ·±åº¦è®¨è®º</h3>
<ol type="1">
<li>é—®ï¼š PhDçœ‹èµ·æ¥ä¹Ÿæ²¡æ¯”Masterå¤šå¤šå°‘é’±å•Š</li>
</ol>
<p>ç­”ï¼šæ³¨æ„æˆ‘çš„å‰ææ˜¯â€œå³ä½¿ä½ åªçœ‹é’±â€ã€‚ä½ å¯èƒ½è¿˜çœ‹å…¶ä»–çš„ä»·å€¼ï¼Œæ¯”å¦‚ä½ è‡³å°‘æ¯”masterå¤šäº†ä¸€ä¸ªphd degreeå•Šã€‚æ¯”å¦‚ä½ çš„èŒä¸šé“è·¯æ›´å¹¿ï¼Œå¯ä»¥è¿›å…¬å¸çš„ç ”ç©¶æ‰€ï¼Œè¿›å›½å®¶å®éªŒå®¤ï¼Œè¿›å¤§å­¦åšæ•™æˆï¼Œå¯ä»¥æµ·å½’é’å¹´åƒäººï¼Œç»¿å¡æ›´å®¹æ˜“æ‹¿åˆ°ï¼Œç­‰ç­‰ã€‚</p>
<ol start="2" type="1">
<li>é—®ï¼šæˆ‘ç”³Masterå¯ä»¥ç”³åˆ°CMUå’ŒUSCï¼Œä½†æ˜¯ç”³PhDåªèƒ½ç”³åˆ°Texas A&amp;Mæˆ–è€…UCSC</li>
</ol>
<p>ç­”ï¼šåœ¨ä¸­å›½ï¼Œå¯èƒ½985çš„å­¦ç”Ÿå’Œé985çš„å­¦ç”Ÿåœ¨æ‹›è˜ã€èµ·è–ªä¸Šæœ‰å¾ˆå¤§åŒºåˆ«ã€‚åœ¨ç¾å›½ï¼Œè¿›å…¬å¸ä¸»è¦é è‡ªå·±åˆ·é¢˜å’Œé¢è¯•ã€‚TAMUçš„phdåªå¯èƒ½æ¯”CMUçš„masteræ›´å¥½æ‰¾å·¥ä½œã€‚å½“ç„¶CMUçš„æ ¡å‹äººè„‰å¤§ä¸€ç‚¹ï¼Œä½†phdè¿˜æœ‰ä½ çš„å¯¼å¸ˆ&amp;å¸ˆå…„å¸ˆå§äººè„‰å•Šï¼Œé‚£å¯æ¯”æ ¡å‹äººè„‰ç»™åŠ›å¤šäº†ã€‚</p>
<ol start="3" type="1">
<li>é—®ï¼šä½†æˆ‘å¦‚æœèƒ½å»CMUï¼Œæˆ‘çˆ¸å¦ˆåœ¨é‚»å±…é¢å‰æ›´æœ‰é¢å­å•Š</li>
</ol>
<p>ç­”ï¼šä¸‹ä¸€é¢˜å§</p>
<ol start="4" type="1">
<li>é—®ï¼šä»€ä¹ˆæ ·çš„æ¡ä»¶å¯ä»¥ä¼¸åˆ°PhDå…¨å¥–ï¼Ÿ</li>
</ol>
<p>ç­”ï¼š985å­¦æ ¡çš„ï¼ˆæˆ–å‡†985ï¼Œå¦‚åŒ—é‚®ã€è¥¿ç”µï¼‰ï¼Œæœ¬ç§‘å¹³å‡åˆ†85å·¦å³ï¼ŒåŸºæœ¬ç”³è¯·10ä¸ªä»¥ä¸Šçš„å­¦æ ¡ï¼Œå°±èƒ½ç”³è¯·åˆ°å…¨å¥–ã€‚å³ä½¿ä½ ä¸æ˜¯985æœ¬ç§‘ï¼Œæ²¡å…³ç³»ï¼Œå»å¥½çš„å®éªŒå®¤åšä¸€æµçš„ç§‘ç ”ã€å‘è¡¨ä¸€äº›ä¼˜ç§€çš„è®ºæ–‡ã€GPA 90ä»¥ä¸Šã€æœ‰è‘—åå­¦è€…æ¨èï¼Œç­‰ç­‰æ— æ•°é€”å¾„ï¼Œä¹Ÿå¯ä»¥æ‹¿åˆ°phdå…¨å¥–ã€‚â€”â€”åˆ«é—®æˆ‘å…·ä½“æ€ä¹ˆæ“ä½œï¼Œè¶…çº²äº†ã€‚</p>
<ol start="5" type="1">
<li>é—®ï¼šè¯»PhDç¢°åˆ°å˜æ€å¯¼å¸ˆæ€ä¹ˆåŠ</li>
</ol>
<p>ç­”ï¼šç°åœ¨ä¿¡æ¯è¿™ä¹ˆå‘è¾¾ï¼Œå»æ‰“å¬ä¸€ä¸‹å°±çŸ¥é“å¯¼å¸ˆäººæ€ä¹ˆæ ·äº†å•Šã€‚</p>
<ol start="6" type="1">
<li>é—®ï¼šæˆ‘è¯»äº†phdå‘ç°è‡ªå·±ä¸é€‚åˆæ€ä¹ˆåŠ</li>
</ol>
<p>ç­”ï¼šé‚£è¿™æ—¶è½¬ç¡•å£«ä¹Ÿæ˜¯æ­£ç¡®çš„é€‰æ‹©</p>
<ol start="7" type="1">
<li>é—®ï¼šä½ æ˜¯ä¸æ˜¯æ‹›ä¸åˆ°å¥½å­¦ç”Ÿæ‰€ä»¥æ‰å†™è¿™ç¯‡æ–‡ç« æ¥å¼•è¯±å­¦ç”Ÿè¯»PhDå•Š</li>
</ol>
<p>ç­”ï¼šæˆ‘ç°åœ¨çš„å­¦ç”Ÿå¾ˆä¼˜ç§€ï¼Œæ¯å¹´ä¹Ÿæœ‰å¾ˆå¤šå¥½å­¦ç”Ÿç”³è¯·æˆ‘PhDï¼Œå¿ç—›æ‹’æ‰é‡Œé¢çš„å¤§éƒ¨åˆ†ã€‚åªæ˜¯çœ‹åˆ°æ¯ç³»çš„å­¦ç”Ÿå¯¹phdä¸æ„Ÿå…´è¶£ï¼Œæ„Ÿåˆ°å¾ˆå¯æƒœã€‚</p>
<ol start="8" type="1">
<li>é—®ï¼šä½ æ˜¯æƒ³åŠå¤§å®¶éƒ½è¯»PhDä¹ˆ</li>
</ol>
<p>ç­”ï¼šå½“ç„¶ä¸æ˜¯ï¼Œè¯»åšå£«è¦é‡åŠ›è€Œè¡Œã€‚æˆ‘æ˜¯æƒ³åŠé‚£äº›æœ‰èƒ½åŠ›ã€æœ‰åŠ¨åŠ›è¯»åšå£«ï¼Œä½†æ˜¯å› ä¸ºâ€œè¯»ç¡•å£«æ›´åˆ’ç®—â€çš„è¨€è®ºè€Œæ”¾å¼ƒçš„å­¦ç”Ÿï¼Œè¯»åšå£«ã€‚</p>
<ol start="9" type="1">
<li>é—®ï¼šä½ çš„æ¨¡å‹è¿˜æœ‰è¿™é‡Œé‚£é‡Œä¸å¤§å¯¹ï¼Œæˆ‘æ¥è°ƒæ•´ä¸€ä¸‹</li>
</ol>
<p>ç­”ï¼šæ„Ÿè°¢ï¼ä¸è¿‡ç»™äººç”Ÿå»ºæ¨¡æœ¬æ¥å°±ä¸å¤§å¯èƒ½æ˜¯éå¸¸å‡†ç¡®çš„ã€‚è¿™é‡Œåªæ˜¯æä¾›ä¸€ç§å¯èƒ½ï¼Œæ‰€ä»¥æˆ‘çš„æ ‡é¢˜è¯´çš„æ˜¯â€œæœªå¿…â€ã€‚</p>
]]></content>
      <tags>
        <tag>university</tag>
        <tag>America</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€éƒ¨ç«‹ä½“çš„å²ä¹¦ï¼Œä¸€ä¼—æ´»ç€çš„äººç‰©â€”â€”ã€Šè¿›å‡»çš„å·¨äººã€‹è§‚åæ„Ÿ</title>
    <url>/2019/08/13/anime-review-shingeki/</url>
    <content><![CDATA[<p>çœ‹å®Œäº†è¿™ä¸ªå·²ç»æ›´æ–°åˆ°50é›†çš„å¤§é•¿ç¯‡ä¹‹åï¼Œä¸€ç›´è§‰å¾—åº”è¯¥å†™äº›ä»€ä¹ˆä¸‹æ¥ï¼Œå¦åˆ™æ€»æ˜¯æ„Ÿè§‰åƒæ˜¯å°‘äº†äº›ä»€ä¹ˆï¼Œæˆ–æ˜¯å› ä¸ºæ€•æ—¶é—´å°˜å°è¿™ä¸ªæ•…äº‹è€Œä¸å®‰ã€‚</p>
<p>ã€Šé€²æ’ƒã®å·¨äººã€‹ä¹Ÿæ˜¯ä¸ºæ•°ä¸å¤šçš„ä»æ²¡æœ‰çœ‹è¿‡çš„å¤§åˆ¶ä½œé•¿ç¯‡åŠ¨æ¼«äº†ã€‚ç›´è§‚çš„æ„Ÿå—æ˜¯å…¶æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„ä¸–ç•Œè§‚ï¼Œä¸”è¿™æ˜¯ä¸€ä¸ªä¸ä½†æœ‰æ—¶é—´ä¸Šçš„çºµæ·±ï¼Œä¹Ÿæœ‰ç©ºé—´ä¸Šçš„ç»µå»¶çš„ä¸–ç•Œã€‚æœ‰ç€è‡ªå·±çš„æ–‡å­—ã€åœ°å›¾çš„å¼‚ä¸–ç•ŒåŠ¨æ¼«æˆ–æ˜¯å¹»æƒ³é£åŠ¨æ¼«å…¶å®å¹¶ä¸å°‘ï¼Œä½†æ˜¯å…¶ä¸¥å¯†çš„é€»è¾‘å´æ˜¯ååˆ†ç½•è§çš„ã€‚å¾ˆæ˜¾ç„¶ï¼Œä½œè€…å¿ƒä¸­æœ‰ç€ä¸€ä¸ªå¯¹è¿™ä¸ªä¸–ç•Œè¯¦ç»†çš„è®¤çŸ¥ï¼Œä»å…¶å†å²ã€å®—æ•™ã€åˆ°å±…ä½äºå…¶ä¸­çš„å±…æ°‘çš„æƒ³æ³•å’Œèˆ†è®ºï¼Œä¼¼ä¹éƒ½æ˜¯ä½œè€…ç¬”å°–ä¸­è‡ªç„¶æµæ·Œå‡ºæ¥çš„ä¸€ä¸ªä¸ªä¾§é¢ï¼Œè€Œå®å¤§çš„ä¸–ç•Œä¿¨ç„¶å±…äºå…¶ä¸­ã€‚</p>
<span id="more"></span>
<p>çœ‹äº†å¯¹æ¼«ç”»çš„è§£è¯»åæ›´è§‰å…¶ç²¾å¦™ä¹‹å¤„ã€‚ä¸–ç•Œå¦‚æ­¤ä¹‹å¤§ï¼Œä½†ä¸‰å­£åŠ¨æ¼«éƒ½åœ¨ä¸‰å±‚åšåšçš„å¢™å£ä¹‹ä¸­å±•å¼€ï¼Œå…¶ä¸­æœ‰è¯¸å¤šè°œå›¢ï¼Œæœ‰å…³é”®äººç‰©çš„ç»†è…»åˆ»ç”»ï¼Œæ›´æœ‰ä¸å°‘çœ‹ä¼¼æ— æ³•ç†è§£çš„è¡ŒåŠ¨æ–¹å¼ã€‚ç„¶è€Œï¼Œè¿™äº›éƒ½æ˜¯ä»¥ä¸€ä¸ªâ€œå¢™å†…äººâ€çš„è§†è§’å±•å¼€çš„ã€‚ä½œè€…å’Œç¼–å‰§æ²¡æœ‰ä¸ºäº†è®¨å¥½è§‚ä¼—è€Œå¼€ä¸Šå¸è§†è§’ï¼Œå»å¸¦æˆ‘ä»¬ä¸€è§ˆè¿™ä¸ªå¹¿è¢¤çš„å¤§åœ°ä¸Šç©¶ç«Ÿå‘ç”Ÿè¿‡ä»€ä¹ˆï¼Œå‘ç”Ÿç€ä»€ä¹ˆï¼Œè€Œæ˜¯ä¸ºä½ è®¾ç½®äº†é‡é‡é™åˆ¶ã€‚ä½œä¸ºä¸€ä¸ªè§‚ä¼—ï¼Œä½ ç€æ€¥ï¼Œç€æ€¥æ— æ³•çŸ¥é“äº‹æƒ…çš„å…¨è²Œï¼›ä½ æƒ³æ¢ç´¢ï¼Œä½†ä½ æ¢ç´¢çš„é€Ÿåº¦ä¸ä¼šè¶…è¿‡é©¬è¹„ä¸Šçš„æˆ˜å£«ï¼›ä½ æƒ³çœ‹åˆ°å…¨è²Œï¼Œä½†ä½ èƒ½çœ‹åˆ°çš„åªæœ‰ä¸‰å µè®©äººç±»å¾’æ˜¾æ¸ºå°çš„å·¨å£ï¼Œä»¥åŠå…¶ä¸­ç™¾æ€ã€‚ä½ ç”šè‡³ä¸èƒ½ç›´æ¥çœ‹åˆ°ä¸­æ¢æœºå…³çš„å¤§äººä»¬åœ¨æƒ³ä»€ä¹ˆï¼Œä½ åœ¨è¾¹é™²å°é•‡ï¼Œä½ çš„è§†è§’éšç€æ— åŠ›çš„ä¸»è§’å°‘å¹´çš„æˆé•¿è€Œä¸€æ­¥æ­¥æŠ¬é«˜ï¼Œéšç€ä»–è§è¯å·¨äººçš„ä¾µå…¥ï¼Œå†å²çš„è½¬æŠ˜ï¼Œä½“ä¼šä¸§å¤±è‡³äº²çš„æ‚²ç—›ï¼›éšç€ä»–æµç¦»å¤±æ‰€ï¼Œå¹¶æœ€ç»ˆåœ¨è®­ç»ƒè¥ä¸­ç›´é¢æŒ‘æˆ˜ï¼Œé æ‰å®çš„åŠªåŠ›ä¸€ç‚¹ç‚¹è·å¾—åŠ›é‡ï¼›éšç€ä»–åŠ å…¥è°ƒæŸ¥å…µå›¢ï¼Œå‡ºå…¥ç›åˆ©äºšåŸå¢™å»æ¢ç´¢å¦‚æµ“åšé»‘å¤œèˆ¬çš„æœªçŸ¥è€Œè¿·äººçš„å¢™å¤–ä¸–ç•Œã€‚</p>
<p>ä½ ä¼šæ„Ÿåˆ°å¦‚æ­¤çš„æ— åŠ›ï¼Œå¯¹è¿™ä¸ªä¸–ç•Œäº†è§£çš„å¦‚æ­¤ä¹‹å°‘ã€‚ä½ å¦‚æ­¤åœ°æ¸´æœ›è‡ªç”±ï¼Œæ¸´æœ›äº²æ‰‹æ­å¼€é‡é‡è°œå›¢ï¼Œæ¸´æœ›ç¦»ç­”æ¡ˆæ›´è¿›ä¸€æ­¥ã€‚ç„¶è€Œï¼Œä¸–ç•Œå±•ç°ç»™ä½ çš„å´åˆæ˜¯å¦‚æ­¤è´«ä¹ï¼Œä½ å§‹ç»ˆæ˜¯æ— çŸ¥çš„ï¼Œä½ èƒ½çœ‹åˆ°çš„ä»¿ä½›åªæ˜¯é«˜ç»´å‘ä¸‹çš„ä¸€ä¸ªæŠ•å½±ï¼Œå®ƒæ˜¯é‚£ä¹ˆçš„æ¨¡ç³Šï¼Œé‚£ä¹ˆçš„æš§æ˜§ï¼Œå´åˆé‚£ä¹ˆçš„å¼•äººå…¥èƒœã€‚</p>
<p>ç„¶è€Œä½ æ„Ÿå—åˆ°çš„å¹¶éæ˜¯ç»æœ›ã€‚ä½ ä»¿ä½›å¯„å®¿ä¸è‰¾ä¼¦å¿ƒä¸­ï¼Œä½ çœ‹ä¸è§ä¸–ç•Œçš„å®½å¹¿ï¼Œå´èƒ½çœ‹åˆ°å°‘å¹´å¿ƒä¸­çš„æ¸´æœ›ï¼›ä½ å§‹ç»ˆæ— æ³•è¯æ˜å›¢é•¿çˆ¶äº²æœ€ç»ˆçš„çŒœæƒ³ï¼Œå´æ—¶æ—¶å¤„å¤„å¯è§ä»–å€”å¼ºçš„æ¢¦æƒ³ã€‚è™½ç„¶åœ¨è¿™é‡Œï¼Œäººç±»æ˜¯å¦‚æ­¤çš„å‘å¾®å’Œæ¸ºå°ï¼Œæ¸ºå°åˆ°è¢«å·¨äººæ”¥åœ¨æ‰‹å¿ƒæ—¶å®Œå…¨æ— åŠ›åæŠ—ï¼Œåªèƒ½ä»»å‡­ä»–ä»¬è¹‚èºï¼Œè¢«æ‹æ‰ï¼Œè¢«è¸©ç¢ï¼Œè¢«ç”Ÿåã€‚ä½†å°±æ˜¯è¿™ä¹ˆå¾®ä¸è¶³é“çš„äººç±»ç ”ç©¶å‡ºäº†å¯¹æŠ—å·¨äººçš„è¯¸å¤šæ–¹æ³•ï¼Œå‡­å€Ÿè‡ªå·±çš„æ™ºæ…§å’Œå‹‡æ°”ä¸æ–­ä¸è¿™ç§è¶…è‡ªç„¶çš„åŠ›é‡è¿›è¡Œé¡½å¼ºæ–—äº‰ã€‚</p>
<p>ä½ å·²ç»æˆä¸ºäº†å¢™ä¸­ä¸–ç•Œçš„ä¸€ä»½å­ã€‚ä½†ä½ çš„æ€æƒ³å¹¶æ²¡æœ‰è¢«å¢™æ‰€ç¦é”¢ï¼Œè€Œæ˜¯å’Œå°‘å¹´ï¼Œå’Œå›¢é•¿ï¼Œå’Œå‹‡æ¯…çš„å„ä½æˆ˜å£«ä»¬ä¸€èµ·ï¼Œç”¨è‡ªå·±çš„è„šæ­¥å®šä¹‰ç€ä¸–ç•Œçš„è¾¹ç•Œã€‚</p>
<p>å¦‚å‡ ä¹æ‰€æœ‰ä¼˜ç§€çš„ä½œå“ä¸€æ ·ï¼Œè¿™é‡Œçš„äººç‰©ä»¬éƒ½æ˜¯ç”ŸåŠ¨è€Œä¸°å¯Œçš„ã€‚è¿™é‡Œé™¤äº†çœ‹ä¸å‡ºæ·±åº¦çš„ä¸€äº›å·¥å…·äººï¼ˆå¦‚çš‡å®«çš„å¤§è‡£ï¼‰å¹¶æ²¡æœ‰çœŸæ­£çš„â€œåæ´¾â€ï¼Œäººç‰©ä»¬æœ‰ç€è‡ªå·±ä»…æ­¤ä¸€ä»½çš„ç»å†ã€æ€§æ ¼ä¸æ¢¦æƒ³ï¼Œä»–ä»¬æˆ–è®¸æ˜¯è‡ªç§çš„ã€æ®‹é…·çš„ã€å†·è¡€çš„ã€æš´åŠ›çš„ã€æç«¯çš„ï¼Œä½†åŒæ—¶ä»–ä»¬ä¹Ÿå¯èƒ½åœ¨æ— æ„é—´å±•ç°å‡ºä¸€ç¥çš„æ¸©æŸ”ï¼Œå°±åƒæ²¡æœ‰å…³ä¸¥çš„é—¨é—¨ç¼ä¸­é’»å…¥çš„é˜³å…‰ä¸€èˆ¬ï¼Œä¹Ÿè®¸å¹¶ä¸è¶³ä»¥ä½¿ä¹‹å˜å¾—æ¸©æš–ï¼Œä½†å´èƒ½è®©äººåˆ‡åˆ‡å®å®åœ°çœ‹è§ä»–å¿ƒä¸­æ¼‚æµ®ç€çš„ç‚¹ç‚¹å°˜åŸƒã€‚</p>
<p>ç”·ä¸»çš„å°‘å¹´æ˜¯ä¸€ä¸ªæ¯”è¾ƒå†²åŠ¨å’Œå®¹æ˜“æƒ…ç»ªåŒ–çš„äººï¼Œè™½ç„¶è¿™å¹¶ä¸ä¼šæ©ç›–ä½ä»–å¿ƒä¸­çš„åšæ¯…ã€å‹‡æ•¢ã€è´£ä»»ä¸æ‹…å½“ã€‚å…¶å®ç”·ä¸»çš„æƒ…ç»ªåŒ–è¿™ç‚¹æˆ‘ä¸€ç›´åœ¨å·å·æœŸå¾…ä¼šä¸ä¼šéšç€å…¶æˆé•¿è€Œæ”¹è§‚ï¼Œä½†ç›´åˆ°ç°åœ¨ï¼Œè¿™ç‚¹ä¾æ—§æ²¡èƒ½å¾—åˆ°å¾ˆå¥½çš„æ”¹è§‚ã€‚ä»–è¿˜æ˜¯å®¹æ˜“ä¸Šå¤´ï¼Œå®¹æ˜“å†²åŠ¨ï¼Œå®¹æ˜“å˜å¾—æ¶ˆæï¼Œå®¹æ˜“å¦å®šè‡ªå·±å­˜åœ¨çš„æ„ä¹‰ï¼Œä¾æ—§æ˜¯é‚£ä¸ªå˜´ç¡¬çš„ã€éœ€è¦ä¸‰ç¬ å’Œé˜¿å°”æ˜è¾…åŠ©æ‰èƒ½åšæŒä¸‹å»çš„å°é¬¼ã€‚è¯´å®è¯ï¼Œä¸å°‘ç‰‡æ®µåœ¨çœ‹çš„æ—¶å€™çœŸçš„æœ‰ç§è€çˆ¶äº²æ¨é“ä¸æˆé’¢çš„æ„Ÿè§‰ï¼Œä½†æ˜¯é™ä¸‹æ¥æƒ³æƒ³ï¼Œè‡ªå·±ä¸ä¹Ÿå¤šå¤šå°‘å°‘æ˜¯è¿™æ ·å—ï¼Ÿé‡åˆ°å›°éš¾æ—¶ä¼šçŠ¹è±«ä¸å†³ï¼Œä¼šç„¦è™‘ï¼Œä¼šè½æ’ï¼Œä¼šæƒ³ç€é€ƒé¿ï¼Œä¼šä¸çŸ¥æ‰€æªï¼Œä¼šæœŸå¾…åˆ«çš„å“ªä½èƒ½å¸®è‡ªå·±åº¦è¿‡è‰°éš¾çš„æ—¶æœŸã€‚ä½†æœ€åï¼Œä»–ä¸ä¹Ÿè¿˜æ˜¯å°½è‡ªå·±æœ€å¤§åŠªåŠ›å»åšäº†å—ï¼Ÿå³ä½¿ä¼šæœ‰æ‰€è°“çš„é—æ†¾ï¼Œä¹Ÿè¶³ä»¥é—®å¿ƒæ— æ„§äº†ã€‚</p>
<p>è¿™éƒ¨åŠ¨æ¼«æœ€æ·±åˆ»çš„è®¨è®ºï¼Œæˆ‘è§‰å¾—åœ¨äºå¯¹å¤±å»å’Œè·å¾—çš„è®ºè¾©ã€‚â€œä»€ä¹ˆéƒ½æ— æ³•èˆå¼ƒçš„äººï¼Œæœ€ç»ˆä»€ä¹ˆä¹Ÿæˆä¸ºä¸äº†â€ã€‚æ•´éƒ¨åŠ¨æ¼«ä¸€å¸§å¸§éƒ½åœ¨è®²è¿°å¤±å»çš„æ•…äº‹ã€‚ç”·ä¸»çœ¼ççåœ°çœ‹ç€å·¨äººåƒæ‰è‡ªå·±çš„æ¯äº²ï¼Œå´ä»€ä¹ˆä¹Ÿåšä¸äº†ï¼Œåªèƒ½åƒè´§ç‰©ä¸€æ ·è¢«å”å”æ‰›ç€é€ƒè·‘ï¼›é˜¿å°”æ˜å’Œå½“åœ°çš„è®¸å¤šäººä¸€æ ·ï¼Œä¹Ÿå¤±å»äº†è‡ªå·±çš„è‡³äº²ï¼›ä¸‰ç¬ çš„å®¶äººè¢«äººå£è´©å­æ®‹æ€ï¼›å›¢é•¿å°æ—¶å€™å› ä¸ºæ¸´æœ›çŸ¥é“ä¸ºä½•äººä»¬å¿˜è®°äº†å†å²è€Œç›´æ¥å¯¼è‡´äº†çˆ¶äº²è¢«æ€å®³ï¼›è°ƒæŸ¥å†›å›¢çš„æˆå‘˜ä»¬æ¯æ¬¡å‡ºå¾éƒ½ä¼šæŸå¤±æƒ¨é‡ï¼›å‡ æ¬¡ä¸ºäº†é…åˆæˆ–æ‹¯æ•‘ç”·ä¸»éƒ½æ­»æ‰äº†å¤§é‡çš„å£«å…µï¼›é¢å¯¹å¥³å‹å·¨äººæ—¶æ•´ä¸ªåˆ©ç»´ç­çš„è¦†ç­ã€ä»¥åŠæ•´ä¸ªåŸå¸‚çš„æ¯ç­ã€‚æ›´ä¸ç”¨ææ¯æ¬¡å·¨äººå‡ºç°æ—¶ä»¥å„ç§æ®‹é…·çš„æ­»æ³•å¤±å»ç”Ÿå‘½çš„å·¨é‡å£«å…µå’Œå¹³æ°‘äº†ã€‚ä¸å…¶ä»–åŠ¨æ¼«ä¸åŒçš„ä¸€ç‚¹æ˜¯ï¼Œæ¯ä¸ªäººçš„æ­»éƒ½ä¸æ˜¯æ— æ„ä¹‰çš„ï¼Œæ¯ä¸ªç”Ÿå‘½çš„é€å»éƒ½ç»™äººå¿ƒçµä»¥ä¸€è®°é‡é”¤ï¼Œè®©äººæ›´åŠ æ·±åˆ»åœ°åˆ‡èº«æ„Ÿå—åˆ°äº†æ¥è‡ªå·¨äººçš„ç»å¯¹å¨èƒå’Œæ¥è‡ªç‹æ”¿ä¸ä½“åˆ¶çš„æ·±åˆ‡ææ€–ã€‚ç¦»å»çš„ä»–ä»¬åœ¨æˆ‘çœ‹æ¥éƒ½ä¸æ˜¯ä¸ºæ­»è€Œå­˜åœ¨çš„å·¥å…·äººï¼Œè€Œæ˜¯ä¸€ä¸ªä¸ªåœ¨ä¸Šä¸€ç§’è¿˜é²œæ´»çš„ï¼Œæœ‰ç€è‡ªå·±æ•…äº‹ä¸ç¾ç»Šçš„ã€çœŸå®çš„äººã€‚å…¨ç¯‡åˆ°å¤„éƒ½åœ¨å°±å¤±å»ä¸è·å¾—è¿›è¡Œè®¨è®ºï¼Œæ€æ­»å·¨äººæ˜¯ä¸æ˜¯ç»å¯¹é“ä¹‰çš„ï¼Ÿé‚£å¦‚æœå·¨äººçš„æ¥æºå®é™…æ˜¯äººç­”æ¡ˆåˆä¼šæ€ä¹ˆå˜åŒ–ï¼Ÿå¦‚æœç›´æ¥å»æ€äººåˆæ˜¯å¦‚ä½•ï¼Ÿå¤ä»‡ä¸åŸè°…ï¼Œå†·é™ä¸å†²åŠ¨ï¼Œå†·è¡€ä¸äººæ€§ï¼Œä¿¡èµ–ä¸ç‹¬ç«‹ï¼ŒèƒŒå›ä¸å‘½ä»¤ï¼Œé€‰æ‹©ä¸ç»“æœï¼Œè¿™äº›å…ƒç´ è´¯ç©¿å§‹ç»ˆï¼Œä»¤äººå›å‘³æ— ç©·ã€‚</p>
<p>æœ¬ä½œå¯¹äºäººç‰©æƒ…æ„Ÿçš„å¡‘é€ å‡ ä¹è¾¾åˆ°äº†æˆ‘å¿ƒä¸­å¯¹â€œç™»å³°é€ æâ€è¿™ä¸ªæ¦‚å¿µçš„å®šä¹‰ã€‚ä¸‰ç¬ å¯¹è‰¾ä¼¦æ— æ¡ä»¶çš„å®ˆæŠ¤ï¼Œé©±ä½¿ä¹‹çš„ç©¶ç«Ÿæ˜¯ä¸€ç§ä»€ä¹ˆæ ·çš„æƒ…æ„Ÿï¼Ÿææ€•æ˜¯ä¸€ç§å°†å¯¹å…¶æ•‘èµçš„æ„Ÿæ©ã€å¯¹äº²æƒ…çš„æ¸´æœ›ä»¥åŠå¼ºçƒˆçš„å®ˆæŠ¤çš„æ„å¿—ã€åŸºäºç»éªŒçš„å¯¹è‰¾ä¼¦çš„ä¸æ”¾å¿ƒä»¥åŠä¸çŸ¥ä½•æ—¶èŒèŠ½èµ·çš„éšè”½è€Œé†‡åšçš„çˆ±æƒ…è¢«ç»†å¿ƒåœ°åŒ–åˆåçš„äº§ç‰©å§ã€‚è¿™ç§æ„Ÿæƒ…æ˜¯éå¸¸åŠ¨äººçš„ï¼Œè€Œæˆ‘ä¹ŸçœŸçš„æ˜¯éæ•¬ä½©ä½œè€…èƒ½æŠŠè¿™ç§å¸¸äººæ‰€æ— æ³•ç»å†å’Œä½“éªŒçš„æƒ…æ„Ÿäºˆä»¥å¦‚æ­¤ç»†è…»è€ŒçœŸæŒšçš„è¡¨ç°ã€‚é˜¿å°”æ˜å¯¹è‡ªå·±èƒ½åŠ›çš„å¦å®šï¼Œå¯¹è‡ªå·±æ— æ³•å‹‡æ•¢åœ°ç«™å‡ºæ¥åº”å¯¹æŒ‘æˆ˜çš„è‡ªæˆ‘åŒæ¶ï¼Œå¯¹ä¸‰ç¬ ä¸è‰¾ä¼¦é‚£æ ·å‡›å‡›èº«å§¿çš„å‘è‡ªå¿ƒåº•çš„ç¾¡æ…•ï¼Œå¯¹è‰¾ä¼¦ä»å·¨äººå£ä¸­æ‹¯æ•‘è‡ªå·±çš„ä¸è§£ä¸ç—›å½»å¿ƒæ‰‰çš„æ‡Šæ‚”ï¼Œä»¥åŠä¹‹åæ¸æ¸å‘ç°å…¶å®è‡ªå·±ä¹Ÿæ˜¯æœ‰åªå±äºè‡ªå·±çš„é•¿å¤„å¹¶å¼€å§‹ä¸€ç‚¹ç‚¹æ‚¦çº³è‡ªå·±ã€æ‰¾åˆ°å±äºè‡ªå·±ä½ç½®çš„æ”¹å˜ã€‚è±çº³çš„äººæ ¼åˆ†è£‚ä¹Ÿæ„å¤–çš„è¡¨ç°çš„ååˆ†çœŸåˆ‡è€Œèƒ½å¼•èµ·æˆ‘çš„å…±é¸£ã€‚ä»–æœ¬æ˜¯â€œæ•Œæ–¹â€æ´¾æ¥å¢™å†…æ‰§è¡Œä»»åŠ¡çš„å·¨äººï¼Œä½†æ˜¯åœ¨é•¿è¾¾ä¸‰å¹´çš„è®­ç»ƒå…µç”Ÿæ¶¯ä¸­å´å› ä¸ºå…±åŒç»å†çš„ä¸€åˆ‡è€Œä¸ç”±è‡ªä¸»åœ°çœŸçš„çˆ±ä¸Šäº†è¿™ä¸ªä½ç½®ï¼Œçˆ±ä¸Šäº†èº«è¾¹çš„è¿™æ ·ä¸€ç¾¤åŒä¼´ä»¬ï¼Œç”šè‡³åœ¨ç´§æ€¥æƒ…å†µä¸‹ä¸ç”±è‡ªä¸»åœ°çŒ®èº«æ•‘äººï¼Œä¹Ÿä¼šä»å¿ƒåº•é‡Œè§‰å¾—å…‹é‡Œæ–¯å¡”å¯çˆ±ã€‚å½“åé¢èº«ä»½æš´éœ²åï¼Œä»–å‘Šè¯‰ä»–çš„â€œä¿˜è™â€è‰¾ä¼¦å’Œå°¤å¼¥å°”è‡ªå·±æœ‰ç€ä¸¤ä¸ªäººæ ¼ï¼Œè¿™ä¸‰å¹´é‡Œå¯¹åŒä¼´çš„å…³å¿ƒå’Œå¯¹å†›é˜Ÿçš„å¿ è¯šå¹¶ä¸æ˜¯ä¼ªè£…ä¹‹æ—¶ï¼Œæˆ‘å‡ ä¹åœ¨ä¸€ç¬é—´å°±ç†è§£äº†ä»–ã€‚å› ä¸ºçˆ±ä¸€éƒ¨åŠ¨æ¼«è€Œå¦å®šå…¶ä»–ä½œå“æ˜¯æ— æ„ä¹‰çš„ï¼Œä½†èƒ½è®©äººå¦‚æ­¤é›†ä¸­è€Œå…¨èº«å¿ƒåœ°æ²æµ´äºè¿™æ‰‘é¢è€Œæ¥çš„æƒ…æ„Ÿçš„æš´é£é›¨ä¸­ï¼Œçš„ç¡®æ˜¯ç¬¬ä¸€æ¬¡ä½“éªŒåˆ°çš„ã€‚</p>
<p>å¦å¤–ä¸€ä¸ªå¾ˆä¼˜è´¨çš„çœ‹ç‚¹æ˜¯æœ¬ä½œä¸­æ¶‰åŠåˆ°çš„é«˜å±‚çš„å†³ç­–éƒ¨åˆ†ã€‚è¿™äº›äººå®é™…ä¸Šå¯ä»¥è¯´å¤§å¤šå¹¶éä¸»è§’å›¢äººç‰©ï¼Œäººç‰©å½¢è±¡ä¹Ÿå¹¶ä¸å¿…è¦å¾ˆä¸°æ»¡ï¼Œç”šè‡³åœ¨å¾ˆå¤šä½œå“ä¸­éƒ½æ˜¯ä»¥ä¸€ç§è·‘é¾™å¥—çš„èº«ä»½å‡ºåœºçš„å·¥å…·äººï¼Œæ‰€ä»¥æƒ³è®©ä»–ä»¬è¿åˆå‰§æƒ…ï¼Œè¿åˆä¸»è§’ä»¬æ˜¯ç›¸å½“ç®€å•çš„ã€‚ä½†å®é™…ä¸Šè¿™äº›å¯¹å®è§‚æ”¿ç­–åŠå…¶ç»“æœçš„æå†™å¹¶æ²¡æœ‰è¢«åˆ»æ„å¿½ç•¥ï¼Œè€Œæ˜¯è¢«ä½œè€…ç”¨ä¸€ç§é›„æµ‘çš„å™äº‹å²è¯—ä¸€æ ·çš„æ‰‹æ³•æ¯«æ— ä¿ç•™åœ°å±•ç°äº†å‡ºæ¥ï¼Œå¹³æ·»äº†ä¸€ç§è‹å‡‰ä¸å£®é˜”ä¹‹æ„Ÿã€‚å¦‚æœè¯´å¯¹ä¸»è§’å›¢çš„è·Ÿè¸ªæå†™æ˜¯ç”¨é’¢ç¬”ç»†æï¼Œé‚£å¯¹è¿™ç§å¤§èƒŒæ™¯ä¸å¤§å†³ç­–çš„æå†™åˆ™æ›´åƒæ˜¯åœ¨å®£çº¸ä¸ŠæŒ¥åŠ¨çš„æ¯›ç¬”çš„ç¬”è§¦ï¼Œå°±é‚£ä¹ˆç²—çº¿æ¡åœ°å‹¾å‹’ç€ï¼Œæ•£å¼€ç€ï¼Œæ˜æ˜å¹¶æ²¡æœ‰è¿‡å¤šç»†èŠ‚ï¼Œå´åˆå¥½åƒèƒ½ä»ä¸­çœ‹å‡ºä¸€ä¸ªä¸ªå°äººç‰©çš„æ•…äº‹ï¼Œçœ‹åˆ°ä»–ä»¬çš„å¸Œæœ›ä¸ç»æœ›ï¼Œçœ‹åˆ°â€œæ”¿ç­–â€è¿™é¢æ¯›ç»ç’ƒä¸‹çš„ç‚¹ç‚¹æ®·çº¢ã€‚ç›åˆ©äºšå¢™é™·è½åçš„å‘ç½—æ–¯å¢™å†…çš„å¤§ç§»æ°‘ï¼Œä»¥åŠç§»æ°‘åçš„é¥¥è’ï¼Œå†åˆ°ä¸ºäº†ç¼“è§£å†…éƒ¨çŸ›ç›¾è€Œå°†äººå£çš„ä¸¤æˆæ´¾é£åˆ°å¢™å¤–â€œå¤ºå›å¤±åœ°â€çš„éš¾æ°‘å¤§å†›ï¼›ä¸ºäº†æ•è·å¥³å‹å·¨äººè€Œåœ¨å¸Œå¨œåŸå¢™å†…çš„åŸä¸­å±•å¼€çš„å¤§è§„æ¨¡ç ´åæ€§ä½œæˆ˜è¡ŒåŠ¨ï¼›ä¸ºäº†å¼•è¯±ç½—å¾·Â·é›·ä¼Šæ–¯è€Œè¢«å½“åšè¯±é¥µçš„å±åŸå±…æ°‘ï¼Œä»–ä»¬éƒ½ç”¨è‡ªå·±çš„é²œè¡€ä¹¦å†™äº†è¿™éƒ¨å²è¯—è¡€çº¢çš„ä¸€è¡Œã€‚</p>
<p>é™¤å»é«˜å±‚çš„å†³ç­–ï¼Œè¢«é«˜å¢™ä¿æŠ¤ç€çš„åº•å±‚çš„ä¸€ä¸ªä¸ªå°äººç‰©ä¹Ÿæ˜¯ç€å®å€¼å¾—ç©å‘³ä¸€ç•ªçš„ã€‚â€œå°äººç‰©â€ä»¬å„è‡ªçš„ç”Ÿå­˜æ–¹å¼ï¼Œå„è‡ªçš„è¿½æ±‚ï¼Œå„è‡ªé¢å¯¹äººç”Ÿçš„æ€åº¦ï¼Œå„è‡ªå¯¹å­˜åœ¨æ„ä¹‰çš„è§£è¯»ï¼Œå„è‡ªèµ°è¿‡çš„è·¯ï¼Œä¸å„è‡ªåˆ°è¾¾çš„ç»ˆç‚¹ï¼Œéƒ½æ˜¯é‚£ä¹ˆçš„ä¸°æ»¡ï¼Œé‚£ä¹ˆçš„ç¼¤çº·ã€‚é™é™åœ°è†å¬è¿™äº›äººçš„æ•…äº‹åƒæ˜¯åœ¨å¬ä¸€é¦–ç»‡ä½“ç»µè–„çš„å•è°ƒæ—‹å¾‹ï¼Œå¯èƒ½æŸä¸ªç‰¹å®šçš„å°äººç‰©ç»ˆå…¶ä¸€ç”Ÿä¹Ÿä¸è¿‡æ˜¯åœ¨æ¡Œå­æ—è½¬æ¥è½¬å»ç»™å®¢äººå€’é…’æ·»èœï¼Œè¿™ç§ç”Ÿæ´»ä¼¼ä¹æ˜¯å•è°ƒè‡³æçš„ï¼Œä½†æ­£æ˜¯è¿™äº›å•è°ƒå´ç¨³å®šçš„æ—‹å¾‹äº¤ç»‡åœ¨ä¸€èµ·ï¼Œå…±åŒè°±å‡ºäº†ä¼Ÿå¤§æ—¶ä»£æ’¼åŠ¨äººå¿ƒçš„äº¤å“ã€‚</p>
<p>è‰¾ä¼¦çš„å¦ˆå¦ˆå©šå‰æ— ç–‘æ˜¯ä¸€ä¸ªå¹³å‡¡åˆ°å¹³åº¸çš„å¥³æœåŠ¡ç”Ÿï¼Œå©šåä¹Ÿä¸è¿‡æ˜¯å˜è°ƒæˆäº†ä¸€æ”¯å¹¶ä¸èµ·çœ¼çš„å®¶åº­å¦‡å¥³ï¼Œä½†æ­£æ˜¯å¥¹ç»™äº†è‰¾ä¼¦å‰è¿›çš„æ˜ç¡®åˆ°å¿ƒç—›çš„ç›®æ ‡ï¼›å½“è‰¾ä¼¦ç»å†ä¸€ç³»åˆ—æŒ«æŠ˜ï¼Œç›´æŠµå´©æºƒè¾¹ç¼˜ï¼Œç”šè‡³å¼€å§‹æ€€ç–‘è‡ªå·±å­˜åœ¨çš„æ„ä¹‰æ—¶ï¼ŒåŸºæ–¯æ•™å®˜è½¬è¿°äºå…¶æ¯äº²çš„â€œä½ å­˜åœ¨å³æ˜¯ä»·å€¼â€çš„ä¸€æ®µå¯¹è¯å¯è°“æ˜¯ç»™äº†è‰¾ä¼¦æœ€åçš„ä¸€ä¸ªé˜µåœ°ã€‚â€œä¸æ˜¯ç‰¹åˆ«çš„å°±ä¸è¡Œå—ï¼Œä¸è¢«ä»–äººæ‰€æ‰¿è®¤å°±ä¸è¡Œå—ï¼Ÿæˆ‘å¹¶ä¸è¿™æ ·è®¤ä¸ºï¼Œè‡³å°‘æˆ‘è®¤ä¸ºè¿™å­©å­......å°±ç®—æ²¡æ³•æˆä¸ºä¼Ÿå¤§çš„äººï¼Œæ²¡æ³•æ¯”åˆ«äººæ›´ä¼˜ç§€ä¹Ÿæ²¡å…³ç³»ã€‚å› ä¸ºä½ çœ‹ï¼Œä»–å¤šå¯çˆ±ï¼Œæ¯•ç«Ÿè¿™å­©å­é™ç”Ÿåˆ°äº†è¿™ä¸ªä¸–ç•Œï¼Œæ‰€ä»¥ä»–å·²ç»å¾ˆä¼Ÿå¤§äº†ã€‚â€è¿™æ®µè‡ªå…¶ç”Ÿå‘½ä¼Šå§‹ä¹‹æ—¶æ¯äº²çš„è§‚ç‚¹å¯è°“æ˜¯è®©äººæ„Ÿè§‰å¦‚æ²æ¸…é£ã€‚åœ¨å…¶æ¯äº²çœ‹æ¥ï¼Œè‡ªå·±å¹¶ä¸æœŸå¾…è‰¾ä¼¦â€œæˆåŠŸâ€ï¼Œå…¶å­˜åœ¨æœ¬èº«å·²ç»å¸¦æ¥è¶³å¤Ÿçš„æ„ä¹‰äº†ã€‚</p>
<p>å…¶æ¯å¡éœ²æ‹‰æ— ç–‘æ˜¯ä¸€ä¸ªè¾¾è§‚çš„æ™®é€šäººã€‚è™½ç„¶ä½œå“æœ€åˆå¡éœ²æ‹‰ä¸æ„¿è®©è‰¾ä¼¦å¤ªæ·±ç©¶â€œå¢™å¤–çš„ä¸–ç•Œâ€ï¼Œæ›´ä¸æ„¿è®©å…¶ç«‹å¿—åŠ å…¥è°ƒæŸ¥å…µå›¢æ˜¯æœ‰ç‚¹è®©æˆ‘åæ„Ÿçš„ï¼Œæ¯•ç«Ÿï¼Œåœ¨å†…å¿ƒæ·±å¤„ï¼Œè°ä¸æƒ³æ¢ç´¢ä¸‹æœªçŸ¥çš„é¢†åŸŸï¼Œåˆæœ‰è°ä¸æƒ³æˆä¸ºâ€œå¤©é€‰ä¹‹å­â€å‘¢ï¼Ÿä½†çœ‹äº†ã€Šæ—è§‚è€…ã€‹ä¸€è¯ä¸­åŸºæ–¯æ•™å®˜æ›¾ç»çš„æ•…äº‹åï¼Œæˆ‘å¼€å§‹é‡æ–°å®¡è§†å…¶æ¯äº²è¿™ä¸ªè§’è‰²äº†ã€‚åŸºæ–¯æ•™å®˜æ˜¯ä¸Šä¸€ä»£çš„å›¢é•¿ï¼Œä»–å¯ä»¥è¯´æ˜¯ä¸€ä¸ªç°ä»£å¸¸è¯´çš„â€œå¥‹æ–—å®¶â€çš„å…¸å‹ã€‚ä»–æ›¾æ˜¯ä¸€ä¸ªæ€€æœ‰è¿‘ä¹äºä¸­äºŒçš„ç†æƒ³å’Œå¥½å¥‡å¿ƒçš„æˆå¹´äººï¼Œæ›¾è¢«ä»æ˜¯é…’å§ä¾å¥³çš„å¡éœ²æ‹‰è¯´æŠ±ç€ä¸åˆ‡å®é™…çš„ç†æƒ³ï¼Œä½†ä¹Ÿæ›¾è¢«è‰¾ä¼¦çˆ¶äº²æ ¼é‡Œæ²™ç§°ä¸ºâ€œé¸ã°ã‚Œã—ã‚‚ã®â€å¤©é€‰ä¹‹äººã€‚ä»–ä¸€è·¯åŠªåŠ›å¥‹æ–—ï¼Œå¹¶æœ€ç»ˆå‡ä»»åˆ°äº†è°ƒæŸ¥å…µå›¢å›¢é•¿ï¼Œå¯ä»–å´ä»æ²¡æœ‰çœŸæ­£åœ°èƒœåˆ©è¿‡ã€‚ä»–åœ¨è¿”åŸæ—¶äººä»¬å¾®å¦™çš„ç›®å…‰ä¸­æ…¢æ…¢çœ‹æ¸…è‡ªå·±ï¼Œæ„è¯†åˆ°è‡ªå·±çš„å¹³å‡¡ï¼Œå¹¶æœ€ç»ˆç—›è‹¦åœ°å›å½’åˆ°è‡ªå·±åº”æœ‰çš„ä½ç½®ã€‚ä»–ä¼¼ä¹çœŸçš„ååˆ†ä¸å—å‘½è¿çœ·é¡¾ï¼Œèº«è¾¹æ»¡æ˜¯ç‰¹åˆ«ä¹‹äººï¼šæ ¼é‡Œæ²™ï¼ŒåŸƒå°”æ–‡ï¼Œä»¥åŠåé¢ä»–å½“æ•™å®˜æ—¶å€™çš„104æœŸä¸€ä¼—ç¥ä»™å­¦å‘˜ã€‚ä»–è¯•å›¾å»¶ç»­å¡éœ²æ‹‰çš„é—å¿—ï¼Œè®©è‰¾ä¼¦æˆä¸ºä¸€ä¸ªå¹³å‡¡ä½†èƒ½æ‚¦çº³è‡ªå·±çš„äººï¼Œä»–åŠè¯´å…¶çˆ¶ï¼Œä»–è¯•å›¾é˜»æ­¢è‰¾ä¼¦æˆä¸ºå£«å…µï¼Œæ€æ–™è‰¾ä¼¦å´åˆæ­£æ˜¯æœ€ç‰¹æ®Šçš„äººã€‚</p>
<p>å¡éœ²æ‹‰å¯ä»¥è¯´æ˜¯ä¸€ä¸ªå®Œå…¨æ¥å—äº†è‡ªå·±å¹³å‡¡çš„æ™®é€šäººï¼Œæˆ‘ä»¬å¯ä»¥è¯´å¥¹å·²ç»æ”¾å¼ƒäº†æŒ£æ‰ï¼Œä¸æ€è¿›å–ï¼Œç”šè‡³æ˜¯æ··åƒç­‰æ­»ï¼Œå¹¶ç»™è‡ªå·±æ‰¾äº†ä¸€ä¸²çœ‹ä¼¼åˆç†çš„è¯¡è¾©ä¼¼çš„å­˜åœ¨ä¸»ä¹‰çš„ç†ç”±ã€‚ä½†è¿™éš¾é“ä¸æ˜¯ä¸€ç§åˆç†çš„ç”Ÿæ´»æ€åº¦å—ï¼Ÿè¯´åˆ°åº•æ‰€è°“çš„â€œè¿›å–å¿ƒâ€ç©¶ç«Ÿåˆæ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿæƒ³å¾—åˆ°æ¯”ç°åœ¨æ›´å¥½çš„ï¼Œæƒ³è·å¾—é…å¾—ä¸Šè‡ªå·±å¿ƒä¸­é¢„è®¾ä½ç½®çš„ï¼Œæƒ³æ‹¿åˆ°æ›´å¤šã€æ›´ä¼˜è´¨çš„èµ„æºï¼Œæƒ³åšå‡ºä¸€ç•ªäº‹ä¸šï¼Œæƒ³æƒ åŠè‡ªå·±å®¶æ—åä»£ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯èƒ½åªæ˜¯æƒ³æ»¡è¶³å¿ƒä¸­é‚£ä»½åˆå§‹çš„å¥½å¥‡å¿ƒã€‚ä½†è¿™ä¸€åˆ‡å¯¹äºä¸€ä¸ªæ™®é€šäººæ¥è®²å¹¶ä¸æ€»æ˜¯è‡ªç„¶è€Œç„¶çš„ï¼Œè¿½é€æ¢¦æƒ³æ˜¯æœ‰ä»£ä»·çš„ï¼Œè€Œä¸”æ ¹æ®æ—¶ä»£å’Œå¤§ç¯å¢ƒçš„ä¸åŒè¿˜å¾ˆæœ‰å¯èƒ½è¡€æœ¬æ— å½’ã€‚æˆ‘ä»¬ç”Ÿæ´»åœ¨ä¸­å›½ï¼Œåˆç¢°ä¸Šäº†ä¸€é•¿ä¸²çš„å¶ç„¶å’Œæœºé‡ï¼Œæœ€ç»ˆæˆ‘ä»¬å‘ç°ï¼Œä¼¼ä¹å‰é¢å¤§æœ‰å¯ä¸ºï¼Œåº”å½“æä¸€æï¼Œè®©å•è½¦å˜æ‘©æ‰˜ã€‚ä½†åŒæ—¶ï¼Œå¹¶éåœ¨æ‰€æœ‰å›½å®¶ï¼Œå¹¶éæ‰€æœ‰äººéƒ½æœ‰è¿™æ ·çš„ç¯å¢ƒå’Œæœºé‡ï¼Œå°Šé‡å½¼æ­¤çš„ç”Ÿæ´»æ€åº¦ä¹Ÿè®¸æ˜¯å¯¹äººåŸºæœ¬çš„å°Šé‡ã€‚æ¯•ç«Ÿï¼Œä½ æ²¡æœ‰ä½“ä¼šè¿‡åˆ«äººçš„äººç”Ÿã€‚åŸºæ–¯ä¼¼çš„æ‹¼æå®¶å®é™…å’Œæˆ‘ä»¬å½“ä¸‹çš„æ€åº¦å¾ˆæ˜¯ç›¸ä¼¼ï¼Œæˆ‘ä¹Ÿå¯¹ä»–å¾ˆæœ‰å¥½æ„Ÿã€‚ç„¶è€Œå…¶åœ¨å‰§ä¸­å¯ä»¥è¯´æ˜¯ä¸€ä¸ªæ‚²æ‚¯çš„è§’è‰²ã€‚åŠªåŠ›è¿‡åï¼Œè¢«ç°å®ç³Šäº†ä¸€è„¸ï¼Œæœ€ç»ˆâ€œè®¤æ¸…â€äº†è‡ªå·±ã€‚å“ˆå“ˆã€‚æˆ‘è§‰å¾—â€œè®¤æ¸…â€ä¸€è¯åœ¨æŸç§ç¨‹åº¦ä¸Šå…¶å®å’Œâ€œæ”¾å¼ƒæŒ£æ‰â€åŒä¹‰ã€‚å¦‚æœä»–èº«è¾¹æ²¡æœ‰è¿™ä¹ˆå¤šå¤§ä½¬ï¼Œå¦‚æœä»–æ—©ç”ŸäºŒåå¹´ï¼Œä»–è¿˜ä¼šä¸ä¼šæœ€ç»ˆâ€œè®¤æ¸…â€è‡ªå·±å‘¢ï¼Ÿå½“ç„¶ï¼Œè¿˜æœ‰åƒæ±‰å°¼æ–¯å¤§å”è¿™æ ·çš„â€œå½»åº•æ¥å—è‡ªå·±çš„å¹³åº¸ï¼Œä½†åœ¨å…³é”®æ—¶åˆ»åˆä¼šæŒºèº«è€Œå‡ºâ€çš„è§’è‰²ã€‚ä»–æ¥å—ç”šè‡³äº«å—â€œå®¶ç•œçš„å®‰å®â€ï¼Œéšå’Œå¾€æ¥ï¼Œä¸æ€è¿›å–ï¼Œé¢å¯¹å·¨å¤§çš„å›°éš¾æ—¶ä¼šæ€‚ä¼šæºœï¼Œä½†ä¹Ÿæœ‰å‹‡æ•¢çš„ç«™å‡ºæ¥â€œå†²ä¸€æŠŠâ€ä¸ºå¡éœ²æ‹‰å¤ä»‡ã€æ­æ•‘è‰¾ä¼¦çš„å‹‡æ°”ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿˜æœ‰åƒå…‹é‡Œæ–¯å¡”è¿™æ ·æ•¢äºå®Œæˆè‡ªæˆ‘èœ•å˜ï¼Œä»æ¶ˆæå¦å®šè‡ªæˆ‘åˆ°æ‚¦çº³è‡ªæˆ‘ã€å°Šé‡è‡ªæˆ‘ï¼Œå¹¶å°†å…¶åšçˆ±æ–½äºä¼—äººçš„â€œç‰§åœºå¥³ç‹â€ï¼›æœ‰å°¤å¼¥å°”è¿™ç§è¢«å…‹é‡Œæ–¯å¡”æ•‘èµï¼Œå¹¶ç”¨å°½å…¨åŠ›å»çˆ±æŠ¤å¥¹çš„â€œéšè—çš„å·¨äººâ€ï¼›æœ‰å…³é”®æ—¶åˆ»æ•¢äºæ‹…å½“ã€æœ‰ç€è‡ªå·±ç‹¬ç«‹è§è§£çš„â€œäººç±»æœ€é«˜é¢†è¢–â€è¨å…‹é›·ï¼›æœ‰çœ‹ä¼¼å†·è¡€æˆ˜ç¥ï¼Œå®åˆ™æˆé•¿è‡ªä¸€ä¸ªæœ‰ç€ç°è‰²ç«¥å¹´ã€ç”±æ€æ‰‹å¸¦å¤§çš„å­¤åƒ»å°å­©çš„å…µé•¿åˆ©å¨å°”Â·é˜¿å…‹æ›¼......æ¯ä¸€ä¸ªäººçš„æ•…äº‹éƒ½å€¼å¾—å¤§ä¹¦ç‰¹ä¹¦ï¼Œä»–ä»¬éƒ½æ˜¯ä¸€ä¸ªä¸ªæœ‰ç€è‡ªå·±çš„æˆé•¿è½¨è¿¹å’Œä¸ä¹‹ç›¸ç¬¦çš„ä¸–ç•Œè§‚ã€æœ‰ç€è‡ªå·±ç‹¬ç‰¹æ€è€ƒå›è·¯çš„ç²¾å½©è€Œç”ŸåŠ¨çš„äººã€‚</p>
<p>å½“ç„¶ï¼Œä½œä¸ºä¸€éƒ¨è¢«ç¦æ’­çš„ç•ªå‰§ï¼Œåˆ†æå…¶è¢«ç¦æ’­çš„ç†ç”±ä¹Ÿæ˜¯ä»¤äººé¥¶æœ‰å…´å‘³çš„ã€‚å¹¿ç”µæ€»å±€æ–¥å…¶æš´åŠ›è¡€è…¥ï¼›çŸ¥ä¹ä¸Šæœ‰äººè¯´è¿™æ˜¯å› ä¸ºè¯¥ä½œä¸­æœ‰ç€ä¸€ç§â€œä¸ºäº†å®Œæˆä¼Ÿå¤§ç›®æ ‡ï¼Œä¸æƒœæ¨ç¿»ç‹æ”¿â€çš„ä»·å€¼è§‚ï¼Œè¿™æ˜¯æˆ‘å›½æ”¿åºœä¸æ„¿æ„çœ‹åˆ°çš„ï¼›ä¹Ÿæœ‰äººæåˆ°è¯¥ä½œæœ‰å³ç¿¼æ€æƒ³å€¾å‘çš„å«Œç–‘ï¼Œè¯•å›¾ç¾åŒ–æˆ˜äº‰ï¼›å½“ç„¶ï¼Œä¹Ÿæœ‰äººæŒ‡å‡ºè¿™æ˜¯ä¸€éƒ¨é’å¹´æ¼«ï¼Œå’Œä¼ ç»Ÿä¸Šä¸­å›½äººå€¾å‘è®¤ä¸ºçš„â€œåŠ¨æ¼«æœåŠ¡äºå„¿ç«¥â€çš„æ€æƒ³ç›¸æ‚–......ä¼—è¯´çº·çº­ã€‚å…¶å®ï¼Œæˆ‘è§‰å¾—å•çº¯çš„å»æŒ‡è´£å¹¿ç”µæ€»å±€çš„è¡Œä¸ºå’Œç›´æ¥å°æ€è¿™ä¸ªæˆ‘ä»¬è¯•å›¾æ‰¹åˆ¤çš„è¡Œä¸ºæ˜¯æå…¶ç±»ä¼¼çš„ï¼Œè€Œç©¶å…¶ç†ç”±åˆ™æ‰æ˜¯æˆ‘ä»¬åº”è¯¥åšçš„ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œä¸Šé¢çš„è¿™äº›ç†ç”±ï¼Œæˆ–å¤šæˆ–å°‘éƒ½ä¸ºè¿™æŠŠç«çš„åˆ°æ¥æ·»äº†äº›è®¸æŸ´è‰ï¼Œæ¯•ç«Ÿï¼Œå®ƒä»¬éƒ½æ˜¯æœ‰é“ç†çš„ã€‚å¦å¤–æˆ‘è§‰å¾—æœ‰ä¸€ç‚¹å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä½œå“ä¸­åæ˜ å‡ºæ¥çš„ä»·å€¼è§‚å’Œæˆ‘ä»¬å½“å‰çš„ç°ä»£ç¤¾ä¼šçš„ä¸»æµä»·å€¼è§‚æ— æ³•å’¬åˆã€‚å‰§ä¸­æå†™çš„æ˜¯ä¸€ä¸ªé¢ä¸´ç€æ¥è‡ªå¤–éƒ¨çš„æå¤§ææƒ§å’Œå¨èƒçš„ç¤¾ä¼šï¼Œæ˜¯ä¸€ä¸ªâ€œå‰¥å¤ºæˆ–è¢«å‰¥å¤ºâ€çš„ç¤¾ä¼šï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¤§ç¨‹åº¦ä¸Šåªèƒ½æ¶ˆæé¿æˆ˜ï¼Œè‹Ÿä¸”å·ç”Ÿçš„ç¤¾ä¼šï¼›æ˜¯ä¸€ä¸ªå¼ºè°ƒâ€œè‹¥æƒ³æœ‰æ‰€å¾—ï¼Œå¿…å…ˆæœ‰å£®å£«æ–­è…•è§‰æ‚Ÿâ€çš„ç¤¾ä¼šã€‚è¿™ä¸æ˜¯æˆ‘ä»¬é¢å‰çš„ç¤¾ä¼šã€‚ä¸€äº›ç±»ä¼¼çš„è¢«å°ç¦çš„åŠ¨æ¼«åœ¨æˆ‘çœ‹æ¥ä¹Ÿå­˜åœ¨ç±»ä¼¼çš„é—®é¢˜ï¼šå¦‚æœå—ä¼—æœ¬èº«èƒ½å¤Ÿå¯¹å…¶ç²¾ç¥è¿›è¡Œæ€è¾¨ï¼Œé‚£è¿™è‡ªç„¶æ˜¯ä¸€éƒ¨å€¼å¾—å¹çˆ†çš„ä¸Šä¸Šä¹‹ä½œï¼›ä½†å¦‚æœå—ä¼—å¹¶éå¦‚æ­¤ï¼Œç”šè‡³æ˜¯ä¸€äº›åˆ¤æ–­èƒ½åŠ›å’Œæ€è€ƒèƒ½åŠ›ç›¸å¯¹è¾ƒå¼±çš„å°å­¦ç”Ÿã€ä¸­å­¦ç”Ÿï¼Œé‚£ä»–ä»¬ä¼šä¸ä¼šå°†å‰§ä¸­çš„ä¸€äº›å’Œç°å®ç”Ÿæ´»å¹¶ä¸æ¥è½¨çš„ä»·å€¼è§‚ç›´æ¥æ‹¿æ¥å¥—ç”¨ï¼Œè¿™ä¹Ÿè®¸çœŸçš„æ˜¯ä¸€ä¸ªå€¼å¾—è­¦æƒ•çš„é—®é¢˜ã€‚</p>
<p>æ•…äº‹ä»åœ¨ç»§ç»­ï¼Œæ­£å¦‚å†å²çš„è½¦è½®æ»šæ»šå‘å‰ã€‚</p>
]]></content>
      <tags>
        <tag>anime-review</tag>
        <tag>anime</tag>
      </tags>
  </entry>
  <entry>
    <title>Face Recognition, Landmark and Relevant Other Feature Extraction</title>
    <url>/2020/03/06/face-features/</url>
    <content><![CDATA[<h2 id="some-facts">Some Facts</h2>
<ol type="1">
<li>The output of face detector is not always the same, it can be a square, a rectangle, or an oval bounding box.</li>
<li>Most of the landmark detectors need to take in an square bounding box for the detection.</li>
<li>Although the bounding box shape is different, they roughly have the same shape center. For the square and rectangle, they have the same bounding box center, and the edge length of the square box is roughly the same as the mean value of the two edge lengths of the rectangle. Here is a sample.</li>
</ol>
<span id="more"></span>
<figure>
<img src="/2020/03/06/face-features/A48432AC-5A9B-48D6-A502-0777810A592A.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<blockquote>
<p>White: Dlib Result</p>
<p>Green: RetinaFace Result</p>
<p>Red: RetinaFace Transferred Result (Same center, length=(width+height)/2)</p>
</blockquote>
<ol start="4" type="1">
<li>Many face detection and alignment models has an absolute detectable face size range in pixel. If the input image contains a face too big, some network cannot generate correct face bounding box or landmark, like RetinaFace, SFD, Hrnet. On the other hand, if the input image contains faces too small(also in absolute pixel), other network like MTCNN and other traditional method will fail.</li>
</ol>
<h2 id="libraries-and-papers">Libraries and Papers</h2>
<h3 id="face-detection">Face Detection</h3>
<h4 id="datasets">Datasets</h4>
<table>
<colgroup>
<col style="width: 7%">
<col style="width: 46%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Site</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Wider Face</td>
<td><a href="http://shuoyang1213.me/WIDERFACE/">Link</a></td>
<td><strong>32,203</strong> images, <strong>393,703</strong> faces labeled with a high degree of variability in scale, pose and occlusion</td>
</tr>
<tr class="even">
<td>FFDB</td>
<td><a href="http://vis-www.cs.umass.edu/fddb/">Link</a></td>
<td><strong>5171</strong> faces, in which <strong>2845</strong> images from the <a href="http://tamaraberg.com/faceDataset/index.html">Faces in the Wild</a> data set</td>
</tr>
<tr class="odd">
<td>AFLW</td>
<td><a href="https://www.tugraz.at/institute/icg/research/team-bischof/lrs/downloads/aflw/">Link</a></td>
<td><strong>25k faces</strong> are annotated with up to <strong>21 landmarks</strong> per image</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="researches">Researches</h4>
<table>
<colgroup>
<col style="width: 21%">
<col style="width: 16%">
<col style="width: 21%">
<col style="width: 1%">
<col style="width: 17%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Paper</th>
<th>Code</th>
<th>Year</th>
<th>Accuracy</th>
<th>Pre-trained Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://www.paperswithcode.com/paper/190500641">RetinaFace</a></td>
<td><a href="https://arxiv.org/pdf/1905.00641v2.pdf">Link</a></td>
<td><a href="https://github.com/deepinsight/insightface">Original</a><br><a href="https://github.com/biubug6/Pytorch_Retinaface">Pytorch</a></td>
<td>2019</td>
<td>Wider Face (Hard): 0.914</td>
<td>104M(Resnet)<br><a href="https://drive.google.com/drive/folders/1oZRSG0ZegbVkVwUd8wUIQx8W7yfZ_ki1">2M(MobileNet0.25)</a></td>
</tr>
<tr class="even">
<td><a href="https://www.paperswithcode.com/paper/dsfd-dual-shot-face-detector">DFSD</a></td>
<td><a href="https://arxiv.org/pdf/1810.10220v3.pdf">Link</a></td>
<td><a href="https://github.com/TencentYoutuResearch/FaceDetection-DSFD">Link</a></td>
<td>2018</td>
<td>FDDB: 0.991<br>Wider Face: 0.960, 0.953, 0.900</td>
<td><a href="https://drive.google.com/file/d/1WeXlNYsM6dMP3xQQELI-4gxhwKUQxc3-/view">459MB</a></td>
</tr>
<tr class="odd">
<td><a href="SFD/S3FD">SFD/S3FD</a></td>
<td><a href="https://arxiv.org/pdf/1708.05237.pdf">Link</a></td>
<td><a href="https://github.com/sfzhang15/SFD">Original</a><br><a href="https://github.com/yxlijun/S3FD.pytorch">Pytorch</a></td>
<td>2017</td>
<td>FDDB: 0.983<br>Wider Face: 0.928, 0.913, 0.840</td>
<td><a href="https://pan.baidu.com/s/1epyTAUc6qSt3oZ7veK4oEw">85.7M</a></td>
</tr>
<tr class="even">
<td><a href="https://www.paperswithcode.com/paper/joint-face-detection-and-alignment-using">MTCNN</a></td>
<td><a href="https://arxiv.org/abs/1604.02878">Link</a></td>
<td><a href="https://github.com/kuaikuaikim/DFace">Original</a><br><a href="https://github.com/ipazc/mtcnn">Pip Version</a></td>
<td>2016</td>
<td>Wider Face: 0.851, 0.820, 0.607</td>
<td><a href="https://github.com/ipazc/mtcnn/blob/master/mtcnn/data/mtcnn_weights.npy">2.85M</a></td>
</tr>
</tbody>
</table>
<h5 id="retinaface-pros-cons">RetinaFace Pros &amp; Cons:</h5>
<p>RetinaFace can generate an accurate rectangle face bounding box together with a 5-points facial landmark. It supports two backbone kernels: Resnet and MobileNet. The first one is more accurate but relatively slow, the MobileNet version is fast and really small.</p>
<p>RetinaFace focus more on the detection of the relatively small faces, and it can do a good(best) job on wider face dataset hard level. However, when the input is an image contain a really large face(About ${short_face_edge}&gt;700pixel $ ), RetinaFace tend to fail. Since there is also other people asking the same question on the issue of its GitHub page, I tend to think this is a design defects of RetinaFace.</p>
<p>Since the game streamers' face videos can be relatively large, I think this may become a fatal drawback. There are three possible solutions:</p>
<ol type="1">
<li>Scale the input image to make sure the largest face short edge is smaller than 700, recommend around 500.</li>
<li>Wait for the author to change or change the pyramid weights parameters. This is delicate and success is not guaranteed.</li>
</ol>
<p><img src="/2020/03/06/face-features/image-20200306140736438.png" alt="image-20200306140736438" style="zoom:50%;"></p>
<h5 id="other-models">Other Models</h5>
<p>DFSD can behave well on both easy, medium and hard level of Wider Face dataset. The only drawback is that it is much too large and slow. Not to mention real-time, it is even too heavy for GPU prediction when the input is a video and we also need to predict other features.</p>
<p>SFD has the similar problem as RetinaFace. It will also fail at big face cases.</p>
<p>MTCNN is just really small and easy to use. It is wrapped finely into a pip package and we can use one line to do face detection here. It behaves much worse in small faces, but better when the input face is big compared to other method. In fact, MTCNN might be a good choice for our project, since it is friendly to big face and fast enough.</p>
<h4 id="wrapped-libraries">Wrapped Libraries</h4>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Site</th>
<th>Year</th>
<th>Language</th>
<th>Pip (Name)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Dlib</td>
<td><a href="http://dlib.net/">Link</a></td>
<td>2006-&gt;now</td>
<td>C++ &amp; Python</td>
<td>âˆš dlib</td>
</tr>
<tr class="even">
<td>OpenFace V1</td>
<td><a href="http://cmusatyalab.github.io/openface/">Home Page</a><br><a href="https://github.com/cmusatyalab/openface">GitHub</a></td>
<td>2016</td>
<td>Python &amp; Lua</td>
<td>Ã— conda</td>
</tr>
<tr class="odd">
<td>OpenFace V2</td>
<td><a href="https://github.com/TadasBaltrusaitis/OpenFace">Link</a></td>
<td>2018</td>
<td>C++</td>
<td>Ã— compile locally</td>
</tr>
<tr class="even">
<td>facenet-pytorch</td>
<td><a href="https://pypi.org/project/facenet-pytorch/">Link</a></td>
<td>2017</td>
<td>Python(PT)</td>
<td>âˆš facenet-pytorch</td>
</tr>
<tr class="odd">
<td>MTCNN</td>
<td><a href="https://pypi.org/project/mtcnn/">Link</a></td>
<td>2016</td>
<td>Python(TF)</td>
<td>âˆš mtcnn</td>
</tr>
</tbody>
</table>
<h5 id="comment">Comment</h5>
<ol type="1">
<li>OpenFace V1 uses face detection model from dlib and OpenCV.</li>
<li>OpenFace V2 also used MTCNN as core face detector.</li>
</ol>
<h3 id="face-landmark">Face Landmark</h3>
<h4 id="datasets-1">Datasets</h4>
<table>
<colgroup>
<col style="width: 4%">
<col style="width: 44%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Site</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>300-W</td>
<td><a href="https://ibug.doc.ic.ac.uk/resources/300-W/">Link</a></td>
<td>68 points. Bounding boxes calculated by the boundary of all <strong>68</strong> points.</td>
</tr>
<tr class="even">
<td>WFLW</td>
<td><a href="https://wywu.github.io/projects/LAB/WFLW.html">Link</a></td>
<td>Wider Facial Landmarks in-the-wild (WFLW) contains <strong>10000</strong> faces (7500 for training and 2500 for testing) with <strong>98</strong> fully manual annotated landmarks. Rich attribute annotations included, i.e., occlusion, pose, make-up, illumination, blur and expression.</td>
</tr>
<tr class="odd">
<td>COFW</td>
<td><a href="http://www.vision.caltech.edu/xpburgos/ICCV13/">Link</a></td>
<td>All images were hand annotated using the same <strong>29</strong> landmarks as in LFPW. Both the landmark positions and their occluded/unoccluded state are annotated. The faces are occluded to different degrees, with large variations in the type of occlusions encountered. COFW has an average occlusion of over <strong>23%</strong>.â€¨To increase the number of training images, and since â€¨COFW has the exact same landmarks as LFPW, for training â€¨we use the original non-augmented 845 LFPW faces + 500 COFW faces (<strong>1345</strong> total), and for testing the remaining <strong>507</strong> COFW faces.</td>
</tr>
<tr class="even">
<td>AFLW</td>
<td><a href="https://www.tugraz.at/institute/icg/research/team-bischof/lrs/downloads/aflw/">Link</a></td>
<td>Annotated Facial Landmarks in the Wild (AFLW) provides a large-scale collection of annotated face images gathered from the web, exhibiting a large variety in appearance (e.g., pose, expression, ethnicity, age, gender) as well as general imaging and environmental conditions. In total about <strong>25k faces</strong> are annotated with up to <strong>21 landmarks</strong> per image.</td>
</tr>
</tbody>
</table>
<h5 id="attention">Attention</h5>
<ol type="1">
<li>The bounding box of 300-W dataset is not human labeled. It is the smallest rectangle which can accurately include every 68 points.</li>
</ol>
<p><img src="/2020/03/06/face-features/figure_4_n_2.png" alt="img" style="zoom:15%;"></p>
<h4 id="researches-1">Researches</h4>
<table>
<colgroup>
<col style="width: 28%">
<col style="width: 28%">
<col style="width: 28%">
<col style="width: 1%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Paper</th>
<th>Code</th>
<th>Year</th>
<th>Accuracy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://www.paperswithcode.com/paper/adaptive-wing-loss-for-robust-face-alignment">AWing</a></td>
<td><a href="https://arxiv.org/pdf/1904.07399v2.pdf">Adaptive Wing Loss for Robust Face Alignment via Heatmap Regression</a></td>
<td><a href="https://github.com/protossw512/AdaptiveWingLoss">Link</a></td>
<td>2019</td>
<td>300-W: 3.07</td>
</tr>
<tr class="even">
<td><a href="https://www.paperswithcode.com/paper/look-at-boundary-a-boundary-aware-face">LAB</a></td>
<td><a href="https://wywu.github.io/projects/LAB/LAB.html">Look at Boundary</a></td>
<td><a href="https://github.com/wywu/LAB">Link</a></td>
<td>2018</td>
<td>300-W: 3.49</td>
</tr>
<tr class="odd">
<td><a href="https://www.paperswithcode.com/paper/style-aggregated-network-for-facial-landmark">SAN</a></td>
<td><a href="https://arxiv.org/pdf/1803.04108v4.pdf">Style Aggregated Network</a></td>
<td><a href="https://github.com/D-X-Y/landmark-detection">Link</a></td>
<td>2018</td>
<td>300W NME: 3.98</td>
</tr>
<tr class="even">
<td>HRNet</td>
<td><a href="https://arxiv.org/abs/1908.07919">Deep High-Resolution Representation Learning</a></td>
<td><a href="https://github.com/HRNet/HRNet-Facial-Landmark-Detection">Link</a></td>
<td>2019</td>
<td>300-W: 3.32</td>
</tr>
<tr class="odd">
<td>FAN</td>
<td><a href="https://arxiv.org/abs/1703.07332">Face Alignment Network</a></td>
<td><a href="https://github.com/1adrianb/face-alignment">Link</a></td>
<td>2017</td>
<td>300-W: Acc(7% threshold)66.9%</td>
</tr>
<tr class="even">
<td><a href="https://www.paperswithcode.com/paper/deep-alignment-network-a-convolutional-neural">DAN-Menpo</a></td>
<td><a href="https://arxiv.org/pdf/1706.01789v2.pdf">Deep Alignment Network</a></td>
<td><a href="https://github.com/MarekKowalski/DeepAlignmentNetwork">Link</a></td>
<td>2017</td>
<td>300-W: 3.44</td>
</tr>
</tbody>
</table>
<p>The accuracy on 300-W is based on <strong>FULLSET (PUBLIC)</strong>.</p>
<h4 id="overview-on-researches">Overview on researches</h4>
<ol type="1">
<li>FAN is the final method I choose now. It cannot only generate 2D but also accurate 3D landmark, which is quite important for us considering the head pose and eye gaze can also be deduced from here.</li>
<li>Although HRNet seems to be good, it will crash completely when the input face is large(About <span class="math inline">\({face\_min\_edge} &gt; 250\)</span>). Not really recommended if no extra operation added. But this can also be fixed by resize before sending to our pipeline, since our target is a single big-face player. When the input face size is limited, the result is quite decent.</li>
</ol>
<h4 id="wrapped-libraries-1">Wrapped Libraries</h4>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Site</th>
<th>Year</th>
<th>Language</th>
<th>Pip (Name)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Dlib</td>
<td><a href="http://dlib.net/">Link</a></td>
<td>2006-&gt;now</td>
<td>C++ &amp; Python</td>
<td>âˆš dlib</td>
</tr>
<tr class="even">
<td>OpenFace V1</td>
<td><a href="http://cmusatyalab.github.io/openface/">Home Page</a><br><a href="https://github.com/cmusatyalab/openface">GitHub</a></td>
<td>2016</td>
<td>Python &amp; Lua</td>
<td>Ã— conda</td>
</tr>
<tr class="odd">
<td>OpenFace V2</td>
<td><a href="https://github.com/TadasBaltrusaitis/OpenFace">Link</a></td>
<td>2018</td>
<td>C++</td>
<td>Ã— compile locally</td>
</tr>
<tr class="even">
<td>face-alignment</td>
<td><a href="https://github.com/1adrianb/face-alignment">Link</a></td>
<td>2017</td>
<td>Python &amp; Lua</td>
<td>âˆš face-alignment</td>
</tr>
</tbody>
</table>
<h3 id="eye-blinking">Eye Blinking</h3>
<h4 id="datasets-2">Datasets</h4>
<table style="width:100%;">
<colgroup>
<col style="width: 19%">
<col style="width: 40%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Site</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Closed Eyes In The Wild (CEW)</td>
<td><a href="http://parnec.nuaa.edu.cn/xtan/data/ClosedEyeDatabases.html">Link</a></td>
<td>2423 subjects, among which 1192 subjects with both eyes closed are collected directly from Internet, and 1231 subjects with eyes open are selected from the Labeled Face in the Wild (LFW [2]) database. Cropped coarse faces resized to the 100Ã—100 and extract eye patches of 24Ã—24 centered at the localized eye position.</td>
</tr>
<tr class="even">
<td>EBV</td>
<td><a href="https://drive.google.com/file/d/1jJTImI-QkmGYFS-0UmE1qvqbwoYOCPnR/view?usp=sharing">Link</a></td>
<td>It contains <strong>11376</strong> video clips, each clip has around <strong>15</strong> image series, whether contains a blink or not. The video fps they use is <strong>30</strong>.</td>
</tr>
<tr class="odd">
<td>Eyeblink8</td>
<td><a href="https://www.blinkingmatters.com/research">Link</a></td>
<td>8 videos with 4 individuals (1 wearing glasses). Videos are recorded in a home environment. 408 eye blinks on 70 992 annotated frames with resolution 640x480.</td>
</tr>
<tr class="even">
<td>MRL</td>
<td><a href="http://mrl.cs.vsb.cz/eyedataset">Link</a></td>
<td>Infrared images in low and high resolution, all captured in various lightning conditions and by different devices. Approximately 15 000 annotation for pupil points (images).</td>
</tr>
<tr class="odd">
<td>RT-BENE</td>
<td><a href="https://zenodo.org/record/3685316#.XmL4pJP0lQI">Link</a></td>
<td>Annotations of the eye-openness of more than 200,000 eye images, including more than 10,000 images where the eyes are closed.</td>
</tr>
</tbody>
</table>
<h4 id="researches-2">Researches</h4>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Paper</th>
<th>Code</th>
<th>Description</th>
<th>Pre-trained Model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>In Ictu Oculi</td>
<td><a href="https://arxiv.org/abs/1806.02877">Link</a></td>
<td><a href="https://github.com/danmohaha/WIFS2018_In_Ictu_Oculi">Link</a></td>
<td>Using Blink to detect Fake Video.</td>
<td><a href="https://drive.google.com/file/d/1OJZ4mvZefwMJ7Knpsf_RFhCsA4xbAOMc/view">429M</a></td>
</tr>
<tr class="even">
<td>RT-GENE &amp; RT-BENE</td>
<td><a href="http://openaccess.thecvf.com/content_ECCV_2018/html/Tobias_Fischer_RT-GENE_Real-Time_Eye_ECCV_2018_paper.html">Link</a></td>
<td><a href="https://github.com/Tobias-Fischer/rt_gene">Link</a></td>
<td>Robust gaze estimation in natural environments.</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="my-update">My Update</h4>
<ol type="1">
<li>Build a new Resnet18-LSTM based eye blink detection network, which reaches 99.8% accuracy on both training and testing set the same as "In Ictu Oculi" paper proposed.</li>
<li>Build a new mixed dataset which has three classes: open, closed, and not-eye. Not-eye class includes hand, cup, microphone, hat, fast food, and bedroom background. They are frequently appearing objects in the gamer's streaming video. In many cases, part of the face are covered by this kind of things, but the face landmark detector can still give a predicted landmark. For example, one's left eye may be shield by a microphone constantly due to the camera angle, but we can still get the useful information from his right eye. So in these cases, the new dataset will be more representative.</li>
<li>All of these new 6-classes images are collected from google image. Total number is <strong>2738</strong>, image number of each class is roughly balanced. I did a manual selecting to make sure the image is usable and representative of that classes. Every collected image will be resized to <strong>48, 64, and 128</strong>(the short edge), and then randomly crop three <strong>(32,32)</strong> images from each resized image. At last, <strong>32855</strong> images are collected.</li>
<li>EBV dataset from the author "In Ictu Oculi" is used as base dataset. It contains <strong>11376</strong> video clips, each clip has around <strong>15</strong> image series, whether contains a blink or not. The video fps they use is <strong>30</strong>. I build the new dataset by inserting 1, 2, or 3 continuous background images into the video clip image folder. The insert position is random, and the proportion of inserting 0,1,2,3 background images is: 40%, 10%, 30%, 20%. The inserted images is also randomly selected continuous images from all generated <strong>32855</strong> images. Training and validation set separation is the same as original dataset.</li>
<li>A new "Robust-Eye-Blink" network is trained based on this new dataset, and after sufficient training, it can reach 99.7% at both train and test dataset.</li>
</ol>
<h3 id="head-pose">Head Pose</h3>
<h4 id="calculation">Calculation</h4>
<p>3D Facial Landmark -&gt; <a href="https://en.wikipedia.org/wiki/Rotation_matrix">Rotation matrix</a> -&gt; <a href="https://en.wikipedia.org/wiki/Euler_angles">Euler angles</a> -&gt; <a href="https://carsexplained.wordpress.com/2017/02/21/fundamentals-of-car-science-pitch-and-roll/">(yaw, pitch, roll)</a></p>
<p><img src="/2020/03/06/face-features/1*U4ZQ8UjzouVMRo2Fgsz7UA.png" alt="yaw pitch roll of head" style="zoom:50%;"></p>
<p>Visualization of yaw, pitch and roll: <a href="http://www.ctralie.com/Teaching/COMPSCI290/Materials/EulerAnglesViz/">Link</a></p>
<p><strong>Euler angles:</strong></p>
<figure>
<img src="/2020/03/06/face-features/300px-Eulerangles.svg.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<h5 id="implementation">Implementation</h5>
<p><img src="/2020/03/06/face-features/image-20200306134751864.png" alt="image-20200306134751864" style="zoom:40%;"></p>
<p>Use the 3D landmark computed, and set the vector from 1 to 17 as the x axis, and 9 to 28 as the y axis, then the z axis is computed by set it perpendicular to both x and y, pointing out of front face.</p>
<p>Now, the head pose detection part has been wrapped into a module, we can get the pose within one line.</p>
<h4 id="code-reference">Code Reference</h4>
<ol type="1">
<li><a href="https://github.com/jerryhouuu/Face-Yaw-Roll-Pitch-from-Pose-Estimation-using-OpenCV">Face-Yaw-Roll-Pitch-from-Pose-Estimation-using-OpenCV</a></li>
<li><a href="https://gist.github.com/crmccreary/1593090">euler_angles_from_rotation_matrix</a></li>
</ol>
<h3 id="emotion">Emotion</h3>
<h4 id="can-facial-expression-really-tell-emotion">Can facial expression really tell emotion</h4>
<h5 id="cons">Cons</h5>
<ol type="1">
<li>Facial expression is not universal, it also depend on culture and education. Like in Asia, people tend to convey more emotion in their eyes, but in western culture, people use their mouth to deliver more information.</li>
<li>Human can easily trick the face expression to emotion system, since what they show is not necessarily what they feel.</li>
<li>One certain facial expression can have multiple possible meanings, and this tend to depend on things near the face, namely the context. Like a soccer player win the game and shouting, without the context, you will judge him as angry or so.</li>
<li>The current facial expression classification method usually classify all of the emotion into several classes, like 6 or 7. But the fact is that each big emotion contain multiple sub-emotions which is more delicate. They can overlap or differ.</li>
<li>After reading 1000 papers, they find there was little to no evidence that people can reliably infer someone elseâ€™s emotional state from a set of facial movements.</li>
</ol>
<h5 id="pros">Pros</h5>
<ol type="1">
<li>It is actually accurate. Affectiva has reached an accuracy of more than 90%.</li>
<li>Most of the culture share the similar facial expression.</li>
</ol>
<h4 id="datasets-3">Datasets</h4>
<table>
<colgroup>
<col style="width: 29%">
<col style="width: 35%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Site</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>FER2013</td>
<td><a href="https://www.kaggle.com/c/challenges-in-representation-learning-facial-expression-recognition-challenge/data">Kaggle Link</a></td>
<td>48x48 pixel grayscale images of faces. (0=Angry, 1=Disgust, 2=Fear, 3=Happy, 4=Sad, 5=Surprise, 6=Neutral). The training set consists of 28,709 examples. The public test set consists of 3,589 examples. The final test set consists of another 3,589 examples.</td>
</tr>
<tr class="even">
<td><a href="https://ieeexplore.ieee.org/document/5543262">CK+</a></td>
<td><a href="http://www.consortium.ri.cmu.edu/ckagree/">Link</a></td>
<td>Posed Facial Expressions: 593 sequences from 123 subjects.</td>
</tr>
</tbody>
</table>
<h4 id="wrapped-libraries-2">Wrapped Libraries</h4>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Site</th>
<th>Year</th>
<th>Language</th>
<th>Pip/Pt model</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Facial-Expression-Recognition</td>
<td><a href="https://github.com/WuJie1010/Facial-Expression-Recognition.Pytorch">Link</a></td>
<td>2018</td>
<td>Python(PT)</td>
<td><a href="https://drive.google.com/file/d/1Oy_9YmpkSKX1Q8jkOhJbz3Mc7qjyISzU/view">76M</a></td>
</tr>
</tbody>
</table>
<h4 id="reference">Reference</h4>
<ol type="1">
<li><a href="https://www.nature.com/articles/d41586-020-00507-5">Why faces donâ€™t always tell the truth about feelings</a></li>
</ol>
<p>By Zhongyang Zhang</p>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>deep-learning</tag>
        <tag>machine-earning</tag>
        <tag>face-detection</tag>
        <tag>face-alignment</tag>
        <tag>face-features</tag>
        <tag>face-expression</tag>
        <tag>eye-blink</tag>
        <tag>head-pose</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼ºåŒ–å­¦ä¹ åŸºç¡€</title>
    <url>/2019/01/19/rl-basic/</url>
    <content><![CDATA[<p><strong>æœ¬æ–‡å¼•ç”¨äº†è«çƒ¦å¤§å¤§å’Œå‡ ä½çŸ¥ä¹ç­”ä¸»çš„éƒ¨åˆ†æ–‡å­—ï¼Œç”±äºæ—¶é—´è¾ƒé•¿ï¼Œæ— æ³•ä¸€ä¸€ç¡®è®¤ï¼Œåœ¨è¿™é‡Œç»Ÿä¸€æ„Ÿè°¢ã€‚å¦‚æœ‰ä¾µå®³åˆ°æ‚¨ç‰ˆæƒçš„è¡Œä¸ºï¼Œè¯·æ‚¨å°½å¿«è”ç³»æˆ‘ä¿®æ”¹ï¼Œæ„Ÿè°¢ã€‚</strong></p>
<h2 id="reinforcement-learning-basic">Reinforcement Learning Basic</h2>
<h3 id="å®šä¹‰">å®šä¹‰</h3>
<p>å¼ºåŒ–å­¦ä¹ æ¶‰åŠä¸€ä¸ªæ™ºèƒ½ä½“ï¼Œä¸€ç»„â€œçŠ¶æ€â€S<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4611d85173cd3b508e67077d4a1252c9c05abca2" alt="S">å’Œæ¯ä¸ªçŠ¶æ€ä¸‹çš„åŠ¨ä½œé›†åˆA<img src="/2019/01/19/rl-basic/7daff47fa58cdfd29dc333def748ff5fa4c923e3" alt="A">ã€‚é€šè¿‡æ‰§è¡Œä¸€ä¸ªè¡ŒåŠ¨ ï¼Œè¯¥æ™ºèƒ½ä½“ä»ä¸€ä¸ªçŠ¶æ€è½¬ç§»åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚åœ¨ä¸€ä¸ªç‰¹å®šçš„çŠ¶æ€ä¸‹æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œæ—¶ï¼Œæ™ºèƒ½ä½“è¿˜å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¥–åŠ±ã€‚ æ™ºèƒ½ä½“çš„ç›®æ ‡æ˜¯æœ€å¤§åŒ–å…¶å¥–åŠ±çš„ç´¯åŠ ã€‚è¿™ä¸ªæ½œåœ¨çš„å¥–åŠ±æ˜¯æ‰€æœ‰æœªæ¥å¯ä»¥æ‹¿åˆ°çš„å¥–åŠ±å€¼çš„æœŸæœ›çš„åŠ æƒå’Œã€‚</p>
<span id="more"></span>
<p>ä¾‹å¦‚ï¼Œå‡è®¾ç°åœ¨ä½ è¦ä¸Šåœ°é“ï¼Œå¥–åŠ±å°±æ˜¯ä½ æ‰€èŠ±çš„æ—¶é—´çš„ç›¸åæ•°ã€‚ä¸€ç§ç­–ç•¥å°±æ˜¯è½¦é—¨ä¸€å¼€å°±å¾€ä¸ŠæŒ¤ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šäººè¦ä¸‹è½¦ï¼Œé€†ç€äººæµå¾€ä¸ŠæŒ¤ä¹Ÿä¼šèŠ±è´¹ä¸å°‘æ—¶é—´ï¼Œè¿™ä¸ªæ—¶å€™ä½ èŠ±çš„æ€»æ—¶é—´å¯èƒ½æ˜¯ï¼š</p>
<ul>
<li>0ç§’é’Ÿç­‰å¾…æ—¶é—´+15ç§’æŒ¤ä¸Šå»çš„æ—¶é—´ åœ¨æ¥ä¸‹æ¥çš„ä¸€å¤©ï¼Œå¾ˆå·§åˆï¼Œä½ å†³å®šå…ˆè®©åˆ«äººä¸‹è½¦ã€‚è™½ç„¶è¿™ä¸ªæ—¶å€™çœ‹èµ·æ¥ç­‰å¾…çš„æ—¶é—´ç¨å¾®å¢åŠ äº†ï¼Œä½†æ˜¯ä¸‹è½¦çš„äººä¹Ÿä¼šä¸‹çš„æ›´é¡ºç•…ï¼Œè¿™ä¸ªæ—¶å€™ä½ å¯èƒ½èŠ±çš„æ—¶é—´æ˜¯ï¼š</li>
<li>5ç§’ç­‰å¾…æ—¶é—´+0ç§’æŒ¤ä¸Šå»çš„æ—¶é—´ã€‚</li>
</ul>
<h3 id="ç†è§£">ç†è§£</h3>
<p><strong>çŠ¶æ€State</strong>å’Œ<strong>åŠ¨ä½œAction</strong>å­˜åœ¨æ˜ å°„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªstateå¯ä»¥å¯¹åº”ä¸€ä¸ªactionï¼Œæˆ–è€…å¯¹åº”ä¸åŒåŠ¨ä½œçš„æ¦‚ç‡ï¼ˆå¸¸å¸¸ç”¨æ¦‚ç‡æ¥è¡¨ç¤ºï¼Œæ¦‚ç‡æœ€é«˜çš„å°±æ˜¯æœ€å€¼å¾—æ‰§è¡Œçš„åŠ¨ä½œï¼‰ã€‚çŠ¶æ€ä¸åŠ¨ä½œçš„å…³ç³»å…¶å®å°±æ˜¯è¾“å…¥ä¸è¾“å‡ºçš„å…³ç³»ï¼Œè€ŒçŠ¶æ€Stateåˆ°åŠ¨ä½œActionçš„è¿‡ç¨‹å°±ç§°ä¹‹ä¸ºä¸€ä¸ª<strong>ç­–ç•¥Policyï¼Œ</strong>ä¸€èˆ¬ç”¨Ï€è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯éœ€è¦æ‰¾åˆ°ä»¥ä¸‹å…³ç³»(å…¶ä¸­aæ˜¯actionï¼Œsæ˜¯state)ï¼š</p>
<p><strong>ä¸€ä¸€å¯¹åº”è¡¨ç¤º</strong>ï¼ša=Ï€(s)</p>
<p><strong>æ¦‚ç‡è¡¨ç¤º</strong>ï¼šÏ€(a|s)</p>
<h2 id="åŸºæœ¬æ–¹æ³•å¯¹æ¯”">åŸºæœ¬æ–¹æ³•å¯¹æ¯”</h2>
<table style="width:100%;">
<colgroup>
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th>Method name</th>
<th>Net Classes Num</th>
<th>Net Num</th>
<th>Net types</th>
<th>Input</th>
<th>Output</th>
<th>Update method</th>
<th>Use Memory</th>
<th>Policy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Q-L</td>
<td>0</td>
<td>0</td>
<td></td>
<td>state</td>
<td>values of actions</td>
<td>round update</td>
<td>F</td>
<td>OFF</td>
</tr>
<tr class="even">
<td>SARSA</td>
<td>0</td>
<td>0</td>
<td></td>
<td>state</td>
<td>value of actions</td>
<td>round update</td>
<td>F</td>
<td>ON</td>
</tr>
<tr class="odd">
<td>DQN</td>
<td>1</td>
<td>2</td>
<td>target net &amp; Eval net</td>
<td>state</td>
<td>values of actions</td>
<td>round update</td>
<td>T</td>
<td></td>
</tr>
<tr class="even">
<td>PG</td>
<td>1</td>
<td>1</td>
<td>policy net</td>
<td>state</td>
<td>prob of actions</td>
<td>round update</td>
<td>T</td>
<td></td>
</tr>
<tr class="odd">
<td>AC</td>
<td>2</td>
<td>2</td>
<td>actor net &amp; critic net</td>
<td>state</td>
<td>prob of actions &amp; rewards</td>
<td>step update</td>
<td>F</td>
<td>OFF</td>
</tr>
<tr class="even">
<td>DDPG</td>
<td>2</td>
<td>4</td>
<td>(actor &amp; critic)x(target &amp; eval)</td>
<td>state &amp; (state, action)</td>
<td>continuous action value &amp; reward</td>
<td>step update</td>
<td>T</td>
<td>OFF</td>
</tr>
</tbody>
</table>
<h3 id="è§„å¾‹ä¸æ³¨è§£">è§„å¾‹ä¸æ³¨è§£</h3>
<ul>
<li>åªå®šä¹‰äº†ä¸€ä¸ªç½‘ç»œç±»çš„æ–¹æ³•éƒ½æ˜¯å›åˆåˆ¶æ›´æ–°</li>
<li>é™¤äº†DDPGå…¶ä»–æ–¹æ³•çš„è¾“å…¥éƒ½æ˜¯state</li>
<li>å›åˆåˆ¶æ›´æ–°ä¹Ÿå«è’™ç‰¹å¡æ´›æ›´æ–°ï¼ˆ<strong>Monte-carlo update</strong>ï¼‰ï¼Œå•æ­¥æ›´æ–°ä¹Ÿå«å½“æ—¶å·®è·æ›´æ–°ï¼ˆ<strong>Temporal-difference update</strong>ï¼‰</li>
</ul>
<h2 id="q-learning">Q-Learning</h2>
<h3 id="å®šä¹‰-1">å®šä¹‰</h3>
<p><strong>Q-å­¦ä¹ </strong>æ˜¯å¼ºåŒ–å­¦ä¹ çš„ä¸€ç§æ–¹æ³•ã€‚Q-å­¦ä¹ å°±æ˜¯è¦å­¦ä¹ çš„æ”¿ç­–ï¼Œå‘Šè¯‰æ™ºèƒ½ä½“ä»€ä¹ˆæƒ…å†µä¸‹é‡‡å–ä»€ä¹ˆè¡ŒåŠ¨ã€‚Q-learningä¸éœ€è¦å¯¹ç¯å¢ƒè¿›è¡Œå»ºæ¨¡ï¼Œå³ä½¿æ˜¯å¯¹å¸¦æœ‰éšæœºå› ç´ çš„è½¬ç§»å‡½æ•°æˆ–è€…å¥–åŠ±å‡½æ•°ä¹Ÿä¸éœ€è¦è¿›è¡Œç‰¹åˆ«çš„æ”¹åŠ¨å°±å¯ä»¥è¿›è¡Œã€‚ å¯¹äºä»»ä½•æœ‰é™çš„<a href="https://zh.wikipedia.org/wiki/%E9%A6%AC%E5%8F%AF%E5%A4%AB%E6%B1%BA%E7%AD%96%E9%81%8E%E7%A8%8B" title="é©¬å¯å¤«å†³ç­–è¿‡ç¨‹">é©¬å¯å¤«å†³ç­–è¿‡ç¨‹</a>ï¼ˆFMDPï¼‰ï¼ŒQ-learningå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥æœ€å¤§åŒ–æ‰€æœ‰æ­¥éª¤çš„å¥–åŠ±æœŸæœ›çš„ç­–ç•¥ã€‚<a href="https://zh.wikipedia.org/wiki/Q%E5%AD%A6%E4%B9%A0#cite_note-auto-1">[1]</a>ï¼Œåœ¨ç»™å®šä¸€ä¸ªéƒ¨åˆ†éšæœºçš„ç­–ç•¥å’Œæ— é™çš„æ¢ç´¢æ—¶é—´ï¼ŒQ-learningå¯ä»¥ç»™å‡ºä¸€ä¸ªæœ€ä½³çš„åŠ¨ä½œé€‰æ‹©ç­–ç•¥ã€‚â€œQâ€è¿™ä¸ªå­—æ¯åœ¨å¼ºåŒ–å­¦ä¹ ä¸­è¡¨ç¤ºä¸€ä¸ªåŠ¨ä½œçš„è´¨é‡ï¼ˆquality )ã€‚<a href="https://zh.wikipedia.org/wiki/Q%E5%AD%A6%E4%B9%A0#cite_note-:0-2">[2]</a> Q-Learning æœ€ç®€å•çš„å®ç°æ–¹å¼å°±æ˜¯å°†å€¼å­˜å‚¨åœ¨ä¸€ä¸ªè¡¨æ ¼ä¸­ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å—é™äºçŠ¶æ€å’ŒåŠ¨ä½œç©ºé—´çš„æ•°ç›®ã€‚</p>
<p><strong>è¾“å…¥</strong>ï¼šçŠ¶æ€ï¼ˆStateï¼‰ <strong>è¾“å‡º</strong>ï¼šè¯¥çŠ¶æ€ä¸‹å¯èƒ½é‡‡å–çš„å„ç§åŠ¨ä½œï¼ˆActionï¼‰æ—¶å¯¹åº”çš„Qå€¼</p>
<h3 id="ç®—æ³•">ç®—æ³•</h3>
<p><img src="/2019/01/19/rl-basic/1*B8tGarFYboV9maL93sF45Q.png"></p>
<h2 id="sarsa">SARSA</h2>
<p>SARSAéå¸¸åƒQ-learningã€‚SARSAå’ŒQ-learningçš„å…³é”®åŒºåˆ«åœ¨äºSARSAæ˜¯ä¸€ç§on-policyç®—æ³•ã€‚è¿™æ„å‘³ç€SARSAæ˜¯æ ¹æ®å½“å‰ç­–ç•¥æ‰§è¡Œçš„åŠ¨ä½œè€Œä¸æ˜¯è´ªå©ªç­–ç•¥æ¥å­¦ä¹ qå€¼çš„ã€‚</p>
<p><strong>è¾“å…¥</strong>ï¼šçŠ¶æ€ï¼ˆStateï¼‰ <strong>è¾“å‡º</strong>ï¼šè¯¥çŠ¶æ€ä¸‹å¯èƒ½é‡‡å–çš„å„ç§åŠ¨ä½œï¼ˆActionï¼‰æ—¶å¯¹åº”çš„Qå€¼</p>
<h3 id="ç®—æ³•-1">ç®—æ³•</h3>
<p><img src="/2019/01/19/rl-basic/1*NdEQk3LeJfkzImOiQij_NA.png"></p>
<h2 id="dqn">DQN</h2>
<p><strong>è¾“å…¥ï¼ˆ1ï¼‰</strong>ï¼šçŠ¶æ€ï¼ˆStateï¼‰</p>
<p><strong>è¾“å‡ºï¼ˆ1ï¼‰</strong>ï¼šè¯¥çŠ¶æ€ä¸‹å¯èƒ½é‡‡å–çš„å„ç§åŠ¨ä½œï¼ˆActionï¼‰æ—¶å¯¹åº”çš„Qå€¼</p>
<p><strong>è¾“å…¥ï¼ˆ2ï¼‰</strong>ï¼šçŠ¶æ€ï¼ˆStateï¼‰å’ŒåŠ¨ä½œï¼ˆActionï¼‰</p>
<p><strong>è¾“å‡ºï¼ˆ2ï¼‰</strong>ï¼šè¯¥çŠ¶æ€ä¸‹é‡‡å–è¯¥åŠ¨ä½œï¼ˆActionï¼‰æ—¶å¯¹åº”çš„Qå€¼</p>
<p><strong>ç›®æ ‡</strong>ï¼šæ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜çš„ç­–ç•¥Policyä»è€Œä½¿Rewardæœ€å¤š</p>
<p><strong>Loss</strong>ï¼š<span class="math display">\[L(w)=E[(r+\gamma max_{aâ€™}Q(sâ€™,aâ€™,w)-Q(s,a,w))^2]\]</span></p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ol type="1">
<li>ä¸æ˜¯ç›´æ¥è¾“å‡ºå½“å‰çŠ¶æ€ä¸‹å„åŠ¨ä½œçš„æ¦‚ç‡ï¼Œæ¯ç§åŠ¨ä½œéƒ½å¯èƒ½ä»¥å…¶å¯¹åº”æ¦‚ç‡è¢«é€‰åˆ°ï¼Œè€Œæ˜¯è¾“å‡ºå½“å‰çŠ¶æ€ä¸‹é€‰æ‹©å„åŠ¨ä½œåå¸¦æ¥çš„Qå€¼ï¼Œç›´æ¥é€‰æ‹©æœ€å¤§çš„ï¼Œå¹¶éšæœºä»¥ä¸€å®šçš„å¯èƒ½æ€§é€‰æ‹©å…¶ä»–åŠ¨ä½œã€‚</li>
<li>æ˜¯ä¸€ç§ off-policy ç¦»çº¿å­¦ä¹ æ³•ï¼Œå®ƒèƒ½å­¦ä¹ å½“å‰ç»å†ç€çš„, ä¹Ÿèƒ½å­¦ä¹ è¿‡å»ç»å†è¿‡çš„, ç”šè‡³æ˜¯å­¦ä¹ åˆ«äººçš„ç»å†ã€‚</li>
</ol>
<p><strong>ç±»æ¯”</strong>ï¼šQè¡¨ã€‚è¿™é‡Œçš„ç¥ç»ç½‘ç»œçš„åŠŸèƒ½å°±å¥½æ¯”ä¸€ä¸ªQè¡¨ï¼Œè¾“å…¥è¦æŸ¥æ‰¾çš„å†…å®¹ï¼Œè¾“å‡ºç›¸åº”å€¼ã€‚</p>
<h3 id="åŸç†å›¾">åŸç†å›¾</h3>
<p><img src="/2019/01/19/rl-basic/006tKfTcgy1g0lby5lsouj30yi0k841d.jpg"></p>
<h3 id="ç®—æ³•-2">ç®—æ³•</h3>
<figure>
<img src="/2019/01/19/rl-basic/006tKfTcly1g0eb38iqwoj30y00rmq5g.jpg" alt="æ›´æ–°ç®—æ³•"><figcaption aria-hidden="true">æ›´æ–°ç®—æ³•</figcaption>
</figure>
<figure>
<img src="/2019/01/19/rl-basic/006tKfTcly1g0e2yu8s6zj30cc06wmx6.jpg" alt="ç½‘ç»œæ›´æ–°æ–¹æ³•"><figcaption aria-hidden="true">ç½‘ç»œæ›´æ–°æ–¹æ³•</figcaption>
</figure>
<h3 id="ä¸ºä½•ä½¿ç”¨ä¸¤ä¸ªç½‘ç»œ">ä¸ºä½•ä½¿ç”¨ä¸¤ä¸ªç½‘ç»œï¼Ÿ</h3>
<blockquote>
<p>The second modification to online Q-learning aimed at further improving the stability of our method with neural networks is to use a separate network for gen- erating the targets yj in the Q-learning update. More precisely, every C updates we clone the network Q to obtain a target network Q^ and use Q^ for generating the Q-learning targets yj for the following C updates to Q. This modification makes the algorithm more stable compared to standard online Q-learning, where an update that increases Q(st,at) often also increases Q(st 1 1,a) for all a and hence also increases the target yj, possibly leading to oscillations or divergence of the policy. Generating the targets using an older set of parameters adds a delay between the time an update to Q is made and the time the update affects the targets yj, making divergence or oscillations much more unlikely.</p>
</blockquote>
<p>ç®€å•åœ°è¯´ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´copyä¸€æ¬¡Eval Netæˆä¸ºTarget Netå‡å°äº†æ¯æ¬¡æ›´æ–°å¸¦æ¥çš„éœ‡åŠ¨ï¼Œå³ä½¿å¾—å¯¹<span class="math inline">\(Q(s_t,a)\)</span>åšå‡ºçš„æ›´æ–°ä¸ä¼šé©¬ä¸Šå½±å“åˆ°<span class="math inline">\(Q(s_{t+1},a)\)</span></p>
<h3 id="å·¥ç¨‹å®ç°å…³é”®ç‚¹">å·¥ç¨‹å®ç°å…³é”®ç‚¹</h3>
<ol type="1">
<li>DQNç½‘ç»œçš„æ›´æ–°æ–¹æ³•ï¼šåŒæ—¶åˆå§‹åŒ–ä¸¤ä¸ªå®šä¹‰ç›¸åŒçš„ç½‘ç»œï¼Œä¸€ä¸ªæ˜¯Target Netï¼Œä¸€ä¸ªæ˜¯Eval Netã€‚å‰è€…æ˜¯ä½œä¸ºQå€¼çš„ç›®æ ‡å€¼å‡ºç°çš„ä¸€ä¸ªç½‘ç»œï¼Œä¸”å…¶çš„æ›´æ–°è¾ƒä¸ºè½åï¼Œå¾€å¾€æ˜¯Eval Netæ›´æ–°åƒç™¾è½®ä¹‹åæ‰æŠŠåè€…çš„å‚æ•°å®Œå…¨æ‹·è´ä¸€ä»½åˆ°è‡ªèº«ï¼›è€Œåè€…åˆ™æ˜¯æ¯æ¬¡å­¦ä¹ è¿‡ç¨‹å¿…æ›´æ–°ï¼Œæ€»æ˜¯æœ€æ–°çš„ç½‘ç»œå‚æ•°ï¼Œç”¨ä½œä¼°è®¡å€¼ã€‚</li>
<li>æœ‰ä¸€ä¸ªè®°å¿†åº“ç”¨æ¥å‚¨å­˜ä¹‹å‰çš„è®°å¿†ï¼Œæ¯æ¬¡è®­ç»ƒæ—¶éšæœºæŠ½ä¸€ä¸ªbatchæ‰”åˆ°ç½‘ç»œé‡Œè®­ç»ƒã€‚</li>
<li>Fixed Q-targetså’Œè®°å¿†åº“éƒ½æ˜¯æ‰“ä¹±ç»å†ç›¸å…³æ€§çš„æœºç†ï¼Œä¹Ÿä½¿å¾—ç¥ç»ç½‘ç»œæ›´æ–°æ›´æœ‰æ•ˆç‡ã€‚</li>
<li>åˆšåˆå§‹åŒ–åçš„å‰é¢nè½®æ˜¯ä¸ç”¨ç½‘ç»œè€Œå®Œå…¨éšæœºé¢„æµ‹çš„ï¼Œå¹¶æŠŠç»“æœå­˜ä¸‹æ¥è®­ç»ƒç½‘ç»œã€‚</li>
</ol>
<h3 id="æ ¸å¿ƒä»£ç ">æ ¸å¿ƒä»£ç </h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (t &gt; learning_starts <span class="keyword">and</span></span><br><span class="line">        t % learning_freq == <span class="number">0</span> <span class="keyword">and</span></span><br><span class="line">        replay_buffer.can_sample(batch_size)):</span><br><span class="line">    <span class="comment"># Use the replay buffer to sample a batch of transitions</span></span><br><span class="line">    <span class="comment"># Note: done_mask[i] is 1 if the next state corresponds to the end of an episode,</span></span><br><span class="line">    <span class="comment"># in which case there is no Q-value at the next state; at the end of an</span></span><br><span class="line">    <span class="comment"># episode, only the current state reward contributes to the target</span></span><br><span class="line">    obs_batch, act_batch, rew_batch, next_obs_batch, done_mask = replay_buffer.sample(batch_size)</span><br><span class="line">    <span class="comment"># Convert numpy nd_array to torch variables for calculation</span></span><br><span class="line">    obs_batch = Variable(torch.from_numpy(obs_batch).<span class="built_in">type</span>(dtype) / <span class="number">255.0</span>)</span><br><span class="line">    act_batch = Variable(torch.from_numpy(act_batch).long())</span><br><span class="line">    rew_batch = Variable(torch.from_numpy(rew_batch))</span><br><span class="line">    next_obs_batch = Variable(torch.from_numpy(next_obs_batch).<span class="built_in">type</span>(dtype) / <span class="number">255.0</span>)</span><br><span class="line">    not_done_mask = Variable(torch.from_numpy(<span class="number">1</span> - done_mask)).<span class="built_in">type</span>(dtype)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> USE_CUDA:</span><br><span class="line">        act_batch = act_batch.cuda()</span><br><span class="line">        rew_batch = rew_batch.cuda()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Compute current Q value, q_func takes only state and output value for every state-action pair</span></span><br><span class="line">    <span class="comment"># We choose Q based on action taken.</span></span><br><span class="line">    current_Q_values = Q(obs_batch).gather(<span class="number">1</span>, act_batch.unsqueeze(<span class="number">1</span>))</span><br><span class="line">    <span class="comment"># Compute next Q value based on which action gives max Q values</span></span><br><span class="line">    <span class="comment"># Detach variable from the current graph since we don&#x27;t want gradients for next Q to propagated</span></span><br><span class="line">    next_max_q = target_Q(next_obs_batch).detach().<span class="built_in">max</span>(<span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">    next_Q_values = not_done_mask * next_max_q</span><br><span class="line">    <span class="comment"># Compute the target of the current Q values</span></span><br><span class="line">    target_Q_values = rew_batch + (gamma * next_Q_values)</span><br><span class="line">    <span class="comment"># Compute Bellman error</span></span><br><span class="line">    bellman_error = target_Q_values - current_Q_values</span><br><span class="line">    <span class="comment"># clip the bellman error between [-1 , 1]</span></span><br><span class="line">    clipped_bellman_error = bellman_error.clamp(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="comment"># Note: clipped_bellman_delta * -1 will be right gradient</span></span><br><span class="line">    d_error = clipped_bellman_error * -<span class="number">1.0</span></span><br><span class="line">    <span class="comment"># Clear previous gradients before backward pass</span></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    <span class="comment"># run backward pass</span></span><br><span class="line">    current_Q_values.backward(d_error.data.unsqueeze(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Perfom the update</span></span><br><span class="line">    optimizer.step()</span><br><span class="line">    num_param_updates += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Periodically update the target network by Q network to target Q network</span></span><br><span class="line">    <span class="keyword">if</span> num_param_updates % target_update_freq == <span class="number">0</span>:</span><br><span class="line">        target_Q.load_state_dict(Q.state_dict())</span><br></pre></td></tr></table></figure>
<h2 id="policy-gradient">Policy Gradient</h2>
<p><strong>è¾“å…¥</strong>ï¼š çŠ¶æ€ï¼ˆStateï¼‰</p>
<p><strong>è¾“å‡º</strong>ï¼šç›´æ¥æ˜¯åŠ¨ä½œï¼ˆActionï¼‰ï¼ˆè€ŒéQå€¼ï¼‰</p>
<p><strong>å…¬å¼</strong>ï¼ša=Ï€(s, Î¸) æˆ– a=Ï€(a|s, Î¸)</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼šè¾“å‡ºçš„ç›´æ¥æ˜¯å½“å‰çŠ¶æ€ä¸‹é‡‡å–å„ç§å¯èƒ½åŠ¨ä½œçš„æ¦‚ç‡ã€‚æ¯ç§åŠ¨ä½œéƒ½å¯èƒ½ä»¥å…¶å¯¹åº”æ¦‚ç‡è¢«é€‰åˆ°ã€‚å¦å¤–å…¶ç›¸å¯¹äºåŸºäºå€¼çš„ç®—æ³•å¦‚DQNè€Œè¨€å¯ä»¥handleè¾ƒå¤šactionï¼Œå°¤å…¶æ˜¯è¿ç»­actionç©ºé—´çš„é—®é¢˜ã€‚</p>
<p><strong>Loss</strong>ï¼š<span class="math display">\[loss=-log(prob(action))*reward\]</span></p>
<h3 id="æ ¸å¿ƒä»£ç -1">æ ¸å¿ƒä»£ç </h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Policy</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(Policy, self).__init__()</span><br><span class="line"></span><br><span class="line">        self.state_space = state_space</span><br><span class="line">        self.action_space = action_space</span><br><span class="line"></span><br><span class="line">        self.fc1 = nn.Linear(self.state_space, <span class="number">128</span>)</span><br><span class="line">        self.fc2 = nn.Linear(<span class="number">128</span>, self.action_space)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        x = self.fc1(x)</span><br><span class="line">        <span class="comment">#x = F.dropout(x, 0.5)</span></span><br><span class="line">        x = F.relu(x)</span><br><span class="line">        x = F.softmax(self.fc2(x), dim=-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">policy = Policy()</span><br><span class="line">optimizer = torch.optim.Adam(policy.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span>():</span></span><br><span class="line"></span><br><span class="line">    episode_durations = []</span><br><span class="line">    <span class="comment">#Batch_history</span></span><br><span class="line">    state_pool = []</span><br><span class="line">    action_pool = []</span><br><span class="line">    reward_pool = []</span><br><span class="line">    steps = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> episode <span class="keyword">in</span> <span class="built_in">range</span>(num_episode):</span><br><span class="line">        state = env.reset()</span><br><span class="line">        state = torch.from_numpy(state).<span class="built_in">float</span>()</span><br><span class="line">        state = Variable(state)</span><br><span class="line"></span><br><span class="line">        env.render()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> count():</span><br><span class="line">            probs = policy(state)</span><br><span class="line">            c = Categorical(probs)</span><br><span class="line">            action = c.sample()</span><br><span class="line"></span><br><span class="line">            action = action.data.numpy().astype(<span class="string">&#x27;int32&#x27;</span>)</span><br><span class="line">            next_state, reward, done, info = env.step(action)</span><br><span class="line">            reward = <span class="number">0</span> <span class="keyword">if</span> done <span class="keyword">else</span> reward <span class="comment"># correct the reward</span></span><br><span class="line">            env.render()</span><br><span class="line"></span><br><span class="line">            state_pool.append(state)</span><br><span class="line">            action_pool.append(<span class="built_in">float</span>(action))</span><br><span class="line">            reward_pool.append(reward)</span><br><span class="line"></span><br><span class="line">            state = next_state</span><br><span class="line">            state = torch.from_numpy(state).<span class="built_in">float</span>()</span><br><span class="line">            state = Variable(state)</span><br><span class="line"></span><br><span class="line">            steps += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> done:</span><br><span class="line">                episode_durations.append(t+<span class="number">1</span>)</span><br><span class="line">                plot_durations(episode_durations)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># update policy</span></span><br><span class="line">        <span class="keyword">if</span> episode &gt;<span class="number">0</span> <span class="keyword">and</span> episode % batch_size == <span class="number">0</span>:</span><br><span class="line"></span><br><span class="line">            r = <span class="number">0</span></span><br><span class="line">            <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">            for i in reversed(range(steps)):</span></span><br><span class="line"><span class="string">                if reward_pool[i] == 0:</span></span><br><span class="line"><span class="string">                    running_add = 0</span></span><br><span class="line"><span class="string">                else:</span></span><br><span class="line"><span class="string">                    running_add = running_add * gamma +reward_pool[i]</span></span><br><span class="line"><span class="string">                    reward_pool[i] = running_add</span></span><br><span class="line"><span class="string">            &#x27;&#x27;&#x27;</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">reversed</span>(<span class="built_in">range</span>(steps)):</span><br><span class="line">                <span class="keyword">if</span> reward_pool[i] == <span class="number">0</span>:</span><br><span class="line">                    r = <span class="number">0</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    r = r * gamma + reward_pool[i]</span><br><span class="line">                    reward_pool[i] = r</span><br><span class="line"></span><br><span class="line">            <span class="comment">#Normalize reward</span></span><br><span class="line">            reward_mean = np.mean(reward_pool)</span><br><span class="line">            reward_std = np.std(reward_pool)</span><br><span class="line">            reward_pool = (reward_pool-reward_mean)/reward_std</span><br><span class="line"></span><br><span class="line">            <span class="comment">#gradiend desent</span></span><br><span class="line">            optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(steps):</span><br><span class="line">                state = state_pool[i]</span><br><span class="line">                action = Variable(torch.FloatTensor([action_pool[i]]))</span><br><span class="line">                reward = reward_pool[i]</span><br><span class="line"></span><br><span class="line">                probs = policy(state)</span><br><span class="line">                c = Categorical(probs)</span><br><span class="line"></span><br><span class="line">                loss = -c.log_prob(action) * reward</span><br><span class="line">                loss.backward()</span><br><span class="line"></span><br><span class="line">            optimizer.step()</span><br><span class="line"></span><br><span class="line">            <span class="comment"># clear the batch pool</span></span><br><span class="line">            state_pool = []</span><br><span class="line">            action_pool = []</span><br><span class="line">            reward_pool = []</span><br><span class="line">            steps = <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="actor-critic">Actor Critic</h2>
<h3 id="å®šä¹‰-2">å®šä¹‰</h3>
<p>ç»“åˆäº† Policy Gradient (Actor) å’Œ Function Approximation (Critic) çš„æ–¹æ³•. <code>Actor</code>åŸºäºæ¦‚ç‡é€‰è¡Œä¸º, <code>Critic</code> åŸºäº <code>Actor</code> çš„è¡Œä¸ºè¯„åˆ¤è¡Œä¸ºçš„å¾—åˆ†, <code>Actor</code> æ ¹æ® <code>Critic</code> çš„è¯„åˆ†ä¿®æ”¹é€‰è¡Œä¸ºçš„æ¦‚ç‡ã€‚ç®€å•è¯´ï¼Œç›¸å¯¹äºå•çº¯çš„Policy Gradientï¼Œå…¶ä¸å†ä½¿ç”¨å›åˆåˆ¶æ›´æ–°ç½‘ç»œï¼Œè€Œæ˜¯é€æ­¥æ›´æ–°ç½‘ç»œã€‚è€Œæ¯ä¸€æ­¥çš„rewardåˆ™æ˜¯ç”±criticç½‘ç»œç»™å‡ºã€‚</p>
<h3 id="ä¼˜åŠ¿">ä¼˜åŠ¿</h3>
<p>å¯ä»¥è¿›è¡Œå•æ­¥æ›´æ–°, æ¯”ä¼ ç»Ÿçš„ Policy Gradient è¦å¿«ã€‚</p>
<h3 id="åŠ£åŠ¿">åŠ£åŠ¿</h3>
<p>å–å†³äº Critic çš„ä»·å€¼åˆ¤æ–­, ä½†æ˜¯ Critic éš¾æ”¶æ•›, å†åŠ ä¸Š Actor çš„æ›´æ–°, å°±æ›´éš¾æ”¶æ•›. ä¸ºäº†è§£å†³æ”¶æ•›é—®é¢˜ã€‚</p>
<h3 id="actor-net">Actor Net</h3>
<p><strong>è¾“å…¥</strong>ï¼šçŠ¶æ€ï¼ˆStateï¼‰ <strong>è¾“å‡º</strong>ï¼šåŠ¨ä½œï¼ˆActionï¼‰</p>
<h3 id="critic-net">Critic Net</h3>
<p><strong>è¾“å…¥</strong>ï¼šçŠ¶æ€ï¼ˆStateï¼‰ <strong>è¾“å‡º</strong>ï¼šè¯„ä»·ï¼ˆRewardï¼‰</p>
<h3 id="loss">Loss:</h3>
<p><span class="math display">\[
Loss(policy/actor)=-log\space prob * (reward-critic\space value)\\
Loss(critic)=E[(reward-critic\space value)^2]
\]</span></p>
<h3 id="æ ¸å¿ƒä»£ç -2">æ ¸å¿ƒä»£ç </h3>
<p><strong>æ³¨æ„è™½ç„¶çœ‹ä¼¼åªå†™äº†ä¸€ä¸ªç½‘ç»œï¼Œä½†æ˜¯å› ä¸ºACç½‘ç»œçš„è¾“å…¥ç›¸åŒè¾“å‡ºä¸åŒï¼Œåªè¦æœ€åæœ‰ä¸¤ä¸ªä¸åŒçš„fcå±‚å³å¯ã€‚</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> gym, os</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> count</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">from</span> torch.distributions <span class="keyword">import</span> Categorical</span><br><span class="line"></span><br><span class="line"><span class="comment">#Parameters</span></span><br><span class="line">env = gym.make(<span class="string">&#x27;CartPole-v0&#x27;</span>)</span><br><span class="line">env = env.unwrapped</span><br><span class="line"></span><br><span class="line">env.seed(<span class="number">1</span>)</span><br><span class="line">torch.manual_seed(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">state_space = env.observation_space.shape[<span class="number">0</span>]</span><br><span class="line">action_space = env.action_space.n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#Hyperparameters</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">gamma = <span class="number">0.99</span></span><br><span class="line">episodes = <span class="number">20000</span></span><br><span class="line">render = <span class="literal">False</span></span><br><span class="line">eps = np.finfo(np.float32).eps.item()</span><br><span class="line">SavedAction = namedtuple(<span class="string">&#x27;SavedAction&#x27;</span>, [<span class="string">&#x27;log_prob&#x27;</span>, <span class="string">&#x27;value&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Policy</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(Policy, self).__init__()</span><br><span class="line">        self.fc1 = nn.Linear(state_space, <span class="number">32</span>)</span><br><span class="line"></span><br><span class="line">        self.action_head = nn.Linear(<span class="number">32</span>, action_space)</span><br><span class="line">        self.value_head = nn.Linear(<span class="number">32</span>, <span class="number">1</span>) <span class="comment"># Scalar Value</span></span><br><span class="line"></span><br><span class="line">        self.save_actions = []</span><br><span class="line">        self.rewards = []</span><br><span class="line">        os.makedirs(<span class="string">&#x27;./AC_CartPole-v0&#x27;</span>, exist_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        x = F.relu(self.fc1(x))</span><br><span class="line">        action_score = self.action_head(x)</span><br><span class="line">        state_value = self.value_head(x)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> F.softmax(action_score, dim=-<span class="number">1</span>), state_value</span><br><span class="line"></span><br><span class="line">model = Policy()</span><br><span class="line">optimizer = optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot</span>(<span class="params">steps</span>):</span></span><br><span class="line">    ax = plt.subplot(<span class="number">111</span>)</span><br><span class="line">    ax.cla()</span><br><span class="line">    ax.grid()</span><br><span class="line">    ax.set_title(<span class="string">&#x27;Training&#x27;</span>)</span><br><span class="line">    ax.set_xlabel(<span class="string">&#x27;Episode&#x27;</span>)</span><br><span class="line">    ax.set_ylabel(<span class="string">&#x27;Run Time&#x27;</span>)</span><br><span class="line">    ax.plot(steps)</span><br><span class="line">    RunTime = <span class="built_in">len</span>(steps)</span><br><span class="line"></span><br><span class="line">    path = <span class="string">&#x27;./AC_CartPole-v0/&#x27;</span> + <span class="string">&#x27;RunTime&#x27;</span> + <span class="built_in">str</span>(RunTime) + <span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(steps) % <span class="number">200</span> == <span class="number">0</span>:</span><br><span class="line">        plt.savefig(path)</span><br><span class="line">    plt.pause(<span class="number">0.0000001</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_action</span>(<span class="params">state</span>):</span></span><br><span class="line">    state = torch.from_numpy(state).<span class="built_in">float</span>()</span><br><span class="line">    probs, state_value = model(state)</span><br><span class="line">    m = Categorical(probs)</span><br><span class="line">    action = m.sample()</span><br><span class="line">    model.save_actions.append(SavedAction(m.log_prob(action), state_value))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> action.item()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">finish_episode</span>():</span></span><br><span class="line">    R = <span class="number">0</span></span><br><span class="line">    save_actions = model.save_actions</span><br><span class="line">    policy_loss = []</span><br><span class="line">    value_loss = []</span><br><span class="line">    rewards = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> r <span class="keyword">in</span> model.rewards[::-<span class="number">1</span>]:</span><br><span class="line">        R = r + gamma * R</span><br><span class="line">        rewards.insert(<span class="number">0</span>, R)</span><br><span class="line"></span><br><span class="line">    rewards = torch.tensor(rewards)</span><br><span class="line">    rewards = (rewards - rewards.mean()) / (rewards.std() + eps)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (log_prob , value), r <span class="keyword">in</span> <span class="built_in">zip</span>(save_actions, rewards):</span><br><span class="line">        reward = r - value.item()</span><br><span class="line">        policy_loss.append(-log_prob * reward)</span><br><span class="line">        value_loss.append(F.smooth_l1_loss(value, torch.tensor([r])))</span><br><span class="line"></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    loss = torch.stack(policy_loss).<span class="built_in">sum</span>() + torch.stack(value_loss).<span class="built_in">sum</span>()</span><br><span class="line">    loss.backward()</span><br><span class="line">    optimizer.step()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">del</span> model.rewards[:]</span><br><span class="line">    <span class="keyword">del</span> model.save_actions[:]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    running_reward = <span class="number">10</span></span><br><span class="line">    live_time = []</span><br><span class="line">    <span class="keyword">for</span> i_episode <span class="keyword">in</span> count(episodes):</span><br><span class="line">        state = env.reset()</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> count():</span><br><span class="line">            action = select_action(state)</span><br><span class="line">            state, reward, done, info = env.step(action)</span><br><span class="line">            <span class="keyword">if</span> render: env.render()</span><br><span class="line">            model.rewards.append(reward)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> done <span class="keyword">or</span> t &gt;= <span class="number">1000</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        running_reward = running_reward * <span class="number">0.99</span> + t * <span class="number">0.01</span></span><br><span class="line">        live_time.append(t)</span><br><span class="line">        plot(live_time)</span><br><span class="line">        <span class="keyword">if</span> i_episode % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            modelPath = <span class="string">&#x27;./AC_CartPole_Model/ModelTraing&#x27;</span>+<span class="built_in">str</span>(i_episode)+<span class="string">&#x27;Times.pkl&#x27;</span></span><br><span class="line">            torch.save(model, modelPath)</span><br><span class="line">        finish_episode()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="ddpg">DDPG</h2>
<h3 id="å®šä¹‰-3">å®šä¹‰</h3>
<p><strong>è¾“å…¥</strong>ï¼š çŠ¶æ€ï¼ˆStateï¼‰</p>
<p><strong>è¾“å‡º</strong>ï¼šç›´æ¥æ˜¯åŠ¨ä½œï¼ˆActionï¼‰ï¼ˆè€ŒéQå€¼ï¼‰</p>
<p><strong>å…¬å¼</strong>ï¼ša=Ï€(s, Î¸) æˆ– a=Ï€(a|s, Î¸)</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼šè¾“å‡ºçš„ç›´æ¥æ˜¯å½“å‰çŠ¶æ€ä¸‹é‡‡å–å„ç§å¯èƒ½åŠ¨ä½œçš„æ¦‚ç‡ã€‚æ¯ç§åŠ¨ä½œéƒ½å¯èƒ½ä»¥å…¶å¯¹åº”æ¦‚ç‡è¢«é€‰åˆ°ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼šè¿ç»­è¡Œä¸ºåœºæ™¯</p>
<h3 id="ç”±æ¥">ç”±æ¥</h3>
<p>åœ¨RLé¢†åŸŸï¼ŒDDPGä¸»è¦ä»ï¼šPG -&gt; DPG -&gt; DDPG å‘å±•è€Œæ¥ã€‚ Deepmindåœ¨2016å¹´æå‡ºDDPGï¼Œå…¨ç§°æ˜¯ï¼šDeep Deterministic Policy Gradient,æ˜¯å°†æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œèåˆè¿›DPGçš„ç­–ç•¥å­¦ä¹ æ–¹æ³•ã€‚ ç›¸å¯¹äºDPGçš„æ ¸å¿ƒæ”¹è¿›æ˜¯ï¼š é‡‡ç”¨å·ç§¯ç¥ç»ç½‘ç»œä½œä¸ºç­–ç•¥å‡½æ•°Î¼å’ŒQå‡½æ•°çš„æ¨¡æ‹Ÿï¼Œå³ç­–ç•¥ç½‘ç»œå’ŒQç½‘ç»œï¼›ç„¶åä½¿ç”¨æ·±åº¦å­¦ä¹ çš„æ–¹æ³•æ¥è®­ç»ƒä¸Šè¿°ç¥ç»ç½‘ç»œã€‚ Qå‡½æ•°çš„å®ç°å’Œè®­ç»ƒæ–¹æ³•ï¼Œé‡‡ç”¨äº†Deepmind 2015å¹´å‘è¡¨çš„DQNæ–¹æ³•ã€‚</p>
<h3 id="åŸç†å›¾-1">åŸç†å›¾</h3>
<p><img src="/2019/01/19/rl-basic/006tKfTcgy1g0lbvxv1tnj30y40kojrs.jpg"></p>
<p><img src="/2019/01/19/rl-basic/006tNc79ly1g23g4gt1wdj31760u0k7h.jpg"></p>
<h3 id="ç®—æ³•-3">ç®—æ³•</h3>
<p><img src="/2019/01/19/rl-basic/006tKfTcgy1g0lbwow8guj31590u0n12.jpg"></p>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>reinforcement-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>TensorFlow Higher-Level APIsçš„ä½¿ç”¨</title>
    <url>/2019/01/05/tf-high-level-api/</url>
    <content><![CDATA[<h2 id="estimator-experiment-and-datasetçš„å…³ç³»"><a href="https://www.tensorflow.org/api_docs/python/tf/estimator/Estimator">Estimator</a>, <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/Experiment">Experiment</a>, and <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/data/Dataset">Dataset</a>çš„å…³ç³»</h2>
<figure>
<img src="/2019/01/05/tf-high-level-api/1*zoNZvvuJb06yAghetc6BfQ.png" alt="Overview of the Experiment, Estimator and DataSet framework and how they interact. (These components will be explained in the following sections)"><figcaption aria-hidden="true">Overview of the Experiment, Estimator and DataSet framework and how they interact. (These components will be explained in the following sections)</figcaption>
</figure>
<span id="more"></span>
<h2 id="estimatorå®šä¹‰">Estimatorå®šä¹‰</h2>
<p>The <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/Estimator"><strong>Estimator</strong></a> class represents a model, as well as how this model should be trained and evaluated. We can create an estimator as follows:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span> tf.estimator.Estimator(</span><br><span class="line">    model_fn=model_fn,  <span class="comment"># First-class function</span></span><br><span class="line">    params=params,  <span class="comment"># HParams</span></span><br><span class="line">    config=run_config  <span class="comment"># RunConfig</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="å‚æ•°è§£é‡Š">å‚æ•°è§£é‡Š</h3>
<p>To create the Estimator we need to pass in a model function, a collection of parameters and some configuration.</p>
<ul>
<li>The <strong>parameters</strong> should be a collection of the modelâ€™s hyperparameters. This can be a dictionary, but we will represent it in this example as an <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/training/HParams">HParams</a> object, which acts as a <a href="https://docs.python.org/2/library/collections.html#collections.namedtuple">namedtuple</a>.</li>
<li>The <strong>configuration</strong> specifies how the <strong>training and evaluation</strong> are run, and where to store the results. This configuration will be represented by a <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/RunConfig">RunConfig</a> object, which communicates everything the Estimator needs to know about the environment in which the model will be run.</li>
<li>The <strong>model function</strong> is a Python function, which builds the model given the input. (More on this later)</li>
</ul>
<h4 id="model-function">Model function</h4>
<p>The model function is a Python function which is passed as a <a href="https://en.wikipedia.org/wiki/First-class_function">first-class function</a> to the Estimator. Weâ€™ll see later that TensorFlow uses first-class functions in other places. The benefit of representing the model as a function is that the model can be recreated over and over by instantiating the function. The model can be recreated during the training with different input, for example, to run validation tests during training.</p>
<p>The model function takes the <strong>input features</strong> as parameters and the corresponding <strong>labels</strong> as tensors. It also takes a <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/ModeKeys"><strong>mode</strong></a> that signals if the model is training, evaluating or performing inference. The last parameter to the model function should be a collection of <strong>hyperparameters</strong>, which are the same as those passed to the Estimator. This model function should return an <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/EstimatorSpec"><strong>EstimatorSpec</strong></a> object which will define the complete model.</p>
<p>The EstimatorSpec takes in the prediction, loss, training and evaluation <a href="https://www.tensorflow.org/api_docs/python/tf/Operation">Operations</a> so it defines the full model graph used for training, evaluation, and inference. Because the EstimatorSpec just takes in regular TensorFlow Operations, we can use frameworks like <a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/slim">TF-Slim</a> to define our model.</p>
<h2 id="estimatoråˆ›å»ºæ–¹å¼">Estimatoråˆ›å»ºæ–¹å¼</h2>
<ol type="1">
<li>é¢„åˆ›å»ºçš„ Estimator</li>
<li>è‡ªå®šä¹‰ Estimator</li>
<li>ä» Keras æ¨¡å‹åˆ›å»º Estimator</li>
</ol>
<h3 id="ä»-keras-æ¨¡å‹åˆ›å»º-estimatorçš„ä¾‹å­">3ä» Keras æ¨¡å‹åˆ›å»º Estimatorçš„ä¾‹å­ï¼š</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Instantiate a Keras inception v3 model.</span></span><br><span class="line">keras_inception_v3 = tf.keras.applications.inception_v3.InceptionV3(weights=<span class="literal">None</span>)</span><br><span class="line"><span class="comment"># Compile model with the optimizer, loss, and metrics you&#x27;d like to train with.</span></span><br><span class="line">keras_inception_v3.<span class="built_in">compile</span>(optimizer=tf.keras.optimizers.SGD(lr=<span class="number">0.0001</span>, momentum=<span class="number">0.9</span>),</span><br><span class="line">                          loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>,</span><br><span class="line">                          metric=<span class="string">&#x27;accuracy&#x27;</span>)</span><br><span class="line"><span class="comment"># Create an Estimator from the compiled Keras model. Note the initial model</span></span><br><span class="line"><span class="comment"># state of the keras model is preserved in the created Estimator.</span></span><br><span class="line">est_inception_v3 = tf.keras.estimator.model_to_estimator(keras_model=keras_inception_v3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Treat the derived Estimator as you would with any other Estimator.</span></span><br><span class="line"><span class="comment"># First, recover the input name(s) of Keras model, so we can use them as the</span></span><br><span class="line"><span class="comment"># feature column name(s) of the Estimator input function:</span></span><br><span class="line">keras_inception_v3.input_names  <span class="comment"># print out: [&#x27;input_1&#x27;]</span></span><br><span class="line"><span class="comment"># Once we have the input name(s), we can create the input function, for example,</span></span><br><span class="line"><span class="comment"># for input(s) in the format of numpy ndarray:</span></span><br><span class="line">train_input_fn = tf.estimator.inputs.numpy_input_fn(</span><br><span class="line">    x=&#123;<span class="string">&quot;input_1&quot;</span>: train_data&#125;,</span><br><span class="line">    y=train_labels,</span><br><span class="line">    num_epochs=<span class="number">1</span>,</span><br><span class="line">    shuffle=<span class="literal">False</span>)</span><br><span class="line"><span class="comment"># To train, we call Estimator&#x27;s train function:</span></span><br><span class="line">est_inception_v3.train(input_fn=train_input_fn, steps=<span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<h3 id="è¿™æ ·åšçš„å¥½å¤„">è¿™æ ·åšçš„å¥½å¤„</h3>
<p>Keras æ¨¡å‹æœ¬èº«å®¹æ˜“å»ºç«‹ï¼Œå¯¼å‡ºåˆ°Estimatorååˆå¯ä»¥åˆ©ç”¨ Estimator çš„ä¼˜åŠ¿ï¼Œä¾‹å¦‚åˆ†å¸ƒå¼è®­ç»ƒã€‚</p>
<h2 id="estimator-çš„ä¼˜åŠ¿">Estimator çš„ä¼˜åŠ¿</h2>
<h3 id="ä»æ„ä¹‰è§’åº¦">ä»æ„ä¹‰è§’åº¦</h3>
<ul>
<li>ç¯å¢ƒé€‚é…æ€§å¥½ã€‚å¯ä»¥åœ¨æœ¬åœ°ä¸»æœºã€åˆ†å¸ƒå¼å¤šæœåŠ¡å™¨ç¯å¢ƒä¸­è¿è¡ŒåŸºäº Estimator çš„æ¨¡å‹ï¼Œè€Œæ— éœ€æ›´æ”¹æ¨¡å‹ã€‚æ­¤å¤–ï¼Œå¯ä»¥åœ¨ CPUã€GPU æˆ– TPU ä¸Šè¿è¡ŒåŸºäº Estimator çš„æ¨¡å‹ï¼Œè€Œæ— éœ€é‡æ–°ç¼–ç æ¨¡å‹ã€‚</li>
<li>ç®€åŒ–äº†åœ¨æ¨¡å‹å¼€å‘è€…ä¹‹é—´å…±äº«å®ç°çš„è¿‡ç¨‹ã€‚</li>
<li>é‡‡ç”¨ Estimator åˆ›å»ºæ¨¡å‹é€šå¸¸æ¯”é‡‡ç”¨ä½é˜¶ TensorFlow API æ›´ç®€å•ã€‚</li>
<li>å…¶æœ¬èº«åœ¨ <a href="https://www.tensorflow.org/api_docs/python/tf/layers?hl=zh-cn"><code>tf.layers</code></a> ä¹‹ä¸Šæ„å»ºè€Œæˆï¼Œå¯ä»¥ç®€åŒ–è‡ªå®šä¹‰è¿‡ç¨‹ã€‚</li>
<li>Estimator ä¼šè‡ªåŠ¨æ„å»ºå›¾ã€‚</li>
<li>Estimator æä¾›å®‰å…¨çš„åˆ†å¸ƒå¼è®­ç»ƒå¾ªç¯ï¼Œå¯ä»¥æ§åˆ¶å¦‚ä½•ä»¥åŠä½•æ—¶ï¼š
<ul>
<li>æ„å»ºå›¾</li>
<li>åˆå§‹åŒ–å˜é‡</li>
<li>å¼€å§‹æ’é˜Ÿ</li>
<li>å¤„ç†å¼‚å¸¸</li>
<li>åˆ›å»ºæ£€æŸ¥ç‚¹æ–‡ä»¶å¹¶ä»æ•…éšœä¸­æ¢å¤</li>
<li>ä¿å­˜ TensorBoard çš„æ‘˜è¦</li>
</ul></li>
</ul>
<h3 id="ä»ä½¿ç”¨è§’åº¦">ä»ä½¿ç”¨è§’åº¦</h3>
<ul>
<li><strong>å­¦ä¹ æµç¨‹</strong>ï¼šEstimator å°è£…äº†å¯¹æœºå™¨å­¦ä¹ ä¸åŒé˜¶æ®µçš„æ§åˆ¶ï¼Œç”¨æˆ·æ— éœ€ä¸æ–­çš„ä¸ºæ–°æœºå™¨å­¦ä¹ ä»»åŠ¡é‡å¤ç¼–å†™è®­ç»ƒã€è¯„ä¼°ã€é¢„æµ‹çš„ä»£ç ã€‚å¯ä»¥ä¸“æ³¨äºå¯¹ç½‘ç»œç»“æ„çš„æ§åˆ¶ã€‚</li>
<li><strong>ç½‘ç»œç»“æ„</strong>ï¼šEstimator çš„ç½‘ç»œç»“æ„æ˜¯åœ¨ model_fn ä¸­ç‹¬ç«‹å®šä¹‰çš„ï¼Œç”¨æˆ·åˆ›å»ºçš„ä»»ä½•ç½‘ç»œç»“æ„éƒ½å¯ä»¥åœ¨ Estimator çš„æ§åˆ¶ä¸‹è¿›è¡Œæœºå™¨å­¦ä¹ ã€‚è¿™å¯ä»¥å…è®¸ç”¨æˆ·å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨åˆ«äººå®šä¹‰å¥½çš„ model_fnã€‚</li>
<li><strong>æ•°æ®å¯¼å…¥</strong>ï¼šEstimator çš„æ•°æ®å¯¼å…¥ä¹Ÿæ˜¯ç”± input_fn ç‹¬ç«‹å®šä¹‰çš„ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥éå¸¸æ–¹ä¾¿çš„åªé€šè¿‡æ”¹å˜ input_fn çš„å®šä¹‰ï¼Œæ¥ä½¿ç”¨ç›¸åŒçš„ç½‘ç»œç»“æ„å­¦ä¹ ä¸åŒçš„æ•°æ®ã€‚</li>
</ul>
<p>ä½¿ç”¨ Estimator ç¼–å†™åº”ç”¨æ—¶ï¼Œæ‚¨å¿…é¡»å°†æ•°æ®è¾“å…¥ç®¡é“ä»æ¨¡å‹ä¸­åˆ†ç¦»å‡ºæ¥ã€‚è¿™ç§åˆ†ç¦»ç®€åŒ–äº†ä¸åŒæ•°æ®é›†çš„å®éªŒæµç¨‹ã€‚</p>
<h2 id="é¢„åˆ›å»ºçš„-estimator-ç¨‹åºçš„ç»“æ„">é¢„åˆ›å»ºçš„ Estimator ç¨‹åºçš„ç»“æ„</h2>
<p>ä¾èµ–é¢„åˆ›å»ºçš„ Estimator çš„ TensorFlow ç¨‹åºé€šå¸¸åŒ…å«ä¸‹åˆ—å››ä¸ªæ­¥éª¤ï¼š</p>
<ol type="1">
<li><p><strong>ç¼–å†™ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®é›†å¯¼å…¥å‡½æ•°ã€‚</strong> ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥å¯¼å…¥è®­ç»ƒé›†ï¼Œå¹¶åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°æ¥å¯¼å…¥æµ‹è¯•é›†ã€‚æ¯ä¸ªæ•°æ®é›†å¯¼å…¥å‡½æ•°éƒ½å¿…é¡»è¿”å›ä¸¤ä¸ªå¯¹è±¡ï¼š</p>
<ul>
<li>ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­é”®æ˜¯ç‰¹å¾åç§°ï¼Œå€¼æ˜¯åŒ…å«ç›¸åº”ç‰¹å¾æ•°æ®çš„å¼ é‡ï¼ˆæˆ– SparseTensorï¼‰</li>
<li>ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡ç­¾çš„å¼ é‡</li>
</ul></li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">input_fn</span>(<span class="params">dataset</span>):</span></span><br><span class="line">   ...  <span class="comment"># manipulate dataset, extracting the feature dict and the label</span></span><br><span class="line">   <span class="keyword">return</span> feature_dict, label</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li><strong>å®šä¹‰ç‰¹å¾åˆ—ã€‚</strong> æ¯ä¸ª <a href="https://www.tensorflow.org/api_docs/python/tf/feature_column?hl=zh-cn"><code>tf.feature_column</code></a> éƒ½æ ‡è¯†äº†ç‰¹å¾åç§°ã€ç‰¹å¾ç±»å‹å’Œä»»ä½•è¾“å…¥é¢„å¤„ç†æ“ä½œã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç æ®µåˆ›å»ºäº†ä¸‰ä¸ªå­˜å‚¨æ•´æ•°æˆ–æµ®ç‚¹æ•°æ®çš„ç‰¹å¾åˆ—ã€‚å‰ä¸¤ä¸ªç‰¹å¾åˆ—ä»…æ ‡è¯†äº†ç‰¹å¾çš„åç§°å’Œç±»å‹ã€‚ç¬¬ä¸‰ä¸ªç‰¹å¾åˆ—è¿˜æŒ‡å®šäº†ä¸€ä¸ª lambdaï¼Œè¯¥ç¨‹åºå°†è°ƒç”¨æ­¤ lambda æ¥è°ƒèŠ‚åŸå§‹æ•°æ®ï¼š</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Define three numeric feature columns.</span></span><br><span class="line">population = tf.feature_column.numeric_column(<span class="string">&#x27;population&#x27;</span>)</span><br><span class="line">crime_rate = tf.feature_column.numeric_column(<span class="string">&#x27;crime_rate&#x27;</span>)</span><br><span class="line">median_education = tf.feature_column.numeric_column(<span class="string">&#x27;median_education&#x27;</span>,</span><br><span class="line">                    normalizer_fn=<span class="keyword">lambda</span> x: x - global_education_mean)</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li><strong>å®ä¾‹åŒ–ç›¸å…³çš„é¢„åˆ›å»ºçš„ Estimatorã€‚</strong> ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯å¯¹åä¸º <code>LinearClassifier</code> çš„é¢„åˆ›å»º Estimator è¿›è¡Œå®ä¾‹åŒ–çš„ç¤ºä¾‹ä»£ç ï¼š</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Instantiate an estimator, passing the feature columns.</span></span><br><span class="line">estimator = tf.estimator.LinearClassifier(</span><br><span class="line">    feature_columns=[population, crime_rate, median_education],</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<ol start="4" type="1">
<li><strong>è°ƒç”¨è®­ç»ƒã€è¯„ä¼°æˆ–æ¨ç†æ–¹æ³•ã€‚</strong>ä¾‹å¦‚ï¼Œæ‰€æœ‰ Estimator éƒ½æä¾›è®­ç»ƒæ¨¡å‹çš„ <code>train</code> æ–¹æ³•ã€‚ <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># my_training_set is the function created in Step 1 estimator.train(input_fn=my_training_set, steps=2000)</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="experiment">Experiment</h2>
<p>The <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/Experiment"><strong>Experiment</strong></a> class defines how to train a model and integrates nicely with the Estimator. We can create an experiment as follows:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">experiment = tf.contrib.learn.Experiment(</span><br><span class="line">    estimator=estimator,  <span class="comment"># Estimator</span></span><br><span class="line">    train_input_fn=train_input_fn,  <span class="comment"># First-class function</span></span><br><span class="line">    eval_input_fn=eval_input_fn,  <span class="comment"># First-class function</span></span><br><span class="line">    train_steps=params.train_steps,  <span class="comment"># Minibatch steps</span></span><br><span class="line">    min_eval_frequency=params.min_eval_frequency,  <span class="comment"># Eval frequency</span></span><br><span class="line">    train_monitors=[train_input_hook],  <span class="comment"># Hooks for training</span></span><br><span class="line">    eval_hooks=[eval_input_hook],  <span class="comment"># Hooks for evaluation</span></span><br><span class="line">    eval_steps=<span class="literal">None</span>  <span class="comment"># Use evaluation feeder until its empty</span></span><br><span class="line">)</span><br><span class="line">view raw</span><br></pre></td></tr></table></figure>
<p>The Experiment takes as input:</p>
<ul>
<li>An <strong>estimator</strong> (for example the one we defined above).</li>
<li><strong>Train and evaluation data</strong> as a <a href="https://en.wikipedia.org/wiki/First-class_function">first-class function</a>. The same concept as the model function explained earlier is used here. By passing in a function instead of operation, the input graph can be recreated if needed. Weâ€™ll talk more about this later.</li>
<li><a href="https://www.tensorflow.org/api_guides/python/train#Training_Hooks"><strong>Training and Evaluating hooks</strong></a>. These hooks can be used to save or monitor specific things, or to set up certain operations in the Graph or Session. For example, we will be passing in operations to help initialize the data loaders (again, more later).</li>
<li>Various parameters describing how long to train for and when to evaluate.</li>
</ul>
<p>Once we have defined the experiment, we can run it to train and evaluate the model with <a href="http://tf.contrib.learn.learn_runner.run/">learn_runner.run</a> as follows:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">learn_runner.run(</span><br><span class="line">    experiment_fn=experiment_fn,  <span class="comment"># First-class function</span></span><br><span class="line">    run_config=run_config,  <span class="comment"># RunConfig</span></span><br><span class="line">    schedule=<span class="string">&quot;train_and_evaluate&quot;</span>,  <span class="comment"># What to run</span></span><br><span class="line">    hparams=params  <span class="comment"># HParams</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Like the model function and the data functions, the learn runner takes in the function that creates the experiment as a parameter.</p>
<h3 id="dataset">Dataset</h3>
<p>Weâ€™ll be using the <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/data/Dataset"><strong>Dataset</strong></a> class and the corresponding <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/data/Iterator"><strong>Iterator</strong></a> to represent our training and evaluation data, and to create data feeders that iterate over the data during training. In this example, we will use the <a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/tutorials/mnist">MNIST</a> data thatâ€™s available in Tensorflow, and build a Dataset wrapper around it. For example, we will represent the training input data as:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Define the training inputs</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_train_inputs</span>(<span class="params">batch_size, mnist_data</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the input function to get the training data.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        batch_size (int): Batch size of training iterator that is returned</span></span><br><span class="line"><span class="string">                          by the input function.</span></span><br><span class="line"><span class="string">        mnist_data (Object): Object holding the loaded mnist data.</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        (Input function, IteratorInitializerHook):</span></span><br><span class="line"><span class="string">            - Function that returns (features, labels) when called.</span></span><br><span class="line"><span class="string">            - Hook to initialise input iterator.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    iterator_initializer_hook = IteratorInitializerHook()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">train_inputs</span>():</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Returns training set as Operations.</span></span><br><span class="line"><span class="string">        Returns:</span></span><br><span class="line"><span class="string">            (features, labels) Operations that iterate over the dataset</span></span><br><span class="line"><span class="string">            on every evaluation</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">with</span> tf.name_scope(<span class="string">&#x27;Training_data&#x27;</span>):</span><br><span class="line">            <span class="comment"># Get Mnist data</span></span><br><span class="line">            images = mnist_data.train.images.reshape([-<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>])</span><br><span class="line">            labels = mnist_data.train.labels</span><br><span class="line">            <span class="comment"># Define placeholders</span></span><br><span class="line">            images_placeholder = tf.placeholder(</span><br><span class="line">                images.dtype, images.shape)</span><br><span class="line">            labels_placeholder = tf.placeholder(</span><br><span class="line">                labels.dtype, labels.shape)</span><br><span class="line">            <span class="comment"># Build dataset iterator</span></span><br><span class="line">            dataset = tf.contrib.data.Dataset.from_tensor_slices(</span><br><span class="line">                (images_placeholder, labels_placeholder))</span><br><span class="line">            dataset = dataset.repeat(<span class="literal">None</span>)  <span class="comment"># Infinite iterations</span></span><br><span class="line">            dataset = dataset.shuffle(buffer_size=<span class="number">10000</span>)</span><br><span class="line">            dataset = dataset.batch(batch_size)</span><br><span class="line">            iterator = dataset.make_initializable_iterator()</span><br><span class="line">            next_example, next_label = iterator.get_next()</span><br><span class="line">            <span class="comment"># Set runhook to initialize iterator</span></span><br><span class="line">            iterator_initializer_hook.iterator_initializer_func = \</span><br><span class="line">                <span class="keyword">lambda</span> sess: sess.run(</span><br><span class="line">                    iterator.initializer,</span><br><span class="line">                    feed_dict=&#123;images_placeholder: images,</span><br><span class="line">                               labels_placeholder: labels&#125;)</span><br><span class="line">            <span class="comment"># Return batched (features, labels)</span></span><br><span class="line">            <span class="keyword">return</span> next_example, next_label</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Return function and hook</span></span><br><span class="line">    <span class="keyword">return</span> train_inputs, iterator_initializer_hook</span><br></pre></td></tr></table></figure>
<p>Calling this <em>get_train_inputs</em> will return a <a href="https://en.wikipedia.org/wiki/First-class_function">first-class function</a> that creates the data loading operations in a TensorFlow graph, together with a Hook to initialize the iterator.</p>
<p>The MNIST data used in this example is initially represented as a <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html">Numpy array</a>. We create a <a href="https://www.tensorflow.org/api_docs/python/tf/placeholder">placeholder</a> tensor that gets the data fed in; we use a placeholder in order to avoid copying the data. Next, we create a sliced dataset with the help of <em>from_tensor_slices.</em> We will make sure that this dataset runs for an infinite amount of epochs (the experiment can take care of limiting the number of epochs), and that the data gets shuffled and put into batches of the required size.</p>
<p>To iterate over the data we need to create an iterator from the dataset. Because we are using a placeholder we need to initialize the placeholder in the relevant session with the NumPy data. We can do this by creating an <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/data/Dataset#make_initializable_iterator">initializable iterator</a>. We will create a custom defined _IteratorInitializerHook _object to initialize the iterator when the graph is created:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IteratorInitializerHook</span>(<span class="params">tf.train.SessionRunHook</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Hook to initialise data iterator after Session is created.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(IteratorInitializerHook, self).__init__()</span><br><span class="line">        self.iterator_initializer_func = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">after_create_session</span>(<span class="params">self, session, coord</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Initialise the iterator after the session has been created.&quot;&quot;&quot;</span></span><br><span class="line">        self.iterator_initializer_func(session)</span><br></pre></td></tr></table></figure>
<p>The <em>IteratorInitializerHook</em> inherits from <a href="https://www.tensorflow.org/api_docs/python/tf/train/SessionRunHook"><strong>SessionRunHook</strong></a>. This hook will call <em>after_create_session</em> as soon as the relevant session is created, and initialize the placeholder with the right data. This hook is returned by our <em>get_train_inputs</em> function and will be passed to the Experiment object upon creation.</p>
<p>The data loading operations returned by the <em>train_inputs</em> function are TensorFlow <a href="https://www.tensorflow.org/api_docs/python/tf/Operation">operations</a> that will return a new batch every time they are evaluated.</p>
<h2 id="å¼•ç”¨">å¼•ç”¨</h2>
<ol type="1">
<li><a href="https://medium.com/onfido-tech/higher-level-apis-in-tensorflow-67bfb602e6c0">Higher-Level APIs in TensorFlow</a></li>
<li><a href="https://www.tensorflow.org/guide/estimators?hl=zh-cn">TensorFlow Estimator</a></li>
<li><a href="https://juejin.im/post/59b4cc816fb9a00a6974c5a3">å¦‚ä½•ä½¿ç”¨TensorFlowä¸­çš„é«˜çº§APIï¼šEstimatorã€Experimentå’ŒDataset</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/33681224">TensorFlowé«˜å±‚APIï¼šCustom Estimatorå»ºç«‹CNN+RNN</a></li>
<li>There is a paper called <a href="https://terrytangyuan.github.io/data/papers/tf-estimators-kdd-paper.pdf">â€œTensorFlow Estimators: Managing Simplicity vs. Flexibility in High-Level Machine Learning Frameworksâ€</a> describing the high level-design of the Estimator framework.</li>
<li><a href="https://www.tensorflow.org/versions/r1.3/programmers_guide/datasets">TensorFlow has more documentation on using the Dataset API</a>.</li>
<li>There are 2 versions of the Estimator class. We are using the one at <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/Estimator">tf.estimator.Estimator</a> in this example, but there is also an older unstable version at <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/Estimator">tf.contrib.learn.Estimator</a>.</li>
<li>There are also 2 versions of the RunConfig class. While we are using the one at <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/RunConfig">tf.contrib.learn.RunConfig</a> there is also a version at <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/RunConfig">tf.estimator.RunConfig</a>. I couldnâ€™t get the latter one to work with the Experiment framework so I stuck with the tf.contrib version.</li>
<li>While we didnâ€™t use them in this example, the Estimator framework defines predefined estimators for typical models such as <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/DNNClassifier">classifiers</a> and <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/DNNRegressor">regressors</a>. These predefined estimators are easy to use and come with a <a href="https://www.tensorflow.org/extend/estimators">detailed tutorial</a>.</li>
<li>TensorFlow also defines an abstraction for the â€œheadâ€ of a model, the part that sits on top of the architecture and defines the loss, evaluation and training operations. This head will take care of things like defining the model function, and all the required Operations. You can find a version at <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/Head">tf.contrib.learn.Head</a>. There is also a <a href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/estimator/canned/head.py">prototype version</a> in the newer estimator framework. We decided not to use it in this example due to its development being quite unstable.</li>
<li>This blog uses the TensorFlow <a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/slim">slim</a> framework to define the architecture of the model. Slim is a lightweight library for defining complex models in tensorflow. They also define <a href="https://github.com/tensorflow/models/tree/master/slim">pre-defined architectures and pre-trained models</a>.</li>
</ol>
<h2 id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç </h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;Script to illustrate usage of tf.estimator.Estimator in TF v1.3&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> tensorflow.examples.tutorials.mnist <span class="keyword">import</span> input_data <span class="keyword">as</span> mnist_data</span><br><span class="line"><span class="keyword">from</span> tensorflow.contrib <span class="keyword">import</span> slim</span><br><span class="line"><span class="keyword">from</span> tensorflow.contrib.learn <span class="keyword">import</span> ModeKeys</span><br><span class="line"><span class="keyword">from</span> tensorflow.contrib.learn <span class="keyword">import</span> learn_runner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Show debugging output</span></span><br><span class="line">tf.logging.set_verbosity(tf.logging.DEBUG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set default flags for the output directories</span></span><br><span class="line">FLAGS = tf.app.flags.FLAGS</span><br><span class="line">tf.app.flags.DEFINE_string(</span><br><span class="line">    flag_name=<span class="string">&#x27;model_dir&#x27;</span>, default_value=<span class="string">&#x27;./mnist_training&#x27;</span>,</span><br><span class="line">    docstring=<span class="string">&#x27;Output directory for model and training stats.&#x27;</span>)</span><br><span class="line">tf.app.flags.DEFINE_string(</span><br><span class="line">    flag_name=<span class="string">&#x27;data_dir&#x27;</span>, default_value=<span class="string">&#x27;./mnist_data&#x27;</span>,</span><br><span class="line">    docstring=<span class="string">&#x27;Directory to download the data to.&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define and run experiment ###############################</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_experiment</span>(<span class="params">argv=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Run the training experiment.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># Define model parameters</span></span><br><span class="line">    params = tf.contrib.training.HParams(</span><br><span class="line">        learning_rate=<span class="number">0.002</span>,</span><br><span class="line">        n_classes=<span class="number">10</span>,</span><br><span class="line">        train_steps=<span class="number">5000</span>,</span><br><span class="line">        min_eval_frequency=<span class="number">100</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Set the run_config and the directory to save the model and stats</span></span><br><span class="line">    run_config = tf.contrib.learn.RunConfig()</span><br><span class="line">    run_config = run_config.replace(model_dir=FLAGS.model_dir)</span><br><span class="line"></span><br><span class="line">    learn_runner.run(</span><br><span class="line">        experiment_fn=experiment_fn,  <span class="comment"># First-class function</span></span><br><span class="line">        run_config=run_config,  <span class="comment"># RunConfig</span></span><br><span class="line">        schedule=<span class="string">&quot;train_and_evaluate&quot;</span>,  <span class="comment"># What to run</span></span><br><span class="line">        hparams=params  <span class="comment"># HParams</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">experiment_fn</span>(<span class="params">run_config, params</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Create an experiment to train and evaluate the model.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        run_config (RunConfig): Configuration for Estimator run.</span></span><br><span class="line"><span class="string">        params (HParam): Hyperparameters</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        (Experiment) Experiment for training the mnist model.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># You can change a subset of the run_config properties as</span></span><br><span class="line">    run_config = run_config.replace(</span><br><span class="line">        save_checkpoints_steps=params.min_eval_frequency)</span><br><span class="line">    <span class="comment"># Define the mnist classifier</span></span><br><span class="line">    estimator = get_estimator(run_config, params)</span><br><span class="line">    <span class="comment"># Setup data loaders</span></span><br><span class="line">    mnist = mnist_data.read_data_sets(FLAGS.data_dir, one_hot=<span class="literal">False</span>)</span><br><span class="line">    train_input_fn, train_input_hook = get_train_inputs(</span><br><span class="line">        batch_size=<span class="number">128</span>, mnist_data=mnist)</span><br><span class="line">    eval_input_fn, eval_input_hook = get_test_inputs(</span><br><span class="line">        batch_size=<span class="number">128</span>, mnist_data=mnist)</span><br><span class="line">    <span class="comment"># Define the experiment</span></span><br><span class="line">    experiment = tf.contrib.learn.Experiment(</span><br><span class="line">        estimator=estimator,  <span class="comment"># Estimator</span></span><br><span class="line">        train_input_fn=train_input_fn,  <span class="comment"># First-class function</span></span><br><span class="line">        eval_input_fn=eval_input_fn,  <span class="comment"># First-class function</span></span><br><span class="line">        train_steps=params.train_steps,  <span class="comment"># Minibatch steps</span></span><br><span class="line">        min_eval_frequency=params.min_eval_frequency,  <span class="comment"># Eval frequency</span></span><br><span class="line">        train_monitors=[train_input_hook],  <span class="comment"># Hooks for training</span></span><br><span class="line">        eval_hooks=[eval_input_hook],  <span class="comment"># Hooks for evaluation</span></span><br><span class="line">        eval_steps=<span class="literal">None</span>  <span class="comment"># Use evaluation feeder until its empty</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> experiment</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define model ############################################</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_estimator</span>(<span class="params">run_config, params</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the model as a Tensorflow Estimator object.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">         run_config (RunConfig): Configuration for Estimator run.</span></span><br><span class="line"><span class="string">         params (HParams): hyperparameters.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> tf.estimator.Estimator(</span><br><span class="line">        model_fn=model_fn,  <span class="comment"># First-class function</span></span><br><span class="line">        params=params,  <span class="comment"># HParams</span></span><br><span class="line">        config=run_config  <span class="comment"># RunConfig</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">model_fn</span>(<span class="params">features, labels, mode, params</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Model function used in the estimator.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        features (Tensor): Input features to the model.</span></span><br><span class="line"><span class="string">        labels (Tensor): Labels tensor for training and evaluation.</span></span><br><span class="line"><span class="string">        mode (ModeKeys): Specifies if training, evaluation or prediction.</span></span><br><span class="line"><span class="string">        params (HParams): hyperparameters.</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        (EstimatorSpec): Model to be run by Estimator.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    is_training = mode == ModeKeys.TRAIN</span><br><span class="line">    <span class="comment"># Define model&#x27;s architecture</span></span><br><span class="line">    logits = architecture(features, is_training=is_training)</span><br><span class="line">    predictions = tf.argmax(logits, axis=-<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># Loss, training and eval operations are not needed during inference.</span></span><br><span class="line">    loss = <span class="literal">None</span></span><br><span class="line">    train_op = <span class="literal">None</span></span><br><span class="line">    eval_metric_ops = &#123;&#125;</span><br><span class="line">    <span class="keyword">if</span> mode != ModeKeys.INFER:</span><br><span class="line">        loss = tf.losses.sparse_softmax_cross_entropy(</span><br><span class="line">            labels=tf.cast(labels, tf.int32),</span><br><span class="line">            logits=logits)</span><br><span class="line">        train_op = get_train_op_fn(loss, params)</span><br><span class="line">        eval_metric_ops = get_eval_metric_ops(labels, predictions)</span><br><span class="line">    <span class="keyword">return</span> tf.estimator.EstimatorSpec(</span><br><span class="line">        mode=mode,</span><br><span class="line">        predictions=predictions,</span><br><span class="line">        loss=loss,</span><br><span class="line">        train_op=train_op,</span><br><span class="line">        eval_metric_ops=eval_metric_ops</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_train_op_fn</span>(<span class="params">loss, params</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Get the training Op.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">         loss (Tensor): Scalar Tensor that represents the loss function.</span></span><br><span class="line"><span class="string">         params (HParams): Hyperparameters (needs to have `learning_rate`)</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        Training Op</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> tf.contrib.layers.optimize_loss(</span><br><span class="line">        loss=loss,</span><br><span class="line">        global_step=tf.contrib.framework.get_global_step(),</span><br><span class="line">        optimizer=tf.train.AdamOptimizer,</span><br><span class="line">        learning_rate=params.learning_rate</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_eval_metric_ops</span>(<span class="params">labels, predictions</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return a dict of the evaluation Ops.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        labels (Tensor): Labels tensor for training and evaluation.</span></span><br><span class="line"><span class="string">        predictions (Tensor): Predictions Tensor.</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        Dict of metric results keyed by name.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&#x27;Accuracy&#x27;</span>: tf.metrics.accuracy(</span><br><span class="line">            labels=labels,</span><br><span class="line">            predictions=predictions,</span><br><span class="line">            name=<span class="string">&#x27;accuracy&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">architecture</span>(<span class="params">inputs, is_training, scope=<span class="string">&#x27;MnistConvNet&#x27;</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the output operation following the network architecture.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        inputs (Tensor): Input Tensor</span></span><br><span class="line"><span class="string">        is_training (bool): True iff in training mode</span></span><br><span class="line"><span class="string">        scope (str): Name of the scope of the architecture</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">         Logits output Op for the network.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> tf.variable_scope(scope):</span><br><span class="line">        <span class="keyword">with</span> slim.arg_scope(</span><br><span class="line">                [slim.conv2d, slim.fully_connected],</span><br><span class="line">                weights_initializer=tf.contrib.layers.xavier_initializer()):</span><br><span class="line">            net = slim.conv2d(inputs, <span class="number">20</span>, [<span class="number">5</span>, <span class="number">5</span>], padding=<span class="string">&#x27;VALID&#x27;</span>,</span><br><span class="line">                              scope=<span class="string">&#x27;conv1&#x27;</span>)</span><br><span class="line">            net = slim.max_pool2d(net, <span class="number">2</span>, stride=<span class="number">2</span>, scope=<span class="string">&#x27;pool2&#x27;</span>)</span><br><span class="line">            net = slim.conv2d(net, <span class="number">40</span>, [<span class="number">5</span>, <span class="number">5</span>], padding=<span class="string">&#x27;VALID&#x27;</span>,</span><br><span class="line">                              scope=<span class="string">&#x27;conv3&#x27;</span>)</span><br><span class="line">            net = slim.max_pool2d(net, <span class="number">2</span>, stride=<span class="number">2</span>, scope=<span class="string">&#x27;pool4&#x27;</span>)</span><br><span class="line">            net = tf.reshape(net, [-<span class="number">1</span>, <span class="number">4</span> * <span class="number">4</span> * <span class="number">40</span>])</span><br><span class="line">            net = slim.fully_connected(net, <span class="number">256</span>, scope=<span class="string">&#x27;fn5&#x27;</span>)</span><br><span class="line">            net = slim.dropout(net, is_training=is_training,</span><br><span class="line">                               scope=<span class="string">&#x27;dropout5&#x27;</span>)</span><br><span class="line">            net = slim.fully_connected(net, <span class="number">256</span>, scope=<span class="string">&#x27;fn6&#x27;</span>)</span><br><span class="line">            net = slim.dropout(net, is_training=is_training,</span><br><span class="line">                               scope=<span class="string">&#x27;dropout6&#x27;</span>)</span><br><span class="line">            net = slim.fully_connected(net, <span class="number">10</span>, scope=<span class="string">&#x27;output&#x27;</span>,</span><br><span class="line">                                       activation_fn=<span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">return</span> net</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define data loaders #####################################</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IteratorInitializerHook</span>(<span class="params">tf.train.SessionRunHook</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Hook to initialise data iterator after Session is created.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(IteratorInitializerHook, self).__init__()</span><br><span class="line">        self.iterator_initializer_func = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">after_create_session</span>(<span class="params">self, session, coord</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Initialise the iterator after the session has been created.&quot;&quot;&quot;</span></span><br><span class="line">        self.iterator_initializer_func(session)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define the training inputs</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_train_inputs</span>(<span class="params">batch_size, mnist_data</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the input function to get the training data.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        batch_size (int): Batch size of training iterator that is returned</span></span><br><span class="line"><span class="string">                          by the input function.</span></span><br><span class="line"><span class="string">        mnist_data (Object): Object holding the loaded mnist data.</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        (Input function, IteratorInitializerHook):</span></span><br><span class="line"><span class="string">            - Function that returns (features, labels) when called.</span></span><br><span class="line"><span class="string">            - Hook to initialise input iterator.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    iterator_initializer_hook = IteratorInitializerHook()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">train_inputs</span>():</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Returns training set as Operations.</span></span><br><span class="line"><span class="string">        Returns:</span></span><br><span class="line"><span class="string">            (features, labels) Operations that iterate over the dataset</span></span><br><span class="line"><span class="string">            on every evaluation</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">with</span> tf.name_scope(<span class="string">&#x27;Training_data&#x27;</span>):</span><br><span class="line">            <span class="comment"># Get Mnist data</span></span><br><span class="line">            images = mnist_data.train.images.reshape([-<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>])</span><br><span class="line">            labels = mnist_data.train.labels</span><br><span class="line">            <span class="comment"># Define placeholders</span></span><br><span class="line">            images_placeholder = tf.placeholder(</span><br><span class="line">                images.dtype, images.shape)</span><br><span class="line">            labels_placeholder = tf.placeholder(</span><br><span class="line">                labels.dtype, labels.shape)</span><br><span class="line">            <span class="comment"># Build dataset iterator</span></span><br><span class="line">            dataset = tf.contrib.data.Dataset.from_tensor_slices(</span><br><span class="line">                (images_placeholder, labels_placeholder))</span><br><span class="line">            dataset = dataset.repeat(<span class="literal">None</span>)  <span class="comment"># Infinite iterations</span></span><br><span class="line">            dataset = dataset.shuffle(buffer_size=<span class="number">10000</span>)</span><br><span class="line">            dataset = dataset.batch(batch_size)</span><br><span class="line">            iterator = dataset.make_initializable_iterator()</span><br><span class="line">            next_example, next_label = iterator.get_next()</span><br><span class="line">            <span class="comment"># Set runhook to initialize iterator</span></span><br><span class="line">            iterator_initializer_hook.iterator_initializer_func = \</span><br><span class="line">                <span class="keyword">lambda</span> sess: sess.run(</span><br><span class="line">                    iterator.initializer,</span><br><span class="line">                    feed_dict=&#123;images_placeholder: images,</span><br><span class="line">                               labels_placeholder: labels&#125;)</span><br><span class="line">            <span class="comment"># Return batched (features, labels)</span></span><br><span class="line">            <span class="keyword">return</span> next_example, next_label</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Return function and hook</span></span><br><span class="line">    <span class="keyword">return</span> train_inputs, iterator_initializer_hook</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_test_inputs</span>(<span class="params">batch_size, mnist_data</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Return the input function to get the test data.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        batch_size (int): Batch size of training iterator that is returned</span></span><br><span class="line"><span class="string">                          by the input function.</span></span><br><span class="line"><span class="string">        mnist_data (Object): Object holding the loaded mnist data.</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        (Input function, IteratorInitializerHook):</span></span><br><span class="line"><span class="string">            - Function that returns (features, labels) when called.</span></span><br><span class="line"><span class="string">            - Hook to initialise input iterator.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    iterator_initializer_hook = IteratorInitializerHook()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_inputs</span>():</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Returns training set as Operations.</span></span><br><span class="line"><span class="string">        Returns:</span></span><br><span class="line"><span class="string">            (features, labels) Operations that iterate over the dataset</span></span><br><span class="line"><span class="string">            on every evaluation</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">with</span> tf.name_scope(<span class="string">&#x27;Test_data&#x27;</span>):</span><br><span class="line">            <span class="comment"># Get Mnist data</span></span><br><span class="line">            images = mnist_data.test.images.reshape([-<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>])</span><br><span class="line">            labels = mnist_data.test.labels</span><br><span class="line">            <span class="comment"># Define placeholders</span></span><br><span class="line">            images_placeholder = tf.placeholder(</span><br><span class="line">                images.dtype, images.shape)</span><br><span class="line">            labels_placeholder = tf.placeholder(</span><br><span class="line">                labels.dtype, labels.shape)</span><br><span class="line">            <span class="comment"># Build dataset iterator</span></span><br><span class="line">            dataset = tf.contrib.data.Dataset.from_tensor_slices(</span><br><span class="line">                (images_placeholder, labels_placeholder))</span><br><span class="line">            dataset = dataset.batch(batch_size)</span><br><span class="line">            iterator = dataset.make_initializable_iterator()</span><br><span class="line">            next_example, next_label = iterator.get_next()</span><br><span class="line">            <span class="comment"># Set runhook to initialize iterator</span></span><br><span class="line">            iterator_initializer_hook.iterator_initializer_func = \</span><br><span class="line">                <span class="keyword">lambda</span> sess: sess.run(</span><br><span class="line">                    iterator.initializer,</span><br><span class="line">                    feed_dict=&#123;images_placeholder: images,</span><br><span class="line">                               labels_placeholder: labels&#125;)</span><br><span class="line">            <span class="keyword">return</span> next_example, next_label</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Return function and hook</span></span><br><span class="line">    <span class="keyword">return</span> test_inputs, iterator_initializer_hook</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Run script ##############################################</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    tf.app.run(</span><br><span class="line">        main=run_experiment</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>tensorflow</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorch Lighting å®Œå…¨æ”»ç•¥</title>
    <url>/2021/03/11/pytorch-lightning/</url>
    <content><![CDATA[<h2 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h2>
<p>Pytorch-Lightningè¿™ä¸ªåº“æˆ‘â€œå‘ç°â€è¿‡ä¸¤æ¬¡ã€‚ç¬¬ä¸€æ¬¡å‘ç°æ—¶ï¼Œæ„Ÿè§‰å®ƒå¾ˆé‡å¾ˆéš¾å­¦ï¼Œè€Œä¸”ä¼¼ä¹è‡ªå·±ä¹Ÿç”¨ä¸ä¸Šã€‚ä½†æ˜¯åé¢éšç€åšçš„é¡¹ç›®å¼€å§‹å‡ºç°äº†ä¸€äº›ç¨å¾®é«˜é˜¶çš„è¦æ±‚ï¼Œæˆ‘å‘ç°æˆ‘æ€»æ˜¯ä¸æ–­åœ°åœ¨ç›¸ä¼¼å·¥ç¨‹ä»£ç ä¸ŠèŠ±è´¹å¤§é‡æ—¶é—´ï¼ŒDebugä¹Ÿæ˜¯è¿™äº›ä»£ç èŠ±çš„æ—¶é—´æœ€å¤šï¼Œè€Œä¸”æ¸æ¸äº§ç”Ÿäº†ä¸€ä¸ªçŸ›ç›¾ä¹‹å¤„ï¼šå¦‚æœæƒ³è¦æ›´å¤šæ›´å¥½çš„åŠŸèƒ½ï¼Œå¦‚TensorBoardæ”¯æŒï¼ŒEarly Stopï¼ŒLR Schedulerï¼Œåˆ†å¸ƒå¼è®­ç»ƒï¼Œå¿«é€Ÿæµ‹è¯•ç­‰ï¼Œä»£ç å°±æ— å¯é¿å…åœ°å˜å¾—è¶Šæ¥è¶Šé•¿ï¼Œçœ‹èµ·æ¥ä¹Ÿè¶Šæ¥è¶Šä¹±ï¼ŒåŒæ—¶æ ¸å¿ƒçš„è®­ç»ƒé€»è¾‘ä¹Ÿæ¸æ¸è¢«è¿™äº›å·¥ç¨‹ä»£ç ç›–è¿‡ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œç”šè‡³èƒ½ä¸€é”®è§£å†³æ‰€æœ‰è¿™äº›é—®é¢˜å‘¢ï¼Ÿ</p>
<span id="more"></span>
<p>äºæ˜¯æˆ‘ç¬¬äºŒæ¬¡å‘ç°äº†Pytorch-Lightningã€‚</p>
<p>çœŸé¦™ã€‚</p>
<p>ä½†æ˜¯é—®é¢˜è¿˜æ˜¯æ¥äº†ã€‚è¿™ä¸ªæ¡†æ¶å¹¶æ²¡æœ‰å› ä¸ºé¦™è€Œå˜å¾—æ›´åŠ æ˜“å­¦ã€‚å®˜ç½‘çš„æ•™ç¨‹å¾ˆä¸°å¯Œï¼Œå¯ä»¥çœ‹å‡ºæ¥å¼€å‘è€…ä»¬åœ¨åŠªåŠ›åšäº†ã€‚ä½†æ˜¯å¾ˆå¤šç›¸è¿çš„çŸ¥è¯†ç‚¹éƒ½è¢«åˆ†å¸ƒåœ¨äº†ä¸åŒçš„ç‰ˆå—é‡Œï¼Œè¿˜æœ‰ä¸€äº›æ ¸å¿ƒçš„ç†è§£è¦ç‚¹å¹¶æ²¡æœ‰è¢«å¼ºè°ƒå‡ºæ¥ï¼Œè€Œæ˜¯å°å­—å¸¦è¿‡ï¼Œè¿™è®©æˆ‘æƒ³åšä¸€ä¸ªæ™®æƒ çš„æ•™ç¨‹ï¼ŒåŒ…å«æ‰€æœ‰æˆ‘åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è®¤ä¸ºé‡è¦çš„æ¦‚å¿µï¼Œå¥½ç”¨çš„å‚æ•°ï¼Œä¸€äº›æ³¨æ„ç‚¹ã€å‘ç‚¹ï¼Œå¤§é‡çš„ç¤ºä¾‹ä»£ç æ®µå’Œä¸€äº›æ ¸å¿ƒé—®é¢˜çš„é›†ä¸­è®²è§£ã€‚</p>
<p>æœ€åï¼Œç¬¬ä¸‰éƒ¨åˆ†æä¾›äº†ä¸€ä¸ªæˆ‘æ€»ç»“å‡ºæ¥çš„æ˜“ç”¨äºå¤§å‹é¡¹ç›®ã€å®¹æ˜“è¿ç§»ã€æ˜“äºå¤ç”¨çš„æ¨¡æ¿ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»<a href="https://github.com/miracleyoo/pytorch-lightning-template">GitHub</a>è¯•ç”¨ã€‚</p>
<h2 id="crucial">Crucial</h2>
<ul>
<li><p>Pytorch-Lighting çš„ä¸€å¤§ç‰¹ç‚¹æ˜¯æŠŠæ¨¡å‹å’Œç³»ç»Ÿåˆ†å¼€æ¥çœ‹ã€‚æ¨¡å‹æ˜¯åƒResnet18ï¼Œ RNNä¹‹ç±»çš„çº¯æ¨¡å‹ï¼Œ è€Œç³»ç»Ÿå®šä¹‰äº†ä¸€ç»„æ¨¡å‹å¦‚ä½•ç›¸äº’äº¤äº’ï¼Œå¦‚GANï¼ˆç”Ÿæˆå™¨ç½‘ç»œä¸åˆ¤åˆ«å™¨ç½‘ç»œï¼‰ã€Seq2Seqï¼ˆEncoderä¸Decoderç½‘ç»œï¼‰å’ŒBertã€‚åŒæ—¶ï¼Œæœ‰æ—¶å€™é—®é¢˜åªæ¶‰åŠä¸€ä¸ªæ¨¡å‹ï¼Œé‚£ä¹ˆè¿™ä¸ªç³»ç»Ÿåˆ™å¯ä»¥æ˜¯ä¸€ä¸ªé€šç”¨çš„ç³»ç»Ÿï¼Œç”¨äºæè¿°æ¨¡å‹å¦‚ä½•ä½¿ç”¨ï¼Œå¹¶å¯ä»¥è¢«å¤ç”¨åˆ°å¾ˆå¤šå…¶ä»–é¡¹ç›®ã€‚</p></li>
<li><p>Pytorch-Lighting çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯â€œè‡ªç»™è‡ªè¶³â€ã€‚æ¯ä¸ªç½‘ç»œä¹ŸåŒæ—¶åŒ…å«äº†å¦‚ä½•è®­ç»ƒã€å¦‚ä½•æµ‹è¯•ã€ä¼˜åŒ–å™¨å®šä¹‰ç­‰å†…å®¹ã€‚</p></li>
</ul>
<figure>
<img src="/2021/03/11/pytorch-lightning/plres.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<h2 id="æ¨èä½¿ç”¨æ–¹æ³•">æ¨èä½¿ç”¨æ–¹æ³•</h2>
<p>è¿™ä¸€éƒ¨åˆ†æ”¾åœ¨æœ€å‰é¢ï¼Œå› ä¸ºå…¨æ–‡å†…å®¹å¤ªé•¿ï¼Œå¦‚æœæ”¾åé¢å®¹æ˜“å¿½ç•¥æ‰è¿™éƒ¨åˆ†ç²¾åã€‚</p>
<p>Pytorch-Lightning æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åº“ï¼Œæˆ–è€…è¯´æ˜¯pytorchçš„æŠ½è±¡å’ŒåŒ…è£…ã€‚å®ƒçš„å¥½å¤„æ˜¯å¯å¤ç”¨æ€§å¼ºï¼Œæ˜“ç»´æŠ¤ï¼Œé€»è¾‘æ¸…æ™°ç­‰ã€‚ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªåŒ…éœ€è¦å­¦ä¹ å’Œç†è§£çš„å†…å®¹è¿˜æ˜¯æŒºå¤šçš„ï¼Œæˆ–è€…æ¢å¥è¯è¯´ï¼Œå¾ˆé‡ã€‚å¦‚æœç›´æ¥æŒ‰ç…§å®˜æ–¹çš„æ¨¡æ¿å†™ä»£ç ï¼Œå°å‹projectè¿˜å¥½ï¼Œå¦‚æœæ˜¯å¤§å‹é¡¹ç›®ï¼Œæœ‰å¤æ•°ä¸ªéœ€è¦è°ƒè¯•éªŒè¯çš„æ¨¡å‹å’Œæ•°æ®é›†ï¼Œé‚£å°±ä¸å¤ªå¥½åŠï¼Œç”šè‡³æ›´åŠ éº»çƒ¦äº†ã€‚ç»è¿‡å‡ å¤©çš„æ‘¸ç´¢å’Œè°ƒè¯•ï¼Œæˆ‘æ€»ç»“å‡ºäº†ä¸‹é¢è¿™æ ·ä¸€å¥—å¥½ç”¨çš„æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å¯¹Pytorch-Lightningçš„è¿›ä¸€æ­¥æŠ½è±¡ã€‚</p>
<p>æ¬¢è¿å¤§å®¶å°è¯•è¿™ä¸€å¥—ä»£ç é£æ ¼ï¼Œå¦‚æœç”¨ä¹ æƒ¯çš„è¯è¿˜æ˜¯ç›¸å½“æ–¹ä¾¿å¤ç”¨çš„ï¼Œä¹Ÿä¸å®¹æ˜“åŠé“é€€å‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root-</span><br><span class="line">	|-data</span><br><span class="line">		|-__init__.py</span><br><span class="line">		|-data_interface.py</span><br><span class="line">		|-xxxdataset1.py</span><br><span class="line">		|-xxxdataset2.py</span><br><span class="line">		|-...</span><br><span class="line">	|-model</span><br><span class="line">		|-__init__.py</span><br><span class="line">		|-model_interface.py</span><br><span class="line">		|-xxxmodel1.py</span><br><span class="line">		|-xxxmodel2.py</span><br><span class="line">		|-...</span><br><span class="line">	|-main.py	</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå¯¹æ¯ä¸ªæ¨¡å‹ç›´æ¥ä¸Šplmoduleï¼Œå¯¹äºå·²æœ‰é¡¹ç›®ã€åˆ«äººçš„ä»£ç ç­‰çš„è½¬æ¢å°†ç›¸å½“è€—æ—¶ã€‚å¦å¤–ï¼Œè¿™æ ·çš„è¯ï¼Œä½ éœ€è¦ç»™æ¯ä¸ªæ¨¡å‹éƒ½åŠ ä¸Šä¸€äº›ç›¸ä¼¼çš„ä»£ç ï¼Œå¦‚<code>training_step</code>ï¼Œ<code>validation_step</code>ã€‚æ˜¾ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå¦‚æœçœŸçš„è¿™æ ·åšï¼Œä¸ä½†ä¸æ˜“äºç»´æŠ¤ï¼Œåè€Œå¯èƒ½ä¼šæ›´åŠ æ‚ä¹±ã€‚åŒç†ï¼Œå¦‚æœæŠŠæ¯ä¸ªæ•°æ®é›†ç±»éƒ½ç›´æ¥è½¬æ¢æˆplçš„DataModuleï¼Œä¹Ÿä¼šé¢ä¸´ç›¸ä¼¼çš„é—®é¢˜ã€‚åŸºäºè¿™æ ·çš„è€ƒé‡ï¼Œæˆ‘å»ºè®®ä½¿ç”¨ä¸Šè¿°æ¶æ„ï¼š</p>
<ul>
<li><p>ä¸»ç›®å½•ä¸‹åªæ”¾ä¸€ä¸ª<code>main.py</code>æ–‡ä»¶ã€‚</p></li>
<li><p><code>data</code>å’Œ<code>modle</code>ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸­æ”¾å…¥<code>__init__.py</code>æ–‡ä»¶ï¼ŒåšæˆåŒ…ã€‚è¿™æ ·æ–¹ä¾¿å¯¼å…¥ã€‚ä¸¤ä¸ª<code>init</code>æ–‡ä»¶åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><code>from .data_interface import DInterface</code></li>
<li><code>from .model_interface import MInterface</code></li>
</ul></li>
<li><p>åœ¨<code>data_interface</code>ä¸­å»ºç«‹ä¸€ä¸ª<code>class DInterface(pl.LightningDataModule):</code>ç”¨ä½œæ‰€æœ‰æ•°æ®é›†æ–‡ä»¶çš„æ¥å£ã€‚<code>__init__()</code>å‡½æ•°ä¸­importç›¸åº”Datasetç±»ï¼Œ<code>setup()</code>è¿›è¡Œå®ä¾‹åŒ–ï¼Œå¹¶è€è€å®å®åŠ å…¥æ‰€éœ€è¦çš„çš„<code>train_dataloader</code>, <code>val_dataloader</code>, <code>test_dataloader</code>å‡½æ•°ã€‚è¿™äº›å‡½æ•°å¾€å¾€éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œå¯ä»¥ç”¨å‡ ä¸ªè¾“å…¥argsæ§åˆ¶ä¸åŒçš„éƒ¨åˆ†ã€‚</p></li>
<li><p>åŒç†ï¼Œåœ¨<code>model_interface</code>ä¸­å»ºç«‹<code>class MInterface(pl.LightningModule):</code>ç±»ï¼Œä½œä¸ºæ¨¡å‹çš„ä¸­é—´æ¥å£ã€‚<code>__init__()</code>å‡½æ•°ä¸­importç›¸åº”æ¨¡å‹ç±»ï¼Œç„¶åè€è€å®å®åŠ å…¥<code>configure_optimizers</code>, <code>training_step</code>, <code>validation_step</code>ç­‰å‡½æ•°ï¼Œç”¨ä¸€ä¸ªæ¥å£ç±»æ§åˆ¶æ‰€æœ‰æ¨¡å‹ã€‚ä¸åŒéƒ¨åˆ†ä½¿ç”¨è¾“å…¥å‚æ•°æ§åˆ¶ã€‚</p></li>
<li><p><code>main.py</code>å‡½æ•°åªè´Ÿè´£ï¼š</p>
<ul>
<li>å®šä¹‰parserï¼Œæ·»åŠ parseé¡¹ã€‚</li>
<li>é€‰å¥½éœ€è¦çš„<code>callback</code>å‡½æ•°ä»¬ã€‚</li>
<li>å®ä¾‹åŒ–<code>MInterface</code>, <code>DInterface</code>, <code>Trainer</code>ã€‚</li>
</ul>
<p>å®Œäº‹ã€‚</p></li>
</ul>
<h2 id="lightning-module">Lightning Module</h2>
<h3 id="ç®€ä»‹">ç®€ä»‹</h3>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/lightning_module.html">ä¸»é¡µé¢</a></p>
<ul>
<li><p>ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š</p>
<ul>
<li>æ¨¡å‹</li>
<li>ä¼˜åŒ–å™¨</li>
<li>Train/Val/Testæ­¥éª¤</li>
</ul></li>
<li><p>æ•°æ®æµä¼ªä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">outs = []</span><br><span class="line"><span class="keyword">for</span> batch <span class="keyword">in</span> data:</span><br><span class="line">    out = training_step(batch)</span><br><span class="line">    outs.append(out)</span><br><span class="line">training_epoch_end(outs)</span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·Lightningä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">self, batch, batch_idx</span>):</span></span><br><span class="line">    prediction = ...</span><br><span class="line">    <span class="keyword">return</span> prediction</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_epoch_end</span>(<span class="params">self, training_step_outputs</span>):</span></span><br><span class="line">    <span class="keyword">for</span> prediction <span class="keyword">in</span> predictions:</span><br><span class="line">        <span class="comment"># do something with these</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬éœ€è¦åšçš„ï¼Œå°±æ˜¯åƒå¡«ç©ºä¸€æ ·ï¼Œå¡«è¿™äº›å‡½æ•°ã€‚</p></li>
</ul>
<h3 id="ç»„ä»¶ä¸å‡½æ•°">ç»„ä»¶ä¸å‡½æ•°</h3>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/lightning_module.html#lightningmodule-api">APIé¡µé¢</a></p>
<ul>
<li><p>ä¸€ä¸ªPytorch-Lighting æ¨¡å‹å¿…é¡»å«æœ‰çš„éƒ¨ä»¶æ˜¯ï¼š</p>
<ul>
<li><p><code>init</code>: åˆå§‹åŒ–ï¼ŒåŒ…æ‹¬æ¨¡å‹å’Œç³»ç»Ÿçš„å®šä¹‰ã€‚</p></li>
<li><p><a href="https://pytorch-lightning.readthedocs.io/en/latest/api/pytorch_lightning.core.lightning.html#pytorch_lightning.core.lightning.LightningModule.training_step"><code>training_step(self, batch, batch_idx)</code></a>: å³æ¯ä¸ªbatchçš„å¤„ç†å‡½æ•°ã€‚</p>
<blockquote>
<p>å‚æ•°ï¼š</p>
<ul>
<li><strong>batch</strong> (<a href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor"><code>Tensor</code></a> | (<a href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor"><code>Tensor</code></a>, â€¦) | [<a href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor"><code>Tensor</code></a>, â€¦]) â€“ The output of your <a href="https://pytorch.org/docs/stable/data.html#torch.utils.data.DataLoader"><code>DataLoader</code></a>. A tensor, tuple or list.</li>
<li><strong>batch_idx</strong> (<a href="https://docs.python.org/3/library/functions.html#int"><em>int</em></a>) â€“ Integer displaying index of this batch</li>
<li><strong>optimizer_idx</strong> (<a href="https://docs.python.org/3/library/functions.html#int"><em>int</em></a>) â€“ When using multiple optimizers, this argument will also be present.</li>
<li><strong>hiddens</strong> (<a href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor"><code>Tensor</code></a>) â€“ Passed in if <a href="https://pytorch-lightning.readthedocs.io/en/latest/api/pytorch_lightning.trainer.trainer.html#pytorch_lightning.trainer.trainer.Trainer.params.truncated_bptt_steps"><code>truncated_bptt_steps</code></a> &gt; 0.</li>
</ul>
<p>è¿”å›å€¼ï¼šAny of.</p>
<ul>
<li><a href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor"><code>Tensor</code></a> - The loss tensor</li>
<li><code>dict</code> - A dictionary. Can include any keys, but must include the key <code>'loss'</code></li>
<li><code>None</code> - Training will skip to the next batch</li>
</ul>
</blockquote>
<p>è¿”å›å€¼æ— è®ºå¦‚ä½•ä¹Ÿéœ€è¦æœ‰ä¸€ä¸ªlossé‡ã€‚å¦‚æœæ˜¯å­—å…¸ï¼Œè¦æœ‰è¿™ä¸ªkeyã€‚æ²¡lossè¿™ä¸ªbatchå°±è¢«è·³è¿‡äº†ã€‚ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">self, batch, batch_idx</span>):</span></span><br><span class="line">    x, y, z = batch</span><br><span class="line">    out = self.encoder(x)</span><br><span class="line">    loss = self.loss(out, x)</span><br><span class="line">    <span class="keyword">return</span> loss</span><br><span class="line"></span><br><span class="line"><span class="comment"># Multiple optimizers (e.g.: GANs)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">self, batch, batch_idx, optimizer_idx</span>):</span></span><br><span class="line">    <span class="keyword">if</span> optimizer_idx == <span class="number">0</span>:</span><br><span class="line">        <span class="comment"># do training_step with encoder</span></span><br><span class="line">    <span class="keyword">if</span> optimizer_idx == <span class="number">1</span>:</span><br><span class="line">        <span class="comment"># do training_step with decoder</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># Truncated back-propagation through time</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">self, batch, batch_idx, hiddens</span>):</span></span><br><span class="line">    <span class="comment"># hiddens are the hidden states from the previous truncated backprop step</span></span><br><span class="line">    ...</span><br><span class="line">    out, hiddens = self.lstm(data, hiddens)</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;loss&#x27;</span>: loss, <span class="string">&#x27;hiddens&#x27;</span>: hiddens&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/optimizers.html#automatic-optimization"><code>configure_optimizers</code></a>: ä¼˜åŒ–å™¨å®šä¹‰ï¼Œè¿”å›ä¸€ä¸ªä¼˜åŒ–å™¨ï¼Œæˆ–æ•°ä¸ªä¼˜åŒ–å™¨ï¼Œæˆ–ä¸¤ä¸ªListï¼ˆä¼˜åŒ–å™¨ï¼ŒSchedulerï¼‰ã€‚å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># most cases</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">configure_optimizers</span>(<span class="params">self</span>):</span></span><br><span class="line">    opt = Adam(self.parameters(), lr=<span class="number">1e-3</span>)</span><br><span class="line">    <span class="keyword">return</span> opt</span><br><span class="line"></span><br><span class="line"><span class="comment"># multiple optimizer case (e.g.: GAN)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">configure_optimizers</span>(<span class="params">self</span>):</span></span><br><span class="line">    generator_opt = Adam(self.model_gen.parameters(), lr=<span class="number">0.01</span>)</span><br><span class="line">    disriminator_opt = Adam(self.model_disc.parameters(), lr=<span class="number">0.02</span>)</span><br><span class="line">    <span class="keyword">return</span> generator_opt, disriminator_opt</span><br><span class="line"></span><br><span class="line"><span class="comment"># example with learning rate schedulers</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">configure_optimizers</span>(<span class="params">self</span>):</span></span><br><span class="line">    generator_opt = Adam(self.model_gen.parameters(), lr=<span class="number">0.01</span>)</span><br><span class="line">    disriminator_opt = Adam(self.model_disc.parameters(), lr=<span class="number">0.02</span>)</span><br><span class="line">    discriminator_sched = CosineAnnealing(discriminator_opt, T_max=<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">return</span> [generator_opt, disriminator_opt], [discriminator_sched]</span><br><span class="line"></span><br><span class="line"><span class="comment"># example with step-based learning rate schedulers</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">configure_optimizers</span>(<span class="params">self</span>):</span></span><br><span class="line">    gen_opt = Adam(self.model_gen.parameters(), lr=<span class="number">0.01</span>)</span><br><span class="line">    dis_opt = Adam(self.model_disc.parameters(), lr=<span class="number">0.02</span>)</span><br><span class="line">    gen_sched = &#123;<span class="string">&#x27;scheduler&#x27;</span>: ExponentialLR(gen_opt, <span class="number">0.99</span>),</span><br><span class="line">                 <span class="string">&#x27;interval&#x27;</span>: <span class="string">&#x27;step&#x27;</span>&#125;  <span class="comment"># called after each training step</span></span><br><span class="line">    dis_sched = CosineAnnealing(discriminator_opt, T_max=<span class="number">10</span>) <span class="comment"># called every epoch</span></span><br><span class="line">    <span class="keyword">return</span> [gen_opt, dis_opt], [gen_sched, dis_sched]</span><br><span class="line"></span><br><span class="line"><span class="comment"># example with optimizer frequencies</span></span><br><span class="line"><span class="comment"># see training procedure in `Improved Training of Wasserstein GANs`, Algorithm 1</span></span><br><span class="line"><span class="comment"># https://arxiv.org/abs/1704.00028</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">configure_optimizers</span>(<span class="params">self</span>):</span></span><br><span class="line">    gen_opt = Adam(self.model_gen.parameters(), lr=<span class="number">0.01</span>)</span><br><span class="line">    dis_opt = Adam(self.model_disc.parameters(), lr=<span class="number">0.02</span>)</span><br><span class="line">    n_critic = <span class="number">5</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &#123;<span class="string">&#x27;optimizer&#x27;</span>: dis_opt, <span class="string">&#x27;frequency&#x27;</span>: n_critic&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;optimizer&#x27;</span>: gen_opt, <span class="string">&#x27;frequency&#x27;</span>: <span class="number">1</span>&#125;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><p>å¯ä»¥æŒ‡å®šçš„éƒ¨ä»¶æœ‰ï¼š</p>
<ul>
<li><code>forward</code>: å’Œæ­£å¸¸çš„<code>nn.Module</code>ä¸€æ ·ï¼Œç”¨äºinferenceã€‚å†…éƒ¨è°ƒç”¨æ—¶ï¼š<code>y=self(batch)</code></li>
<li><code>training_step_end</code>: åªåœ¨ä½¿ç”¨å¤šä¸ªnodeè¿›è¡Œè®­ç»ƒä¸”ç»“æœæ¶‰åŠå¦‚softmaxä¹‹ç±»éœ€è¦å…¨éƒ¨è¾“å‡ºè”åˆè¿ç®—çš„æ­¥éª¤æ—¶ä½¿ç”¨è¯¥å‡½æ•°ã€‚åŒç†ï¼Œ<code>validation_step_end</code>/<code>test_step_end</code>ã€‚</li>
<li><code>training_epoch_end</code>:
<ul>
<li>åœ¨ä¸€ä¸ªè®­ç»ƒepochç»“å°¾å¤„è¢«è°ƒç”¨ã€‚</li>
<li>è¾“å…¥å‚æ•°ï¼šä¸€ä¸ªListï¼ŒListçš„å†…å®¹æ˜¯å‰é¢<code>training_step()</code>æ‰€è¿”å›çš„æ¯æ¬¡çš„å†…å®¹ã€‚</li>
<li>è¿”å›ï¼šNone</li>
</ul></li>
<li><code>validation_step(self, batch, batch_idx)</code>/<code>test_step(self, batch, batch_idx)</code>:
<ul>
<li>æ²¡æœ‰è¿”å›å€¼é™åˆ¶ï¼Œä¸ä¸€å®šéè¦è¾“å‡ºä¸€ä¸ª<code>val_loss</code>ã€‚</li>
</ul></li>
<li><code>validation_epoch_end</code>/<code>test_epoch_end</code>:</li>
</ul></li>
<li><p>å·¥å…·å‡½æ•°æœ‰ï¼š</p>
<ul>
<li><p><code>freeze</code>ï¼šå†»ç»“æ‰€æœ‰æƒé‡ä»¥ä¾›é¢„æµ‹æ—¶å€™ä½¿ç”¨ã€‚ä»…å½“å·²ç»è®­ç»ƒå®Œæˆä¸”åé¢åªæµ‹è¯•æ—¶ä½¿ç”¨ã€‚</p></li>
<li><p><code>print</code>ï¼šå°½ç®¡è‡ªå¸¦çš„<code>print</code>å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†å¦‚æœç¨‹åºè¿è¡Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿæ—¶ï¼Œä¼šæ‰“å°å¤šæ¬¡ã€‚è€Œä½¿ç”¨<code>self.print()</code>åˆ™åªä¼šæ‰“å°ä¸€æ¬¡ã€‚</p></li>
<li><p><code>log</code>ï¼šåƒæ˜¯TensorBoardç­‰logè®°å½•å™¨ï¼Œå¯¹äºæ¯ä¸ªlogçš„æ ‡é‡ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªç›¸å¯¹åº”çš„æ¨ªåæ ‡ï¼Œå®ƒå¯èƒ½æ˜¯batch numberæˆ–epoch numberã€‚è€Œ<code>on_step</code>å°±è¡¨ç¤ºæŠŠè¿™ä¸ªlogå‡ºå»çš„é‡çš„æ¨ªåæ ‡è¡¨ç¤ºä¸ºå½“å‰batchï¼Œè€Œ<code>on_epoch</code>åˆ™è¡¨ç¤ºå°†logçš„é‡åœ¨æ•´ä¸ªepochä¸Šè¿›è¡Œç´¯ç§¯ålogï¼Œæ¨ªåæ ‡ä¸ºå½“å‰epochã€‚</p>
<table>
<thead>
<tr class="header">
<th>LightningMoule Hook</th>
<th>on_step</th>
<th>on_epoch</th>
<th>prog_bar</th>
<th>logger</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>training_step</td>
<td>T</td>
<td>F</td>
<td>F</td>
<td>T</td>
</tr>
<tr class="even">
<td>training_step_end</td>
<td>T</td>
<td>F</td>
<td>F</td>
<td>T</td>
</tr>
<tr class="odd">
<td>training_epoch_end</td>
<td>F</td>
<td>T</td>
<td>F</td>
<td>T</td>
</tr>
<tr class="even">
<td>validation_step*</td>
<td>F</td>
<td>T</td>
<td>F</td>
<td>T</td>
</tr>
<tr class="odd">
<td>validation_step_end*</td>
<td>F</td>
<td>T</td>
<td>F</td>
<td>T</td>
</tr>
<tr class="even">
<td>validation_epoch_end*</td>
<td>F</td>
<td>T</td>
<td>F</td>
<td>T</td>
</tr>
</tbody>
</table>
<p><code>*</code> also applies to the test loop</p>
<blockquote>
<p>å‚æ•°</p>
<ul>
<li><strong>name</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str"><code>str</code></a>) â€“ key name</li>
<li><strong>value</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Any"><code>Any</code></a>) â€“ value name</li>
<li><strong>prog_bar</strong> (<a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a>) â€“ if True logs to the progress bar</li>
<li><strong>logger</strong> (<a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a>) â€“ if True logs to the logger</li>
<li><strong>on_step</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Optional"><code>Optional</code></a>[<a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a>]) â€“ if True logs at this step. None auto-logs at the training_step but not validation/test_step</li>
<li><strong>on_epoch</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Optional"><code>Optional</code></a>[<a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a>]) â€“ if True logs epoch accumulated metrics. None auto-logs at the val/test step but not training_step</li>
<li><strong>reduce_fx</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Callable"><code>Callable</code></a>) â€“ reduction function over step values for end of epoch. Torch.mean by default</li>
<li><strong>tbptt_reduce_fx</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Callable"><code>Callable</code></a>) â€“ function to reduce on truncated back prop</li>
<li><strong>tbptt_pad_token</strong> (<a href="https://docs.python.org/3/library/functions.html#int"><code>int</code></a>) â€“ token to use for padding</li>
<li><strong>enable_graph</strong> (<a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a>) â€“ if True, will not auto detach the graph</li>
<li><strong>sync_dist</strong> (<a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a>) â€“ if True, reduces the metric across GPUs/TPUs</li>
<li><strong>sync_dist_op</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Union"><code>Union</code></a>[<a href="https://docs.python.org/3/library/typing.html#typing.Any"><code>Any</code></a>, <a href="https://docs.python.org/3/library/stdtypes.html#str"><code>str</code></a>]) â€“ the op to sync across GPUs/TPUs</li>
<li><strong>sync_dist_group</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Optional"><code>Optional</code></a>[<a href="https://docs.python.org/3/library/typing.html#typing.Any"><code>Any</code></a>]) â€“ the ddp group</li>
</ul>
</blockquote></li>
<li><p><code>log_dict</code>ï¼šå’Œ<code>log</code>å‡½æ•°å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ï¼Œ<code>name</code>å’Œ<code>value</code>å˜é‡ç”±ä¸€ä¸ªå­—å…¸æ›¿æ¢ã€‚è¡¨ç¤ºåŒæ—¶logå¤šä¸ªå€¼ã€‚å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">values = &#123;<span class="string">&#x27;loss&#x27;</span>: loss, <span class="string">&#x27;acc&#x27;</span>: acc, ..., <span class="string">&#x27;metric_n&#x27;</span>: metric_n&#125;</span><br><span class="line">self.log_dict(values)</span><br></pre></td></tr></table></figure></li>
<li><p><code>save_hyperparameters</code>ï¼šå‚¨å­˜<code>init</code>ä¸­è¾“å…¥çš„æ‰€æœ‰è¶…å‚ã€‚åç»­è®¿é—®å¯ä»¥ç”±<code>self.hparams.argX</code>æ–¹å¼è¿›è¡Œã€‚åŒæ—¶ï¼Œè¶…å‚è¡¨ä¹Ÿä¼šè¢«å­˜åˆ°æ–‡ä»¶ä¸­ã€‚</p></li>
</ul></li>
<li><p>å‡½æ•°å†…å»ºå˜é‡ï¼š</p>
<ul>
<li><code>device</code>ï¼šå¯ä»¥ä½¿ç”¨<code>self.device</code>æ¥æ„å»ºè®¾å¤‡æ— å…³å‹tensorã€‚å¦‚ï¼š<code>z = torch.rand(2, 3, device=self.device)</code>ã€‚</li>
<li><code>hparams</code>ï¼šå«æœ‰æ‰€æœ‰å‰é¢å­˜ä¸‹æ¥çš„è¾“å…¥è¶…å‚ã€‚</li>
<li><code>precision</code>ï¼šç²¾ç¡®åº¦ã€‚å¸¸è§32å’Œ16ã€‚</li>
</ul></li>
</ul>
<h3 id="è¦ç‚¹">è¦ç‚¹</h3>
<ul>
<li>å¦‚æœå‡†å¤‡ä½¿ç”¨DataParallelï¼Œåœ¨å†™<code>training_step</code>çš„æ—¶å€™éœ€è¦è°ƒç”¨forwardå‡½æ•°ï¼Œ<code>z=self(x)</code></li>
</ul>
<h3 id="æ¨¡æ¿">æ¨¡æ¿</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LitModel</span>(<span class="params">pl.LightningModule</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">...</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">...</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">training_step_end</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">training_epoch_end</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">validation_step</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">validation_step_end</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">validation_epoch_end</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">test_step</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">test_step_end</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">test_epoch_end</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">configure_optimizers</span>(<span class="params">...</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">def</span> <span class="title">any_extra_hook</span>(<span class="params">...</span>)</span></span><br></pre></td></tr></table></figure>
<h2 id="trainer">Trainer</h2>
<h3 id="åŸºç¡€ä½¿ç”¨">åŸºç¡€ä½¿ç”¨</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model = MyLightningModule()</span><br><span class="line"></span><br><span class="line">trainer = Trainer()</span><br><span class="line">trainer.fit(model, train_dataloader, val_dataloader)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¿<code>validation_step</code>éƒ½æ²¡æœ‰ï¼Œé‚£<code>val_dataloader</code>ä¹Ÿå°±ç®—äº†ã€‚</p>
<h3 id="ä¼ªä»£ç ä¸hooks">ä¼ªä»£ç ä¸hooks</h3>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/lightning_module.html#hooks">Hooksé¡µé¢</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">...</span>):</span></span><br><span class="line">    on_fit_start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> global_rank == <span class="number">0</span>:</span><br><span class="line">        <span class="comment"># prepare data is called on GLOBAL_ZERO only</span></span><br><span class="line">        prepare_data()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> gpu/tpu <span class="keyword">in</span> gpu/tpus:</span><br><span class="line">        train_on_device(model.copy())</span><br><span class="line"></span><br><span class="line">    on_fit_end()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_on_device</span>(<span class="params">model</span>):</span></span><br><span class="line">    <span class="comment"># setup is called PER DEVICE</span></span><br><span class="line">    setup()</span><br><span class="line">    configure_optimizers()</span><br><span class="line">    on_pretrain_routine_start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> epochs:</span><br><span class="line">        train_loop()</span><br><span class="line"></span><br><span class="line">    teardown()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_loop</span>():</span></span><br><span class="line">    on_train_epoch_start()</span><br><span class="line">    train_outs = []</span><br><span class="line">    <span class="keyword">for</span> train_batch <span class="keyword">in</span> train_dataloader():</span><br><span class="line">        on_train_batch_start()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ----- train_step methods -------</span></span><br><span class="line">        out = training_step(batch)</span><br><span class="line">        train_outs.append(out)</span><br><span class="line"></span><br><span class="line">        loss = out.loss</span><br><span class="line"></span><br><span class="line">        backward()</span><br><span class="line">        on_after_backward()</span><br><span class="line">        optimizer_step()</span><br><span class="line">        on_before_zero_grad()</span><br><span class="line">        optimizer_zero_grad()</span><br><span class="line"></span><br><span class="line">        on_train_batch_end(out)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> should_check_val:</span><br><span class="line">            val_loop()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># end training epoch</span></span><br><span class="line">    logs = training_epoch_end(outs)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">val_loop</span>():</span></span><br><span class="line">    model.<span class="built_in">eval</span>()</span><br><span class="line">    torch.set_grad_enabled(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    on_validation_epoch_start()</span><br><span class="line">    val_outs = []</span><br><span class="line">    <span class="keyword">for</span> val_batch <span class="keyword">in</span> val_dataloader():</span><br><span class="line">        on_validation_batch_start()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># -------- val step methods -------</span></span><br><span class="line">        out = validation_step(val_batch)</span><br><span class="line">        val_outs.append(out)</span><br><span class="line"></span><br><span class="line">        on_validation_batch_end(out)</span><br><span class="line"></span><br><span class="line">    validation_epoch_end(val_outs)</span><br><span class="line">    on_validation_epoch_end()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># set up for train</span></span><br><span class="line">    model.train()</span><br><span class="line">    torch.set_grad_enabled(<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="æ¨èå‚æ•°">æ¨èå‚æ•°</h3>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/trainer.html#trainer-flags">å‚æ•°ä»‹ç»ï¼ˆé™„è§†é¢‘ï¼‰</a></p>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/trainer.html#trainer-class-api">ç±»å®šä¹‰ä¸é»˜è®¤å‚æ•°</a></p>
<ul>
<li><p><code>default_root_dir</code>ï¼šé»˜è®¤å­˜å‚¨åœ°å€ã€‚æ‰€æœ‰çš„å®éªŒå˜é‡å’Œæƒé‡å…¨éƒ¨ä¼šè¢«å­˜åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ã€‚æ¨èæ˜¯ï¼Œæ¯ä¸ªæ¨¡å‹æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶å¤¹ã€‚æ¯æ¬¡é‡æ–°è®­ç»ƒä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„<code>version_x</code>å­æ–‡ä»¶å¤¹ã€‚</p></li>
<li><p><code>max_epochs</code>ï¼šæœ€å¤§è®­ç»ƒå‘¨æœŸæ•°ã€‚<code>trainer = Trainer(max_epochs=1000)</code></p></li>
<li><p><code>min_epochs</code>ï¼šè‡³å°‘è®­ç»ƒå‘¨æœŸæ•°ã€‚å½“æœ‰Early Stopæ—¶ä½¿ç”¨ã€‚</p></li>
<li><p><code>auto_scale_batch_size</code>ï¼šåœ¨è¿›è¡Œä»»ä½•è®­ç»ƒå‰è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„batch sizeã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># default used by the Trainer (no scaling of batch size)</span></span><br><span class="line">trainer = Trainer(auto_scale_batch_size=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># run batch size scaling, result overrides hparams.batch_size</span></span><br><span class="line">trainer = Trainer(auto_scale_batch_size=<span class="string">&#x27;binsearch&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># call tune to find the batch size</span></span><br><span class="line">trainer.tune(model)</span><br></pre></td></tr></table></figure></li>
<li><p><code>auto_select_gpus</code>ï¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„GPUã€‚å°¤å…¶æ˜¯åœ¨æœ‰GPUå¤„äºç‹¬å æ¨¡å¼æ—¶å€™ï¼Œéå¸¸æœ‰ç”¨ã€‚</p></li>
<li><p><code>auto_lr_find</code>ï¼šè‡ªåŠ¨æ‰¾åˆ°åˆé€‚çš„åˆå§‹å­¦ä¹ ç‡ã€‚ä½¿ç”¨äº†è¯¥<a href="https://arxiv.org/abs/1506.01186">è®ºæ–‡</a>çš„æŠ€æœ¯ã€‚å½“ä¸”ä»…å½“æ‰§è¡Œ<code>trainer.tune(model)</code>ä»£ç æ—¶å·¥ä½œã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># run learning rate finder, results override hparams.learning_rate</span></span><br><span class="line">trainer = Trainer(auto_lr_find=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># run learning rate finder, results override hparams.my_lr_arg</span></span><br><span class="line">trainer = Trainer(auto_lr_find=<span class="string">&#x27;my_lr_arg&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># call tune to find the lr</span></span><br><span class="line">trainer.tune(model)</span><br></pre></td></tr></table></figure></li>
<li><p><code>precision</code>ï¼šç²¾ç¡®åº¦ã€‚æ­£å¸¸æ˜¯32ï¼Œä½¿ç”¨16å¯ä»¥å‡å°å†…å­˜æ¶ˆè€—ï¼Œå¢å¤§batchã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># default used by the Trainer</span></span><br><span class="line">trainer = Trainer(precision=<span class="number">32</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 16-bit precision</span></span><br><span class="line">trainer = Trainer(precision=<span class="number">16</span>, gpus=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
<li><p><code>val_check_interval</code>ï¼šè¿›è¡ŒValidationæµ‹è¯•çš„å‘¨æœŸã€‚æ­£å¸¸ä¸º1ï¼Œè®­ç»ƒ1ä¸ªepochæµ‹è¯•4æ¬¡æ˜¯0.25ï¼Œæ¯1000 batchæµ‹è¯•ä¸€æ¬¡æ˜¯1000ã€‚</p>
<blockquote>
<ul>
<li>use (float) to check within a training epochï¼šæ­¤æ—¶è¿™ä¸ªå€¼ä¸ºä¸€ä¸ªepochçš„ç™¾åˆ†æ¯”ã€‚æ¯ç™¾åˆ†ä¹‹å¤šå°‘æµ‹è¯•ä¸€æ¬¡ã€‚</li>
<li>use (int) to check every n steps (batches)ï¼šæ¯å¤šå°‘ä¸ªbatchæµ‹è¯•ä¸€æ¬¡ã€‚</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># default used by the Trainer</span></span><br><span class="line">trainer = Trainer(val_check_interval=<span class="number">1.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># check validation set 4 times during a training epoch</span></span><br><span class="line">trainer = Trainer(val_check_interval=<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># check validation set every 1000 training batches</span></span><br><span class="line"><span class="comment"># use this when using iterableDataset and your dataset has no length</span></span><br><span class="line"><span class="comment"># (ie: production cases with streaming data)</span></span><br><span class="line">trainer = Trainer(val_check_interval=<span class="number">1000</span>)</span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/trainer.html#gpus"><code>gpus</code></a>ï¼šæ§åˆ¶ä½¿ç”¨çš„GPUæ•°ã€‚å½“è®¾å®šä¸ºNoneæ—¶ï¼Œä½¿ç”¨cpuã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># default used by the Trainer (ie: train on CPU)</span></span><br><span class="line">trainer = Trainer(gpus=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># equivalent</span></span><br><span class="line">trainer = Trainer(gpus=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># int: train on 2 gpus</span></span><br><span class="line">trainer = Trainer(gpus=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># list: train on GPUs 1, 4 (by bus ordering)</span></span><br><span class="line">trainer = Trainer(gpus=[<span class="number">1</span>, <span class="number">4</span>])</span><br><span class="line">trainer = Trainer(gpus=<span class="string">&#x27;1, 4&#x27;</span>) <span class="comment"># equivalent</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -1: train on all gpus</span></span><br><span class="line">trainer = Trainer(gpus=-<span class="number">1</span>)</span><br><span class="line">trainer = Trainer(gpus=<span class="string">&#x27;-1&#x27;</span>) <span class="comment"># equivalent</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># combine with num_nodes to train on multiple GPUs across nodes</span></span><br><span class="line"><span class="comment"># uses 8 gpus in total</span></span><br><span class="line">trainer = Trainer(gpus=<span class="number">2</span>, num_nodes=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># train only on GPUs 1 and 4 across nodes</span></span><br><span class="line">trainer = Trainer(gpus=[<span class="number">1</span>, <span class="number">4</span>], num_nodes=<span class="number">4</span>)</span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/trainer.html#limit-train-batches"><code>limit_train_batches</code></a>ï¼šä½¿ç”¨è®­ç»ƒæ•°æ®çš„ç™¾åˆ†æ¯”ã€‚å¦‚æœæ•°æ®è¿‡å¤šï¼Œæˆ–æ­£åœ¨è°ƒè¯•ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªã€‚å€¼çš„èŒƒå›´ä¸º0~1ã€‚åŒæ ·ï¼Œæœ‰<code>limit_test_batches</code>ï¼Œ<code>limit_val_batches</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># default used by the Trainer</span></span><br><span class="line">trainer = Trainer(limit_train_batches=<span class="number">1.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># run through only 25% of the training set each epoch</span></span><br><span class="line">trainer = Trainer(limit_train_batches=<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># run through only 10 batches of the training set each epoch</span></span><br><span class="line">trainer = Trainer(limit_train_batches=<span class="number">10</span>)</span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/trainer.html#fast-dev-run"><code>fast_dev_run</code></a>ï¼šboolé‡ã€‚å¦‚æœè®¾å®šä¸ºtrueï¼Œä¼šåªæ‰§è¡Œä¸€ä¸ªbatchçš„train, val å’Œ testï¼Œç„¶åç»“æŸã€‚ä»…ç”¨äºdebugã€‚</p>
<blockquote>
<p>Setting this argument will disable tuner, checkpoint callbacks, early stopping callbacks, loggers and logger callbacks like <code>LearningRateLogger</code> and runs for only 1 epoch</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># default used by the Trainer</span></span><br><span class="line">trainer = Trainer(fast_dev_run=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># runs 1 train, val, test batch and program ends</span></span><br><span class="line">trainer = Trainer(fast_dev_run=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># runs 7 train, val, test batches and program ends</span></span><br><span class="line">trainer = Trainer(fast_dev_run=<span class="number">7</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="fitå‡½æ•°">.fit()å‡½æ•°</h3>
<p><code>Trainer.fit(model, train_dataloader=None, val_dataloaders=None, datamodule=None)</code>ï¼šè¾“å…¥ç¬¬ä¸€ä¸ªé‡ä¸€å®šæ˜¯modelï¼Œç„¶åå¯ä»¥è·Ÿä¸€ä¸ªLigntningDataModuleæˆ–ä¸€ä¸ªæ™®é€šçš„Train DataLoaderã€‚å¦‚æœå®šä¹‰äº†Val stepï¼Œä¹Ÿè¦æœ‰Val DataLoaderã€‚</p>
<blockquote>
<p>å‚æ•°</p>
<ul>
<li><strong>datamodule</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Optional"><code>Optional</code></a>[<a href="https://pytorch-lightning.readthedocs.io/en/latest/api/pytorch_lightning.core.datamodule.html#pytorch_lightning.core.datamodule.LightningDataModule"><code>LightningDataModule</code></a>]) â€“ A instance of <code>LightningDataModule</code>.</li>
<li><strong>model</strong> (<a href="https://pytorch-lightning.readthedocs.io/en/latest/api/pytorch_lightning.core.lightning.html#pytorch_lightning.core.lightning.LightningModule"><code>LightningModule</code></a>) â€“ Model to fit.</li>
<li><strong>train_dataloader</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Optional"><code>Optional</code></a>[<a href="https://pytorch.org/docs/stable/data.html#torch.utils.data.DataLoader"><code>DataLoader</code></a>]) â€“ A Pytorch DataLoader with training samples. If the model has a predefined train_dataloader method this will be skipped.</li>
<li><strong>val_dataloaders</strong> (<a href="https://docs.python.org/3/library/typing.html#typing.Union"><code>Union</code></a>[<a href="https://pytorch.org/docs/stable/data.html#torch.utils.data.DataLoader"><code>DataLoader</code></a>, <a href="https://docs.python.org/3/library/typing.html#typing.List"><code>List</code></a>[<a href="https://pytorch.org/docs/stable/data.html#torch.utils.data.DataLoader"><code>DataLoader</code></a>], <a href="https://docs.python.org/3/library/constants.html#None"><code>None</code></a>]) â€“ Either a single Pytorch Dataloader or a list of them, specifying validation samples. If the model has a predefined val_dataloaders method this will be skipped</li>
</ul>
</blockquote>
<h3 id="å…¶ä»–è¦ç‚¹">å…¶ä»–è¦ç‚¹</h3>
<ul>
<li><code>.test()</code>è‹¥éç›´æ¥è°ƒç”¨ï¼Œä¸ä¼šè¿è¡Œã€‚<code>trainer.test()</code></li>
<li><code>.test()</code>ä¼šè‡ªåŠ¨loadæœ€ä¼˜æ¨¡å‹ã€‚</li>
<li><code>model.eval()</code> and <code>torch.no_grad()</code> åœ¨è¿›è¡Œæµ‹è¯•æ—¶ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Trainer()</code>è¿è¡ŒäºCPUä¸Šã€‚</li>
</ul>
<h3 id="ä½¿ç”¨æ ·ä¾‹">ä½¿ç”¨æ ·ä¾‹</h3>
<ol type="1">
<li>æ‰‹åŠ¨æ·»åŠ å‘½ä»¤è¡Œå‚æ•°ï¼š</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> argparse <span class="keyword">import</span> ArgumentParser</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">hparams</span>):</span></span><br><span class="line">    model = LightningModule()</span><br><span class="line">    trainer = Trainer(gpus=hparams.gpus)</span><br><span class="line">    trainer.fit(model)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    parser = ArgumentParser()</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--gpus&#x27;</span>, default=<span class="literal">None</span>)</span><br><span class="line">    args = parser.parse_args()</span><br><span class="line"></span><br><span class="line">    main(args)</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>è‡ªåŠ¨æ·»åŠ æ‰€æœ‰<code>Trainer</code>ä¼šç”¨åˆ°çš„å‘½ä»¤è¡Œå‚æ•°ï¼š</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> argparse <span class="keyword">import</span> ArgumentParser</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">args</span>):</span></span><br><span class="line">    model = LightningModule()</span><br><span class="line">    trainer = Trainer.from_argparse_args(args)</span><br><span class="line">    trainer.fit(model)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    parser = ArgumentParser()</span><br><span class="line">    parser = Trainer.add_argparse_args(</span><br><span class="line">        <span class="comment"># group the Trainer arguments together</span></span><br><span class="line">        parser.add_argument_group(title=<span class="string">&quot;pl.Trainer args&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">    args = parser.parse_args()</span><br><span class="line"></span><br><span class="line">    main(args)</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>æ··åˆå¼ï¼Œæ—¢ä½¿ç”¨<code>Trainer</code>ç›¸å…³å‚æ•°ï¼Œåˆä½¿ç”¨ä¸€äº›è‡ªå®šä¹‰å‚æ•°ï¼Œå¦‚å„ç§æ¨¡å‹è¶…å‚ï¼š</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> argparse <span class="keyword">import</span> ArgumentParser</span><br><span class="line"><span class="keyword">import</span> pytorch_lightning <span class="keyword">as</span> pl</span><br><span class="line"><span class="keyword">from</span> pytorch_lightning <span class="keyword">import</span> LightningModule, Trainer</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">args</span>):</span></span><br><span class="line">    model = LightningModule()</span><br><span class="line">    trainer = Trainer.from_argparse_args(args)</span><br><span class="line">    trainer.fit(model)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    parser = ArgumentParser()</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--batch_size&#x27;</span>, default=<span class="number">32</span>, <span class="built_in">type</span>=<span class="built_in">int</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--hidden_dim&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>, default=<span class="number">128</span>)</span><br><span class="line">    parser = Trainer.add_argparse_args(</span><br><span class="line">        <span class="comment"># group the Trainer arguments together</span></span><br><span class="line">        parser.add_argument_group(title=<span class="string">&quot;pl.Trainer args&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">    args = parser.parse_args()</span><br><span class="line">	</span><br><span class="line">    main(args)</span><br></pre></td></tr></table></figure>
<h3 id="æ‰€æœ‰å‚æ•°">æ‰€æœ‰å‚æ•°</h3>
<blockquote>
<p><code>Trainer.``__init__</code>(<em>logger=True</em>, <em>checkpoint_callback=True</em>, <em>callbacks=None</em>, <em>default_root_dir=None</em>, <em>gradient_clip_val=0</em>, <em>process_position=0</em>, <em>num_nodes=1</em>, <em>num_processes=1</em>, <em>gpus=None</em>, <em>auto_select_gpus=False</em>, <em>tpu_cores=None</em>, <em>log_gpu_memory=None</em>, <em>progress_bar_refresh_rate=None</em>, <em>overfit_batches=0.0</em>, <em>track_grad_norm=- 1</em>, <em>check_val_every_n_epoch=1</em>, <em>fast_dev_run=False</em>, <em>accumulate_grad_batches=1</em>, <em>max_epochs=None</em>, <em>min_epochs=None</em>, <em>max_steps=None</em>, <em>min_steps=None</em>, <em>limit_train_batches=1.0</em>, <em>limit_val_batches=1.0</em>, <em>limit_test_batches=1.0</em>, <em>limit_predict_batches=1.0</em>, <em>val_check_interval=1.0</em>, <em>flush_logs_every_n_steps=100</em>, <em>log_every_n_steps=50</em>, <em>accelerator=None</em>, <em>sync_batchnorm=False</em>, <em>precision=32</em>, <em>weights_summary='top'</em>, <em>weights_save_path=None</em>, <em>num_sanity_val_steps=2</em>, <em>truncated_bptt_steps=None</em>, <em>resume_from_checkpoint=None</em>, <em>profiler=None</em>, <em>benchmark=False</em>, <em>deterministic=False</em>, <em>reload_dataloaders_every_epoch=False</em>, <em>auto_lr_find=False</em>, <em>replace_sampler_ddp=True</em>, <em>terminate_on_nan=False</em>, <em>auto_scale_batch_size=False</em>, <em>prepare_data_per_node=True</em>, <em>plugins=None</em>, <em>amp_backend='native'</em>, <em>amp_level='O2'</em>, <em>distributed_backend=None</em>, <em>move_metrics_to_cpu=False</em>, <em>multiple_trainloader_mode='max_size_cycle'</em>, <em>stochastic_weight_avg=False</em>)</p>
</blockquote>
<h3 id="logå’Œreturn-lossåˆ°åº•åœ¨åšä»€ä¹ˆ">Logå’Œreturn lossåˆ°åº•åœ¨åšä»€ä¹ˆ</h3>
<p>To add a training loop use the training_step method</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LitClassifier</span>(<span class="params">pl.LightningModule</span>):</span></span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, model</span>):</span></span><br><span class="line">         <span class="built_in">super</span>().__init__()</span><br><span class="line">         self.model = model</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">self, batch, batch_idx</span>):</span></span><br><span class="line">         x, y = batch</span><br><span class="line">         y_hat = self.model(x)</span><br><span class="line">         loss = F.cross_entropy(y_hat, y)</span><br><span class="line">         <span class="keyword">return</span> loss</span><br></pre></td></tr></table></figure>
<ul>
<li>æ— è®ºæ˜¯<code>training_step</code>ï¼Œè¿˜æ˜¯<code>validation_step</code>ï¼Œ<code>test_step</code>è¿”å›å€¼éƒ½æ˜¯<code>loss</code>ã€‚è¿”å›çš„lossä¼šè¢«ç”¨ä¸€ä¸ªlistæ”¶é›†èµ·æ¥ã€‚</li>
</ul>
<p>Under the hood, Lightning does the following (pseudocode):</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># put model in train mode</span></span><br><span class="line">model.train()</span><br><span class="line">torch.set_grad_enabled(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">losses = []</span><br><span class="line"><span class="keyword">for</span> batch <span class="keyword">in</span> train_dataloader:</span><br><span class="line">    <span class="comment"># forward</span></span><br><span class="line">    loss = training_step(batch)</span><br><span class="line">    losses.append(loss.detach())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># backward</span></span><br><span class="line">    loss.backward()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># apply and clear grads</span></span><br><span class="line">    optimizer.step()</span><br><span class="line">    optimizer.zero_grad()</span><br></pre></td></tr></table></figure>
<h4 id="training-epoch-level-metrics">Training epoch-level metrics</h4>
<p>If you want to calculate epoch-level metrics and log them, use the <code>.log</code> method</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">self, batch, batch_idx</span>):</span></span><br><span class="line">    x, y = batch</span><br><span class="line">    y_hat = self.model(x)</span><br><span class="line">    loss = F.cross_entropy(y_hat, y)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># logs metrics for each training_step,</span></span><br><span class="line">    <span class="comment"># and the average across the epoch, to the progress bar and logger</span></span><br><span class="line">    self.log(<span class="string">&#x27;train_loss&#x27;</span>, loss, on_step=<span class="literal">True</span>, on_epoch=<span class="literal">True</span>, prog_bar=<span class="literal">True</span>, logger=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> loss</span><br></pre></td></tr></table></figure>
<ul>
<li>å¦‚æœåœ¨<code>x_step</code>å‡½æ•°ä¸­ä½¿ç”¨äº†<code>.log()</code>å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªé‡å°†ä¼šè¢«é€æ­¥è®°å½•ä¸‹æ¥ã€‚æ¯ä¸€ä¸ª<code>log</code>å‡ºå»çš„å˜é‡éƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œæ¯ä¸€ä¸ª<code>step</code>ä¼šé›†ä¸­ç”Ÿæˆä¸€ä¸ªå­—å…¸dictï¼Œè€Œæ¯ä¸ªepochéƒ½ä¼šæŠŠè¿™äº›å­—å…¸æ”¶é›†èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå­—å…¸çš„listã€‚</li>
</ul>
<p>The .log object automatically reduces the requested metrics across the full epoch. Hereâ€™s the pseudocode of what it does under the hood:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">outs = []</span><br><span class="line"><span class="keyword">for</span> batch <span class="keyword">in</span> train_dataloader:</span><br><span class="line">    <span class="comment"># forward</span></span><br><span class="line">    out = training_step(val_batch)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># backward</span></span><br><span class="line">    loss.backward()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># apply and clear grads</span></span><br><span class="line">    optimizer.step()</span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line">epoch_metric = torch.mean(torch.stack([x[<span class="string">&#x27;train_loss&#x27;</span>] <span class="keyword">for</span> x <span class="keyword">in</span> outs]))</span><br></pre></td></tr></table></figure>
<h4 id="train-epoch-level-operations">Train epoch-level operations</h4>
<p>If you need to do something with all the outputs of each training_step, override training_epoch_end yourself.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">self, batch, batch_idx</span>):</span></span><br><span class="line">    x, y = batch</span><br><span class="line">    y_hat = self.model(x)</span><br><span class="line">    loss = F.cross_entropy(y_hat, y)</span><br><span class="line">    preds = ...</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;loss&#x27;</span>: loss, <span class="string">&#x27;other_stuff&#x27;</span>: preds&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_epoch_end</span>(<span class="params">self, training_step_outputs</span>):</span></span><br><span class="line">   <span class="keyword">for</span> pred <span class="keyword">in</span> training_step_outputs:</span><br><span class="line">       <span class="comment"># do something</span></span><br></pre></td></tr></table></figure>
<p>The matching pseudocode is:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">outs = []</span><br><span class="line"><span class="keyword">for</span> batch <span class="keyword">in</span> train_dataloader:</span><br><span class="line">    <span class="comment"># forward</span></span><br><span class="line">    out = training_step(val_batch)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># backward</span></span><br><span class="line">    loss.backward()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># apply and clear grads</span></span><br><span class="line">    optimizer.step()</span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line">training_epoch_end(outs)</span><br></pre></td></tr></table></figure>
<h2 id="datamodule">DataModule</h2>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/extensions/datamodules.html">ä¸»é¡µé¢</a></p>
<h3 id="ä»‹ç»">ä»‹ç»</h3>
<ul>
<li><p>é¦–å…ˆï¼Œè¿™ä¸ª<code>DataModule</code>å’Œä¹‹å‰å†™çš„Datasetå®Œå…¨ä¸å†²çªã€‚å‰è€…æ˜¯åè€…çš„ä¸€ä¸ªåŒ…è£…ï¼Œå¹¶ä¸”è¿™ä¸ªåŒ…è£…å¯ä»¥è¢«ç”¨äºå¤šä¸ªtorch Dataset ä¸­ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå…¶æœ€å¤§çš„ä½œç”¨å°±æ˜¯æŠŠå„ç§train/val/teståˆ’åˆ†ã€DataLoaderåˆå§‹åŒ–ä¹‹ç±»çš„é‡å¤ä»£ç é€šè¿‡åŒ…è£…ç±»çš„æ–¹å¼å¾—ä»¥è¢«ç®€å•çš„å¤ç”¨ã€‚</p></li>
<li><p>å…·ä½“ä½œç”¨é¡¹ç›®ï¼š</p>
<ul>
<li>Download instructionsï¼šä¸‹è½½</li>
<li>Processing instructionsï¼šå¤„ç†</li>
<li>Split instructionsï¼šåˆ†å‰²</li>
<li>Train dataloaderï¼šè®­ç»ƒé›†Dataloader</li>
<li>Val dataloader(s)ï¼šéªŒè¯é›†Dataloader</li>
<li>Test dataloader(s)ï¼šæµ‹è¯•é›†Dataloader</li>
</ul></li>
<li><p>å…¶æ¬¡ï¼Œ<code>pl.LightningDataModule</code>ç›¸å½“äºä¸€ä¸ªåŠŸèƒ½åŠ å¼ºç‰ˆçš„torch Datasetï¼ŒåŠ å¼ºçš„åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>prepare_data(self)</code>ï¼š
<ul>
<li>æœ€æœ€å¼€å§‹çš„æ—¶å€™ï¼Œè¿›è¡Œä¸€äº›æ— è®ºGPUæœ‰å¤šå°‘åªè¦æ‰§è¡Œä¸€æ¬¡çš„æ“ä½œï¼Œå¦‚å†™å…¥ç£ç›˜çš„ä¸‹è½½æ“ä½œã€åˆ†è¯æ“ä½œ(tokenize)ç­‰ã€‚</li>
<li>è¿™é‡Œæ˜¯ä¸€åŠ³æ°¸é€¸å¼å‡†å¤‡æ•°æ®çš„å‡½æ•°ã€‚</li>
<li>ç”±äºåªåœ¨å•çº¿ç¨‹ä¸­è°ƒç”¨ï¼Œä¸è¦åœ¨è¿™ä¸ªå‡½æ•°ä¸­è¿›è¡Œ<code>self.x=y</code>ä¼¼çš„èµ‹å€¼æ“ä½œã€‚</li>
<li>ä½†å¦‚æœæ˜¯è‡ªå·±ç”¨è€Œä¸æ˜¯ç»™å¤§ä¼—åˆ†å‘çš„è¯ï¼Œè¿™ä¸ªå‡½æ•°å¯èƒ½å¹¶ä¸éœ€è¦è°ƒç”¨ï¼Œå› ä¸ºæ•°æ®æå‰å¤„ç†å¥½å°±å¥½äº†ã€‚</li>
</ul></li>
<li><code>setup(self, stage=None)</code>ï¼š
<ul>
<li>å®ä¾‹åŒ–æ•°æ®é›†ï¼ˆDatasetï¼‰ï¼Œå¹¶è¿›è¡Œç›¸å…³æ“ä½œï¼Œå¦‚ï¼šæ¸…ç‚¹ç±»æ•°ï¼Œåˆ’åˆ†train/val/testé›†åˆç­‰ã€‚</li>
<li>å‚æ•°<code>stage</code>ç”¨äºæŒ‡ç¤ºæ˜¯å¤„äºè®­ç»ƒå‘¨æœŸ(<code>fit</code>)è¿˜æ˜¯æµ‹è¯•å‘¨æœŸ(<code>test</code>)ï¼Œå…¶ä¸­ï¼Œ<code>fit</code>å‘¨æœŸéœ€è¦æ„å»ºtrainå’Œvalä¸¤è€…çš„æ•°æ®é›†ã€‚</li>
<li>setupå‡½æ•°ä¸éœ€è¦è¿”å›å€¼ã€‚åˆå§‹åŒ–å¥½çš„train/val/test setç›´æ¥èµ‹å€¼ç»™selfå³å¯ã€‚</li>
</ul></li>
<li><code>train_dataloader/val_dataloader/test_dataloader</code>ï¼š
<ul>
<li>åˆå§‹åŒ–<code>DataLoader</code>ã€‚</li>
<li>è¿”å›ä¸€ä¸ªDataLoaderé‡ã€‚</li>
</ul></li>
</ul></li>
</ul>
<h3 id="ç¤ºä¾‹">ç¤ºä¾‹</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MNISTDataModule</span>(<span class="params">pl.LightningDataModule</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, data_dir: <span class="built_in">str</span> = <span class="string">&#x27;./&#x27;</span>, batch_size: <span class="built_in">int</span> = <span class="number">64</span>, num_workers: <span class="built_in">int</span> = <span class="number">8</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.data_dir = data_dir</span><br><span class="line">        self.batch_size = batch_size</span><br><span class="line">        self.num_workers = num_workers</span><br><span class="line"></span><br><span class="line">        self.transform = transforms.Compose([</span><br><span class="line">            transforms.ToTensor(),</span><br><span class="line">            transforms.Normalize((<span class="number">0.1307</span>,), (<span class="number">0.3081</span>,))</span><br><span class="line">        ])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># self.dims is returned when you call dm.size()</span></span><br><span class="line">        <span class="comment"># Setting default dims here because we know them.</span></span><br><span class="line">        <span class="comment"># Could optionally be assigned dynamically in dm.setup()</span></span><br><span class="line">        self.dims = (<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>)</span><br><span class="line">        self.num_classes = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prepare_data</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># download</span></span><br><span class="line">        MNIST(self.data_dir, train=<span class="literal">True</span>, download=<span class="literal">True</span>)</span><br><span class="line">        MNIST(self.data_dir, train=<span class="literal">False</span>, download=<span class="literal">True</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setup</span>(<span class="params">self, stage=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="comment"># Assign train/val datasets for use in dataloaders</span></span><br><span class="line">        <span class="keyword">if</span> stage == <span class="string">&#x27;fit&#x27;</span> <span class="keyword">or</span> stage <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            mnist_full = MNIST(self.data_dir, train=<span class="literal">True</span>, transform=self.transform)</span><br><span class="line">            self.mnist_train, self.mnist_val = random_split(mnist_full, [<span class="number">55000</span>, <span class="number">5000</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Assign test dataset for use in dataloader(s)</span></span><br><span class="line">        <span class="keyword">if</span> stage == <span class="string">&#x27;test&#x27;</span> <span class="keyword">or</span> stage <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            self.mnist_test = MNIST(self.data_dir, train=<span class="literal">False</span>, transform=self.transform)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">train_dataloader</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> DataLoader(self.mnist_train, batch_size=self.batch_size, num_workers=self.num_workers)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">val_dataloader</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> DataLoader(self.mnist_val, batch_size=self.batch_size, num_workers=self.num_workers)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_dataloader</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> DataLoader(self.mnist_test, batch_size=self.batch_size, num_workers=self.num_workers)</span><br></pre></td></tr></table></figure>
<h3 id="è¦ç‚¹-1">è¦ç‚¹</h3>
<ul>
<li>è‹¥åœ¨DataModuleä¸­å®šä¹‰äº†ä¸€ä¸ª<code>self.dims</code> å˜é‡ï¼Œåé¢å¯ä»¥è°ƒç”¨<code>dm.size()</code>è·å–è¯¥å˜é‡ã€‚</li>
</ul>
<h2 id="saving-and-loading">Saving and Loading</h2>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/common/weights_loading.html">ä¸»é¡µé¢</a></p>
<h3 id="saving">Saving</h3>
<ul>
<li><p><a href="https://pytorch-lightning.readthedocs.io/en/latest/extensions/generated/pytorch_lightning.callbacks.ModelCheckpoint.html#pytorch_lightning.callbacks.ModelCheckpoint">ModelCheckpoint</a>: è‡ªåŠ¨å‚¨å­˜çš„callback moduleã€‚é»˜è®¤æƒ…å†µä¸‹trainingè¿‡ç¨‹ä¸­åªä¼šè‡ªåŠ¨å‚¨å­˜æœ€æ–°çš„æ¨¡å‹ä¸ç›¸å…³å‚æ•°ï¼Œè€Œç”¨æˆ·å¯ä»¥é€šè¿‡è¿™ä¸ªmoduleè‡ªå®šä¹‰ã€‚å¦‚è§‚æµ‹ä¸€ä¸ª<code>val_loss</code>çš„é‡ï¼Œå¹¶å‚¨å­˜top 3å¥½çš„æ¨¡å‹ï¼Œä¸”åŒæ—¶å‚¨å­˜æœ€åä¸€ä¸ªepochçš„æ¨¡å‹ï¼Œç­‰ç­‰ã€‚ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pytorch_lightning.callbacks <span class="keyword">import</span> ModelCheckpoint</span><br><span class="line"></span><br><span class="line"><span class="comment"># saves a file like: my/path/sample-mnist-epoch=02-val_loss=0.32.ckpt</span></span><br><span class="line">checkpoint_callback = ModelCheckpoint(</span><br><span class="line">    monitor=<span class="string">&#x27;val_loss&#x27;</span>,</span><br><span class="line">    filename=<span class="string">&#x27;sample-mnist-&#123;epoch:02d&#125;-&#123;val_loss:.2f&#125;&#x27;</span>,</span><br><span class="line">    save_top_k=<span class="number">3</span>,</span><br><span class="line">    mode=<span class="string">&#x27;min&#x27;</span>,</span><br><span class="line">    save_last=<span class="literal">True</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">trainer = pl.Trainer(gpus=<span class="number">1</span>, max_epochs=<span class="number">3</span>, progress_bar_refresh_rate=<span class="number">20</span>, callbacks=[checkpoint_callback])</span><br></pre></td></tr></table></figure></li>
<li><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å­˜å‚¨checkpoint: <code>trainer.save_checkpoint("example.ckpt")</code></p></li>
<li><p><code>ModelCheckpoint</code> Callbackä¸­ï¼Œå¦‚æœ<code>save_weights_only =True</code>ï¼Œé‚£ä¹ˆå°†ä¼šåªå‚¨å­˜æ¨¡å‹çš„æƒé‡ï¼ˆç›¸å½“äº<code>model.save_weights(filepath)</code>ï¼‰ï¼Œåä¹‹ä¼šå‚¨å­˜æ•´ä¸ªæ¨¡å‹ï¼ˆç›¸å½“äº<code>model.save(filepath)</code>ï¼‰ã€‚</p></li>
</ul>
<h3 id="loading">Loading</h3>
<ul>
<li><p>loadä¸€ä¸ªæ¨¡å‹ï¼ŒåŒ…æ‹¬å®ƒçš„weightsã€biaseså’Œè¶…å‚æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model = MyLightingModule.load_from_checkpoint(PATH)</span><br><span class="line"></span><br><span class="line">print(model.learning_rate)</span><br><span class="line"><span class="comment"># prints the learning_rate you used in this checkpoint</span></span><br><span class="line"></span><br><span class="line">model.<span class="built_in">eval</span>()</span><br><span class="line">y_hat = model(x)</span><br></pre></td></tr></table></figure></li>
<li><p>loadæ¨¡å‹æ—¶æ›¿æ¢ä¸€äº›è¶…å‚æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LitModel</span>(<span class="params">LightningModule</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, in_dim, out_dim</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.save_hyperparameters()</span><br><span class="line">        self.l1 = nn.Linear(self.hparams.in_dim, self.hparams.out_dim)</span><br><span class="line">        </span><br><span class="line"><span class="comment"># if you train and save the model like this it will use these values when loading</span></span><br><span class="line"><span class="comment"># the weights. But you can overwrite this</span></span><br><span class="line">LitModel(in_dim=<span class="number">32</span>, out_dim=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># uses in_dim=32, out_dim=10</span></span><br><span class="line">model = LitModel.load_from_checkpoint(PATH)</span><br><span class="line"></span><br><span class="line"><span class="comment"># uses in_dim=128, out_dim=10</span></span><br><span class="line">model = LitModel.load_from_checkpoint(PATH, in_dim=<span class="number">128</span>, out_dim=<span class="number">10</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>å®Œå…¨loadè®­ç»ƒçŠ¶æ€ï¼šloadåŒ…æ‹¬æ¨¡å‹çš„ä¸€åˆ‡ï¼Œä»¥åŠå’Œè®­ç»ƒç›¸å…³çš„ä¸€åˆ‡å‚æ•°ï¼Œå¦‚<code>model, epoch, step, LR schedulers, apex</code>ç­‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">model = LitModel()</span><br><span class="line">trainer = Trainer(resume_from_checkpoint=<span class="string">&#x27;some/path/to/my_checkpoint.ckpt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># automatically restores model, epoch, step, LR schedulers, apex, etc...</span></span><br><span class="line">trainer.fit(model)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="callbacks">Callbacks</h2>
<ul>
<li>Callback æ˜¯ä¸€ä¸ªè‡ªåŒ…å«çš„ç¨‹åºï¼Œå¯ä»¥ä¸è®­ç»ƒæµç¨‹äº¤ç»‡åœ¨ä¸€èµ·ï¼Œè€Œä¸ä¼šæ±¡æŸ“ä¸»è¦çš„ç ”ç©¶é€»è¾‘ã€‚</li>
<li>Callback å¹¶éåªä¼šåœ¨epochç»“å°¾è°ƒç”¨ã€‚pytorch-lightning æä¾›äº†æ•°åä¸ªhookï¼ˆæ¥å£ï¼Œè°ƒç”¨ä½ç½®ï¼‰å¯ä¾›é€‰æ‹©ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰callbackï¼Œå®ç°ä»»ä½•æƒ³å®ç°çš„æ¨¡å—ã€‚</li>
<li>æ¨èä½¿ç”¨æ–¹å¼æ˜¯ï¼Œéšé—®é¢˜å’Œé¡¹ç›®å˜åŒ–çš„æ“ä½œï¼Œè¿™äº›å‡½æ•°å†™åˆ°lightning moduleé‡Œé¢ï¼Œè€Œç›¸å¯¹ç‹¬ç«‹ï¼Œç›¸å¯¹è¾…åŠ©æ€§çš„ï¼Œéœ€è¦å¤ç”¨çš„å†…å®¹åˆ™å¯ä»¥å®šä¹‰å•ç‹¬çš„æ¨¡å—ï¼Œä¾›åç»­æ–¹ä¾¿åœ°æ’æ‹”ä½¿ç”¨ã€‚</li>
</ul>
<h3 id="callbacksæ¨è">Callbacksæ¨è</h3>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/extensions/callbacks.html#built-in-callbacks">å†…å»ºCallbacks</a></p>
<ul>
<li><p><code>EarlyStopping(monitor='early_stop_on', min_delta=0.0, patience=3, verbose=False, mode='min', strict=True)</code>ï¼šæ ¹æ®æŸä¸ªå€¼ï¼Œåœ¨æ•°ä¸ªepochæ²¡æœ‰æå‡çš„æƒ…å†µä¸‹æå‰åœæ­¢è®­ç»ƒã€‚</p>
<blockquote>
<p>å‚æ•°ï¼š</p>
<ul>
<li><strong>monitor</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str"><code>str</code></a>) â€“ quantity to be monitored. Default: <code>'early_stop_on'</code>.</li>
<li><strong>min_delta</strong> (<a href="https://docs.python.org/3/library/functions.html#float"><code>float</code></a>) â€“ minimum change in the monitored quantity to qualify as an improvement, i.e. an absolute change of less than min_delta, will count as no improvement. Default: <code>0.0</code>.</li>
<li><strong>patience</strong> (<a href="https://docs.python.org/3/library/functions.html#int"><code>int</code></a>) â€“ number of validation epochs with no improvement after which training will be stopped. Default: <code>3</code>.</li>
<li><strong>verbose</strong> (<a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a>) â€“ verbosity mode. Default: <code>False</code>.</li>
<li><strong>mode</strong> (<a href="https://docs.python.org/3/library/stdtypes.html#str"><code>str</code></a>) â€“ one of <code>'min'</code>, <code>'max'</code>. In <code>'min'</code> mode, training will stop when the quantity monitored has stopped decreasing and in <code>'max'</code> mode it will stop when the quantity monitored has stopped increasing.</li>
<li><strong>strict</strong> (<a href="https://docs.python.org/3/library/functions.html#bool"><code>bool</code></a>) â€“ whether to crash the training if monitor is not found in the validation metrics. Default: <code>True</code>.</li>
</ul>
</blockquote>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pytorch_lightning <span class="keyword">import</span> Trainer</span><br><span class="line"><span class="keyword">from</span> pytorch_lightning.callbacks <span class="keyword">import</span> EarlyStopping</span><br><span class="line"></span><br><span class="line">early_stopping = EarlyStopping(<span class="string">&#x27;val_loss&#x27;</span>)</span><br><span class="line">trainer = Trainer(callbacks=[early_stopping])</span><br></pre></td></tr></table></figure></li>
<li><p><code>ModelCheckpoint</code>ï¼šè§ä¸Šæ–‡<strong>Saving and Loading</strong>.</p></li>
<li><p><code>PrintTableMetricsCallback</code>ï¼šåœ¨æ¯ä¸ªepochç»“æŸåæ‰“å°ä¸€ä»½ç»“æœæ•´ç†è¡¨æ ¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pl_bolts.callbacks <span class="keyword">import</span> PrintTableMetricsCallback</span><br><span class="line"></span><br><span class="line">callback = PrintTableMetricsCallback()</span><br><span class="line">trainer = pl.Trainer(callbacks=[callback])</span><br><span class="line">trainer.fit(...)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ------------------------------</span></span><br><span class="line"><span class="comment"># at the end of every epoch it will print</span></span><br><span class="line"><span class="comment"># ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># lossâ”‚train_lossâ”‚val_lossâ”‚epoch</span></span><br><span class="line"><span class="comment"># â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span><br><span class="line"><span class="comment"># 2.2541470527648926â”‚2.2541470527648926â”‚2.2158432006835938â”‚0</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="logging">Logging</h2>
<ul>
<li><p><a href="https://pytorch-lightning.readthedocs.io/en/latest/extensions/logging.html">Logging</a>ï¼šLoggeré»˜è®¤æ˜¯TensorBoardï¼Œä½†å¯ä»¥æŒ‡å®šå„ç§ä¸»æµLogger<a href="https://pytorch-lightning.readthedocs.io/en/latest/extensions/logging.html#supported-loggers">æ¡†æ¶</a>ï¼Œå¦‚Comet.mlï¼ŒMLflowï¼ŒNetpuneï¼Œæˆ–ç›´æ¥CSVæ–‡ä»¶ã€‚å¯ä»¥åŒæ—¶ä½¿ç”¨å¤æ•°ä¸ªloggerã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pytorch_lightning <span class="keyword">import</span> loggers <span class="keyword">as</span> pl_loggers</span><br><span class="line"></span><br><span class="line"><span class="comment"># Default</span></span><br><span class="line">tb_logger = pl_loggers.TensorBoardLogger(</span><br><span class="line">    save_dir=os.getcwd(),</span><br><span class="line">    version=<span class="literal">None</span>,</span><br><span class="line">    name=<span class="string">&#x27;lightning_logs&#x27;</span></span><br><span class="line">)</span><br><span class="line">trainer = Trainer(logger=tb_logger)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Or use the same format as others</span></span><br><span class="line">tb_logger = pl_loggers.TensorBoardLogger(<span class="string">&#x27;logs/&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># One Logger</span></span><br><span class="line">comet_logger = pl_loggers.CometLogger(save_dir=<span class="string">&#x27;logs/&#x27;</span>)</span><br><span class="line">trainer = Trainer(logger=comet_logger)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Save code snapshot</span></span><br><span class="line">logger = pl_loggers.TestTubeLogger(<span class="string">&#x27;logs/&#x27;</span>, create_git_tag=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Multiple Logger</span></span><br><span class="line">tb_logger = pl_loggers.TensorBoardLogger(<span class="string">&#x27;logs/&#x27;</span>)</span><br><span class="line">comet_logger = pl_loggers.CometLogger(save_dir=<span class="string">&#x27;logs/&#x27;</span>)</span><br><span class="line">trainer = Trainer(logger=[tb_logger, comet_logger])</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯50ä¸ªbatch logä¸€æ¬¡ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´å‚æ•°</p></li>
<li><p>å¦‚æœæƒ³è¦logè¾“å‡ºéscalarï¼ˆæ ‡é‡ï¼‰çš„å†…å®¹ï¼Œå¦‚å›¾ç‰‡ï¼Œæ–‡æœ¬ï¼Œç›´æ–¹å›¾ç­‰ç­‰ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨<code>self.logger.experiment.add_xxx()</code>æ¥å®ç°æ‰€éœ€æ“ä½œã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">training_step</span>(<span class="params">...</span>):</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="comment"># the logger you used (in this case tensorboard)</span></span><br><span class="line">    tensorboard = self.logger.experiment</span><br><span class="line">    tensorboard.add_image()</span><br><span class="line">    tensorboard.add_histogram(...)</span><br><span class="line">    tensorboard.add_figure(...)</span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨logï¼šå¦‚æœæ˜¯TensorBoardï¼Œé‚£ä¹ˆï¼š<code>tensorboard --logdir ./lightning_logs</code>ã€‚åœ¨Jupyter Notebookä¸­ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Start tensorboard.</span></span><br><span class="line">%load_ext tensorboard</span><br><span class="line">%tensorboard --logdir lightning_logs/</span><br></pre></td></tr></table></figure>
<p>åœ¨è¡Œå†…æ‰“å¼€TensorBoardã€‚</p></li>
<li><p>å°æŠ€å·§ï¼šå¦‚æœåœ¨å±€åŸŸç½‘å†…å¼€å¯äº†TensorBoardï¼ŒåŠ ä¸Šflag <code>--bind_all</code>å³å¯ä½¿ç”¨ä¸»æœºåè®¿é—®ï¼š</p>
<p><code>tensorboard --logdir lightning_logs --bind_all</code> -&gt; <code>http://SERVER-NAME:6006/</code></p></li>
</ul>
<h3 id="åŒæ—¶ä½¿ç”¨tensorboardå’Œcsv-logger">åŒæ—¶ä½¿ç”¨TensorBoardå’ŒCSV Logger</h3>
<p>å¦‚æœåŒæ—¶ä½¿ç”¨ä¸¤ä¸ªLoggerï¼ŒPLä¼šæœ‰ç¿æ™ºæ“ä½œï¼šå¦‚æœä¿å­˜æ ¹ç›®å½•ç›¸åŒï¼Œä»–ä»¬ä¼šä¾æ¬¡å»ºç«‹ä¸¤ä¸ªversionæ–‡ä»¶å¤¹ï¼Œä»¤äººçª’æ¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pytorch_lightning.loggers <span class="keyword">import</span> TensorBoardLogger, CSVLogger</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_loggers</span>():</span></span><br><span class="line">    loggers = []</span><br><span class="line">    loggers.append(TensorBoardLogger(</span><br><span class="line">        save_dir=<span class="string">&#x27;lightning_logs&#x27;</span>, name=<span class="string">&#x27;tb&#x27;</span></span><br><span class="line">    ))</span><br><span class="line"></span><br><span class="line">    loggers.append(CSVLogger(</span><br><span class="line">        save_dir=<span class="string">&#x27;lightning_logs&#x27;</span>, name=<span class="string">&#x27;csv&#x27;</span></span><br><span class="line">    ))</span><br><span class="line"></span><br><span class="line">    loggers.append(CometLogger(</span><br><span class="line">        save_dir=<span class="string">&#x27;lightning_logs&#x27;</span>, name=<span class="string">&#x27;tt&#x27;</span></span><br><span class="line">    ))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> loggers</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_callbacks</span>(<span class="params">logger</span>):</span></span><br><span class="line">    callbacks = []</span><br><span class="line">    dirpath = <span class="string">f&#x27;lightning_logs/<span class="subst">&#123;logger.name&#125;</span>/version_<span class="subst">&#123;logger.version&#125;</span>/checkpoints&#x27;</span></span><br><span class="line">    callbacks.append(ModelCheckpoint(</span><br><span class="line">        dirpath=dirpath,</span><br><span class="line">        monitor=<span class="string">&#x27;loss_epoch&#x27;</span>,</span><br><span class="line">        filename=<span class="string">&#x27;&#123;epoch:02d&#125;-&#123;val_loss:.2f&#125;&#x27;</span>,</span><br><span class="line">        save_top_k=<span class="number">3</span>,</span><br><span class="line">        mode=<span class="string">&#x27;max&#x27;</span>,</span><br><span class="line">        save_last=<span class="literal">True</span></span><br><span class="line">    ))</span><br><span class="line">    <span class="keyword">return</span> callbacks</span><br><span class="line"></span><br><span class="line">loggers = load_loggers()</span><br><span class="line">callbacks = load_callbacks(loggers[<span class="number">0</span>])</span><br><span class="line">trainer = pl.Trainer(logger=loggers, callbacks=callbacks)</span><br></pre></td></tr></table></figure>
<h2 id="transfer-learning">Transfer Learning</h2>
<p><a href="https://pytorch-lightning.readthedocs.io/en/latest/starter/introduction_guide.html#transfer-learning">ä¸»é¡µé¢</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision.models <span class="keyword">as</span> models</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImagenetTransferLearning</span>(<span class="params">LightningModule</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># init a pretrained resnet</span></span><br><span class="line">        backbone = models.resnet50(pretrained=<span class="literal">True</span>)</span><br><span class="line">        num_filters = backbone.fc.in_features</span><br><span class="line">        layers = <span class="built_in">list</span>(backbone.children())[:-<span class="number">1</span>]</span><br><span class="line">        self.feature_extractor = nn.Sequential(*layers)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># use the pretrained model to classify cifar-10 (10 image classes)</span></span><br><span class="line">        num_target_classes = <span class="number">10</span></span><br><span class="line">        self.classifier = nn.Linear(num_filters, num_target_classes)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        self.feature_extractor.<span class="built_in">eval</span>()</span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            representations = self.feature_extractor(x).flatten(<span class="number">1</span>)</span><br><span class="line">        x = self.classifier(representations)</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>
<h2 id="å…³äºdeviceæ“ä½œ">å…³äºdeviceæ“ä½œ</h2>
<p>LightningModules know what device they are on! Construct tensors on the device directly to avoid CPU-&gt;Device transfer.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bad</span></span><br><span class="line">t = torch.rand(<span class="number">2</span>, <span class="number">2</span>).cuda()</span><br><span class="line"></span><br><span class="line"><span class="comment"># good (self is LightningModule)</span></span><br><span class="line">t = torch.rand(<span class="number">2</span>, <span class="number">2</span>, device=self.device)</span><br></pre></td></tr></table></figure>
<p>For tensors that need to be model attributes, it is best practice to register them as buffers in the modulesâ€™s <code>__init__</code> method:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># bad</span></span><br><span class="line">self.t = torch.rand(<span class="number">2</span>, <span class="number">2</span>, device=self.device)</span><br><span class="line"></span><br><span class="line"><span class="comment"># good</span></span><br><span class="line">self.register_buffer(<span class="string">&quot;t&quot;</span>, torch.rand(<span class="number">2</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>å‰é¢ä¸¤æ®µæ˜¯æ•™ç¨‹ä¸­çš„æ–‡æœ¬ã€‚ç„¶è€Œå®é™…ä¸Šæœ‰ä¸€ä¸ªæš—å‘ï¼š</p>
<p>å¦‚æœä½ ä½¿ç”¨äº†ä¸€ä¸ªä¸­ç»§çš„<code>pl.LightningModule</code>ï¼Œè€Œè¿™ä¸ªmoduleé‡Œé¢å®ä¾‹åŒ–äº†æŸä¸ªæ™®é€šçš„<code>nn.Module</code>ï¼Œè€Œè¿™ä¸ªæ¨¡å‹ä¸­åˆéœ€è¦å†…éƒ¨ç”Ÿæˆä¸€äº›tensorï¼Œæ¯”å¦‚å›¾ç‰‡æ¯ä¸ªé€šé“çš„meanï¼Œstdä¹‹ç±»ï¼Œé‚£ä¹ˆå¦‚æœä½ ä»<code>pl.LightningModule</code>ä¸­passä¸€ä¸ª<code>self.device</code>ï¼Œå®é™…ä¸Šåœ¨ä¸€å¼€å§‹è¿™ä¸ª<code>self.device</code>æ°¸è¿œæ˜¯<code>cpu</code>ã€‚æ‰€ä»¥å¦‚æœä½ åœ¨è°ƒç”¨çš„<code>nn.Module</code>çš„<code>__init__()</code>ä¸­åˆå§‹åŒ–ï¼Œä½¿ç”¨<code>to(device)</code>æˆ–å¹²è„†ä»€ä¹ˆéƒ½ä¸ç”¨ï¼Œç»“æœå°±æ˜¯å®ƒæ°¸è¿œéƒ½åœ¨<code>cpu</code>ä¸Šã€‚</p>
<p>ä½†æ˜¯ï¼Œç»è¿‡å®éªŒï¼Œè™½ç„¶<code>pl.LightningModule</code>åœ¨<code>__init__()</code>é˜¶æ®µ<code>self.device</code>è¿˜æ˜¯<code>cpu</code>ï¼Œå½“è¿›å…¥äº†<code>training_step()</code>ä¹‹åï¼Œå°±è¿…é€Ÿå˜ä¸ºäº†<code>cuda</code>ã€‚æ‰€ä»¥ï¼Œå¯¹äºå­æ¨¡å—ï¼Œæœ€ä½³æ–¹æ¡ˆæ˜¯ï¼Œä½¿ç”¨ä¸€ä¸ª<code>forward</code>ä¸­ä¼ å…¥çš„é‡ï¼Œå¦‚<code>x</code>ï¼Œä½œä¸ºä¸€ä¸ªreferenceå˜é‡ï¼Œç”¨<code>type_as</code>å‡½æ•°å°†åœ¨æ¨¡å‹ä¸­ç”Ÿæˆçš„tensoréƒ½æ”¾åˆ°å’Œè¿™ä¸ªå‚è€ƒå˜é‡ç›¸åŒçš„deviceä¸Šå³å¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RDNFuse</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init_norm_func</span>(<span class="params">self, ref</span>):</span></span><br><span class="line">        self.mean = torch.tensor(np.array(self.mean_sen), dtype=torch.float32).type_as(ref)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">hasattr</span>(self, <span class="string">&#x27;mean&#x27;</span>):</span><br><span class="line">            self.init_norm_func(x)</span><br></pre></td></tr></table></figure>
<h2 id="å…³äºlimit_train_batchesé€‰é¡¹">å…³äº<code>limit_train_batches</code>é€‰é¡¹</h2>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ¯ä¸ªepochä½¿ç”¨éƒ¨åˆ†æ•°æ®è€Œéå…¨éƒ¨æ—¶ï¼Œç¨‹åºå°†ä¼šæ€ä¹ˆå·¥ä½œã€‚</p>
<blockquote>
<p>The shuffling happens when the iterator is created. In the case of the for loop, that happens just before the for loop starts. You can create the iterator manually with:</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Iterator gets created, the data has been shuffled at this point.</span></span><br><span class="line">data_iterator = <span class="built_in">iter</span>(namesTrainLoader)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>By default the data loader uses <a href="https://pytorch.org/docs/stable/data.html#torch.utils.data.RandomSampler"><code>torch.utils.data.RandomSampler</code></a> if you set <code>shuffle=True</code> (without providing your own sampler). Its implementation is very straight forward and you can see where the data is shuffled when the iterator is created by looking at the <a href="https://github.com/pytorch/pytorch/blob/f3e620ee83f080283445aa1a7242d40e30eb6a7f/torch/utils/data/sampler.py#L103-L107"><code>RandomSampler.__iter__</code></a> method:</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">    n = <span class="built_in">len</span>(self.data_source)</span><br><span class="line">    <span class="keyword">if</span> self.replacement:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">iter</span>(torch.randint(high=n, size=(self.num_samples,), dtype=torch.int64).tolist())</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">iter</span>(torch.randperm(n).tolist())</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The return statement is the important part, where the shuffling takes place. It simply creates a random permutation of the indices.</p>
<p>That means you will see your entire dataset every time you fully consume the iterator, just in a different order every time. Therefore there is no data lost (not including cases with <code>drop_last=True</code>) and your model will see all data at every epoch.</p>
</blockquote>
<p>æ€»ç»“ä¸‹æ¥ï¼Œå¦‚æœä½¿ç”¨äº†<code>shuffle=True</code>é€‰é¡¹ï¼Œé‚£ä¹ˆå³ä½¿æ¯æ¬¡éƒ½ä¸è·‘å®Œæ•´ä¸ªepochï¼Œä½ è¿˜æ˜¯æœ‰æœºä¼šè§åˆ°æ‰€æœ‰çš„æ•°æ®çš„ã€‚æ•°æ®é›†çš„shuffleå‘ç”Ÿåœ¨<code>iter</code>è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œåœ¨æˆ‘ä»¬ä¸€èˆ¬çš„ä»£ç ä¸­ï¼Œä¹Ÿå°±æ˜¯å†…å±‚forå¾ªç¯å¼€å§‹æ—¶ã€‚ä½†å¦‚æœä½ æ²¡æœ‰é€‰æ‹©<code>shuffle=True</code>ï¼Œé‚£ä½ å°†æ°¸è¿œåªèƒ½çœ‹åˆ°ä½ è®¾å®šçš„å‰é¢Nä¸ªæ•°æ®ã€‚</p>
<h2 id="points">Points</h2>
<ul>
<li><p><code>pl.seed_everything(1234)</code>ï¼šå¯¹æ‰€æœ‰ç›¸å…³çš„éšæœºé‡å›ºå®šç§å­ã€‚</p></li>
<li><p>ä½¿ç”¨LR Scheduleræ—¶å€™ï¼Œä¸ç”¨è‡ªå·±<code>.step()</code>ã€‚å®ƒä¹Ÿè¢«Trainerè‡ªåŠ¨å¤„ç†äº†ã€‚<a href="https://pytorch-lightning.readthedocs.io/en/latest/common/optimizers.html?highlight=scheduler#">Optimization ä¸»é¡µé¢</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Single optimizer</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> epochs:</span><br><span class="line">    <span class="keyword">for</span> batch <span class="keyword">in</span> data:</span><br><span class="line">        loss = model.training_step(batch, batch_idx, ...)</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> scheduler <span class="keyword">in</span> schedulers:</span><br><span class="line">        scheduler.step()</span><br><span class="line">        </span><br><span class="line"><span class="comment"># Multiple optimizers</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> epochs:</span><br><span class="line">  <span class="keyword">for</span> batch <span class="keyword">in</span> data:</span><br><span class="line">     <span class="keyword">for</span> opt <span class="keyword">in</span> optimizers:</span><br><span class="line">        disable_grads_for_other_optimizers()</span><br><span class="line">        train_step(opt)</span><br><span class="line">        opt.step()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> scheduler <span class="keyword">in</span> schedulers:</span><br><span class="line">     scheduler.step()</span><br></pre></td></tr></table></figure></li>
<li><p>å…³äºåˆ’åˆ†trainå’Œvalé›†åˆçš„æ–¹æ³•ã€‚ä¸PLæ— å…³ï¼Œä½†å¾ˆå¸¸ç”¨ï¼Œä¸¤ä¸ªä¾‹å­ï¼š</p>
<ol type="1">
<li><code>random_split(range(10), [3, 7], generator=torch.Generator().manual_seed(42))</code></li>
<li>å¦‚ä¸‹ï¼š</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader, random_split</span><br><span class="line"><span class="keyword">from</span> torchvision.datasets <span class="keyword">import</span> MNIST</span><br><span class="line"></span><br><span class="line">mnist_full = MNIST(self.data_dir, train=<span class="literal">True</span>, transform=self.transform)</span><br><span class="line">self.mnist_train, self.mnist_val = random_split(mnist_full, [<span class="number">55000</span>, <span class="number">5000</span>])</span><br></pre></td></tr></table></figure>
<p>Parametersï¼š</p>
<ul>
<li><strong>dataset</strong> (<a href="https://pytorch.org/docs/stable/data.html#torch.utils.data.Dataset"><em>Dataset</em></a>) â€“ Dataset to be split</li>
<li><strong>lengths</strong> (<em>sequence</em>) â€“ lengths of splits to be produced</li>
<li><strong>generator</strong> (<a href="https://pytorch.org/docs/stable/generated/torch.Generator.html#torch.Generator"><em>Generator</em></a>) â€“ Generator used for the random permutation.</li>
</ul></li>
<li><p>å¦‚æœä½¿ç”¨äº†<code>PrintTableMetricsCallback</code>ï¼Œé‚£ä¹ˆ<code>validation_step</code>ä¸è¦returnå†…å®¹ï¼Œå¦åˆ™ä¼šç‚¸ã€‚</p></li>
</ul>
]]></content>
      <tags>
        <tag>deep-learning</tag>
        <tag>pytorch</tag>
        <tag>pytorch-lightning</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿›ç¨‹ä¸çº¿ç¨‹</title>
    <url>/2018/08/01/c-project-note/</url>
    <content><![CDATA[<h1 id="è¿›ç¨‹ä¸çº¿ç¨‹">è¿›ç¨‹ä¸çº¿ç¨‹</h1>
<p><code>è¿›ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œæ—¶çš„ä¸€ä¸ªå®ä¾‹ï¼Œå³å®ƒæ˜¯ç¨‹åºå·²ç»æ‰§è¡Œåˆ°ä½•ç§ç¨‹åº¦çš„æ•°æ®ç»“æ„çš„æ±‡é›†</code>ï¼›ä»å†…æ ¸çš„è§‚ç‚¹çœ‹ï¼Œè¿›ç¨‹çš„ç›®çš„å°±æ˜¯æ‹…å½“åˆ†é…ç³»ç»Ÿèµ„æºï¼ˆCPUæ—¶é—´ã€å†…å­˜ç­‰ï¼‰çš„åŸºæœ¬å•ä½ï¼›</p>
<p><code>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªæ‰§è¡Œæµï¼Œæ˜¯CPUè°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œå®ƒæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½</code>ï¼›ä¸€ä¸ªè¿›ç¨‹ç”±å‡ ä¸ªçº¿ç¨‹ç»„æˆï¼ˆæ‹¥æœ‰å¾ˆå¤šç›¸å¯¹ç‹¬ç«‹çš„æ‰§è¡Œæµçš„ç”¨æˆ·ç¨‹åºå…±äº«åº”ç”¨ç¨‹åºçš„å¤§éƒ¨åˆ†æ•°æ®ç»“æ„ï¼‰ï¼Œçº¿ç¨‹ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çš„çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºï¼›</p>
<span id="more"></span>
<p><code>"è¿›ç¨‹â€”â€”èµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼Œçº¿ç¨‹â€”â€”ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½"</code></p>
<p>è¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹å´©æºƒåï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ä¸ä¼šå¯¹å…¶å®ƒè¿›ç¨‹äº§ç”Ÿå½±å“ï¼› è€Œçº¿ç¨‹åªæ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä¸åŒæ‰§è¡Œè·¯å¾„çº¿ç¨‹æœ‰è‡ªå·±çš„å †æ ˆå’Œå±€éƒ¨å˜é‡ï¼Œä½†çº¿ç¨‹æ²¡æœ‰å•ç‹¬çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªçº¿ç¨‹æ­»æ‰å°±ç­‰äºæ•´ä¸ªè¿›ç¨‹æ­»æ‰ï¼› æ‰€ä»¥å¤šè¿›ç¨‹çš„ç¨‹åºè¦æ¯”å¤šçº¿ç¨‹çš„ç¨‹åºå¥å£®ï¼Œä½†åœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œè€—è´¹èµ„æºè¾ƒå¤§ï¼Œæ•ˆç‡è¦å·®ä¸€äº›ï¼Œä½†å¯¹äºä¸€äº›è¦æ±‚åŒæ—¶è¿›è¡Œå¹¶ä¸”åˆè¦å…±äº«æŸäº›å˜é‡çš„å¹¶å‘æ“ä½œï¼Œåªèƒ½ç”¨çº¿ç¨‹ï¼Œä¸èƒ½ç”¨è¿›ç¨‹ï¼›</p>
<h2 id="pthreadçº¿ç¨‹åº“">pthreadçº¿ç¨‹åº“</h2>
<p>å¤´æ–‡ä»¶ï¼š<code>pthread.h</code>ï¼Œgccé“¾æ¥æ—¶å‚æ•°ï¼š<code>-lpthread</code>ï¼›</p>
<p><strong>çº¿ç¨‹åŸºæœ¬å‡½æ•°</strong> <code>int pthread_create(pthread_t *tid, const pthread_attr_t *attr, void *(*func)(void *), void *arg);</code>ï¼šåˆ›å»ºçº¿ç¨‹</p>
<ul>
<li><code>tid</code>ï¼šè¾“å‡ºå‚æ•°ï¼Œä¿å­˜è¿”å›çš„çº¿ç¨‹IDï¼ˆä¸linuxç³»ç»Ÿä¸­çš„çº¿ç¨‹IDä¸ä¸€æ ·ï¼Œè¿™ä¸ªIDåº”è¯¥ç†è§£ä¸ºä¸€ä¸ªåœ°å€ï¼‰ï¼Œç”¨æ— ç¬¦å·é•¿æ•´å‹è¡¨ç¤ºï¼›</li>
<li><code>attr</code>ï¼šè¾“å…¥å‚æ•°ï¼Œçº¿ç¨‹çš„ç›¸å…³å±æ€§ï¼Œå¦‚çº¿ç¨‹ä¼˜å…ˆçº§ã€åˆå§‹æ ˆå¤§å°ã€æ˜¯å¦ä¸ºå®ˆæŠ¤è¿›ç¨‹ç­‰ï¼Œä¸€èˆ¬ç½®ä¸ºNULLï¼Œè¡¨ç¤ºä½¿ç”¨é»˜è®¤å±æ€§ï¼›</li>
<li><code>func</code>ï¼šè¾“å…¥å‚æ•°ï¼Œä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼ˆ<code>void *job(void *arg);</code>ï¼‰ï¼Œçº¿ç¨‹æ‰§è¡Œçš„å‡½æ•°ï¼›</li>
<li><code>arg</code>ï¼šè¾“å…¥å‚æ•°ï¼Œå‡½æ•°çš„å‚æ•°ï¼Œå¦‚æœæœ‰å¤šä¸ªå‚æ•°é¡»å°†å…¶å°è£…ä¸ºä¸€ä¸ªç»“æ„ä½“ï¼›</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼ˆæ­£æ•°ï¼‰ï¼›</li>
</ul>
<p><code>void pthread_exit(void *status);</code>ï¼šé€€å‡ºçº¿ç¨‹</p>
<ul>
<li><code>status</code>ï¼šè¾“å…¥å‚æ•°ï¼Œé€€å‡ºçŠ¶æ€ï¼›</li>
</ul>
<p><code>int pthread_join(pthread_t tid, void **status);</code>ï¼šç­‰å¾…çº¿ç¨‹é€€å‡º</p>
<ul>
<li><code>tid</code>ï¼šè¾“å…¥å‚æ•°ï¼ŒæŒ‡å®šç­‰å¾…çš„çº¿ç¨‹IDï¼›</li>
<li><code>status</code>ï¼šè¾“å‡ºå‚æ•°ï¼Œä¸€ä¸ªäºŒçº§æŒ‡é’ˆï¼Œä¿å­˜é€€å‡ºå€¼ï¼Œå¯ä¸ºNULLï¼›</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼›</li>
</ul>
<p><code>pthread_t pthread_self(void);</code>ï¼šè·å–å½“å‰çº¿ç¨‹ID</p>
<p><code>int pthread_detach(pthread_t tid);</code>ï¼šåˆ†ç¦»çº¿ç¨‹</p>
<ul>
<li>å˜ä¸ºåˆ†ç¦»çŠ¶æ€çš„çº¿ç¨‹ï¼Œå¦‚æœçº¿ç¨‹é€€å‡ºï¼Œå®ƒçš„æ‰€æœ‰èµ„æºå°†å…¨éƒ¨é‡Šæ”¾ï¼› è€Œå¦‚æœä¸æ˜¯åˆ†ç¦»çŠ¶æ€ï¼Œçº¿ç¨‹å¿…é¡»ä¿ç•™å®ƒçš„çº¿ç¨‹IDï¼Œé€€å‡ºçŠ¶æ€ç›´åˆ°å…¶å®ƒçº¿ç¨‹å¯¹å®ƒè°ƒç”¨äº†pthread_joinï¼›</li>
<li><code>tid</code>ï¼šè¾“å…¥å‚æ•°ï¼ŒæŒ‡å®šçš„çº¿ç¨‹IDï¼›</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼›</li>
</ul>
<p><strong>çº¿ç¨‹ID</strong> ä¸»çº¿ç¨‹ï¼šæ¯ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå³main()å‡½æ•°çš„æ‰§è¡Œçº¿ç¨‹ï¼Œç§°ä¹‹ä¸ºä¸»çº¿ç¨‹ï¼› å­çº¿ç¨‹ï¼šç”±ä¸»çº¿ç¨‹è°ƒç”¨<code>pthread_create()</code>åˆ›å»ºçš„çº¿ç¨‹ï¼›</p>
<p>çº¿ç¨‹ä¸åƒè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹ä¹‹é—´æ˜¯æ²¡æœ‰çˆ¶å­ä¹‹åˆ†çš„ï¼Œéƒ½æ˜¯<code>å¹³çº§å…³ç³»</code>ï¼›å³çº¿ç¨‹éƒ½æ˜¯ä¸€æ ·çš„, é€€å‡ºäº†ä¸€ä¸ªä¸ä¼šå½±å“å¦å¤–ä¸€ä¸ªï¼›</p>
<p>ä½†æ˜¯æ‰€è°“çš„<code>ä¸»çº¿ç¨‹main</code>ï¼Œå…¶å…¥å£ä»£ç æ˜¯ç±»ä¼¼è¿™æ ·çš„æ–¹å¼è°ƒç”¨mainçš„ï¼š<code>exit(main(...))</code>ï¼› mainæ‰§è¡Œå®Œä¹‹å, ä¼šè°ƒç”¨exit()ï¼Œexit()ä¼šè®©æ•´ä¸ªè¿›ç¨‹ç»ˆæ­¢ï¼Œé‚£æ‰€æœ‰çº¿ç¨‹è‡ªç„¶éƒ½ä¼šé€€å‡ºï¼›</p>
<p>ä¸»çº¿ç¨‹å…ˆé€€å‡ºï¼Œå­çº¿ç¨‹ç»§ç»­è¿è¡Œçš„æ–¹æ³•ï¼š åœ¨ä¸»çº¿ç¨‹mainä¸­è°ƒç”¨pthread_exit()ï¼Œåªä¼šä½¿ä¸»çº¿ç¨‹é€€å‡ºï¼›è€Œå¦‚æœæ˜¯returnï¼Œç¼–è¯‘å™¨å°†ä½¿å…¶è°ƒç”¨è¿›ç¨‹é€€å‡ºçš„ä»£ç ï¼ˆå¦‚_exit()ï¼‰ï¼Œä»è€Œå¯¼è‡´è¿›ç¨‹åŠå…¶æ‰€æœ‰çº¿ç¨‹ç»“æŸè¿è¡Œï¼›</p>
<p>æŒ‰ç…§POSIXæ ‡å‡†å®šä¹‰ï¼Œå½“ä¸»çº¿ç¨‹åœ¨å­çº¿ç¨‹ç»ˆæ­¢ä¹‹å‰è°ƒç”¨pthread_exit()æ—¶ï¼Œå­çº¿ç¨‹æ˜¯ä¸ä¼šé€€å‡ºçš„ï¼›</p>
<p>ç³»ç»Ÿä¸­çš„çº¿ç¨‹IDï¼š</p>
<ul>
<li><code>ls /proc/[PID]/task/[TID]/</code>ï¼šå¯æŸ¥çœ‹ä¸€ä¸ªè¿›ç¨‹ä¸‹çš„æ‰€æœ‰çº¿ç¨‹IDã€åŠç›¸å…³ä¿¡æ¯ï¼›</li>
<li><code>ps -eo user,pid,ppid,lwp,nlwp,%cpu,%mem,stat,cmd</code>ï¼šlwpå³çº¿ç¨‹IDï¼Œnlwpä¸ºè¿›ç¨‹ä¸­çš„çº¿ç¨‹æ•°é‡ï¼›</li>
</ul>
<p>ä¸»çº¿ç¨‹çš„çº¿ç¨‹IDä¸å®ƒæ‰€å±è¿›ç¨‹çš„è¿›ç¨‹IDç›¸åŒï¼›</p>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„çº¿ç¨‹IDä¸<code>pthread_self</code>ä¸­çš„çº¿ç¨‹IDä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼š <code>gettid</code>è·å–çš„æ˜¯<code>å†…æ ¸ä¸­çº¿ç¨‹ID</code>ï¼Œè€Œ<code>pthread_self</code>è·å–çš„æ˜¯<code>posixæè¿°çš„çº¿ç¨‹ID</code>ï¼›</p>
<p>åœ¨cè¯­è¨€ä¸­ï¼Œå¯ä»¥ç”¨<code>syscall(__NR_gettid);</code>ï¼ˆå¤´æ–‡ä»¶<code>sys/syscall.h</code>ï¼‰æ¥è·å–å†…æ ¸ä¸­çš„çº¿ç¨‹IDï¼›</p>
<p><strong>äº’æ–¥é”</strong> å°±åƒå…±äº«å†…å­˜ä¸­çš„ä¿¡å·é‡ä¸€æ ·ï¼Œä¸ºäº†é˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶ä½¿ç”¨ä¸€ä¸ªå…±äº«çš„å¯¹è±¡ï¼ˆå¦‚å…¨å±€å˜é‡ï¼‰ï¼Œpthreadæä¾›äº†äº’æ–¥é”è¿™ç§æœºåˆ¶ï¼›</p>
<p><strong>åˆå§‹åŒ–</strong> é™æ€åˆå§‹åŒ–ï¼š<code>static pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;</code> åŠ¨æ€åˆå§‹åŒ–ï¼š<code>int pthread_mutex_init(pthread_mutex_t *mutex, const pthread_mutexattr_t *attr);</code></p>
<ul>
<li><code>mutex</code>ï¼šè¾“å‡ºå‚æ•°ï¼Œäº’æ–¥å˜é‡ï¼›</li>
<li><code>attr</code>ï¼šè¾“å…¥å‚æ•°ï¼Œé”å±æ€§ï¼ŒNULLå€¼ä¸ºé»˜è®¤å±æ€§ï¼›</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼›</li>
</ul>
<p><strong>åŠ é”ã€é‡Šæ”¾é”</strong> <code>int pthread_mutex_lock(pthread_mutex_t *mutex);</code>ï¼šåŠ é”ï¼ˆé˜»å¡ï¼‰</p>
<ul>
<li><code>mutex</code>ï¼šè¾“å…¥å‚æ•°ï¼Œäº’æ–¥å˜é‡ï¼›</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼›</li>
</ul>
<p><code>int pthread_mutex_trylock(pthread_mutex_t *mutex);</code>ï¼šå°è¯•åŠ é”ï¼ˆéé˜»å¡ï¼‰</p>
<ul>
<li><code>mutex</code>ï¼šè¾“å…¥å‚æ•°ï¼Œäº’æ–¥å˜é‡ï¼›</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œé”ç¹å¿™è¿”å›<code>EBUSY</code>ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼›</li>
</ul>
<p><code>int pthread_mutex_unlock(pthread_mutex_t *mutex);</code>ï¼šé‡Šæ”¾é”</p>
<ul>
<li><code>mutex</code>ï¼šè¾“å…¥å‚æ•°ï¼Œäº’æ–¥å˜é‡ï¼›</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼›</li>
</ul>
<p><strong>é”€æ¯</strong> <code>int pthread_mutex_destroy(pthread_mutex_t *mutex);</code></p>
<ul>
<li><code>mutex</code>ï¼šè¾“å…¥å‚æ•°ï¼Œäº’æ–¥å˜é‡ï¼›</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼›</li>
</ul>
<p><strong>æ¡ä»¶å˜é‡</strong> ä¸äº’æ–¥é”ä¸åŒï¼Œ<strong>æ¡ä»¶å˜é‡æ˜¯ç”¨æ¥ç­‰å¾…è€Œä¸æ˜¯ç”¨æ¥ä¸Šé”çš„ï¼Œæ¡ä»¶å˜é‡ç”¨æ¥è‡ªåŠ¨é˜»å¡ä¸€ä¸ªçº¿ç¨‹ï¼Œç›´åˆ°æŸç‰¹æ®Šæƒ…å†µå‘ç”Ÿä¸ºæ­¢ï¼›é€šå¸¸æ¡ä»¶å˜é‡å’Œäº’æ–¥é”åŒæ—¶ä½¿ç”¨</strong></p>
<p>æ¡ä»¶å˜é‡ä½¿æˆ‘ä»¬å¯ä»¥ç¡çœ ç­‰å¾…æŸç§æ¡ä»¶å‡ºç°ï¼›æ¡ä»¶å˜é‡æ˜¯åˆ©ç”¨çº¿ç¨‹é—´å…±äº«çš„å…¨å±€å˜é‡è¿›è¡ŒåŒæ­¥çš„ä¸€ç§æœºåˆ¶ï¼Œä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªåŠ¨ä½œï¼šä¸€ä¸ªçº¿ç¨‹ç­‰å¾…â€æ¡ä»¶å˜é‡çš„æ¡ä»¶æˆç«‹â€è€ŒæŒ‚èµ·ï¼›å¦ä¸€ä¸ªçº¿ç¨‹ä½¿â€æ¡ä»¶æˆç«‹â€ï¼ˆç»™å‡ºæ¡ä»¶æˆç«‹ä¿¡å·ï¼‰ï¼›</p>
<p>æ¡ä»¶çš„æ£€æµ‹æ˜¯åœ¨äº’æ–¥é”çš„ä¿æŠ¤ä¸‹è¿›è¡Œçš„ï¼›å¦‚æœä¸€ä¸ªæ¡ä»¶ä¸ºå‡ï¼Œä¸€ä¸ªçº¿ç¨‹è‡ªåŠ¨é˜»å¡ï¼Œå¹¶é‡Šæ”¾ç­‰å¾…çŠ¶æ€æ”¹å˜çš„äº’æ–¥é”ï¼› å¦‚æœå¦ä¸€ä¸ªçº¿ç¨‹æ”¹å˜äº†æ¡ä»¶ï¼Œå®ƒå‘ä¿¡å·ç»™å…³è”çš„æ¡ä»¶å˜é‡ï¼Œå”¤é†’ä¸€ä¸ªæˆ–å¤šä¸ªç­‰å¾…å®ƒçš„çº¿ç¨‹ï¼Œé‡æ–°è·å¾—äº’æ–¥é”ï¼Œé‡æ–°è¯„ä»·æ¡ä»¶ï¼› å¦‚æœä¸¤è¿›ç¨‹å…±äº«å¯è¯»å†™çš„å†…å­˜ï¼Œæ¡ä»¶å˜é‡å¯ä»¥è¢«ç”¨æ¥å®ç°è¿™ä¸¤è¿›ç¨‹é—´çš„çº¿ç¨‹åŒæ­¥ï¼›</p>
<p><strong>ç›¸å…³å‡½æ•°</strong> <code>int pthread_cond_init(pthread_cond_t *cond, pthread_condattr_t *cond_attr);</code>ï¼šåŠ¨æ€åˆå§‹åŒ– <code>int pthread_cond_wait(pthread_cond_t *cond, pthread_mutex_t *mutex);</code>ï¼šç­‰å¾…æ¡ä»¶ï¼Œé˜»å¡ <code>int pthread_cond_timedwait(pthread_cond_t *cond, pthread_mutex *mutex, const timespec *abstime);</code>ï¼šç­‰å¾…æ¡ä»¶ï¼Œè¶…æ—¶ <code>int pthread_cond_signal(pthread_cond_t *cond);</code>ï¼šé€šçŸ¥æ¡ä»¶ï¼Œåªå”¤é†’å•ä¸ªç­‰å¾…çº¿ç¨‹ <code>int pthread_cond_broadcast(pthread_cond_t *cond);</code>ï¼šé€šçŸ¥æ¡ä»¶ï¼Œå”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ <code>int pthread_cond_destroy(pthread_cond_t *cond);</code>ï¼šé”€æ¯ è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›errnoå€¼ï¼›</p>
<p>é™æ€åˆå§‹åŒ–ã€åŠ¨æ€åˆå§‹åŒ–ï¼ˆå’Œäº’æ–¥é”ç›¸ä¼¼ï¼‰ï¼š <code>static pthread_cond_t cond = PTHREAD_COND_INITIALIZER;</code>ï¼šé™æ€åˆå§‹åŒ– <code>int pthread_cond_init(pthread_cond_t *cond, pthread_condattr_t *cond_attr);</code>ï¼šåŠ¨æ€åˆå§‹åŒ–</p>
<p><strong>pthread_cond_waitæ‰§è¡Œæµç¨‹</strong> <a href="pthread_cond_wait.jpg"><img src="https://ws3.sinaimg.cn/large/006tNc79ly1ftrgwswgi0j30ki0f9dhb.jpg" alt="pthread_cond_waitæ‰§è¡Œæµç¨‹"></a></p>
<p>ä¼ å…¥ç»™<code>pthread_cond_wait</code>çš„mutexåº”ä¸ºä¸€æŠŠå·²ç»è·å–çš„äº’æ–¥é”ï¼› pthread_cond_waitè°ƒç”¨ç›¸å½“å¤æ‚ï¼Œå®ƒæ˜¯å¦‚ä¸‹æ‰§è¡Œåºåˆ—çš„ä¸€ä¸ªç»„åˆï¼š 1ï¼‰<code>é‡Šæ”¾äº’æ–¥é”</code> å¹¶ä¸” <code>å°†çº¿ç¨‹æŒ‚èµ·</code>ï¼ˆè¿™ä¸¤ä¸ªæ“ä½œæ˜¯ä¸€ä¸ª<code>åŸå­æ“ä½œ</code>ï¼‰ï¼› 2ï¼‰çº¿ç¨‹<code>è·å¾—ä¿¡å·</code>ï¼Œ<code>å°è¯•è·å¾—äº’æ–¥é”åè¢«å”¤é†’</code>ï¼›</p>
<p>å¤šçº¿ç¨‹å®ä¾‹</p>
<p><strong>é¢˜ç›®</strong> 1ï¼‰æœ‰ä¸€intå‹å…¨å±€å˜é‡flagåˆå§‹å€¼ä¸º0ï¼› 2ï¼‰åœ¨ä¸»çº¿ç¨‹ä¸­å¯åŠ¨çº¿ç¨‹1ï¼Œå°†flagè®¾ç½®ä¸º1ï¼› 3ï¼‰åœ¨ä¸»çº¿ç¨‹ä¸­å¯åŠ¨çº¿ç¨‹2ï¼Œå°†flagè®¾ç½®ä¸º2ï¼› 4ï¼‰ä¸»çº¿ç¨‹mainä¸€ç›´é˜»å¡ï¼Œç›´åˆ°1å˜ä¸º2ï¼Œæˆ–2å˜ä¸º1æ—¶æ‰ä¼šç»§ç»­è¿è¡Œï¼›</p>
<p><strong>è§£å†³</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/syscall.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> gettid() syscall(__NR_gettid)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">volatile</span> <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">pthread_mutex_t</span> mutex = PTHREAD_MUTEX_INITIALIZER;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">pthread_cond_t</span> cond = PTHREAD_COND_INITIALIZER;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">job1</span><span class="params">(<span class="keyword">void</span> *arg)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">job2</span><span class="params">(<span class="keyword">void</span> *arg)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;++++++++++ entry thread_main (pid: %d, tid: %ld) ++++++++++\n&quot;</span>, getpid(), gettid());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pthread_t</span> tid1, tid2;</span><br><span class="line">    errno = pthread_create(&amp;tid1, <span class="literal">NULL</span>, job1, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_create&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    errno = pthread_create(&amp;tid2, <span class="literal">NULL</span>, job2, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_create&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&lt;thread_main&gt; waiting for 1-&gt;2 or 2-&gt;1\n&quot;</span>);</span><br><span class="line">    errno = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_mutex_lock&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    errno = pthread_cond_wait(&amp;cond, &amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_cond_wait&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    errno = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_mutex_unlock&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&lt;thread_main&gt; wait finish\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    errno = pthread_join(tid1, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_join&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    errno = pthread_join(tid2, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_join&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    errno = pthread_cond_destroy(&amp;cond);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_cond_destroy&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    errno = pthread_mutex_destroy(&amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_mutex_destroy&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;---------- leave thread_main (pid: %d, tid: %ld) ----------\n&quot;</span>, getpid(), gettid());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">job1</span><span class="params">(<span class="keyword">void</span> *arg)</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;++++++++++ entry thread_1 (pid: %d, tid: %ld) ++++++++++\n&quot;</span>, getpid(), gettid());</span><br><span class="line"></span><br><span class="line">    usleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">    errno = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_mutex_lock&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&lt;thread_1&gt; before: %d\n&quot;</span>, flag);</span><br><span class="line">    <span class="keyword">if</span>(flag == <span class="number">2</span>)&#123;</span><br><span class="line">        errno = pthread_cond_signal(&amp;cond);</span><br><span class="line">        <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">            perror(<span class="string">&quot;pthread_cond_signal&quot;</span>);</span><br><span class="line">            <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    flag = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&lt;thread_1&gt; after: %d\n&quot;</span>, flag);</span><br><span class="line"></span><br><span class="line">    errno = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_mutex_unlock&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;---------- leave thread_1 (pid: %d, tid: %ld) ----------\n&quot;</span>, getpid(), gettid());</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">job2</span><span class="params">(<span class="keyword">void</span> *arg)</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;++++++++++ entry thread_2 (pid: %d, tid: %ld) ++++++++++\n&quot;</span>, getpid(), gettid());</span><br><span class="line"></span><br><span class="line">    usleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">    errno = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_mutex_lock&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&lt;thread_2&gt; before: %d\n&quot;</span>, flag);</span><br><span class="line">    <span class="keyword">if</span>(flag == <span class="number">1</span>)&#123;</span><br><span class="line">        errno = pthread_cond_signal(&amp;cond);</span><br><span class="line">        <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">            perror(<span class="string">&quot;pthread_cond_signal&quot;</span>);</span><br><span class="line">            <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    flag = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&lt;thread_2&gt; after: %d\n&quot;</span>, flag);</span><br><span class="line"></span><br><span class="line">    errno = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">    <span class="keyword">if</span>(errno)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pthread_mutex_unlock&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;---------- leave thread_2 (pid: %d, tid: %ld) ----------\n&quot;</span>, getpid(), gettid());</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta"># root @ arch in ~/work on git:master x [13:25:47]</span></span><br><span class="line">$ gcc a.c -lpthread</span><br><span class="line">a.c: In function â€˜job1â€™:</span><br><span class="line">a.c:<span class="number">79</span>:<span class="number">18</span>: warning: unused parameter â€˜argâ€™ [-Wunused-parameter]</span><br><span class="line"> <span class="function"><span class="keyword">void</span> *<span class="title">job1</span><span class="params">(<span class="keyword">void</span> *arg)</span></span>&#123;</span><br><span class="line">                  ^~~</span><br><span class="line">a.c: In function â€˜job2â€™:</span><br><span class="line">a.c:<span class="number">111</span>:<span class="number">18</span>: warning: unused parameter â€˜argâ€™ [-Wunused-parameter]</span><br><span class="line"> <span class="function"><span class="keyword">void</span> *<span class="title">job2</span><span class="params">(<span class="keyword">void</span> *arg)</span></span>&#123;</span><br><span class="line">                  ^~~</span><br><span class="line"></span><br><span class="line"><span class="meta"># root @ arch in ~/work on git:master x [13:25:53]</span></span><br><span class="line">$ ./a.out</span><br><span class="line">++++++++++ entry thread_main (pid: 88631, tid: 88631) ++++++++++</span><br><span class="line">++++++++++ entry thread_1 (pid: 88631, tid: 88632) ++++++++++</span><br><span class="line">&lt;thread_main&gt; waiting <span class="keyword">for</span> <span class="number">1</span>-&gt;<span class="number">2</span> <span class="keyword">or</span> <span class="number">2</span>-&gt;<span class="number">1</span></span><br><span class="line">++++++++++ entry thread_2 (pid: 88631, tid: 88633) ++++++++++</span><br><span class="line">&lt;thread_2&gt; before: <span class="number">0</span></span><br><span class="line">&lt;thread_2&gt; after: <span class="number">2</span></span><br><span class="line">---------- leave thread_2 (pid: 88631, tid: 88633) ----------</span><br><span class="line">&lt;thread_1&gt; before: <span class="number">2</span></span><br><span class="line">&lt;thread_1&gt; after: <span class="number">1</span></span><br><span class="line">---------- leave thread_1 (pid: 88631, tid: 88632) ----------</span><br><span class="line">&lt;thread_main&gt; wait finish</span><br><span class="line">---------- leave thread_main (pid: 88631, tid: 88631) ----------</span><br></pre></td></tr></table></figure>
<h1 id="ccä¸­-constexternstaticvolatileçš„ä½¿ç”¨"><a href="http://blog.chinaunix.net/uid-20659461-id-1905243.html">C/C++ä¸­ const,extern,static,volatileçš„ä½¿ç”¨</a></h1>
<h2 id="constçš„ç”¨æ³•">1.constçš„ç”¨æ³•ï¼š</h2>
<h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨const">ä¸ºä»€ä¹ˆä½¿ç”¨constï¼Ÿ</h3>
<p>é‡‡ç”¨ç¬¦å·å¸¸é‡å†™å‡ºçš„ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ï¼›æŒ‡é’ˆå¸¸å¸¸æ˜¯è¾¹è¯»è¾¹ç§»åŠ¨ï¼Œè€Œä¸æ˜¯è¾¹å†™è¾¹ç§»åŠ¨ï¼›è®¸å¤šå‡½æ•°å‚æ•°æ˜¯åªè¯»ä¸å†™çš„ã€‚constæœ€å¸¸è§ç”¨é€”æ˜¯ä½œä¸ºæ•°ç»„çš„ç•Œå’Œswitchåˆ†æƒ…å†µæ ‡å·ï¼ˆä¹Ÿå¯ä»¥ç”¨æšä¸¾ç¬¦ä»£æ›¿ï¼‰</p>
<h3 id="ç”¨æ³•1å¸¸é‡">ç”¨æ³•1ï¼šå¸¸é‡</h3>
<p>å–ä»£äº†Cä¸­çš„å®å®šä¹‰ï¼Œå£°æ˜æ—¶å¿…é¡»è¿›è¡Œåˆå§‹åŒ–ã€‚consté™åˆ¶äº†å¸¸é‡çš„ä½¿ç”¨æ–¹å¼ï¼Œå¹¶æ²¡æœ‰æè¿°å¸¸é‡åº”è¯¥å¦‚ä½•åˆ†é…ã€‚å¦‚æœç¼–è¯‘å™¨çŸ¥é“äº†æŸconstçš„æ‰€æœ‰ä½¿ç”¨ï¼Œå®ƒç”šè‡³å¯ä»¥ä¸ä¸ºè¯¥conståˆ†é…ç©ºé—´ã€‚æœ€ç®€å•çš„å¸¸è§æƒ…å†µå°±æ˜¯å¸¸é‡çš„å€¼åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ï¼Œè€Œä¸”ä¸éœ€è¦åˆ†é…å­˜å‚¨ã€‚â€•ã€ŠC++ Program Languageã€‹ ç”¨constå£°æ˜çš„å˜é‡è™½ç„¶å¢åŠ äº†åˆ†é…ç©ºé—´ï¼Œä½†æ˜¯å¯ä»¥ä¿è¯ç±»å‹å®‰å…¨ã€‚ Cæ ‡å‡†ä¸­ï¼Œconstå®šä¹‰çš„å¸¸é‡æ˜¯å…¨å±€çš„ï¼ŒC++ä¸­è§†å£°æ˜ä½ç½®è€Œå®šã€‚</p>
<h3 id="ç”¨æ³•2æŒ‡é’ˆå’Œå¸¸é‡">ç”¨æ³•2ï¼šæŒ‡é’ˆå’Œå¸¸é‡</h3>
<p>ä½¿ç”¨æŒ‡é’ˆæ—¶æ¶‰åŠåˆ°ä¸¤ä¸ªå¯¹è±¡ï¼šè¯¥æŒ‡é’ˆæœ¬èº«å’Œè¢«å®ƒæ‰€æŒ‡çš„å¯¹è±¡ã€‚å°†ä¸€ä¸ªæŒ‡é’ˆçš„å£°æ˜ç”¨constâ€œé¢„å…ˆå›ºå®šâ€å°†ä½¿é‚£ä¸ªå¯¹è±¡è€Œä¸æ˜¯ä½¿è¿™ä¸ªæŒ‡é’ˆæˆä¸ºå¸¸é‡ã€‚è¦å°†æŒ‡é’ˆæœ¬èº«è€Œä¸æ˜¯è¢«æŒ‡å¯¹è±¡å£°æ˜ä¸ºå¸¸é‡ï¼Œå¿…é¡»ä½¿ç”¨å£°æ˜è¿ç®—ç¬¦<em>constã€‚ æ‰€ä»¥å‡ºç°åœ¨ </em> ä¹‹å‰çš„constæ˜¯ä½œä¸ºåŸºç¡€ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼š</p>
<blockquote>
<p>ä»å³å‘å·¦è¯»çš„è®°å¿†æ–¹å¼ï¼š</p>
<p>cp is a const pointer to char.</p>
<p>pc2 is a pointer to const char.</p>
</blockquote>
<h3 id="ç”¨æ³•3constä¿®é¥°å‡½æ•°ä¼ å…¥å‚æ•°">ç”¨æ³•3ï¼šconstä¿®é¥°å‡½æ•°ä¼ å…¥å‚æ•°</h3>
<p>å°†å‡½æ•°ä¼ å…¥å‚æ•°å£°æ˜ä¸ºconstï¼Œä»¥æŒ‡æ˜ä½¿ç”¨è¿™ç§å‚æ•°ä»…ä»…æ˜¯ä¸ºäº†æ•ˆç‡çš„åŸå› ï¼Œè€Œä¸æ˜¯æƒ³è®©è°ƒç”¨å‡½æ•°èƒ½å¤Ÿä¿®æ”¹å¯¹è±¡çš„å€¼ã€‚åŒç†ï¼Œå°†æŒ‡é’ˆå‚æ•°å£°æ˜ä¸ºconstï¼Œå‡½æ•°å°†ä¸ä¿®æ”¹ç”±è¿™ä¸ªå‚æ•°æ‰€æŒ‡çš„å¯¹è±¡ã€‚</p>
<p>é€šå¸¸ä¿®é¥°æŒ‡é’ˆå‚æ•°å’Œå¼•ç”¨å‚æ•°ï¼š</p>
<h3 id="ç”¨æ³•4ä¿®é¥°å‡½æ•°è¿”å›å€¼">ç”¨æ³•4ï¼šä¿®é¥°å‡½æ•°è¿”å›å€¼</h3>
<p>å¯ä»¥é˜»æ­¢ç”¨æˆ·ä¿®æ”¹è¿”å›å€¼ã€‚è¿”å›å€¼ä¹Ÿè¦ç›¸åº”çš„ä»˜ç»™ä¸€ä¸ªå¸¸é‡æˆ–å¸¸æŒ‡é’ˆã€‚</p>
<h3 id="ç”¨æ³•5constä¿®é¥°æˆå‘˜å‡½æ•°">ç”¨æ³•5ï¼šconstä¿®é¥°æˆå‘˜å‡½æ•°</h3>
<p>constå¯¹è±¡åªèƒ½è®¿é—®constæˆå‘˜å‡½æ•°ï¼Œè€Œéconstå¯¹è±¡å¯ä»¥è®¿é—®ä»»æ„çš„æˆå‘˜å‡½æ•°ï¼ŒåŒ…æ‹¬constæˆå‘˜å‡½æ•°ï¼›</p>
<p>constå¯¹è±¡çš„æˆå‘˜æ˜¯ä¸èƒ½ä¿®æ”¹çš„ï¼Œè€Œé€šè¿‡æŒ‡é’ˆç»´æŠ¤çš„å¯¹è±¡ç¡®å®å¯ä»¥ä¿®æ”¹çš„ï¼›</p>
<p>constæˆå‘˜å‡½æ•°ä¸å¯ä»¥ä¿®æ”¹å¯¹è±¡çš„æ•°æ®ï¼Œä¸ç®¡å¯¹è±¡æ˜¯å¦å…·æœ‰constæ€§è´¨ã€‚ç¼–è¯‘æ—¶ä»¥æ˜¯å¦ä¿®æ”¹æˆå‘˜æ•°æ®ä¸ºä¾æ®è¿›è¡Œæ£€æŸ¥ã€‚</p>
<h2 id="staticçš„ç”¨æ³•">2.staticçš„ç”¨æ³•ï¼š</h2>
<p>é™æ€å˜é‡ä½œç”¨èŒƒå›´åœ¨ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œç¨‹åºå¼€å§‹æ—¶åˆ†é…ç©ºé—´ï¼Œç»“æŸæ—¶é‡Šæ”¾ç©ºé—´ï¼Œé»˜è®¤åˆå§‹åŒ–ä¸º0ï¼Œä½¿ç”¨æ—¶å¯ä»¥æ”¹å˜å…¶å€¼ã€‚</p>
<p>é™æ€å˜é‡æˆ–é™æ€å‡½æ•°åªæœ‰æœ¬æ–‡ä»¶å†…çš„ä»£ç æ‰èƒ½è®¿é—®å®ƒï¼Œå®ƒçš„åå­—åœ¨å…¶å®ƒæ–‡ä»¶ä¸­ä¸å¯è§ã€‚</p>
<h3 id="ç”¨æ³•1å‡½æ•°å†…éƒ¨å£°æ˜çš„staticå˜é‡å¯ä½œä¸ºå¯¹è±¡é—´çš„ä¸€ç§é€šä¿¡æœºåˆ¶">ç”¨æ³•1ï¼šå‡½æ•°å†…éƒ¨å£°æ˜çš„staticå˜é‡ï¼Œå¯ä½œä¸ºå¯¹è±¡é—´çš„ä¸€ç§é€šä¿¡æœºåˆ¶</h3>
<p>å¦‚æœä¸€å±€éƒ¨å˜é‡è¢«å£°æ˜ä¸ºstaticï¼Œé‚£ä¹ˆå°†åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªé™æ€åˆ†é…çš„å¯¹è±¡ï¼Œå®ƒè¢«ç”¨äºåœ¨è¯¥å‡½æ•°çš„æ‰€æœ‰è°ƒç”¨ä¸­è¡¨ç¤ºè¿™ä¸ªå˜é‡ã€‚è¿™ä¸ªå¯¹è±¡å°†åªåœ¨æ‰§è¡Œçº¿ç¨‹ç¬¬ä¸€æ¬¡åˆ°è¾¾å®ƒçš„å®šä¹‰ä½¿åˆå§‹åŒ–ã€‚</p>
<h3 id="ç”¨æ³•2å±€éƒ¨é™æ€å¯¹è±¡">ç”¨æ³•2ï¼šå±€éƒ¨é™æ€å¯¹è±¡</h3>
<p>å¯¹äºå±€éƒ¨é™æ€å¯¹è±¡ï¼Œæ„é€ å‡½æ•°æ˜¯åœ¨æ§åˆ¶çº¿ç¨‹ç¬¬ä¸€æ¬¡é€šè¿‡è¯¥å¯¹è±¡çš„å®šä¹‰æ—¶è°ƒç”¨ã€‚åœ¨ç¨‹åºç»“æŸæ—¶ï¼Œå±€éƒ¨é™æ€å¯¹è±¡çš„ææ„å‡½æ•°å°†æŒ‰ç…§ä»–ä»¬è¢«æ„é€ çš„ç›¸åé¡ºåºé€ä¸€è°ƒç”¨ï¼Œæ²¡æœ‰è§„å®šç¡®åˆ‡æ—¶é—´ã€‚</p>
<h3 id="ç”¨æ³•3é™æ€æˆå‘˜å’Œé™æ€æˆå‘˜å‡½æ•°">ç”¨æ³•3ï¼šé™æ€æˆå‘˜å’Œé™æ€æˆå‘˜å‡½æ•°</h3>
<p>å¦‚æœä¸€ä¸ªå˜é‡æ˜¯ç±»çš„ä¸€éƒ¨åˆ†ï¼Œä½†å´ä¸æ˜¯è¯¥ç±»çš„å„ä¸ªå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå°±è¢«æˆä¸ºæ˜¯ä¸€ä¸ªstaticé™æ€æˆå‘˜ã€‚ä¸€ä¸ªstaticæˆå‘˜åªæœ‰å”¯ä¸€çš„ä¸€ä»½å‰¯æœ¬ï¼Œè€Œä¸åƒå¸¸è§„çš„éstaticæˆå‘˜é‚£æ ·åœ¨æ¯ä¸ªå¯¹è±¡é‡Œå„æœ‰ä¸€ä»½å‰¯æœ¬ã€‚åŒç†ï¼Œä¸€ä¸ªéœ€è¦è®¿é—®ç±»æˆå‘˜ï¼Œè€Œä¸éœ€è¦é’ˆå¯¹ç‰¹å®šå¯¹è±¡å»è°ƒç”¨çš„å‡½æ•°ï¼Œä¹Ÿè¢«ç§°ä¸ºä¸€ä¸ªstaticæˆå‘˜å‡½æ•°ã€‚</p>
<p>ç±»çš„é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®ç±»çš„é™æ€æˆå‘˜ï¼ˆå˜é‡æˆ–å‡½æ•°ï¼‰ã€‚</p>
<h2 id="externçš„ç”¨æ³•">3.externçš„ç”¨æ³•ï¼š</h2>
<p>externå¯ä»¥å£°æ˜å…¶ä»–æ–‡ä»¶å†…å®šä¹‰çš„å˜é‡ã€‚åœ¨ä¸€ä¸ªç¨‹åºé‡Œï¼Œä¸€ä¸ªå¯¹è±¡åªèƒ½å®šä¹‰ä¸€æ¬¡ï¼Œå®ƒå¯ä»¥æœ‰å¤šä¸ªå£°æ˜ï¼Œä½†ç±»å‹å¿…é¡»å®Œå…¨ä¸€æ ·ã€‚å¦‚æœå®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸæˆ–è€…åå­—ç©ºé—´ä½œç”¨åŸŸé‡ŒæŸä¸€ä¸ªå˜é‡æ²¡æœ‰åˆå§‹åŒ–ï¼Œå®ƒä¼šè¢«æŒ‰ç…§é»˜è®¤æ–¹å¼åˆå§‹åŒ–ã€‚</p>
<p>å°†å˜é‡æˆ–å‡½æ•°å£°æ˜æˆå¤–éƒ¨é“¾æ¥ï¼Œå³è¯¥å˜é‡æˆ–å‡½æ•°ååœ¨å…¶å®ƒå‡½æ•°ä¸­å¯è§ã€‚è¢«å…¶ä¿®é¥°çš„å˜é‡ï¼ˆå¤–éƒ¨å˜é‡ï¼‰æ˜¯é™æ€åˆ†é…ç©ºé—´çš„ï¼Œå³ç¨‹åºå¼€å§‹æ—¶åˆ†é…ï¼Œç»“æŸæ—¶é‡Šæ”¾ã€‚</p>
<p>åœ¨C++ä¸­ï¼Œè¿˜å¯ä»¥æŒ‡å®šä½¿ç”¨å¦ä¸€è¯­è¨€é“¾æ¥ï¼Œéœ€è¦ä¸ç‰¹å®šçš„è½¬æ¢ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚</p>
<p>extern â€œCâ€ å£°æ˜è¯­å¥</p>
<p>extern â€œCâ€ { å£°æ˜è¯­å¥å— }</p>
<p>extern è¡¨æ˜è¯¥å˜é‡åœ¨åˆ«çš„åœ°æ–¹å·²ç»å®šä¹‰è¿‡äº†,åœ¨è¿™é‡Œè¦ä½¿ç”¨é‚£ä¸ªå˜é‡. static è¡¨ç¤ºé™æ€çš„å˜é‡ï¼Œåˆ†é…å†…å­˜çš„æ—¶å€™, å­˜å‚¨åœ¨é™æ€åŒº,ä¸å­˜å‚¨åœ¨æ ˆä¸Šé¢. static ä½œç”¨èŒƒå›´æ˜¯å†…éƒ¨è¿æ¥çš„å…³ç³»,å’Œexternæœ‰ç‚¹ç›¸å.å®ƒå’Œå¯¹è±¡æœ¬èº«æ˜¯åˆ†å¼€å­˜å‚¨çš„,externä¹Ÿæ˜¯åˆ†å¼€å­˜å‚¨çš„,ä½†æ˜¯externå¯ä»¥è¢«å…¶ä»–çš„å¯¹è±¡ç”¨extern å¼•ç”¨,è€Œstatic ä¸å¯ä»¥,åªå…è®¸å¯¹è±¡æœ¬èº«ç”¨å®ƒ.</p>
<h2 id="volatileçš„ç”¨æ³•">4.volatileçš„ç”¨æ³•ï¼š</h2>
<p>ç±»å‹ä¿®æ­£ç¬¦ï¼ˆtype-modifierï¼‰ï¼Œé™å®šä¸€ä¸ªå¯¹è±¡å¯è¢«å¤–éƒ¨è¿›ç¨‹ï¼ˆæ“ä½œç³»ç»Ÿã€ç¡¬ä»¶æˆ–å¹¶å‘è¿›ç¨‹ç­‰ï¼‰æ”¹å˜ã€‚volatileä¸å˜é‡è¿ç”¨ï¼Œå¯ä»¥è®©å˜é‡è¢«ä¸åŒçš„çº¿ç¨‹è®¿é—®å’Œä¿®æ”¹ã€‚å£°æ˜æ—¶è¯­æ³•ï¼š int volatile vInt; å¸¸ç”¨äºåƒä¸­æ–­å¤„ç†ç¨‹åºä¹‹ç±»çš„å¼‚æ­¥è¿›ç¨‹è¿›è¡Œå†…å­˜å•å…ƒè®¿é—®ã€‚ é™¤äº†åŸºæœ¬ç±»å‹å¤–ï¼Œå¯¹ç”¨æˆ·å®šä¹‰ç±»å‹ä¹Ÿå¯ä»¥ç”¨volatileç±»å‹è¿›è¡Œä¿®é¥°ã€‚ æ³¨æ„ï¼šå¯ä»¥æŠŠä¸€ä¸ªévolatile intèµ‹ç»™volatile intï¼Œä½†æ˜¯ä¸èƒ½æŠŠévolatileå¯¹è±¡èµ‹ç»™ä¸€ä¸ªvolatileå¯¹è±¡ã€‚ ä¸€ä¸ªæœ‰volatileæ ‡è¯†ç¬¦çš„ç±»åªèƒ½è®¿é—®å®ƒæ¥å£çš„å­é›†ï¼Œä¸€ä¸ªç”±ç±»çš„å®ç°è€…æ§åˆ¶çš„å­é›†ã€‚ç”¨æˆ·åªèƒ½ç”¨const_castæ¥è·å¾—å¯¹ç±»å‹æ¥å£çš„å®Œå…¨è®¿é—®ã€‚æ­¤å¤–ï¼Œvolatileå‘constä¸€æ ·ä¼šä»ç±»ä¼ é€’åˆ°å®ƒçš„æˆå‘˜ã€‚</p>
<p>ä¸€ä¸ªå®šä¹‰ä¸ºvolatileçš„å˜é‡æ˜¯è¯´è¿™å˜é‡å¯èƒ½ä¼šè¢«æ„æƒ³ä¸åˆ°åœ°æ”¹å˜ï¼Œè¿™æ ·ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šå»å‡è®¾è¿™ä¸ªå˜é‡çš„å€¼äº†ã€‚ç²¾ç¡®åœ°è¯´å°±æ˜¯ï¼Œä¼˜åŒ–å™¨åœ¨ç”¨åˆ°è¿™ä¸ªå˜é‡æ—¶å¿…é¡»æ¯æ¬¡éƒ½å°å¿ƒåœ°é‡æ–°è¯»å–è¿™ä¸ªå˜é‡çš„å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¿å­˜åœ¨å¯„å­˜å™¨é‡Œçš„å¤‡ä»½ã€‚ä¸‹é¢æ˜¯</p>
<h3 id="volatileå˜é‡çš„å‡ ä¸ªä¾‹å­">volatileå˜é‡çš„å‡ ä¸ªä¾‹å­ï¼š</h3>
<ol type="1">
<li>å¹¶è¡Œè®¾å¤‡çš„ç¡¬ä»¶å¯„å­˜å™¨ï¼ˆå¦‚ï¼šçŠ¶æ€å¯„å­˜å™¨ï¼‰</li>
<li>ä¸€ä¸ªä¸­æ–­æœåŠ¡å­ç¨‹åºä¸­ä¼šè®¿é—®åˆ°çš„éè‡ªåŠ¨å˜é‡(Non-automatic variables)</li>
<li>å¤šçº¿ç¨‹åº”ç”¨ä¸­è¢«å‡ ä¸ªä»»åŠ¡å…±äº«çš„å˜é‡</li>
</ol>
<h3 id="å‡ ä¸ªé—®é¢˜">å‡ ä¸ªé—®é¢˜ï¼š</h3>
<ol type="1">
<li>ä¸€ä¸ªå‚æ•°æ—¢å¯ä»¥æ˜¯constè¿˜å¯ä»¥æ˜¯volatileå—ï¼Ÿè§£é‡Šä¸ºä»€ä¹ˆã€‚</li>
<li>ä¸€ä¸ªæŒ‡é’ˆå¯ä»¥æ˜¯volatile å—ï¼Ÿè§£é‡Šä¸ºä»€ä¹ˆã€‚</li>
<li>ä¸‹é¢çš„å‡½æ•°æœ‰ä»€ä¹ˆé”™è¯¯ï¼š</li>
</ol>
<p><code>int square(volatile int *ptr)&#123;return *ptr * *ptr;&#125;</code></p>
<h3 id="ä¸‹é¢æ˜¯ç­”æ¡ˆ">ä¸‹é¢æ˜¯ç­”æ¡ˆï¼š</h3>
<ol type="1">
<li>æ˜¯çš„ã€‚ä¸€ä¸ªä¾‹å­æ˜¯åªè¯»çš„çŠ¶æ€å¯„å­˜å™¨ã€‚å®ƒæ˜¯volatileå› ä¸ºå®ƒå¯èƒ½è¢«æ„æƒ³ä¸åˆ°åœ°æ”¹å˜ã€‚å®ƒæ˜¯constå› ä¸ºç¨‹åºä¸åº”è¯¥è¯•å›¾å»ä¿®æ”¹å®ƒã€‚</li>
<li>æ˜¯çš„ã€‚å°½ç®¡è¿™å¹¶ä¸å¾ˆå¸¸è§ã€‚ä¸€ä¸ªä¾‹å­æ˜¯å½“ä¸€ä¸ªä¸­æ–­æœåŠ¡å­ç¨‹åºä¿®æ”¹ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªbufferçš„æŒ‡é’ˆæ—¶ã€‚</li>
<li>è¿™æ®µä»£ç æœ‰ç‚¹å˜æ€ã€‚è¿™æ®µä»£ç çš„ç›®çš„æ˜¯ç”¨æ¥è¿”å›æŒ‡é’ˆ<em>ptræŒ‡å‘å€¼çš„å¹³æ–¹ï¼Œä½†æ˜¯ï¼Œç”±äº</em>ptræŒ‡å‘ä¸€ä¸ªvolatileå‹å‚æ•°ï¼Œç¼–è¯‘å™¨å°†äº§ç”Ÿç±»ä¼¼ä¸‹é¢çš„ä»£ç ï¼š</li>
</ol>
<p><code>int square(volatile int *ptr)&#123;    int a,b;    a = *ptr;    b = *ptr;    return a * b;&#125;</code> ç”±äº*ptrçš„å€¼å¯èƒ½è¢«æ„æƒ³ä¸åˆ°åœ°è¯¥å˜ï¼Œå› æ­¤aå’Œbå¯èƒ½æ˜¯ä¸åŒçš„ã€‚ç»“æœï¼Œè¿™æ®µä»£ç å¯èƒ½è¿”ä¸æ˜¯ä½ æ‰€æœŸæœ›çš„å¹³æ–¹å€¼ï¼æ­£ç¡®çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<h1 id="çº¿ç¨‹å‡½æ•°å¦‚ä½•å°†è¿”å›å€¼ä¼ ç»™ä¸»çº¿ç¨‹">çº¿ç¨‹å‡½æ•°å¦‚ä½•å°†è¿”å›å€¼ä¼ ç»™ä¸»çº¿ç¨‹</h1>
<ol type="1">
<li>å®šä¹‰ä¸€ä¸ª åŒ…å« çº¿ç¨‹å‡½æ•°çš„ å‚æ•°å’Œè¿”å›å€¼çš„ æ•°æ®ç»“æ„ã€‚</li>
</ol>
<p>ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">thread_data</span> &#123;</span></span><br><span class="line">   <span class="keyword">int</span> a;</span><br><span class="line">   <span class="keyword">int</span> b;</span><br><span class="line">   <span class="keyword">int</span> result;</span><br><span class="line">&#125; thread_data;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">myThread</span><span class="params">(<span class="keyword">void</span> *arg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   thread_data *tdata=(thread_data *)arg;</span><br><span class="line">   <span class="keyword">int</span> a=tdata-&gt;a;</span><br><span class="line">   <span class="keyword">int</span> b=tdata-&gt;b;</span><br><span class="line">   <span class="keyword">int</span> result=a+b;</span><br><span class="line">   tdata-&gt;result=result;</span><br><span class="line">   pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">pthread_t</span> tid;</span><br><span class="line">   thread_data tdata;</span><br><span class="line">   tdata.a=<span class="number">10</span>;</span><br><span class="line">   tdata.b=<span class="number">32</span>;</span><br><span class="line">   pthread_create(&amp;tid, <span class="literal">NULL</span>, myThread, (<span class="keyword">void</span> *)&amp;tdata);</span><br><span class="line">   pthread_join(tid, <span class="literal">NULL</span>);</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;%d + %d = %d\n&quot;</span>, tdata.a, tdata.b, tdata.result);   </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>ç”¨pthread_exit() è¿”å›çº¿ç¨‹å‡½æ•°çš„è¿”å›å€¼ï¼Œç”¨pthread_join æ¥æ¥å— çº¿ç¨‹å‡½æ•°çš„è¿”å›å€¼ã€‚ ä¾‹å­å¦‚ä¸‹ï¼š</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">something_worked</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* thread operation might fail, so here&#x27;s a silly example */</span></span><br><span class="line">    <span class="keyword">void</span> *p = <span class="built_in">malloc</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    <span class="keyword">return</span> p ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">myThread</span><span class="params">(<span class="keyword">void</span> *result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (something_worked()) &#123;</span><br><span class="line">       ((<span class="keyword">int</span>)result) = <span class="number">42</span>;</span><br><span class="line">       pthread_exit(result);</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       pthread_exit(<span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">pthread_t</span> tid;</span><br><span class="line">   <span class="keyword">void</span> *status = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">int</span> result;</span><br><span class="line">   pthread_create(&amp;tid, <span class="literal">NULL</span>, myThread, &amp;result);</span><br><span class="line">   pthread_join(tid, &amp;status);</span><br><span class="line">   <span class="keyword">if</span> (status != <span class="number">0</span>) &#123;</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,result);</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">&quot;thread failed\n&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="cçº¿ç¨‹ä¼ é€’å¤šä¸ªå‚æ•°demo">C++çº¿ç¨‹ä¼ é€’å¤šä¸ªå‚æ•°demo</h1>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*pthread_joinä½¿ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹ç»“æŸï¼›pthread_join( t)ç­‰å¾…çº¿ç¨‹té€€å‡ºï¼Œå¹¶é‡Šæ”¾tçº¿ç¨‹æ‰€å ç”¨çš„èµ„æºã€‚</span></span><br><span class="line"><span class="comment">  ä»£ç ä¸­å¦‚æœæ²¡æœ‰pthread_join()ï¼Œä¸»çº¿ç¨‹ä¼šå¾ˆå¿«ç»“æŸä»è€Œä½¿æ•´ä¸ªè¿›ç¨‹ç»“æŸï¼Œä»è€Œä½¿åˆ›å»ºçš„çº¿ç¨‹æ²¡æœ‰æœºä¼šå¼€å§‹æ‰§è¡Œå°±ç»“æŸäº†ã€‚</span></span><br><span class="line"><span class="comment">   åŠ å…¥pthread_join()åï¼Œä¸»çº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…ç›´åˆ°ç­‰å¾…çš„çº¿ç¨‹ç»“æŸè‡ªå·±æ‰ç»“æŸï¼Œä½¿åˆ›å»ºçš„çº¿ç¨‹æœ‰æœºä¼šæ‰§è¡Œã€‚*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">stu</span>  </span></span><br><span class="line"><span class="class">&#123;</span>  </span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line">  <span class="keyword">char</span> *name;</span><br><span class="line">  <span class="keyword">long</span> <span class="keyword">long</span> len;</span><br><span class="line">&#125;;  </span><br><span class="line"> </span><br><span class="line"><span class="comment">//ä¼ é€’å¤šä¸ªå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">thread2</span><span class="params">(<span class="keyword">void</span> *data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> *<span class="title">stu1</span> =</span> (struct stu*)data; </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot; age = %d\n name = %s\n len = %lld\n&quot;</span>,stu1-&gt;age, stu1-&gt;name, stu1-&gt;len); </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">pthread_t</span> id2;</span><br><span class="line">  <span class="keyword">int</span> ret;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">stu</span> <span class="title">student</span>;</span></span><br><span class="line"> </span><br><span class="line">  student.age=<span class="number">10</span>;</span><br><span class="line">  student.name=<span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">  student.len = <span class="number">12345678901111</span>;</span><br><span class="line"> </span><br><span class="line">  ret=pthread_create(&amp;id2,<span class="literal">NULL</span>,thread2,(<span class="keyword">void</span> *)&amp;student);</span><br><span class="line">  <span class="keyword">if</span>(ret!=<span class="number">0</span>)&#123;</span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">&quot;Create pthread2 error!\n&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//ä¸»è¿›ç¨‹ç­‰å¾…çº¿ç¨‹id2æ‰§è¡Œç»“æŸ,ä¸ç„¶æœ‰å¯èƒ½ä¸»è¿›ç¨‹å…ˆæ‰§è¡Œå®Œè€Œæ‰§è¡Œä¸åˆ°id2çº¿ç¨‹çš„æƒ…å†µ</span></span><br><span class="line">  pthread_join(id2, <span class="literal">NULL</span>);</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="number">2.</span>ç¼–è¯‘</span><br><span class="line"> <span class="meta"># g++ test.cpp -pthread</span></span><br></pre></td></tr></table></figure>
<h1 id="cè¯­è¨€å¤šçº¿ç¨‹ç¼–ç¨‹-çº¿ç¨‹çš„åŸºæœ¬å‡½æ•°">Cè¯­è¨€å¤šçº¿ç¨‹ç¼–ç¨‹-çº¿ç¨‹çš„åŸºæœ¬å‡½æ•°</h1>
<h2 id="çº¿ç¨‹æ“ä½œå‡½æ•°">1 çº¿ç¨‹æ“ä½œå‡½æ•°</h2>
<h3 id="çº¿ç¨‹åˆ›å»ºå‡½æ•°"><strong>1.1 çº¿ç¨‹åˆ›å»ºå‡½æ•°</strong></h3>
<p>int pthread_create (pthread_t * restrict <strong>tidp</strong>, const pthread_attr_t <em>restrict <strong>attr</strong>, void </em>(<em>start_rtn) (<strong>void *</strong>), void </em>restrict <strong>arg</strong>);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šå‚æ•°çš„çº¿ç¨‹ã€‚</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    tidp       è¦åˆ›å»ºçš„çº¿ç¨‹çš„çº¿ç¨‹idæŒ‡é’ˆ</span><br><span class="line">    attr       åˆ›å»ºçº¿ç¨‹æ—¶çš„çº¿ç¨‹å±æ€§</span><br><span class="line">    start_rtn  è¿”å›å€¼æ˜¯<span class="keyword">void</span>ç±»å‹çš„æŒ‡é’ˆå‡½æ•°</span><br><span class="line">    arg        start_rtnçš„å½¢å‚</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸå»ºç«‹çº¿ç¨‹è¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">ç”±<span class="keyword">restrict</span> ä¿®é¥°çš„æŒ‡é’ˆæ˜¯æœ€åˆå”¯ä¸€å¯¹æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡è¿›è¡Œå­˜å–çš„æ–¹æ³•ï¼Œä»…å½“ç¬¬äºŒä¸ªæŒ‡é’ˆåŸºäºç¬¬ä¸€ä¸ªæ—¶ï¼Œæ‰èƒ½å¯¹å¯¹è±¡è¿›è¡Œå­˜å–</span><br><span class="line"></span><br><span class="line"><span class="keyword">pthread_t</span>ç±»å‹å®šä¹‰å¦‚ä¸‹</span><br><span class="line">        <span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="keyword">pthread_t</span></span><br><span class="line">æ‰“å°æ—¶è¦ä½¿ç”¨%luæˆ–%uæ–¹å¼</span><br><span class="line"><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure>
<h3 id="ç­‰å¾…çº¿ç¨‹ç»“æŸå‡½æ•°"><strong>1.2 ç­‰å¾…çº¿ç¨‹ç»“æŸå‡½æ•°</strong></h3>
<p>int pthread_join(pthread_t thread, void **retval);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè¿™ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªçº¿ç¨‹é˜»å¡çš„å‡½æ•°ï¼Œè°ƒç”¨å®ƒçš„å‡½æ•°å°†ä¸€ç›´ç­‰å¾…åˆ°è¢«ç­‰å¾…çš„çº¿ç¨‹ç»“æŸä¸ºæ­¢ï¼Œå½“å‡½æ•°è¿”å›æ—¶ï¼Œè¢«ç­‰å¾…çº¿ç¨‹çš„èµ„æºè¢«æ”¶å›</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    thread     è¢«ç­‰å¾…çš„çº¿ç¨‹æ ‡è¯†ç¬¦</span><br><span class="line">    retval     ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„æŒ‡é’ˆï¼Œå®ƒå¯ä»¥ç”¨æ¥å­˜å‚¨è¢«ç­‰å¾…çº¿ç¨‹çš„è¿”å›å€¼</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šæˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="çº¿ç¨‹é€€å‡ºå‡½æ•°"><strong>1.3 çº¿ç¨‹é€€å‡ºå‡½æ•°</strong></h3>
<p>void pthread_exit(void *retval);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šç»ˆæ­¢è°ƒç”¨å®ƒçš„çº¿ç¨‹å¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    retval     å‡½æ•°çš„è¿”å›æŒ‡é’ˆï¼Œåªè¦pthread_joinä¸­çš„ç¬¬äºŒä¸ªå‚æ•°retvalä¸æ˜¯<span class="literal">NULL</span>ï¼Œè¿™ä¸ªå€¼å°†è¢«ä¼ é€’ç»™retval</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šæ— </span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<h3 id="çº¿ç¨‹å–æ¶ˆå‡½æ•°"><strong>1.4 çº¿ç¨‹å–æ¶ˆå‡½æ•°</strong></h3>
<p>int pthread_cancel(pthread_t thread);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šå–æ¶ˆæŸä¸ªçº¿ç¨‹çš„æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    thread     è¦å–æ¶ˆçº¿ç¨‹çš„æ ‡è¯†ç¬¦ID</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä»–è¯´æ˜ï¼šä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿè¢«å–æ¶ˆå¹¶ç»ˆæ­¢æ‰§è¡Œéœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶(1) çº¿ç¨‹æ˜¯å¦å¯ä»¥è¢«å–æ¶ˆï¼Œé»˜è®¤å¯ä»¥è¢«å–æ¶ˆï¼›(2) çº¿ç¨‹å¤„äºå¯å–æ¶ˆç‚¹æ‰èƒ½å–æ¶ˆï¼Œå¯ä»¥è®¾ç½®çº¿ç¨‹ä¸º<strong>ç«‹å³å–æ¶ˆ</strong>æˆ–<strong>åªèƒ½åœ¨å–æ¶ˆç‚¹</strong>è¢«å–æ¶ˆã€‚</p>
<h3 id="è®¾ç½®å¯å–æ¶ˆçŠ¶æ€å‡½æ•°"><strong>1.5 è®¾ç½®å¯å–æ¶ˆçŠ¶æ€å‡½æ•°</strong></h3>
<p>int pthread_setcancelstate (int state, int *oldstate);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè®¾ç½®å½“å‰çº¿ç¨‹çš„å¯å–æ¶ˆæ€§çŠ¶æ€</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    state     è¦æ›´æ–°çš„å¿ƒçŠ¶æ€å€¼</span><br><span class="line">    oldstate  åŸæ¥å­˜å‚¨çš„çŠ¶æ€</span><br><span class="line"></span><br><span class="line">stateçš„åˆæ³•å€¼ï¼š</span><br><span class="line">    PTHREAD_CANCEL_DISABLE  é’ˆå¯¹ç›®æ ‡çº¿ç¨‹çš„å–æ¶ˆè¯·æ±‚å°†å¤„äºæœªå†³çŠ¶æ€ï¼Œè¯·æ±‚æœªå¤„ç†ä½†ä»ç„¶å­˜åœ¨ï¼Œé™¤éè¯¥çº¿ç¨‹ä¿®æ”¹è‡ªå·±çš„çŠ¶æ€ï¼Œå¦åˆ™ä¸ä¼šè¢«å–æ¶ˆ</span><br><span class="line">    PTHREAD_CANCEL_ENABLE   é’ˆå¯¹ç›®æ ‡çº¿ç¨‹çš„å–æ¶ˆè¯·æ±‚å°†è¢«ä¼ é€’ï¼Œæ­¤çŠ¶æ€ä¸ºåˆ›å»ºçº¿ç¨‹æ—¶çš„é»˜è®¤çŠ¶æ€</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šæˆåŠŸè¿”å›<span class="number">0</span>ï¼Œå¦åˆ™è¿”å›é”™è¯¯ç¼–å·ä»¥æŒ‡æ˜é”™è¯¯</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®å–æ¶ˆç±»å‹å‡½æ•°"><strong>1.6 è®¾ç½®å–æ¶ˆç±»å‹å‡½æ•°</strong></h3>
<p>int pthread_setcanceltype (int type, int *oldtype);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè®¾ç½®å½“å‰çº¿ç¨‹çš„å–æ¶ˆç±»å‹ï¼Œå³è®¾ç½®åœ¨æ¥æ”¶åˆ°å–æ¶ˆæ“ä½œåæ˜¯ç«‹å³ç»ˆæ­¢è¿˜æ˜¯åœ¨å–æ¶ˆç‚¹ç»ˆæ­¢</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    type     ä¸ºè°ƒç”¨çº¿ç¨‹æ–°çš„å¯å–æ¶ˆæ€§</span><br><span class="line">    oldtype  å­˜å‚¨åŸæ¥çš„ç±»å‹</span><br><span class="line"></span><br><span class="line">typeçš„åˆæ³•å€¼å¦‚ä¸‹ï¼š</span><br><span class="line">    PTHREAD_CANCEL_ASYNCHRONOUS  å¯éšæ—¶æ‰§è¡Œæ–°çš„æˆ–æœªå†³çš„å–æ¶ˆè¯·æ±‚</span><br><span class="line">    PTHREAD_CANCEL_DEFERRED      ç›®æ ‡çº¿ç¨‹åˆ°è¾¾ä¸€ä¸ªå–æ¶ˆç‚¹ä¹‹å‰ï¼Œå–æ¶ˆè¯·æ±‚å°†ä¸€ç›´å¤„äºæœªå†³çŠ¶æ€ï¼›æ­¤ç±»å‹ä¸ºåˆ›å»ºçº¿ç¨‹æ—¶çš„é»˜è®¤ç±»å‹</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šæˆåŠŸè¿”å›<span class="number">0</span>ï¼Œå¦åˆ™è¿”å›é”™è¯¯ç¼–å·ä»¥æŒ‡æ˜é”™è¯¯</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–å½“å‰çº¿ç¨‹idå‡½æ•°"><strong>1.7 è·å–å½“å‰çº¿ç¨‹IDå‡½æ•°</strong></h3>
<p>pthread_t pthread_self (void);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–å½“å‰è°ƒç”¨çº¿ç¨‹çš„ <span class="function">thread <span class="title">identifier</span><span class="params">(æ ‡è¯†å·)</span></span></span><br><span class="line">å½¢å‚ï¼šæ— </span><br><span class="line">è¿”å›å€¼ï¼šå½“å‰çº¿ç¨‹çš„çº¿ç¨‹IDæ ‡è¯†</span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ†ç¦»é‡Šæ”¾çº¿ç¨‹å‡½æ•°"><strong>1.8 åˆ†ç¦»é‡Šæ”¾çº¿ç¨‹å‡½æ•°</strong></h3>
<p>int pthread_detach (pthread_t thread);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šçº¿ç¨‹èµ„æºé‡Šæ”¾æ–¹å¼è®¾ç½®å‡½æ•°</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    thread     è¦é‡Šæ”¾çº¿ç¨‹çš„æ ‡è¯†ç¬¦ID</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<ul>
<li>å…¶ä»–è¯´æ˜ï¼šlinuxçº¿ç¨‹æ‰§è¡Œå’Œwindowsä¸åŒï¼Œpthreadæœ‰ä¸¤ç§çŠ¶æ€joinableçŠ¶æ€å’ŒunjoinableçŠ¶æ€ã€‚
<ul>
<li>ä¸€ä¸ªçº¿ç¨‹<strong>é»˜è®¤çš„çŠ¶æ€</strong>æ˜¯joinableï¼Œå¦‚æœçº¿ç¨‹æ˜¯joinableçŠ¶æ€ï¼Œå½“çº¿ç¨‹å‡½æ•°è‡ªå·±è¿”å›é€€å‡ºæ—¶æˆ–<strong>pthread_exit</strong>æ—¶éƒ½ä¸ä¼šé‡Šæ”¾çº¿ç¨‹æ‰€å ç”¨å †æ ˆå’Œçº¿ç¨‹æè¿°ç¬¦ï¼ˆæ€»è®¡8Kå¤šï¼‰ï¼Œåªæœ‰å½“ä½ è°ƒç”¨äº†<strong>pthread_join</strong>ä¹‹åè¿™äº›èµ„æºæ‰ä¼šè¢«é‡Šæ”¾ã€‚</li>
<li>è‹¥æ˜¯unjoinableçŠ¶æ€çš„çº¿ç¨‹ï¼Œè¿™äº›èµ„æºåœ¨çº¿ç¨‹å‡½æ•°é€€å‡ºæ—¶æˆ–<strong>pthread_exit</strong>æ—¶è‡ªåŠ¨ä¼šè¢«é‡Šæ”¾ã€‚</li>
<li>unjoinableå±æ€§å¯ä»¥åœ¨pthread_createæ—¶æŒ‡å®šï¼Œæˆ–åœ¨çº¿ç¨‹åˆ›å»ºååœ¨çº¿ç¨‹ä¸­pthread_detachè‡ªå·±è®¾ç½®ï¼Œ å¦‚ï¼špthread_detach(pthread_self())ï¼Œå°†çŠ¶æ€æ”¹ä¸ºunjoinableçŠ¶æ€ï¼Œç¡®ä¿èµ„æºçš„é‡Šæ”¾ã€‚å¦‚æœçº¿ç¨‹çŠ¶æ€ä¸ºjoinableï¼Œéœ€è¦åœ¨ä¹‹åé€‚æ—¶è°ƒç”¨pthread_joinã€‚</li>
</ul></li>
</ul>
<h3 id="æ¯”è¾ƒä¸¤ä¸ªçº¿ç¨‹æ˜¯å¦æ˜¯åŒä¸€çº¿ç¨‹"><strong>1.9 æ¯”è¾ƒä¸¤ä¸ªçº¿ç¨‹æ˜¯å¦æ˜¯åŒä¸€çº¿ç¨‹</strong></h3>
<p>int pthread_equal (pthread_t thread1, pthread_t thread2);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šåˆ¤æ–­ä¸¤ä¸ªçº¿ç¨‹IDæ˜¯å¦æ˜¯åŒä¸€ä¸ª</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    thread1     è¦æ¯”è¾ƒçš„çº¿ç¨‹çš„æ ‡è¯†ç¬¦ID1</span><br><span class="line">    thread2     è¦æ¯”è¾ƒçš„çº¿ç¨‹çš„æ ‡è¯†ç¬¦ID2</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šä¸ç›¸ç­‰è¿”å›<span class="number">0</span>ï¼Œç›¸ç­‰éé›¶</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="çº¿ç¨‹ç§æœ‰æ•°æ®æ“ä½œå‡½æ•°"><strong>1.10 çº¿ç¨‹ç§æœ‰æ•°æ®æ“ä½œå‡½æ•°</strong></h3>
<p><strong>åˆ›å»ºçº¿ç¨‹ç§æœ‰æ•°æ®</strong> int pthread_key_create (pthread_key_t <em>key, void (</em>destr_function) (void *));</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šåˆ›å»ºçº¿ç¨‹ç§æœ‰æ•°æ®TSDï¼Œæä¾›çº¿ç¨‹ç§æœ‰çš„å…¨å±€å˜é‡ã€‚ä½¿ç”¨åŒåè€Œä¸åŒå†…å­˜åœ°å€çš„çº¿ç¨‹ç§æœ‰æ•°æ®ç»“æ„</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    key       çº¿ç¨‹ç§æœ‰æ•°æ®</span><br><span class="line">    ç¬¬äºŒä¸ªå‚æ•°  å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸ä¸ºç©ºï¼Œåœ¨çº¿ç¨‹é€€å‡ºæ—¶å°†ä»¥keyæ‰€å…³è”æ•°æ®ä¸ºå‚æ•°è°ƒç”¨å…¶æŒ‡å‘çš„èµ„æºé‡Šæ”¾å‡½æ•°ï¼Œä»¥é‡Šæ”¾åˆ†é…çš„ç¼“å†²åŒº</span><br><span class="line"></span><br><span class="line">å…¶ä»–è¯´æ˜ï¼šä¸è®ºå“ªä¸ªçº¿ç¨‹è°ƒç”¨pthread_key_create()å‡½æ•°ï¼Œæ‰€åˆ›å»ºçš„keyéƒ½æ˜¯æ‰€æœ‰çº¿ç¨‹å¯è®¿é—®çš„ï¼Œä½†å„ä¸ªçº¿ç¨‹å¯æ ¹æ®è‡ªå·±çš„éœ€è¦å¾€keyä¸­å¡«å…¥ä¸åŒçš„å€¼</span><br><span class="line">ç›¸å½“äºæä¾›äº†åŒåä¸åŒå€¼çš„å…¨å±€å˜é‡,å„çº¿ç¨‹å¯¹è‡ªå·±ç§æœ‰æ•°æ®æ“ä½œäº’ç›¸ä¸å½±å“</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨é”€çº¿ç¨‹ç§æœ‰æ•°æ®</strong> int pthread_key_delete (pthread_key_t *key);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯¥å‡½æ•°å¹¶ä¸æ£€æŸ¥å½“å‰æ˜¯å¦æœ‰çº¿ç¨‹æ­£æ˜¯ç”¨è¯¥TSDï¼Œä¹Ÿä¸ä¼šè°ƒç”¨æ¸…ç†å‡½æ•°(destr_function)</span><br><span class="line">å°†TSDé‡Šæ”¾ä»¥ä¾›ä¸‹ä¸€æ¬¡è°ƒç”¨pthread_key_create()ä½¿ç”¨</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p><strong>è¯»å†™çº¿ç¨‹ç§æœ‰æ•°æ®</strong> å†™ int pthread_setspecific (pthread_key_t key, const void *pointer); è¯» void pthread_getspecific (pthread_key_t key);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">å‡½æ•°pthread_setspecific()å°†pointerçš„å€¼(éå†…å®¹)ä¸keyç›¸å…³è”</span><br><span class="line">å‡½æ•°pthread_getspecific()å°†ä¸keyç›¸å…³è”çš„æ•°æ®è¯»å‡ºæ¥</span><br><span class="line">æ‰€æœ‰æ•°æ®éƒ½è®¾ç½®ä¸º<span class="keyword">void</span> *ï¼Œå› æ­¤å¯ä»¥æŒ‡å‘ä»»ä½•ç±»å‹çš„æ•°æ®</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<h2 id="çº¿ç¨‹å±æ€§å‡½æ•°"><strong>2. çº¿ç¨‹å±æ€§å‡½æ•°</strong></h2>
<p>å±æ€§å¯¹è±¡æ˜¯ä¸é€æ˜çš„ï¼Œè€Œä¸”ä¸èƒ½é€šè¿‡èµ‹å€¼ç›´æ¥è¿›è¡Œä¿®æ”¹ã€‚ç³»ç»Ÿæä¾›äº†ä¸€ç»„å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–ã€é…ç½®å’Œé”€æ¯çº¿ç¨‹å±æ€§ã€‚</p>
<h3 id="åˆå§‹åŒ–ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡çš„å±æ€§"><strong>2.1 åˆå§‹åŒ–ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡çš„å±æ€§</strong></h3>
<p>int pthread_attr_init (pthread_attr_t *attr);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼špthread_attr_initå®ç°æ—¶ä¸ºå±æ€§å¯¹è±¡åˆ†é…äº†åŠ¨æ€å†…å­˜ç©ºé—´</span><br><span class="line">     Posixçº¿ç¨‹ä¸­çš„çº¿ç¨‹å±æ€§<span class="keyword">pthread_attr_t</span>ä¸»è¦åŒ…æ‹¬scopeå±æ€§ã€detachå±æ€§ã€å †æ ˆåœ°å€ã€å †æ ˆå¤§å°ã€ä¼˜å…ˆçº§</span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<h3 id="é”€æ¯ä¸€ä¸ªçº¿ç¨‹å±æ€§å¯¹è±¡"><strong>2.2 é”€æ¯ä¸€ä¸ªçº¿ç¨‹å±æ€§å¯¹è±¡</strong></h3>
<p>int pthread_attr_destroy (pthread_attr_t *attr);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šç»pthread_attr_destroyå»é™¤åˆå§‹åŒ–ä¹‹åçš„<span class="keyword">pthread_attr_t</span>ç»“æ„è¢«pthread_createå‡½æ•°è°ƒç”¨ï¼Œå°†ä¼šå¯¼è‡´å…¶è¿”å›é”™è¯¯</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹åˆ†ç¦»çŠ¶æ€å±æ€§"><strong>2.3 è·å–çº¿ç¨‹åˆ†ç¦»çŠ¶æ€å±æ€§</strong></h3>
<p>int pthread_attr_getdetachstate (pthread_attr_t <em>attr, int </em>detachstate);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–çº¿ç¨‹åˆ†ç¦»çŠ¶æ€å±æ€§ï¼›pthread_detach()åˆ†ç¦»é‡Šæ”¾çº¿ç¨‹èµ„æºå‡½æ•°</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr          æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    detachstate   ä¿å­˜è¿”å›çš„åˆ†ç¦»çŠ¶æ€å±æ€§</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="ä¿®æ”¹çº¿ç¨‹åˆ†ç¦»çŠ¶æ€å±æ€§"><strong>2.4 ä¿®æ”¹çº¿ç¨‹åˆ†ç¦»çŠ¶æ€å±æ€§</strong></h3>
<p>int pthread_attr_setdetachstate (pthread_attr_t *attr, int detachstate);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šä¿®æ”¹çº¿ç¨‹åˆ†ç¦»çŠ¶æ€å±æ€§ï¼›pthread_detach()åˆ†ç¦»é‡Šæ”¾çº¿ç¨‹èµ„æºå‡½æ•°</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr         æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    detachstate  æœ‰ä¸¤ä¸ªå–å€¼</span><br><span class="line">PTHREAD_CREATE_JOINABLEï¼ˆå¯è¿æ¥ï¼‰ï¼Œä½¿ç”¨attråˆ›å»ºçš„æ‰€æœ‰çº¿ç¨‹å¤„äºå¯è¿æ¥çŠ¶æ€ï¼Œçº¿ç¨‹ç»ˆæ­¢ä¸ä¼šå›æ”¶ç›¸å…³èµ„æºï¼Œéœ€åœ¨å…¶ä»–çº¿ç¨‹è°ƒç”¨pthread_detach()æˆ–pthread_join()å‡½æ•°</span><br><span class="line">PTHREAD_CREATE_DETACHED(åˆ†ç¦»)ï¼Œä½¿ç”¨attråˆ›å»ºçš„æ‰€æœ‰çº¿ç¨‹å¤„äºåˆ†ç¦»çŠ¶æ€ï¼Œè¿™ç±»çº¿ç¨‹ç»ˆæ­¢å¸¦æœ‰æ­¤çŠ¶æ€çš„çº¿ç¨‹ç›¸å…³èµ„æºå°†è¢«ç³»ç»Ÿæ”¶å›</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹é—´çš„cpuäº²ç¼˜æ€§"><strong>2.5 è·å–çº¿ç¨‹é—´çš„CPUäº²ç¼˜æ€§</strong></h3>
<p>int pthread_attr_getaffinity_np (pthread_attr_t <em>attr, size_t cpusetsize, cpu_set_t </em>cpuset);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–çº¿ç¨‹çš„CPUäº²ç¼˜å±æ€§</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr         æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    cpusetsize   æŒ‡å‘CPUç»„çš„ç¼“å†²åŒºå¤§å°</span><br><span class="line">    cpuset       æŒ‡å‘CPUç»„çš„æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®çº¿ç¨‹çš„cpuäº²ç¼˜æ€§"><strong>2.6 è®¾ç½®çº¿ç¨‹çš„CPUäº²ç¼˜æ€§</strong></h3>
<p>int pthread_attr_setaffinity_np (pthread_attr_t <em>attr, size_t cpusetsize, const cpu_set_t </em>cpuset);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šé€šè¿‡æŒ‡å®šcupsetæ¥è®¾ç½®çº¿ç¨‹çš„CPUäº²ç¼˜æ€§</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr         æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    cpusetsize   æŒ‡å‘CPUç»„çš„ç¼“å†²åŒºå¤§å°</span><br><span class="line">    cpuset       æŒ‡å‘CPUç»„çš„æŒ‡é’ˆ</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹çš„ä½œç”¨åŸŸ"><strong>2.7 è·å–çº¿ç¨‹çš„ä½œç”¨åŸŸ</strong></h3>
<p>int pthread_attr_getscope (pthread_attr_t <em>attr, int </em>scope);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šæŒ‡å®šäº†ä½œç”¨åŸŸä¹Ÿå°±æŒ‡å®šäº†çº¿ç¨‹ä¸è°ç«äº‰èµ„æº</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    scope      è¿”å›çº¿ç¨‹çš„ä½œç”¨åŸŸ</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®çº¿ç¨‹çš„ä½œç”¨åŸŸ"><strong>2.8 è®¾ç½®çº¿ç¨‹çš„ä½œç”¨åŸŸ</strong></h3>
<p>int pthread_attr_setscope (pthread_attr_t *attr, int scope);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šæŒ‡å®šäº†ä½œç”¨åŸŸä¹Ÿå°±æŒ‡å®šäº†çº¿ç¨‹ä¸è°ç«äº‰èµ„æº</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    scope      çº¿ç¨‹çš„ä½œç”¨åŸŸï¼Œå¯ä»¥å–å¦‚ä¸‹å€¼</span><br><span class="line">PTHREAD_SCOPE_SYSTEM  ä¸ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹ä¸­çº¿ç¨‹ç«äº‰</span><br><span class="line">PTHREAD_SCOPE_PROCESS ä¸å½“å‰è¿›ç¨‹ä¸­çš„å…¶ä»–çº¿ç¨‹ç«äº‰</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹çš„æ ˆä¿æŠ¤åŒºå¤§å°"><strong>2.9 è·å–çº¿ç¨‹çš„æ ˆä¿æŠ¤åŒºå¤§å°</strong></h3>
<p>int pthread_attr_getguardsize (pthread_attr_t <em>attr, size_t </em>guardsize);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–çº¿ç¨‹çš„æ ˆä¿æŠ¤åŒºå¤§å°</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    guardsize  è¿”å›è·å–çš„æ ˆä¿æŠ¤åŒºå¤§å°</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®çº¿ç¨‹çš„æ ˆä¿æŠ¤åŒºå¤§å°"><strong>2.10 è®¾ç½®çº¿ç¨‹çš„æ ˆä¿æŠ¤åŒºå¤§å°</strong></h3>
<p>int pthread_attr_setguardsize (pthread_attr_t <em>attr, size_t </em>guardsize);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šå‚æ•°æä¾›äº†å¯¹æ ˆæŒ‡é’ˆæº¢å‡ºçš„ä¿æŠ¤ã€‚é»˜è®¤ä¸ºç³»ç»Ÿé¡µå¤§å°ï¼Œå¦‚æœè®¾ç½®ä¸º<span class="number">0</span>è¡¨ç¤ºæ²¡æœ‰ä¿æŠ¤åŒºã€‚</span><br><span class="line">     å¤§äº<span class="number">0</span>ï¼Œåˆ™ä¼šä¸ºæ¯ä¸ªä½¿ç”¨ attr åˆ›å»ºçš„çº¿ç¨‹æä¾›å¤§å°è‡³å°‘ä¸º guardsize å­—èŠ‚çš„æº¢å‡ºä¿æŠ¤åŒº</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    guardsize  çº¿ç¨‹çš„æ ˆä¿æŠ¤åŒºå¤§å°</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹çš„å †æ ˆä¿¡æ¯æ ˆåœ°å€å’Œæ ˆå¤§å°"><strong>2.11 è·å–çº¿ç¨‹çš„å †æ ˆä¿¡æ¯ï¼ˆæ ˆåœ°å€å’Œæ ˆå¤§å°ï¼‰</strong></h3>
<p>int pthread_attr_getstack (pthread_attr_t *attr, void **stackaddr, size_t *stacksize);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–çº¿ç¨‹çš„å †æ ˆåœ°å€å’Œå¤§å°</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    stackaddr  è¿”å›è·å–çš„æ ˆåœ°å€</span><br><span class="line">    stacksize  è¿”å›è·å–çš„æ ˆå¤§å°</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®çº¿ç¨‹çš„å †æ ˆåŒº"><strong>2.12 è®¾ç½®çº¿ç¨‹çš„å †æ ˆåŒº</strong></h3>
<p>int pthread_attr_setstack (pthread_attr_t <em>attr, void </em>stackaddr, size_t stacksize);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè®¾ç½®å †æ ˆåŒºï¼Œå°†å¯¼è‡´pthread_attr_setguardsizeå¤±æ•ˆ</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    stackaddr  çº¿ç¨‹çš„å †æ ˆåœ°å€ï¼šåº”è¯¥æ˜¯å¯ç§»æ¤çš„ï¼Œå¯¹é½é¡µè¾¹è·çš„ï¼Œå¯ä»¥ç”¨posix_memalignæ¥è¿›è¡Œè·å–</span><br><span class="line">    stacksize  çº¿ç¨‹çš„å †æ ˆå¤§å°ï¼šåº”è¯¥æ˜¯é¡µå¤§å°çš„æ•´æ•°å€</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹å †æ ˆåœ°å€"><strong>2.13 è·å–çº¿ç¨‹å †æ ˆåœ°å€</strong></h3>
<p>int pthread_attr_getstackaddr (pthread_attr_t *attr, void **stackaddr);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šå‡½æ•°å·²è¿‡æ—¶ï¼Œä¸€èˆ¬ç”¨pthread_attr_getstackæ¥ä»£æ›¿</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    stackaddr  è¿”å›è·å–çš„æ ˆåœ°å€</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®çº¿ç¨‹å †æ ˆåœ°å€"><strong>2.14 è®¾ç½®çº¿ç¨‹å †æ ˆåœ°å€</strong></h3>
<p>int pthread_attr_setstackaddr (pthread_attr_t <em>attr, void </em>stackaddr);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šå‡½æ•°å·²è¿‡æ—¶ï¼Œä¸€èˆ¬ç”¨pthread_attr_setstackæ¥ä»£æ›¿</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    stackaddr  è®¾ç½®çº¿ç¨‹å †æ ˆåœ°å€</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹å †æ ˆå¤§å°"><strong>2.15 è·å–çº¿ç¨‹å †æ ˆå¤§å°</strong></h3>
<p>int pthread_attr_getstacksize (pthread_attr_t <em>attr, size_t </em>stacksize);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–çº¿ç¨‹å †æ ˆå¤§å°</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    stacksize  è¿”å›çº¿ç¨‹çš„å †æ ˆå¤§å°</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®çº¿ç¨‹å †æ ˆå¤§å°"><strong>2.16 è®¾ç½®çº¿ç¨‹å †æ ˆå¤§å°</strong></h3>
<p>int pthread_attr_setstacksize (pthread_attr_t *attr, size_t stacksize);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè®¾ç½®çº¿ç¨‹å †æ ˆå¤§å°</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    stacksize  è®¾ç½®çº¿ç¨‹çš„å †æ ˆå¤§å°,<span class="built_in">stack</span>å±æ€§çš„åˆæ³•å€¼åŒ…æ‹¬</span><br><span class="line">    PTHREAD_STACK_MIN è¯¥çº¿ç¨‹çš„ç”¨æˆ·æ ˆå¤§å°å°†ä½¿ç”¨é»˜è®¤å †æ ˆå¤§å°ï¼Œä¸ºæŸä¸ªçº¿ç¨‹æ‰€éœ€æœ€å°å †æ ˆå¤§å°ï¼Œä½†å¯¹äºæ‰€æœ‰çº¿ç¨‹ï¼Œè¿™ä¸ªå¤§å°å¯èƒ½æ— æ³•æ¥å—</span><br><span class="line">    å…·ä½“æŒ‡å®šçš„å¤§å°       ä½¿ç”¨çº¿ç¨‹çš„ç”¨æˆ·å †æ ˆå¤§å°çš„æ•°å€¼ï¼Œå¿…é¡»ä¸å°äºæœ€å°å †æ ˆå¤§å°PTHREAD_STACK_MIN</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹çš„è°ƒåº¦ç­–ç•¥"><strong>2.17 è·å–çº¿ç¨‹çš„è°ƒåº¦ç­–ç•¥</strong></h3>
<p>int pthread_attr_getschedpolicy (pthread_attr_t <em>attr, int </em>policy);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–çº¿ç¨‹çš„è°ƒåº¦ç­–ç•¥</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    policy     è¿”å›çº¿ç¨‹çš„è°ƒåº¦ç­–ç•¥</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sched.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<p>æŒ‰ç…§å¦‚ä¸‹æ–¹æ³•ä½¿ç”¨sched_get_priority_max ( )å’Œsched_get_priority_min ( )ï¼Œå¯ä»¥å¾—åˆ°ä¼˜å…ˆçº§çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚ è°ƒç”¨å½¢å¼</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sched.h&gt; </span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sched_get_priority_max</span><span class="params">(<span class="keyword">int</span> policy)</span></span>;  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sched_get_priority_min</span><span class="params">(<span class="keyword">int</span> policy)</span></span>; <span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>ä¸¤ä¸ªå‡½æ•°éƒ½ä»¥è°ƒåº¦ç­–ç•¥policyä¸ºå‚æ•°ï¼Œç›®çš„æ˜¯è·å¾—å¯¹åº”è°ƒåº¦ç­–ç•¥çš„ä¼˜å…ˆçº§å€¼ï¼Œè€Œä¸”éƒ½è¿”å›è°ƒåº¦ç­–ç•¥çš„æœ€å¤§æˆ–æœ€å°ä¼˜å…ˆçº§å€¼ã€‚</p>
<h3 id="è®¾ç½®çº¿ç¨‹çš„è°ƒåº¦ç­–ç•¥"><strong>2.18 è®¾ç½®çº¿ç¨‹çš„è°ƒåº¦ç­–ç•¥</strong></h3>
<p>int pthread_attr_setschedpolicy (pthread_attr_t *attr, int policy);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè®¾ç½®çº¿ç¨‹çš„è°ƒåº¦ç­–ç•¥</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    policy     çº¿ç¨‹çš„è°ƒåº¦ç­–ç•¥ï¼ŒposixæŒ‡å®šäº†<span class="number">3</span>ç§è°ƒåº¦ç­–ç•¥å±æ€§ï¼š</span><br><span class="line">               SCHED_FIFO    å…ˆå…¥å…ˆå‡ºç­–ç•¥</span><br><span class="line">               SCHED_RR      è½®è½¬è°ƒåº¦ï¼Œç±»ä¼¼äº FIFOï¼Œä½†åŠ ä¸Šäº†æ—¶é—´è½®ç‰‡ç®—æ³•</span><br><span class="line">               SCHED_OTHER   ç³»ç»Ÿé»˜è®¤ç­–ç•¥</span><br><span class="line"></span><br><span class="line">SCHED_OTHERæ˜¯ä¸æ”¯æŒä¼˜å…ˆçº§ä½¿ç”¨çš„</span><br><span class="line">SCHED_FIFOå’ŒSCHED_RRæ”¯æŒä¼˜å…ˆçº§çš„ä½¿ç”¨ï¼Œä»–ä»¬åˆ†åˆ«ä¸º<span class="number">1</span>å’Œ<span class="number">99</span>ï¼Œæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sched.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹çš„è°ƒåº¦å‚æ•°"><strong>2.19 è·å–çº¿ç¨‹çš„è°ƒåº¦å‚æ•°</strong></h3>
<p>int pthread_attr_getschedparam (pthread_attr_t <em>attr, struct sched_param </em>param);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–çº¿ç¨‹çš„è°ƒåº¦å‚æ•°</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    param      è¿”å›è·å–çš„è°ƒåº¦å‚æ•°</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sched.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®çº¿ç¨‹çš„è°ƒåº¦å‚æ•°"><strong>2.20 è®¾ç½®çº¿ç¨‹çš„è°ƒåº¦å‚æ•°</strong></h3>
<p>int pthread_attr_setschedparam (pthread_attr_t <em>attr, const struct sched_param </em>param);</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè®¾ç½®çº¿ç¨‹çš„è°ƒåº¦å‚æ•°ï¼Œç”¨äºè®¾ç½®ä¼˜å…ˆçº§</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr       æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    param      è¦è®¾ç½®çš„è°ƒåº¦å‚æ•°ï¼Œsched_paramç»“æ„ä½“è‡³å°‘éœ€è¦å®šä¹‰è¿™ä¸ªæ•°æ®æˆå‘˜</span><br><span class="line">               struct sched_param </span><br><span class="line">               &#123;</span><br><span class="line">                    int sched_priority;     &#x2F;* Scheduling priority *&#x2F;</span><br><span class="line">               &#125;;</span><br><span class="line">    sched_paramå¯èƒ½è¿˜æœ‰å…¶ä»–çš„æ•°æ®æˆå‘˜ï¼Œä»¥åŠå¤šä¸ªç”¨æ¥è¿”å›å’Œè®¾ç½®æœ€å°ä¼˜å…ˆçº§ã€æœ€å¤§ä¼˜å…ˆçº§ã€è°ƒåº¦å™¨ã€å‚æ•°ç­‰çš„å‡½æ•°ã€‚</span><br><span class="line">    å¦‚æœè°ƒåº¦ç­–ç•¥æ˜¯SCHED_FIFOæˆ–SCHED_RRï¼Œé‚£ä¹ˆè¦æ±‚å…·æœ‰å€¼çš„å”¯ä¸€æˆå‘˜æ˜¯sched_priorityã€‚</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›0,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š#include &lt;pthread.h&gt;</span><br><span class="line">        #include &lt;sched.h&gt;</span><br><span class="line">1234567891011121314151617</span><br></pre></td></tr></table></figure>
<h3 id="è·å–çº¿ç¨‹æ˜¯å¦ç»§æ‰¿è°ƒåº¦å±æ€§"><strong>2.21 è·å–çº¿ç¨‹æ˜¯å¦ç»§æ‰¿è°ƒåº¦å±æ€§</strong></h3>
<p>int pthread_attr_getinheritsched (pthread_attr_t <em>attr, int </em>inheritsched);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè·å–çº¿ç¨‹æ˜¯å¦ç»§æ‰¿è°ƒåº¦å±æ€§</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr          æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    inheritsched  è¿”å›ç»§æ‰¿è°ƒåº¦å±æ€§çš„è®¾ç½®</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sched.h&gt;</span></span></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<h3 id="è®¾ç½®çº¿ç¨‹æ˜¯å¦ç»§æ‰¿è°ƒåº¦å±æ€§"><strong>2.22 è®¾ç½®çº¿ç¨‹æ˜¯å¦ç»§æ‰¿è°ƒåº¦å±æ€§</strong></h3>
<p>int pthread_attr_setinheritsched (pthread_attr_t *attr, int inheritsched);</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šè®¾ç½®çº¿ç¨‹æ˜¯å¦ç»§æ‰¿è°ƒåº¦å±æ€§</span><br><span class="line"></span><br><span class="line">å½¢å‚ï¼š</span><br><span class="line">    attr          æŒ‡å‘ä¸€ä¸ªçº¿ç¨‹å±æ€§çš„æŒ‡é’ˆ</span><br><span class="line">    inheritsched  è®¾ç½®çº¿ç¨‹æ˜¯å¦ç»§æ‰¿è°ƒåº¦å±æ€§ï¼Œå¯èƒ½å–å€¼å¦‚ä¸‹</span><br><span class="line"></span><br><span class="line">    PTHREAD_INHERIT_SCHED  è°ƒåº¦å±æ€§å°†ç»§æ‰¿äºæ­£åˆ›å»ºçš„çº¿ç¨‹ã€‚å¿½ç•¥åœ¨ pthread_create() çš„attrå®šä¹‰ä¸­çš„è°ƒåº¦å±æ€§è®¾ç½®</span><br><span class="line">    PTHREAD_EXPLICIT_SCHED è°ƒåº¦å±æ€§å°†è¢«è®¾ç½®ä¸ºpthread_create()çš„atträ¸­æŒ‡å®šçš„å±æ€§å€¼</span><br><span class="line"></span><br><span class="line">è¿”å›å€¼ï¼šè‹¥æ˜¯æˆåŠŸè¿”å›<span class="number">0</span>,å¦åˆ™è¿”å›é”™è¯¯çš„ç¼–å·</span><br><span class="line"></span><br><span class="line">å¤´æ–‡ä»¶ï¼š<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sched.h&gt;</span></span></span><br></pre></td></tr></table></figure>
<h1 id="å¤šçº¿ç¨‹å®ä¾‹">å¤šçº¿ç¨‹å®ä¾‹</h1>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_THREADS 5      <span class="comment">//çº¿ç¨‹ä¸ªæ•°</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">say_hello</span><span class="params">(<span class="keyword">void</span> *args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello Runoobï¼\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰çº¿ç¨‹çš„ id å˜é‡ï¼Œå¤šä¸ªå˜é‡ä½¿ç”¨æ•°ç»„</span></span><br><span class="line">    <span class="keyword">pthread_t</span> tids[NUM_THREADS];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NUM_THREADS; ++i) &#123;</span><br><span class="line">        <span class="comment">//å‚æ•°ä¾æ¬¡æ˜¯ï¼šåˆ›å»ºçš„çº¿ç¨‹idï¼Œçº¿ç¨‹å‚æ•°ï¼Œè°ƒç”¨çš„å‡½æ•°ï¼Œä¼ å…¥çš„å‡½æ•°å‚æ•°</span></span><br><span class="line">        <span class="keyword">int</span> ret = pthread_create(&amp;tids[i], <span class="literal">NULL</span>, say_hello, <span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;pthread_create error: error_code = %d\n&quot;</span>, ret);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç­‰å„ä¸ªçº¿ç¨‹é€€å‡ºåï¼Œè¿›ç¨‹æ‰ç»“æŸï¼Œå¦åˆ™è¿›ç¨‹å¼ºåˆ¶ç»“æŸäº†ï¼Œçº¿ç¨‹å¯èƒ½è¿˜æ²¡ååº”è¿‡æ¥ï¼›</span></span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//g++ test.cpp -lpthread -o test1234567891011121314151617181920212223242526</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_THREADS 5      <span class="comment">//çº¿ç¨‹ä¸ªæ•°</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">print_hello</span><span class="params">(<span class="keyword">void</span> *threadid)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// å¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œç”±æ— ç±»å‹æŒ‡é’ˆå˜ä¸ºæ•´å½¢æ•°æŒ‡é’ˆï¼Œç„¶åå†è¯»å–</span></span><br><span class="line">    <span class="keyword">int</span> tid = *((<span class="keyword">int</span>*)threadid);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello Runoob! çº¿ç¨‹ ID, %d\n&quot;</span>, tid);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">pthread_t</span> threads[NUM_THREADS];</span><br><span class="line">    <span class="keyword">int</span> index[NUM_THREADS];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NUM_THREADS; ++i) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;main() : åˆ›å»ºçº¿ç¨‹, %d\n&quot;</span>, i);</span><br><span class="line">        index[i] = i;</span><br><span class="line">        <span class="keyword">int</span> ret = pthread_create(&amp;threads[i], <span class="literal">NULL</span>, print_hello, (<span class="keyword">void</span>*)&amp;(index[i]));</span><br><span class="line">        <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;pthread_create error: error_code = %d\n&quot;</span>, ret);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;<span class="number">123456789101112131415161718192021222324252627282930</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//é€šè¿‡ç»“æ„ä½“ä¼ é€’å¤šä¸ªå‚æ•°ã€‚å¯ä»¥åœ¨çº¿ç¨‹å›è°ƒä¸­ä¼ é€’ä»»æ„çš„æ•°æ®ç±»å‹ï¼Œå› ä¸ºå®ƒæŒ‡å‘ void</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUM_THREADS 5      <span class="comment">//çº¿ç¨‹ä¸ªæ•°</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">thread_data</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> thread_id;</span><br><span class="line">    <span class="keyword">double</span> message;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">print_hello</span><span class="params">(<span class="keyword">void</span> *threadarg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">thread_data</span> *<span class="title">my_data</span> =</span>  (struct thread_data *) threadarg;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Thread ID : %d\n&quot;</span>, my_data-&gt;thread_id);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Message : %f\n&quot;</span>, my_data-&gt;message);</span><br><span class="line"></span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰çº¿ç¨‹çš„ id å˜é‡ï¼Œå¤šä¸ªå˜é‡ä½¿ç”¨æ•°ç»„</span></span><br><span class="line">    <span class="keyword">pthread_t</span> threads[NUM_THREADS];</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">thread_data</span> <span class="title">td</span>[<span class="title">NUM_THREADS</span>];</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NUM_THREADS; ++i) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;main() : creating thread, %d\n&quot;</span>, i);</span><br><span class="line">        td[i].thread_id = i;</span><br><span class="line">        td[i].message = i;</span><br><span class="line">        <span class="keyword">int</span> ret = pthread_create(&amp;threads[i], <span class="literal">NULL</span>, print_hello, (<span class="keyword">void</span>*)&amp;(td[i]));</span><br><span class="line">        <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;pthread_create error: error_code = %d\n&quot;</span>, ret);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç­‰å„ä¸ªçº¿ç¨‹é€€å‡ºåï¼Œè¿›ç¨‹æ‰ç»“æŸï¼Œå¦åˆ™è¿›ç¨‹å¼ºåˆ¶ç»“æŸäº†ï¼Œçº¿ç¨‹å¯èƒ½è¿˜æ²¡ååº”è¿‡æ¥ï¼›</span></span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;<span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041</span></span><br></pre></td></tr></table></figure>
<h3 id="è¾“å‡ºç»“æœ">è¾“å‡ºç»“æœ</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">main() : creating thread, <span class="number">0</span></span><br><span class="line">main() : creating thread, <span class="number">1</span></span><br><span class="line">Thread ID : <span class="number">0</span></span><br><span class="line">Message : <span class="number">0.000000</span></span><br><span class="line">main() : creating thread, <span class="number">2</span></span><br><span class="line">Thread ID : <span class="number">1</span></span><br><span class="line">main() : creating thread, <span class="number">3</span></span><br><span class="line">Message : <span class="number">1.000000</span></span><br><span class="line">Thread ID : <span class="number">2</span></span><br><span class="line">main() : creating thread, <span class="number">4</span></span><br><span class="line">Message : <span class="number">2.000000</span></span><br><span class="line">Thread ID : <span class="number">3</span></span><br><span class="line">Thread ID : <span class="number">4</span></span><br><span class="line">Message : <span class="number">3.000000</span></span><br><span class="line">Message : <span class="number">4.000000</span></span><br></pre></td></tr></table></figure>
<h1 id="linuxä¸­forkåŒæ—¶åˆ›å»ºå¤šä¸ªå­è¿›ç¨‹çš„æ–¹æ³•">linuxä¸­forkåŒæ—¶åˆ›å»ºå¤šä¸ªå­è¿›ç¨‹çš„æ–¹æ³•</h1>
<h2 id="ç¬¬ä¸€ç§æ–¹æ³•éªŒè¯é€šè¿‡">ç¬¬ä¸€ç§æ–¹æ³•ï¼šéªŒè¯é€šè¿‡</h2>
<p>ç‰¹ç‚¹ï¼šåŒæ—¶åˆ›å»ºå¤šä¸ªå­è¿›ç¨‹ï¼Œæ¯ä¸ªå­è¿›ç¨‹å¯ä»¥æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œç¨‹åº å¯è¯»æ€§è¾ƒå¥½ï¼Œä¾¿äºåˆ†æï¼Œæ˜“æ‰©å±•ä¸ºå¤šä¸ªå­è¿›ç¨‹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;before fork(), pid = %d\n&quot;</span>, getpid()); </span><br><span class="line">  <span class="keyword">pid_t</span> p1 = fork(); </span><br><span class="line">  <span class="keyword">if</span>( p1 == <span class="number">0</span> )</span><br><span class="line">  &#123; </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;in child 1, pid = %d\n&quot;</span>, getpid()); </span><br><span class="line">    <span class="comment">//while(1);//è¿›å…¥å­è¿›ç¨‹1çš„å¤„ç†å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//è‹¥æ­¤å¤„æ²¡æœ‰return 0 p1 è¿›ç¨‹ä¹Ÿä¼šæ‰§è¡Œ pid_t p2=fork()è¯­å¥</span></span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">pid_t</span> p2 = fork(); </span><br><span class="line">  <span class="keyword">if</span>( p2 == <span class="number">0</span> ) </span><br><span class="line">  &#123; </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;in child 2, pid = %d\n&quot;</span>, getpid()); </span><br><span class="line">    <span class="comment">//while(1);//è¿›å…¥å­è¿›ç¨‹2çš„å¤„ç†å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//å­è¿›ç¨‹ç»“æŸï¼Œè·³å›çˆ¶è¿›ç¨‹</span></span><br><span class="line">    Printf(<span class="string">&quot;hello world&quot;</span>);<span class="comment">//æ²¡æœ‰æ‰“å°</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> st1, st2; </span><br><span class="line">  waitpid( p1, &amp;st1, <span class="number">0</span>); </span><br><span class="line">  waitpid( p2, &amp;st2, <span class="number">0</span>); </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;in parent, child 1 pid = %d\n&quot;</span>, p1); </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;in parent, child 2 pid = %d\n&quot;</span>, p2); </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;in parent, pid = %d\n&quot;</span>, getpid()); </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;in parent, child 1 exited with %d\n&quot;</span>, st1); </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;in parent, child 2 exited with %d\n&quot;</span>, st2); </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>##ç¬¬äºŒç§æ–¹æ³•ï¼šfor å¾ªç¯æ–¹æ³•</p>
<p>ç‰¹ç‚¹ï¼šå…¶å®æ¯æ¬¡å¾ªç¯åªæ˜¯åˆ›å»ºäº†å•ä¸ªè¿›ç¨‹ï¼Œå¹¶æ²¡æœ‰åŒæ—¶åˆ›å»ºå¤šä¸ªè¿›ç¨‹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;This is parent process%d\n&quot;</span>,getpid()); </span><br><span class="line">  <span class="keyword">pid_t</span> p1,p2; </span><br><span class="line">  <span class="keyword">int</span> i; </span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=<span class="number">2</span>;i++)</span><br><span class="line">  &#123; </span><br><span class="line">    <span class="keyword">if</span>((p1=fork())==<span class="number">0</span>)</span><br><span class="line">    &#123; </span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;This is child_1 process%d\n&quot;</span>,getpid()); </span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//è¿™ä¸ªåœ°æ–¹éå¸¸å…³é”® </span></span><br><span class="line">    &#125; </span><br><span class="line">    wait(p1,<span class="literal">NULL</span>,<span class="number">0</span>); <span class="comment">//çˆ¶è¿›ç¨‹ç­‰å¾…p1å­è¿›ç¨‹æ‰§è¡Œåæ‰èƒ½ç»§ç»­forkå…¶ä»–å­è¿›ç¨‹</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;This is parent process%d\n&quot;</span>,getpid()); </span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šæ ‡æ³¨çš„ return 0 å¯¹ç¨‹åºç»“æœå½±å“å¾ˆå¤§</span></span><br></pre></td></tr></table></figure>
<p>æ­£ç¡®çš„ä½¿ç”¨Linuxä¸­çš„ç”¨fork()ç”±ä¸€ä¸ªçˆ¶è¿›ç¨‹åˆ›å»ºåŒæ—¶å¤šä¸ªå­è¿›ç¨‹çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> status,i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">  status = fork();</span><br><span class="line">  <span class="keyword">if</span> (status == <span class="number">0</span> || status == <span class="number">-1</span>) </span><br><span class="line">    <span class="keyword">break</span>;<span class="comment">//æ¯æ¬¡å¾ªç¯æ—¶ï¼Œå¦‚æœå‘ç°æ˜¯å­è¿›ç¨‹å°±ç›´æ¥ä»åˆ›å»ºå­è¿›ç¨‹çš„å¾ªç¯ä¸­è·³å‡ºæ¥ï¼Œä¸è®©ä½ è¿›å…¥å¾ªç¯ï¼Œè¿™æ ·å°±ä¿è¯äº†æ¯æ¬¡åªæœ‰çˆ¶è¿›ç¨‹æ¥åšå¾ªç¯åˆ›å»ºå­è¿›ç¨‹çš„å·¥ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (status == <span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//error</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (status == <span class="number">0</span>) <span class="comment">//æ¯ä¸ªå­è¿›ç¨‹éƒ½ä¼šæ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//child&#x27;s sub process</span></span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//parent process</span></span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>fock çš„æ„æ€æ˜¯å¤åˆ¶è¿›ç¨‹ï¼Œ å°±æ˜¯æŠŠå½“å‰çš„ç¨‹åºå†åŠ è½½ä¸€æ¬¡ï¼Œ ä¸åŒä¹‹å¤„åœ¨ï¼ŒåŠ è½½åï¼Œæ‰€æœ‰çš„çŠ¶æ€å’Œå½“å‰è¿›ç¨‹æ˜¯ä¸€æ ·çš„(åŒ…æ‹¬å˜é‡)ã€‚ fock ä¸è±¡çº¿ç¨‹éœ€æä¾›ä¸€ä¸ªå‡½æ•°åšä¸ºå…¥å£ï¼Œ fockåï¼Œæ–°è¿›ç¨‹çš„å…¥å£å°±åœ¨ fockçš„ä¸‹ä¸€æ¡è¯­å¥ã€‚è¿”å›ï¼šå­è¿›ç¨‹ä¸­ä¸º0ï¼Œçˆ¶è¿›ç¨‹ä¸­ä¸ºå­è¿›ç¨‹I Dï¼Œå‡ºé”™ä¸º-1</p>
<h1 id="è¿›ç¨‹é—´é€šä¿¡-ç®¡é“">è¿›ç¨‹é—´é€šä¿¡ ç®¡é“</h1>
<h2 id="åŒ¿åç®¡é“pipe">åŒ¿åç®¡é“pipe</h2>
<p>å¦‚æœä½ ä½¿ç”¨è¿‡Linuxçš„å‘½ä»¤ï¼Œé‚£ä¹ˆå¯¹äºç®¡é“è¿™ä¸ªåè¯ä½ ä¸€å®šä¸ä¼šæ„Ÿè§‰åˆ°é™Œç”Ÿï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸é€šè¿‡ç¬¦å·â€|â€æ¥ä½¿ç”¨ç®¡é“ï¼›</p>
<p>ä½†æ˜¯ç®¡é“çš„çœŸæ­£å®šä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ç®¡é“æ˜¯ä¸€ä¸ªè¿›ç¨‹è¿æ¥æ•°æ®æµåˆ°å¦ä¸€ä¸ªè¿›ç¨‹çš„é€šé“ï¼Œå®ƒé€šå¸¸æ˜¯ç”¨ä½œæŠŠä¸€ä¸ªè¿›ç¨‹çš„è¾“å‡ºé€šè¿‡ç®¡é“è¿æ¥åˆ°å¦ä¸€ä¸ªè¿›ç¨‹çš„è¾“å…¥ï¼›</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨shellä¸­è¾“å…¥å‘½ä»¤ï¼š<code>ls -l | grep string</code> æˆ‘ä»¬çŸ¥é“lså‘½ä»¤ï¼ˆå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼‰ä¼šæŠŠå½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶éƒ½åˆ—å‡ºæ¥ï¼Œä½†æ˜¯å®ƒä¸ä¼šç›´æ¥è¾“å‡ºï¼Œè€Œæ˜¯æŠŠæœ¬æ¥è¦è¾“å‡ºåˆ°å±å¹•ä¸Šçš„æ•°æ®é€šè¿‡ç®¡é“è¾“å‡ºåˆ°grepè¿™ä¸ªè¿›ç¨‹ä¸­ï¼Œä½œä¸ºgrepè¿™ä¸ªè¿›ç¨‹çš„è¾“å…¥ï¼Œç„¶åè¿™ä¸ªè¿›ç¨‹å¯¹è¾“å…¥çš„ä¿¡æ¯è¿›è¡Œç­›é€‰ï¼ŒæŠŠå­˜åœ¨stringçš„ä¿¡æ¯çš„å­—ç¬¦ä¸²ï¼ˆä»¥è¡Œä¸ºå•ä½ï¼‰æ‰“å°åœ¨å±å¹•ä¸Šï¼›</p>
<p><strong>åŒ¿åç®¡é“pipe</strong> <code>int pipe(filedes[2]);</code>ï¼šåˆ›å»ºä¸€ä¸ªåŒ¿åç®¡é“</p>
<ul>
<li>å¤´æ–‡ä»¶ï¼š<code>unistd.h</code></li>
<li><code>filedes[2]</code>ï¼šè¾“å‡ºå‚æ•°ï¼Œç”¨äºæ¥æ”¶pipeè¿”å›çš„ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼›<code>filedes[0]</code>è¯»ç®¡é“ã€<code>filedes[1]</code>å†™ç®¡é“</li>
<li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›-1ï¼Œå¹¶è®¾ç½®errno</li>
</ul>
<p>åŒ¿åç®¡é“å®è´¨ä¸Šæ˜¯ä¸€ä¸ª<code>å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„é˜Ÿåˆ—</code>ï¼š <code>filedes[0]</code>æ˜¯é˜Ÿå¤´ï¼ˆfrontï¼‰ï¼Œ<code>filedes[1]</code>æ˜¯é˜Ÿå°¾ï¼ˆrearï¼‰ï¼›</p>
<p>æ•°æ®ä»é˜Ÿå°¾è¿›ï¼Œä»é˜Ÿå¤´å‡ºï¼Œéµå¾ªå…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ï¼›</p>
<p>pipe()åˆ›å»ºçš„ç®¡é“ï¼Œå…¶å®æ˜¯ä¸€ä¸ªåœ¨å†…æ ¸ä¸­çš„ç¼“å†²åŒºï¼Œè¯¥ç¼“å†²åŒºçš„å¤§å°ä¸€èˆ¬ä¸ºä¸€é¡µï¼Œå³4Kå­—èŠ‚ï¼›</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(argc &lt; <span class="number">3</span>)&#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;usage: %s parent_sendmsg child_sendmsg\n&quot;</span>, argv[<span class="number">0</span>]);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> pipes[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">if</span>(pipe(pipes) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pipe&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pid_t</span> pid = fork();</span><br><span class="line">    <span class="keyword">if</span>(pid &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        perror(<span class="string">&quot;fork&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pid &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">char</span> buf[BUFSIZ + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> nbuf;</span><br><span class="line">        <span class="built_in">strcpy</span>(buf, argv[<span class="number">1</span>]);</span><br><span class="line">        write(pipes[<span class="number">1</span>], buf, <span class="built_in">strlen</span>(buf));</span><br><span class="line"></span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        nbuf = read(pipes[<span class="number">0</span>], buf, BUFSIZ);</span><br><span class="line">        buf[nbuf] = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;parent_proc(%d) recv_from_child: %s\n&quot;</span>, getpid(), buf);</span><br><span class="line"></span><br><span class="line">        close(pipes[<span class="number">0</span>]);</span><br><span class="line">        close(pipes[<span class="number">1</span>]);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pid == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">char</span> buf[BUFSIZ + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> nbuf = read(pipes[<span class="number">0</span>], buf, BUFSIZ);</span><br><span class="line">        buf[nbuf] = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;child_proc(%d) recv_from_parent: %s\n&quot;</span>, getpid(), buf);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">strcpy</span>(buf, argv[<span class="number">2</span>]);</span><br><span class="line">        write(pipes[<span class="number">1</span>], buf, <span class="built_in">strlen</span>(buf));</span><br><span class="line"></span><br><span class="line">        close(pipes[<span class="number">0</span>]);</span><br><span class="line">        close(pipes[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># root @ arch in ~/work on git:master x [14:44:49]</span></span><br><span class="line">$ gcc a.c</span><br><span class="line"></span><br><span class="line"><span class="meta"># root @ arch in ~/work on git:master x [14:44:52]</span></span><br><span class="line">$ ./a.out from_parent from_child</span><br><span class="line">child_proc(<span class="number">4335</span>) recv_from_parent: from_parent</span><br><span class="line">parent_proc(<span class="number">4334</span>) recv_from_child: from_child</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ°çˆ¶è¿›ç¨‹çš„<code>sleep(1);</code>è¯­å¥ï¼š forkè°ƒç”¨ä¹‹å‰ï¼Œçˆ¶è¿›ç¨‹åˆ›å»ºäº†ä¸€ä¸ªåŒ¿åç®¡é“ï¼Œå‡è®¾æ–‡ä»¶æè¿°ç¬¦ä¸º<code>filedes[] = &#123;3, 4&#125;</code>ï¼Œå³3ä¸ºé˜Ÿå¤´ï¼Œ4ä¸ºé˜Ÿå°¾ï¼› forkè°ƒç”¨ä¹‹åï¼Œåˆ›å»ºäº†ä¸€ä¸ªå­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä¹Ÿæ‹¥æœ‰äº†è¿™ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå¼•ç”¨è®¡æ•°éƒ½åˆ†åˆ«åŠ 1ï¼›</p>
<p>å› ä¸ºå®è´¨ä¸Šåœ¨å†…æ ¸ä¸­åªå­˜åœ¨ä¸€ä¸ªç®¡é“ç¼“å†²åŒºï¼Œæ˜¯çˆ¶è¿›ç¨‹åˆ›å»ºçš„ï¼Œåªä¸è¿‡å­è¿›ç¨‹é€šè¿‡forkä¹Ÿæ‹¥æœ‰äº†å®ƒçš„å¼•ç”¨ï¼› æ‰€ä»¥ï¼Œå¦‚æœçˆ¶è¿›ç¨‹å‘é€msgä¹‹åï¼Œå­è¿›ç¨‹æ²¡æœ‰åŠæ—¶çš„è¯»å–èµ°æ•°æ®ï¼Œé‚£ä¹ˆä¼šè¢«çˆ¶è¿›ç¨‹åé¢çš„readè¯»å–ï¼Œè¿èƒŒäº†æˆ‘ä»¬çš„ç›®çš„ï¼›</p>
<p>æ‰€ä»¥ï¼Œä¸€èˆ¬æ˜¯ä¸å»ºè®®ä¸Šé¢è¿™ç§åšæ³•çš„ï¼Œé€šå¸¸åšæ³•æ˜¯ï¼š ä¸€ä¸ªè¿›ç¨‹è¦ä¹ˆå¾€ç®¡é“é‡Œå†™æ•°æ®ï¼Œè¦ä¹ˆä»ç®¡é“é‡Œè¯»æ•°æ®ï¼› å¦‚æœæ—¢éœ€è¦è¯»åˆéœ€è¦å†™ï¼Œé‚£ä¹ˆéœ€è¦åˆ›å»ºä¸¤ä¸ªåŒ¿åç®¡é“ï¼Œä¸€ä¸ªä¸“é—¨è¯»å–æ•°æ®ï¼Œä¸€ä¸ªä¸“é—¨å†™å…¥æ•°æ®ï¼›</p>
<p>æ¯”å¦‚è¿™æ ·ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(argc &lt; <span class="number">3</span>)&#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;usage: %s parent_sendmsg child_sendmsg\n&quot;</span>, argv[<span class="number">0</span>]);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> pipes1[<span class="number">2</span>], pipes2[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">if</span>(pipe(pipes1) &lt; <span class="number">0</span> || pipe(pipes2) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        perror(<span class="string">&quot;pipe&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pid_t</span> pid = fork();</span><br><span class="line">    <span class="keyword">if</span>(pid &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        perror(<span class="string">&quot;fork&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pid &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        close(pipes1[<span class="number">0</span>]);</span><br><span class="line">        close(pipes2[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span> buf[BUFSIZ + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(buf, argv[<span class="number">1</span>]);</span><br><span class="line">        write(pipes1[<span class="number">1</span>], buf, <span class="built_in">strlen</span>(buf));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> nbuf = read(pipes2[<span class="number">0</span>], buf, BUFSIZ);</span><br><span class="line">        buf[nbuf] = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;parent_proc(%d) recv_msg: %s\n&quot;</span>, getpid(), buf);</span><br><span class="line"></span><br><span class="line">        close(pipes1[<span class="number">1</span>]);</span><br><span class="line">        close(pipes2[<span class="number">0</span>]);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(pid == <span class="number">0</span>)&#123;</span><br><span class="line">        close(pipes1[<span class="number">1</span>]);</span><br><span class="line">        close(pipes2[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span> buf[BUFSIZ + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> nbuf = read(pipes1[<span class="number">0</span>], buf, BUFSIZ);</span><br><span class="line">        buf[nbuf] = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;child_proc(%d) recv_msg: %s\n&quot;</span>, getpid(), buf);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">strcpy</span>(buf, argv[<span class="number">2</span>]);</span><br><span class="line">        write(pipes2[<span class="number">1</span>], buf, <span class="built_in">strlen</span>(buf));</span><br><span class="line"></span><br><span class="line">        close(pipes1[<span class="number">0</span>]);</span><br><span class="line">        close(pipes2[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta"># root @ arch in ~/work on git:master x [15:17:04] C:130</span></span><br><span class="line">$ gcc a.c</span><br><span class="line"></span><br><span class="line"><span class="meta"># root @ arch in ~/work on git:master x [15:17:07]</span></span><br><span class="line">$ ./a.out parent child</span><br><span class="line">child_proc(<span class="number">4622</span>) recv_msg: parent</span><br><span class="line">parent_proc(<span class="number">4621</span>) recv_msg: child</span><br></pre></td></tr></table></figure>
<p><strong>é»˜è®¤çš„é˜»å¡æ¨¡å¼</strong> pipe()åˆ›å»ºçš„ç®¡é“é»˜è®¤æ˜¯é˜»å¡æ¨¡å¼çš„ï¼Œé˜»å¡å’Œéé˜»å¡çš„åŒºåˆ«ä¸socketçš„é˜»å¡ã€éé˜»å¡å¾ˆç›¸ä¼¼ï¼š</p>
<p><strong>ç®¡é“è¯»å†™è§„åˆ™</strong> å½“æ²¡æœ‰æ•°æ®å¯è¯»æ—¶</p>
<ul>
<li><code>O_NONBLOCK</code>å…³é—­ï¼šreadè°ƒç”¨é˜»å¡ï¼Œå³è¿›ç¨‹æš‚åœæ‰§è¡Œï¼Œä¸€ç›´ç­‰åˆ°æœ‰æ•°æ®æ¥åˆ°ä¸ºæ­¢ï¼›</li>
<li><code>O_NONBLOCK</code>æ‰“å¼€ï¼šreadè°ƒç”¨è¿”å›-1ï¼Œerrnoå€¼ä¸ºEAGAINï¼›</li>
</ul>
<p>å½“ç®¡é“æ»¡çš„æ—¶å€™</p>
<ul>
<li><code>O_NONBLOCK</code>å…³é—­ï¼šwriteè°ƒç”¨é˜»å¡ï¼Œç›´åˆ°æœ‰è¿›ç¨‹è¯»èµ°æ•°æ®ï¼›</li>
<li><code>O_NONBLOCK</code>æ‰“å¼€ï¼šè°ƒç”¨è¿”å›-1ï¼Œerrnoå€¼ä¸ºEAGAINï¼›</li>
</ul>
<p>å¦‚æœæ‰€æœ‰ç®¡é“å†™ç«¯å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦è¢«å…³é—­ï¼Œåˆ™readè¿”å›0ï¼› å¦‚æœæ‰€æœ‰ç®¡é“è¯»ç«¯å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦è¢«å…³é—­ï¼Œåˆ™writeæ“ä½œä¼šäº§ç”Ÿä¿¡å·SIGPIPEï¼›</p>
<p>å½“è¦å†™å…¥çš„æ•°æ®é‡ä¸å¤§äºPIPE_BUFæ—¶ï¼Œlinuxå°†ä¿è¯å†™å…¥çš„åŸå­æ€§ï¼› å½“è¦å†™å…¥çš„æ•°æ®é‡å¤§äºPIPE_BUFæ—¶ï¼Œlinuxå°†ä¸å†ä¿è¯å†™å…¥çš„åŸå­æ€§ï¼›</p>
<p>PIPE_BUFçš„å¤§å°ä¸º4096å­—èŠ‚ï¼Œæ³¨æ„ï¼Œè¿™ä¸æ˜¯ç®¡é“çš„ç¼“å†²åŒºå¤§å°ï¼Œè¿™ä¸ªå¤§å°å’Œå†™å…¥çš„åŸå­æ€§æœ‰å…³ï¼› æ‰€è°“åŸå­æ€§ï¼š</p>
<ul>
<li>é˜»å¡æ¨¡å¼æ—¶ä¸”<code>n&lt;PIPE_BUF</code>ï¼šå†™å…¥å…·æœ‰åŸå­æ€§ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´ä¾›nä¸ªå­—èŠ‚å…¨éƒ¨å†™å…¥ï¼Œåˆ™é˜»å¡ç›´åˆ°æœ‰è¶³å¤Ÿç©ºé—´å°†nä¸ªå­—èŠ‚å…¨éƒ¨å†™å…¥ç®¡é“ï¼›</li>
<li>éé˜»å¡æ¨¡å¼æ—¶ä¸”<code>n&lt;PIPE_BUF</code>ï¼šå†™å…¥å…·æœ‰åŸå­æ€§ï¼Œç«‹å³å…¨éƒ¨æˆåŠŸå†™å…¥ï¼Œå¦åˆ™ä¸€ä¸ªéƒ½ä¸å†™å…¥ï¼Œè¿”å›é”™è¯¯ï¼›</li>
<li>é˜»å¡æ¨¡å¼æ—¶ä¸”<code>n&gt;PIPE_BUF</code>ï¼šä¸å…·æœ‰åŸå­æ€§ï¼Œå¯èƒ½ä¸­é—´æœ‰å…¶ä»–è¿›ç¨‹ç©¿æ’å†™å…¥ï¼Œç›´åˆ°å°†nå­—èŠ‚å…¨éƒ¨å†™å…¥æ‰è¿”å›ï¼Œå¦åˆ™é˜»å¡ç­‰å¾…å†™å…¥ï¼›</li>
<li>éé˜»å¡æ¨¡å¼æ—¶ä¸”<code>n&gt;PIPE_BUF</code>ï¼šä¸å…·æœ‰åŸå­æ€§ï¼Œå¦‚æœç®¡é“æ»¡çš„ï¼Œåˆ™ç«‹å³å¤±è´¥ï¼Œä¸€ä¸ªéƒ½ä¸å†™å…¥ï¼Œè¿”å›é”™è¯¯ï¼Œå¦‚æœä¸æ»¡ï¼Œåˆ™è¿”å›å†™å…¥çš„å­—èŠ‚æ•°ï¼Œå³éƒ¨åˆ†å†™å…¥ï¼Œå†™å…¥æ—¶å¯èƒ½æœ‰å…¶ä»–è¿›ç¨‹ç©¿æ’å†™å…¥ï¼›</li>
</ul>
<p><strong>è®¾ç½®ä¸ºéé˜»å¡æ¨¡å¼</strong> è·å–fdçš„flagså€¼ï¼š<code>int flags = fcntl(fd, F_GETFL, 0);</code> è®¾ç½®ä¸ºéé˜»å¡fdï¼š<code>fcntl(fd, F_SETFL, flags | O_NONBLOCK);</code> è®¾ç½®ä¸ºé˜»å¡fdï¼š<code>fcntl(fd, F_SETFL, flags &amp; ~O_NONBLOCK);</code></p>
<h1 id="linuxè¿›ç¨‹é—´é€šä¿¡ä½¿ç”¨åŒ¿åç®¡é“">Linuxè¿›ç¨‹é—´é€šä¿¡â€”â€”ä½¿ç”¨åŒ¿åç®¡é“</h1>
<h2 id="ä¸€ä»€ä¹ˆæ˜¯ç®¡é“">ä¸€ã€ä»€ä¹ˆæ˜¯ç®¡é“</h2>
<p>å¦‚æœä½ ä½¿ç”¨è¿‡Linuxçš„å‘½ä»¤ï¼Œé‚£ä¹ˆå¯¹äºç®¡é“è¿™ä¸ªåè¯ä½ ä¸€å®šä¸ä¼šæ„Ÿè§‰åˆ°é™Œç”Ÿï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸é€šè¿‡ç¬¦å·â€œ|"æ¥ä½¿ç”¨ç®¡é“ï¼Œä½†æ˜¯ç®¡ç†çš„çœŸæ­£å®šä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç®¡é“æ˜¯ä¸€ä¸ªè¿›ç¨‹è¿æ¥æ•°æ®æµåˆ°å¦ä¸€ä¸ªè¿›ç¨‹çš„é€šé“ï¼Œå®ƒé€šå¸¸æ˜¯ç”¨ä½œæŠŠä¸€ä¸ªè¿›ç¨‹çš„è¾“å‡ºé€šè¿‡ç®¡é“è¿æ¥åˆ°å¦ä¸€ä¸ªè¿›ç¨‹çš„è¾“å…¥ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨shellä¸­è¾“å…¥å‘½ä»¤ï¼šls -l | grep stringï¼Œæˆ‘ä»¬çŸ¥é“lså‘½ä»¤ï¼ˆå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼‰ä¼šæŠŠå½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶éƒ½åˆ—å‡ºæ¥ï¼Œä½†æ˜¯å®ƒä¸ä¼šç›´æ¥è¾“å‡ºï¼Œè€Œæ˜¯æŠŠæœ¬æ¥è¦è¾“å‡ºåˆ°å±å¹•ä¸Šçš„æ•°æ®é€šè¿‡ç®¡é“è¾“å‡ºåˆ°grepè¿™ä¸ªè¿›ç¨‹ä¸­ï¼Œä½œä¸ºgrepè¿™ä¸ªè¿›ç¨‹çš„è¾“å…¥ï¼Œç„¶åè¿™ä¸ªè¿›ç¨‹å¯¹è¾“å…¥çš„ä¿¡æ¯è¿›è¡Œç­›é€‰ï¼ŒæŠŠå­˜åœ¨stringçš„ä¿¡æ¯çš„å­—ç¬¦ä¸²ï¼ˆä»¥è¡Œä¸ºå•ä½ï¼‰æ‰“å°åœ¨å±å¹•ä¸Šã€‚</p>
<h2 id="äºŒä½¿ç”¨popenå‡½æ•°">äºŒã€ä½¿ç”¨popenå‡½æ•°</h2>
<h3 id="popenå‡½æ•°å’Œpcloseå‡½æ•°ä»‹ç»">1ã€popenå‡½æ•°å’Œpcloseå‡½æ•°ä»‹ç»</h3>
<p>æœ‰é™å°±æœ‰åŠ¨ï¼Œæœ‰å¼€å°±æœ‰å…³ï¼Œä¸æ­¤ç›¸åŒï¼Œä¸popenå‡½æ•°ç›¸å¯¹åº”çš„å‡½æ•°æ˜¯pcloseå‡½æ•°ï¼Œå®ƒä»¬çš„åŸå‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function">FILE* <span class="title">popen</span> <span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *command, <span class="keyword">const</span> <span class="keyword">char</span> *open_mode)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pclose</span><span class="params">(FILE *stream_to_close)</span></span>;</span><br></pre></td></tr></table></figure>
<p>poenå‡½æ•°å…è®¸ä¸€ä¸ªç¨‹åºå°†å¦ä¸€ä¸ªç¨‹åºä½œä¸ºæ–°è¿›ç¨‹æ¥å¯åŠ¨ï¼Œå¹¶å¯ä»¥ä¼ é€’æ•°æ®ç»™å®ƒæˆ–è€…é€šè¿‡å®ƒæ¥æ”¶æ•°æ®ã€‚commandæ˜¯è¦è¿è¡Œçš„ç¨‹åºåå’Œç›¸åº”çš„å‚æ•°ã€‚open_modeåªèƒ½æ˜¯"rï¼ˆåªè¯»ï¼‰"å’Œ"wï¼ˆåªå†™ï¼‰"çš„å…¶ä¸­ä¹‹ä¸€ã€‚æ³¨æ„ï¼Œpopenå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªFILEç±»å‹çš„æŒ‡é’ˆï¼Œè€ŒLinuxæŠŠä¸€åˆ‡éƒ½è§†ä¸ºæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ä½¿ç”¨stdio I/Oåº“ä¸­çš„æ–‡ä»¶å¤„ç†å‡½æ•°æ¥å¯¹å…¶è¿›è¡Œæ“ä½œã€‚</p>
<p>å¦‚æœopen_modeæ˜¯"r"ï¼Œä¸»è°ƒç”¨ç¨‹åºå°±å¯ä»¥ä½¿ç”¨è¢«è°ƒç”¨ç¨‹åºçš„è¾“å‡ºï¼Œé€šè¿‡å‡½æ•°è¿”å›çš„FILEæŒ‡é’ˆï¼Œå°±å¯ä»¥èƒ½è¿‡stdioå‡½æ•°ï¼ˆå¦‚freadï¼‰æ¥è¯»å–ç¨‹åºçš„è¾“å‡ºï¼›å¦‚æœopen_modeæ˜¯"w"ï¼Œä¸»è°ƒç”¨ç¨‹åºå°±å¯ä»¥å‘è¢«è°ƒç”¨ç¨‹åºå‘é€æ•°æ®ï¼Œå³é€šè¿‡stdioå‡½æ•°ï¼ˆå¦‚fwriteï¼‰å‘è¢«è°ƒç”¨ç¨‹åºå†™æ•°æ®ï¼Œè€Œè¢«è°ƒç”¨ç¨‹åºå°±å¯ä»¥åœ¨è‡ªå·±çš„æ ‡å‡†è¾“å…¥ä¸­è¯»å–è¿™äº›æ•°æ®ã€‚</p>
<p>pcloseå‡½æ•°ç”¨äºå…³é—­ç”±popenåˆ›å»ºå‡ºçš„å…³è”æ–‡ä»¶æµã€‚pcloseåªåœ¨popenå¯åŠ¨çš„è¿›ç¨‹ç»“æŸåæ‰è¿”å›ï¼Œå¦‚æœè°ƒç”¨pcloseæ—¶è¢«è°ƒç”¨è¿›ç¨‹ä»åœ¨è¿è¡Œï¼Œpcloseè°ƒç”¨å°†ç­‰å¾…è¯¥è¿›ç¨‹ç»“æŸã€‚å®ƒè¿”å›å…³é—­çš„æ–‡ä»¶æµæ‰€åœ¨è¿›ç¨‹çš„é€€å‡ºç ã€‚</p>
<h3 id="ä¾‹å­">2ã€ä¾‹å­</h3>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ ¹æœ¬å°±ä¸çŸ¥é“è¾“å‡ºæ•°æ®çš„é•¿åº¦ï¼Œä¸ºäº†é¿å…å®šä¹‰ä¸€ä¸ªéå¸¸å¤§çš„æ•°ç»„ä½œä¸ºç¼“å†²åŒºï¼Œæˆ‘ä»¬å¯ä»¥ä»¥å—çš„æ–¹å¼æ¥å‘é€æ•°æ®ï¼Œä¸€æ¬¡è¯»å–ä¸€ä¸ªå—çš„æ•°æ®å¹¶å‘é€ä¸€ä¸ªå—çš„æ•°æ®ï¼Œç›´åˆ°æŠŠæ‰€æœ‰çš„æ•°æ®éƒ½å‘é€å®Œã€‚ä¸‹é¢çš„ä¾‹å­å°±æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼çš„æ•°æ®è¯»å–å’Œå‘é€æ–¹å¼ã€‚æºæ–‡ä»¶åä¸ºpopen.cï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE *read_fp = <span class="literal">NULL</span>;</span><br><span class="line">	FILE *write_fp = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">char</span> buffer[BUFSIZ + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">int</span> chars_read = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//åˆå§‹åŒ–ç¼“å†²åŒº</span></span><br><span class="line">	<span class="built_in">memset</span>(buffer, <span class="string">&#x27;\0&#x27;</span>, <span class="keyword">sizeof</span>(buffer));</span><br><span class="line">	<span class="comment">//æ‰“å¼€lså’Œgrepè¿›ç¨‹</span></span><br><span class="line">	read_fp = popen(<span class="string">&quot;ls -l&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">	write_fp = popen(<span class="string">&quot;grep rwxrwxr-x&quot;</span>, <span class="string">&quot;w&quot;</span>);</span><br><span class="line">	<span class="comment">//ä¸¤ä¸ªè¿›ç¨‹éƒ½æ‰“å¼€æˆåŠŸ</span></span><br><span class="line">	<span class="keyword">if</span>(read_fp &amp;&amp; write_fp)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//è¯»å–ä¸€ä¸ªæ•°æ®å—</span></span><br><span class="line">		chars_read = fread(buffer, <span class="keyword">sizeof</span>(<span class="keyword">char</span>), BUFSIZ, read_fp);</span><br><span class="line">		<span class="keyword">while</span>(chars_read &gt; <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			buffer[chars_read] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">			<span class="comment">//æŠŠæ•°æ®å†™å…¥grepè¿›ç¨‹</span></span><br><span class="line">			fwrite(buffer, <span class="keyword">sizeof</span>(<span class="keyword">char</span>), chars_read, write_fp);</span><br><span class="line">			<span class="comment">//è¿˜æœ‰æ•°æ®å¯è¯»ï¼Œå¾ªç¯è¯»å–æ•°æ®ï¼Œç›´åˆ°è¯»å®Œæ‰€æœ‰æ•°æ®</span></span><br><span class="line">			chars_read = fread(buffer, <span class="keyword">sizeof</span>(<span class="keyword">char</span>), BUFSIZ, read_fp);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//å…³é—­æ–‡ä»¶æµ</span></span><br><span class="line">		pclose(read_fp);</span><br><span class="line">		pclose(write_fp);</span><br><span class="line">		<span class="built_in">exit</span>(EXIT_SUCCESS);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»è¿è¡Œç»“æœæ¥çœ‹ï¼Œè¾¾åˆ°äº†ä¿¡æ¯ç­›é€‰çš„ç›®çš„ã€‚ç¨‹åºåœ¨è¿›ç¨‹lsä¸­è¯»å–æ•°æ®ï¼Œå†æŠŠæ•°æ®å‘é€åˆ°è¿›ç¨‹grepä¸­è¿›è¡Œç­›é€‰å¤„ç†ï¼Œç›¸å½“äºåœ¨shellä¸­ç›´æ¥è¾“å…¥å‘½ä»¤ï¼šls -l | grep rwxrwxr-xã€‚</p>
<h3 id="popençš„å®ç°æ–¹å¼åŠä¼˜ç¼ºç‚¹">3ã€popençš„å®ç°æ–¹å¼åŠä¼˜ç¼ºç‚¹</h3>
<p>å½“è¯·æ±‚popenè°ƒç”¨è¿è¡Œä¸€ä¸ªç¨‹åºæ—¶ï¼Œå®ƒé¦–å…ˆå¯åŠ¨shellï¼Œå³ç³»ç»Ÿä¸­çš„shå‘½ä»¤ï¼Œç„¶åå°†commandå­—ç¬¦ä¸²ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™å®ƒã€‚</p>
<p>è¿™æ ·å°±å¸¦æ¥äº†ä¸€ä¸ªä¼˜ç‚¹å’Œä¸€ä¸ªç¼ºç‚¹ã€‚ä¼˜ç‚¹æ˜¯ï¼šåœ¨Linuxä¸­æ‰€æœ‰çš„å‚æ•°æ‰©å±•éƒ½æ˜¯ç”±shellæ¥å®Œæˆçš„ã€‚æ‰€ä»¥åœ¨å¯åŠ¨ç¨‹åºï¼ˆcommandä¸­çš„å‘½ä»¤ç¨‹åºï¼‰ä¹‹å‰å…ˆå¯åŠ¨shellæ¥åˆ†æå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±å¯ä»¥ä½¿å„ç§shellæ‰©å±•ï¼ˆå¦‚é€šé…ç¬¦ï¼‰åœ¨ç¨‹åºå¯åŠ¨ä¹‹å‰å°±å…¨éƒ¨å®Œæˆï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡popenå¯åŠ¨éå¸¸å¤æ‚çš„shellå‘½ä»¤ã€‚</p>
<p>è€Œå®ƒçš„ç¼ºç‚¹å°±æ˜¯ï¼šå¯¹äºæ¯ä¸ªpopenè°ƒç”¨ï¼Œä¸ä»…è¦å¯åŠ¨ä¸€ä¸ªè¢«è¯·æ±‚çš„ç¨‹åºï¼Œè¿˜è¦å¯åŠ¨ä¸€ä¸ªshellï¼Œå³æ¯ä¸€ä¸ªpopenè°ƒç”¨å°†å¯åŠ¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œä»æ•ˆç‡å’Œèµ„æºçš„è§’åº¦çœ‹ï¼Œpopenå‡½æ•°çš„è°ƒç”¨æ¯”æ­£å¸¸æ–¹å¼è¦æ…¢ä¸€äº›ã€‚</p>
<h2 id="ä¸‰pipeè°ƒç”¨">ä¸‰ã€pipeè°ƒç”¨</h2>
<p>å¦‚æœè¯´popenæ˜¯ä¸€ä¸ªé«˜çº§çš„å‡½æ•°ï¼Œpipeåˆ™æ˜¯ä¸€ä¸ªåº•å±‚çš„è°ƒç”¨ã€‚ä¸popenå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œå®ƒåœ¨ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ä¸éœ€è¦å¯åŠ¨ä¸€ä¸ªshellæ¥è§£é‡Šè¯·æ±‚å‘½ä»¤ï¼ŒåŒæ—¶å®ƒè¿˜æä¾›å¯¹è¯»å†™æ•°æ®çš„æ›´å¤šçš„æ§åˆ¶ã€‚</p>
<p>pipeå‡½æ•°çš„åŸå‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pipe</span><span class="params">(<span class="keyword">int</span> file_descriptor[<span class="number">2</span>])</span></span>;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°pipeå‡½æ•°çš„å®šä¹‰éå¸¸ç‰¹åˆ«ï¼Œè¯¥å‡½æ•°åœ¨æ•°ç»„ä¸­å¢™ä¸Šä¸¤ä¸ªæ–°çš„æ–‡ä»¶æè¿°ç¬¦åè¿”å›0ï¼Œå¦‚æœè¿”å›è¿”å›-1ï¼Œå¹¶è®¾ç½®errnoæ¥è¯´æ˜å¤±è´¥åŸå› ã€‚</p>
<p>æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ä»¥ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼è¿æ¥èµ·æ¥ï¼Œæ•°æ®åŸºäºå…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ï¼Œå†™åˆ°file_descriptor[1]çš„æ‰€æœ‰æ•°æ®éƒ½å¯ä»¥ä»file_descriptor[0]è¯»å›æ¥ã€‚ç”±äºæ•°æ®åŸºäºå…ˆè¿›å…ˆå‡ºçš„åŸåˆ™ï¼Œæ‰€ä»¥è¯»å–çš„æ•°æ®å’Œå†™å…¥çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚</p>
<h2 id="ç‰¹åˆ«æé†’">ç‰¹åˆ«æé†’ï¼š</h2>
<h3 id="ä»å‡½æ•°çš„åŸå‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒè·Ÿpopenå‡½æ•°çš„ä¸€ä¸ªé‡å¤§åŒºåˆ«æ˜¯popenå‡½æ•°æ˜¯åŸºäºæ–‡ä»¶æµfileå·¥ä½œçš„è€Œpipeæ˜¯åŸºäºæ–‡ä»¶æè¿°ç¬¦å·¥ä½œçš„æ‰€ä»¥åœ¨ä½¿ç”¨pipeåæ•°æ®å¿…é¡»è¦ç”¨åº•å±‚çš„readå’Œwriteè°ƒç”¨æ¥è¯»å–å’Œå‘é€">1ã€ä»å‡½æ•°çš„åŸå‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå®ƒè·Ÿpopenå‡½æ•°çš„ä¸€ä¸ªé‡å¤§åŒºåˆ«æ˜¯ï¼Œpopenå‡½æ•°æ˜¯åŸºäºæ–‡ä»¶æµï¼ˆFILEï¼‰å·¥ä½œçš„ï¼Œè€Œpipeæ˜¯åŸºäºæ–‡ä»¶æè¿°ç¬¦å·¥ä½œçš„ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨pipeåï¼Œæ•°æ®å¿…é¡»è¦ç”¨åº•å±‚çš„readå’Œwriteè°ƒç”¨æ¥è¯»å–å’Œå‘é€ã€‚</h3>
<p>2ã€ä¸è¦ç”¨file_descriptor[0]å†™æ•°æ®ï¼Œä¹Ÿä¸è¦ç”¨file_descriptor[1]è¯»æ•°æ®ï¼Œå…¶è¡Œä¸ºæœªå®šä¹‰çš„ï¼Œä½†åœ¨æœ‰äº›ç³»ç»Ÿä¸Šå¯èƒ½ä¼šè¿”å›-1è¡¨ç¤ºè°ƒç”¨å¤±è´¥ã€‚æ•°æ®åªèƒ½ä»file_descriptor[0]ä¸­è¯»å–ï¼Œæ•°æ®ä¹Ÿåªèƒ½å†™å…¥åˆ°file_descriptor[1]ï¼Œä¸èƒ½å€’è¿‡æ¥ã€‚</p>
<h2 id="ä¾‹å­-1">ä¾‹å­ï¼š</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨åŸå…ˆçš„è¿›ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªç®¡é“ï¼Œç„¶åå†è°ƒç”¨forkåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œæœ€åé€šè¿‡ç®¡é“åœ¨ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚æºæ–‡ä»¶åä¸ºpipe.cï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> data_processed = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> filedes[<span class="number">2</span>];</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> data[] = <span class="string">&quot;Hello pipe!&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> buffer[BUFSIZ + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">pid_t</span> pid;</span><br><span class="line">	<span class="comment">//æ¸…ç©ºç¼“å†²åŒº</span></span><br><span class="line">	<span class="built_in">memset</span>(buffer, <span class="string">&#x27;\0&#x27;</span>, <span class="keyword">sizeof</span>(buffer));</span><br><span class="line">	<span class="keyword">if</span>(pipe(filedes) == <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//åˆ›å»ºç®¡é“æˆåŠŸ</span></span><br><span class="line">		<span class="comment">//é€šè¿‡è°ƒç”¨forkåˆ›å»ºå­è¿›ç¨‹</span></span><br><span class="line">		pid = fork();</span><br><span class="line">		<span class="keyword">if</span>(pid == <span class="number">-1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Fork failure&quot;</span>);</span><br><span class="line">			<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(pid == <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//å­è¿›ç¨‹ä¸­</span></span><br><span class="line">			<span class="comment">//è¯»å–æ•°æ®</span></span><br><span class="line">			data_processed = read(filedes[<span class="number">0</span>], buffer, BUFSIZ);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Read %d bytes: %s\n&quot;</span>, data_processed, buffer);</span><br><span class="line">			<span class="built_in">exit</span>(EXIT_SUCCESS);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//çˆ¶è¿›ç¨‹ä¸­</span></span><br><span class="line">			<span class="comment">//å†™æ•°æ®</span></span><br><span class="line">			data_processed = write(filedes[<span class="number">1</span>], data, <span class="built_in">strlen</span>(data));</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;Wrote %d bytes: %s\n&quot;</span>, data_processed, data);</span><br><span class="line">			<span class="comment">//ä¼‘çœ 2ç§’ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç­‰å­è¿›ç¨‹å…ˆç»“æŸï¼Œè¿™æ ·åšä¹Ÿåªæ˜¯çº¯ç²¹ä¸ºäº†è¾“å‡ºå¥½çœ‹è€Œå·²</span></span><br><span class="line">			<span class="comment">//çˆ¶è¿›ç¨‹å…¶å®æ²¡æœ‰å¿…è¦ç­‰ç­‰å­è¿›ç¨‹ç»“æŸ</span></span><br><span class="line">			sleep(<span class="number">2</span>);</span><br><span class="line">			<span class="built_in">exit</span>(EXIT_SUCCESS);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯è§ï¼Œå­è¿›ç¨‹è¯»å–äº†çˆ¶è¿›ç¨‹å†™åˆ°filedes[1]ä¸­çš„æ•°æ®ï¼Œå¦‚æœåœ¨çˆ¶è¿›ç¨‹ä¸­æ²¡æœ‰sleepè¯­å¥ï¼Œçˆ¶è¿›ç¨‹å¯èƒ½åœ¨å­è¿›ç¨‹ç»“æŸå‰ç»“æŸï¼Œè¿™æ ·ä½ å¯èƒ½å°†çœ‹åˆ°ä¸¤ä¸ªè¾“å…¥ä¹‹é—´æœ‰ä¸€ä¸ªå‘½ä»¤æç¤ºç¬¦åˆ†éš”ã€‚</p>
<h2 id="å››æŠŠç®¡é“ç”¨ä½œæ ‡å‡†è¾“å…¥å’Œæ ‡å‡†è¾“å‡º">å››ã€æŠŠç®¡é“ç”¨ä½œæ ‡å‡†è¾“å…¥å’Œæ ‡å‡†è¾“å‡º</h2>
<p>ä¸‹é¢æ¥ä»‹ç»ä¸€ç§ç”¨ç®¡é“æ¥è¿æ¥ä¸¤ä¸ªè¿›ç¨‹çš„æ›´ç®€æ´æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ–‡ä»¶æè¿°ç¬¦è®¾ç½®ä¸ºä¸€ä¸ªå·²çŸ¥å€¼ï¼Œä¸€èˆ¬æ˜¯æ ‡å‡†è¾“å…¥0æˆ–æ ‡å‡†è¾“å‡º1ã€‚è¿™æ ·åšæœ€å¤§çš„å¥½å¤„æ˜¯å¯ä»¥è°ƒç”¨æ ‡å‡†ç¨‹åºï¼Œå³é‚£äº›ä¸éœ€è¦ä»¥æ–‡ä»¶æè¿°ç¬¦ä¸ºå‚æ•°çš„ç¨‹åºã€‚</p>
<p>ä¸ºäº†å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸¤ä¸ªå‡½æ•°çš„è¾…åŠ©ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯dupå‡½æ•°æˆ–dup2å‡½æ•°ï¼Œå®ƒä»¬çš„åŸå‹å¦‚ä¸‹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dup</span><span class="params">(<span class="keyword">int</span> file_descriptor)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dup2</span><span class="params">(<span class="keyword">int</span> file_descriptor_one, <span class="keyword">int</span> file_descriptor_two)</span></span>;</span><br></pre></td></tr></table></figure>
<p>dupè°ƒç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶æè¿°ç¬¦ä¸ä½œä¸ºå®ƒçš„å‚æ•°çš„é‚£ä¸ªå·²æœ‰æ–‡ä»¶æè¿°ç¬¦æŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶æˆ–ç®¡é“ã€‚å¯¹äºdupå‡½æ•°è€Œè¨€ï¼Œæ–°çš„æ–‡ä»¶æè¿°æ€»æ˜¯å–æœ€å°çš„å¯ç”¨å€¼ã€‚è€Œdup2æ‰€åˆ›å»ºçš„æ–°æ–‡ä»¶æè¿°ç¬¦æˆ–è€…ä¸int file_descriptor_twoç›¸åŒï¼Œæˆ–è€…æ˜¯ç¬¬ä¸€ä¸ªå¤§äºè¯¥å‚æ•°çš„å¯ç”¨å€¼ã€‚æ‰€ä»¥å½“æˆ‘ä»¬é¦–å…ˆå…³é—­æ–‡ä»¶æè¿°ç¬¦0åè°ƒç”¨dupï¼Œé‚£ä¹ˆæ–°çš„æ–‡ä»¶æè¿°ç¬¦å°†æ˜¯æ•°å­—0.</p>
<h2 id="ä¾‹å­-2">ä¾‹å­</h2>
<p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œé¦–å…ˆæ‰“å¼€ç®¡é“ï¼Œç„¶åforkä¸€ä¸ªå­è¿›ç¨‹ï¼Œç„¶ååœ¨å­è¿›ç¨‹ä¸­ï¼Œä½¿æ ‡å‡†è¾“å…¥æŒ‡å‘è¯»ç®¡é“ï¼Œç„¶åå…³é—­å­è¿›ç¨‹ä¸­çš„è¯»ç®¡é“å’Œå†™ç®¡é“ï¼Œåªç•™ä¸‹æ ‡å‡†è¾“å…¥ï¼Œæœ€åè°ƒç”¨execlpå‡½æ•°æ¥å¯åŠ¨ä¸€ä¸ªæ–°çš„è¿›ç¨‹odï¼Œä½†æ˜¯odå¹¶ä¸çŸ¥é“å®ƒçš„æ•°æ®æ¥æºæ˜¯ç®¡é“è¿˜æ˜¯ç»ˆç«¯ã€‚çˆ¶è¿›ç¨‹åˆ™ç›¸å¯¹ç®€å•ï¼Œå®ƒé¦–å…ˆå…³é—­è¯»ç®¡é“ï¼Œç„¶ååœ¨å†™ç®¡é“ä¸­å†™å…¥æ•°æ®ï¼Œå†å…³é—­å†™ç®¡é“å°±å®Œæˆäº†å®ƒçš„ä»»åŠ¡ã€‚æºæ–‡ä»¶ä¸ºpipe2.cï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> data_processed = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> pipes[<span class="number">2</span>];</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> data[] = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">	<span class="keyword">pid_t</span> pid;</span><br><span class="line">	<span class="keyword">if</span>(pipe(pipes) == <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		pid = fork();</span><br><span class="line">		<span class="keyword">if</span>(pid == <span class="number">-1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Fork failure!\n&quot;</span>);</span><br><span class="line">			<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(pid == <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//å­è¿›ç¨‹ä¸­</span></span><br><span class="line">			<span class="comment">//ä½¿æ ‡å‡†è¾“å…¥æŒ‡å‘fildes[0]</span></span><br><span class="line">			close(<span class="number">0</span>);</span><br><span class="line">			dup(pipes[<span class="number">0</span>]);</span><br><span class="line">			<span class="comment">//å…³é—­pipes[0]å’Œpipes[1]ï¼Œåªå‰©ä¸‹æ ‡å‡†è¾“å…¥</span></span><br><span class="line">			close(pipes[<span class="number">0</span>]);</span><br><span class="line">			close(pipes[<span class="number">1</span>]);</span><br><span class="line">			<span class="comment">//å¯åŠ¨æ–°è¿›ç¨‹od</span></span><br><span class="line">			execlp(<span class="string">&quot;od&quot;</span>, <span class="string">&quot;od&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="number">0</span>);</span><br><span class="line">			<span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//å…³é—­pipes[0],å› ä¸ºçˆ¶è¿›ç¨‹ä¸ç”¨è¯»å–æ•°æ®</span></span><br><span class="line">			close(pipes[<span class="number">0</span>]);</span><br><span class="line">			data_processed = write(pipes[<span class="number">1</span>], data, <span class="built_in">strlen</span>(data));</span><br><span class="line">			<span class="comment">//å†™å®Œæ•°æ®åï¼Œå…³é—­pipes[1]</span></span><br><span class="line">			close(pipes[<span class="number">1</span>]);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d - Wrote %d bytes\n&quot;</span>, getpid(), data_processed);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">exit</span>(EXIT_SUCCESS);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»è¿è¡Œç»“æœä¸­å¯ä»¥çœ‹å‡ºodè¿›ç¨‹æ­£ç¡®åœ°å®Œæˆäº†å®ƒçš„ä»»åŠ¡ï¼Œä¸åœ¨shellä¸­ç›´æ¥è¾“å…¥od -cå’Œ123çš„æ•ˆæœä¸€æ ·ã€‚</p>
<h2 id="äº”å…³äºç®¡é“å…³é—­åçš„è¯»æ“ä½œçš„è®¨è®º">äº”ã€å…³äºç®¡é“å…³é—­åçš„è¯»æ“ä½œçš„è®¨è®º</h2>
<p>ç°åœ¨æœ‰è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå‡å¦‚çˆ¶è¿›ç¨‹å‘ç®¡é“file_pipe[1]å†™æ•°æ®ï¼Œè€Œå­è¿›ç¨‹åœ¨ç®¡é“file_pipe[0]ä¸­è¯»å–æ•°æ®ï¼Œå½“çˆ¶è¿›ç¨‹æ²¡æœ‰å‘file_pipe[1]å†™æ•°æ®æ—¶ï¼Œå­è¿›ç¨‹åˆ™æ²¡æœ‰æ•°æ®å¯è¯»ï¼Œåˆ™å­è¿›ç¨‹ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿå†è€…çˆ¶è¿›ç¨‹æŠŠfile_pipe[1]å…³é—­äº†ï¼Œå­è¿›ç¨‹åˆä¼šæœ‰ä»€ä¹ˆååº”å‘¢ï¼Ÿ</p>
<p>å½“å†™æ•°æ®çš„ç®¡é“æ²¡æœ‰å…³é—­ï¼Œè€Œåˆæ²¡æœ‰æ•°æ®å¯è¯»æ—¶ï¼Œreadè°ƒç”¨é€šå¸¸ä¼šé˜»å¡ï¼Œä½†æ˜¯å½“å†™æ•°æ®çš„ç®¡é“å…³é—­æ—¶ï¼Œreadè°ƒç”¨å°†ä¼šè¿”å›0è€Œä¸æ˜¯é˜»å¡ã€‚æ³¨æ„ï¼Œè¿™ä¸è¯»å–ä¸€ä¸ªæ— æ•ˆçš„æ–‡ä»¶æè¿°ç¬¦ä¸åŒï¼Œreadä¸€ä¸ªæ— æ•ˆçš„æ–‡ä»¶æè¿°ç¬¦è¿”å›-1ã€‚</p>
<h1 id="ç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹ç»“æŸ">ç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹ç»“æŸ</h1>
<p><strong>Cè¯­è¨€æ–¹æ³•ä¸€</strong>ï¼š<a href="http://stackoverflow.com/questions/1510922/waiting-for-all-child-processes-before-parent-resumes-execution-unix" class="uri">http://stackoverflow.com/questions/1510922/waiting-for-all-child-processes-before-parent-resumes-execution-unix</a></p>
<p>é€šè¿‡ä¸æŒ‡å®špidçš„æ–¹å¼è°ƒç”¨waitpidæ–¹æ³•ï¼Œæ¯æ¬¡ç­‰å¾…ä¸€ä¸ªå­è¿›ç¨‹ç»“æŸï¼Œç›´åˆ°æ‰€æœ‰å­è¿›ç¨‹éƒ½ç»“æŸï¼ˆwaitpid()è¿”å›0ï¼‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (pid = waitpid(<span class="number">-1</span>, <span class="literal">NULL</span>, <span class="number">0</span>)) &#123;</span><br><span class="line">   <span class="keyword">if</span> (errno == ECHILD) &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Cè¯­è¨€æ–¹æ³•äºŒ</strong>ï¼š<a href="http://stackoverflow.com/questions/19461744/make-parent-wait-for-all-child-processes" class="uri">http://stackoverflow.com/questions/19461744/make-parent-wait-for-all-child-processes</a></p>
<p>é€šè¿‡è°ƒç”¨waitæ–¹æ³•ï¼Œæ¯æ¬¡ç­‰å¾…ä¸€ä¸ªå­è¿›ç¨‹ç»“æŸï¼Œç›´åˆ°æ‰€æœ‰å­è¿›ç¨‹éƒ½ç»“æŸï¼ˆwait()è¿”å›0ï¼‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">pid_t</span> child_pid, wpid;</span><br><span class="line"><span class="keyword">int</span> status = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//Father code (before child processes start)</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> id=<span class="number">0</span>; id&lt;n; id++) &#123;</span><br><span class="line">    <span class="keyword">if</span> ((child_pid = fork()) == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">//child code</span></span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> ((wpid = wait(&amp;status)) &gt; <span class="number">0</span>); <span class="comment">// this way, the father waits for all the child processes </span></span><br><span class="line"><span class="comment">//Father code (After all child processes end)</span></span><br></pre></td></tr></table></figure>
<p><strong>Pythonæ–¹æ³•</strong>ï¼š<a href="http://stackoverflow.com/questions/2993487/spawning-and-waiting-for-child-processes-in-python" class="uri">http://stackoverflow.com/questions/2993487/spawning-and-waiting-for-child-processes-in-python</a></p>
<p>æ¯åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œéƒ½å°†è¯¥å­è¿›ç¨‹çš„pidè®°å½•åˆ°ä¸€ä¸ªpidçš„é›†åˆä¸­ï¼Œç­‰æ‰€æœ‰å­è¿›ç¨‹éƒ½åˆ›å»ºå®Œæ¯•ï¼Œé€ä¸ªwaitè¿™ä¸ªå­è¿›ç¨‹pidé›†åˆä¸­çš„æ¯ä¸€ä¸ªå­è¿›ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰å­è¿›ç¨‹éƒ½ç»“æŸ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">pids.append(subprocess.Popen([RESIZECMD, lot, of, options])</span><br><span class="line"><span class="keyword">for</span> pid in pids:</span><br><span class="line">	pid.wait()</span><br></pre></td></tr></table></figure>
<h1 id="é™„ä»¶æœ¬æ¬¡è¯¾è®¾ç¨‹åºä»£ç ">é™„ä»¶ï¼šæœ¬æ¬¡è¯¾è®¾ç¨‹åºä»£ç </h1>
<h3 id="å¤šè¿›ç¨‹æ±‚å’Œå™¨">å¤šè¿›ç¨‹æ±‚å’Œå™¨</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  main.c</span></span><br><span class="line"><span class="comment">//  test</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by miracleyoo on 2018/7/27.</span></span><br><span class="line"><span class="comment">//  Copyright Â© 2018å¹´ miracleyoo. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ULLINT unsigned long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INPUT 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OUTPUT 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">start</span>;</span></span><br><span class="line">    gettimeofday(&amp;start,<span class="literal">NULL</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> file_descriptors[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> N,M;</span><br><span class="line">    <span class="keyword">int</span> cmplen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> returned_count;</span><br><span class="line">    signal(SIGCHLD, SIG_IGN);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* è¯»å–æ–‡ä»¶ */</span></span><br><span class="line">    FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">2</span>][<span class="number">255</span>];</span><br><span class="line">    <span class="keyword">char</span> * Ms, * Ns;</span><br><span class="line">    fp = fopen(<span class="string">&quot;input.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>);</span><br><span class="line">    <span class="built_in">fscanf</span>(fp,<span class="string">&quot;%s&quot;</span>,buff[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">fscanf</span>(fp,<span class="string">&quot;%s&quot;</span>,buff[<span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">    Ns = strtok(buff[<span class="number">0</span>], <span class="string">&quot;=&quot;</span>);</span><br><span class="line">    Ns = strtok(<span class="literal">NULL</span>, <span class="string">&quot;=&quot;</span>);</span><br><span class="line">    N = atoi(Ns);</span><br><span class="line">    </span><br><span class="line">    Ms = strtok(buff[<span class="number">1</span>], <span class="string">&quot;=&quot;</span>);</span><br><span class="line">    Ms = strtok(<span class="literal">NULL</span>, <span class="string">&quot;=&quot;</span>);</span><br><span class="line">    M = atoi(Ms);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;==&gt; Multi-Process summation program running...\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;==&gt; M:%d,N:%d\n&quot;</span>,M,N);</span><br><span class="line">    </span><br><span class="line">    cmplen = M/N;</span><br><span class="line">    <span class="comment">/*å®šä¹‰å­è¿›ç¨‹å· */</span></span><br><span class="line">    <span class="keyword">pid_t</span> pid=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">/*åˆ›å»ºæ— åç®¡é“*/</span></span><br><span class="line">    pipe(file_descriptors);</span><br><span class="line">    <span class="comment">/*åˆ›å»ºå­è¿›ç¨‹*/</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>((pid = fork()) == <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Error in fork\n&quot;</span>);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pid == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//æ¯æ¬¡å¾ªç¯æ—¶ï¼Œå‘ç°æ˜¯å­è¿›ç¨‹å°±ç›´æ¥ä»åˆ›å»ºå­è¿›ç¨‹çš„å¾ªç¯ä¸­è·³å‡ºæ¥</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*æ‰§è¡Œå­è¿›ç¨‹*/</span></span><br><span class="line">    <span class="keyword">if</span>(pid == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> start_numC,cmplenC,resC;</span><br><span class="line">        start_numC = i*cmplen+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(i==N<span class="number">-1</span>)&#123;</span><br><span class="line">            cmplenC = M-cmplen*i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            cmplenC = cmplen;</span><br><span class="line">        &#125;</span><br><span class="line">        resC = (<span class="number">2</span>*start_numC+cmplenC<span class="number">-1</span>)*cmplenC/<span class="number">2</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;==&gt; Now child process (i:%d) is running, the partly result is: %d\n&quot;</span>,i,resC);</span><br><span class="line">        <span class="comment">/*å­è¿›ç¨‹å‘çˆ¶è¿›ç¨‹å†™æ•°æ®ï¼Œå…³é—­ç®¡é“çš„è¯»ç«¯*/</span></span><br><span class="line">        close(file_descriptors[INPUT]);</span><br><span class="line">        write(file_descriptors[OUTPUT], &amp;resC , <span class="keyword">sizeof</span>(resC));</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">/*æ‰§è¡Œçˆ¶è¿›ç¨‹*/</span></span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">int</span> buf=<span class="number">0</span>,buf_old=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;==&gt; Now parent process is running...\n&quot;</span>);</span><br><span class="line">        <span class="comment">/*çˆ¶è¿›ç¨‹ä»ç®¡é“è¯»å–å­è¿›ç¨‹å†™çš„æ•°æ®ï¼Œå…³é—­ç®¡é“çš„å†™ç«¯*/</span></span><br><span class="line">        close(file_descriptors[OUTPUT]);</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">            returned_count = (<span class="keyword">int</span>)read(file_descriptors[INPUT], &amp;buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(buf_old==buf)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sum += buf;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d bytes of data received from spawned process: %d\n&quot;</span>,</span><br><span class="line">                   returned_count, buf);</span><br><span class="line">            buf_old = buf;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\nSum:%d\n&quot;</span>,sum);</span><br><span class="line">        FILE *fpo = <span class="literal">NULL</span>;</span><br><span class="line">        fpo = fopen(<span class="string">&quot;output.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>);</span><br><span class="line">        <span class="built_in">fprintf</span>(fpo, <span class="string">&quot;%d&quot;</span>,sum);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">end</span>;</span></span><br><span class="line">    gettimeofday(&amp;end, <span class="literal">NULL</span>);</span><br><span class="line">    ULLINT timer = <span class="number">1000000</span> * (end.tv_sec-start.tv_sec)+end.tv_usec-start.tv_usec;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nTime used: %llu us\n&quot;</span>,timer);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¤šçº¿ç¨‹æ±‚å’Œå™¨">å¤šçº¿ç¨‹æ±‚å’Œå™¨</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  main.c</span></span><br><span class="line"><span class="comment">//  multisum</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by miracleyoo on 2018/7/28.</span></span><br><span class="line"><span class="comment">//  Copyright Â© 2018å¹´ miracleyoo. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ULLINT unsigned long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">time_t</span> t_start,t_end;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">pthread_mutex_t</span> testlock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> part_res[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> M=<span class="number">0</span>,N=<span class="number">0</span>,cmplen=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">partSum</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> start_numC,cmplenC,resC;</span><br><span class="line">    <span class="keyword">int</span> i=count;</span><br><span class="line">    count++;</span><br><span class="line">    start_numC = i*cmplen+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(i==N<span class="number">-1</span>)&#123;</span><br><span class="line">        cmplenC = M-cmplen*i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        cmplenC = cmplen;</span><br><span class="line">    &#125;</span><br><span class="line">    resC = (<span class="number">2</span>*start_numC+cmplenC<span class="number">-1</span>)*cmplenC/<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;==&gt; Now child process (i:%d) is running, the partly result is: %d\n&quot;</span>,i,resC);</span><br><span class="line">    pthread_mutex_lock(&amp;testlock);</span><br><span class="line">    sum+=resC;</span><br><span class="line">    pthread_mutex_unlock(&amp;testlock);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">start</span>;</span></span><br><span class="line">    gettimeofday(&amp;start,<span class="literal">NULL</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// insert code here....</span></span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* è¯»å–æ–‡ä»¶ */</span></span><br><span class="line">    FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> buff[<span class="number">2</span>][<span class="number">255</span>];</span><br><span class="line">    <span class="keyword">char</span> * Ms, * Ns;</span><br><span class="line">    fp = fopen(<span class="string">&quot;input.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>);</span><br><span class="line">    <span class="built_in">fscanf</span>(fp,<span class="string">&quot;%s&quot;</span>,buff[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">fscanf</span>(fp,<span class="string">&quot;%s&quot;</span>,buff[<span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">    Ns = strtok(buff[<span class="number">0</span>], <span class="string">&quot;=&quot;</span>);</span><br><span class="line">    Ns = strtok(<span class="literal">NULL</span>, <span class="string">&quot;=&quot;</span>);</span><br><span class="line">    N = atoi(Ns);</span><br><span class="line">    </span><br><span class="line">    Ms = strtok(buff[<span class="number">1</span>], <span class="string">&quot;=&quot;</span>);</span><br><span class="line">    Ms = strtok(<span class="literal">NULL</span>, <span class="string">&quot;=&quot;</span>);</span><br><span class="line">    M = atoi(Ms);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;==&gt; Multi-Thread summation program running...\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;==&gt; M:%d,N:%d\n&quot;</span>,M,N);</span><br><span class="line"></span><br><span class="line">    cmplen = M/N;</span><br><span class="line">    pthread_mutex_init(&amp;testlock, <span class="literal">NULL</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*åˆ›å»ºå­çº¿ç¨‹*/</span></span><br><span class="line">    <span class="keyword">int</span> ret_thrd[N],ret;</span><br><span class="line">    <span class="keyword">pthread_t</span> thread[N];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        ret_thrd[i] = pthread_create(&amp;thread[i], <span class="literal">NULL</span>, (<span class="keyword">void</span> *)&amp;partSum, (<span class="keyword">void</span> *)<span class="literal">NULL</span>);<span class="comment">//, (void *)&amp;i);</span></span><br><span class="line">        <span class="keyword">if</span> (ret_thrd[i] != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;==&gt; Thread %d built failed!\n&quot;</span>,i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;==&gt; Thread %d built successfully!\n&quot;</span>,i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        ret = pthread_join(thread[i], <span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Sum: %d\n&quot;</span>,sum);</span><br><span class="line">    FILE *fpo = <span class="literal">NULL</span>;</span><br><span class="line">    fpo = fopen(<span class="string">&quot;output.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>);</span><br><span class="line">    <span class="built_in">fprintf</span>(fpo, <span class="string">&quot;%d&quot;</span>,sum);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">end</span>;</span></span><br><span class="line">    gettimeofday(&amp;end, <span class="literal">NULL</span>);</span><br><span class="line">    ULLINT timer = <span class="number">1000000</span> * (end.tv_sec-start.tv_sec)+end.tv_usec-start.tv_usec;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nTime used: %llu us\n&quot;</span>,timer);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
        <tag>multi-thread</tag>
        <tag>xcode</tag>
        <tag>multi-process</tag>
      </tags>
  </entry>
  <entry>
    <title>ç›¸æœºæ ¡å‡† ç›¸æœºæ ‡å®š Intrinsic/Extrinsic Calibrationè¯¦è§£ ç»å¯¹ExtrinsicçŸ©é˜µæµ‹å¾—å®æ“ Event Camera/DVS</title>
    <url>/2022/11/04/camera-calibration/</url>
    <content><![CDATA[<p>å…ˆæä¸€ä¸‹æœ¬æ–‡çš„å‘è¡¨ç†ç”±ã€‚å› ä¸ºå®éªŒéœ€è¦ç”¨åˆ°ä¸€ä¸ªDAVIS 346çš„Event Cameraï¼Œä¸”é¡¹ç›®éœ€è¦é€šè¿‡Motion Captureï¼ˆMocapï¼‰å¾—åˆ°äººä½“çš„3Då‡†ç¡®æ ‡å®šï¼Œæ‰€ä»¥å°±ç ”ç©¶äº†ä¸€ä¸‹ç›¸æœºçš„Intrinsicå’Œç»å¯¹Extrinsicæ ‡å®šã€‚ä»¤äººåƒæƒŠçš„æ˜¯ï¼Œç½‘ä¸Šå…¶å®å¹¶æ²¡æœ‰å¤ªå¤šå…³äºå¦‚ä½•é€šè¿‡å®éªŒæ–¹æ³•æ ‡å®šå¾—åˆ°ç›¸å¯¹äºåæ ‡åŸç‚¹ï¼ˆOç‚¹ï¼ŒOriginï¼‰çš„Extrinsic Matrixçš„è®²è§£ï¼Œå°¤å…¶æ˜¯ç¼ºå°‘ä¸­æ–‡æ•™ç¨‹ã€‚äºæ˜¯æˆ‘å°±æŠŠå‚è€ƒå„ç§è‹±æ–‡èµ„æ–™ï¼ˆä¸»è¦æ˜¯ä¸€äº›å¤§å­¦çš„slideså’Œæœ‰å…³é‡‡é›†Mocapæ•°æ®é›†çš„æ–‡çŒ®ï¼‰æ€»ç»“çš„ä¸€äº›ç†è®ºæ¨å¯¼å’Œå®éªŒæ–¹æ³•ï¼Œä»¥åŠå®é™…èƒ½ç”¨çš„ä»£ç æ•´ç†å¾—åˆ°äº†æœ¬æ–‡ã€‚</p>
<p>é¦–å…ˆæ˜¯å‡ å¼ éå¸¸é‡è¦çš„Slidesï¼Œåé¢éƒ½ä¼šreferåˆ°ï¼Œå¯ä»¥å…ˆè‡ªè¡Œç†Ÿæ‚‰ä¸‹ã€‚å¦å¤–ï¼Œæœ¬ç¯‡ä¸æ˜¯100%ä»é›¶å¼€å§‹çš„æ•™ç¨‹ï¼Œç¯‡å¹…é™åˆ¶å¹¶æ— æ³•å±•å¼€æ‰€æœ‰çš„ç»†èŠ‚ï¼Œè‹¥æƒ³æ·±åº¦ç†è§£ï¼Œè¯·è‡ªè¡Œç»“åˆå‡ ä¸ªå¤§å­¦ï¼ˆCMUï¼ŒStanfordï¼‰ç›¸åº”çš„Slidesä¸€èµ·å­¦ä¹ ã€‚</p>
<p><img src="/2022/11/04/camera-calibration/image-20221021152707045-1667622796441-1.png" alt="image-20221021152707045" style="zoom:33%;"></p>
<figure>
<img src="/2022/11/04/camera-calibration/image-20221021165722788-1667622796442-2.png" alt="image-20221021165722788"><figcaption aria-hidden="true">image-20221021165722788</figcaption>
</figure>
<h2 id="coordinates">Coordinates</h2>
<ul>
<li>åœ¨æ•´ä¸ªç›¸æœºçš„æŠ•å½±ä¸æ ¡å‡†è¿‡ç¨‹ä¸­ï¼Œä¸€å…±æ¶‰åŠ3ä¸ªåæ ‡ç³»ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ï¼š
<ol type="1">
<li>ä¸–ç•Œåæ ‡ç³»ï¼šä»¥ç©ºé—´ä¸­æŸç‚¹ä¸ºåŸç‚¹å»ºç«‹æ¬§æ‹‰åæ ‡ç³»ï¼Œè®¾å®šxyzæ–¹å‘åå½¢æˆçš„åæ ‡ç³»ã€‚</li>
<li>ç›¸æœºåæ ‡ç³»ã€‚è¯¥åæ ‡ç³»çš„åŸç‚¹æ˜¯ç›¸æœºçš„ç„¦ç‚¹ã€‚ç„¦ç‚¹ä¸€èˆ¬åœ¨ç›¸æœºå†…éƒ¨ï¼Œä¹Ÿå¯èƒ½è½åœ¨çš„ç›¸æœºå¤–éƒ¨ï¼Œè¿™å–å†³äºfocal lengthã€‚åæ ‡ç³»çš„æŒ‡å‘ï¼šxå’Œyå°±æ˜¯ç›¸å¹³é¢çš„æ¨ªçºµåæ ‡æ–¹å‘ï¼ˆç›¸æœºè§†è§’æ–¹å‘ï¼‰ï¼Œzæ˜¯ä¸xyå¹³é¢å‚ç›´çš„æ–¹å‘ï¼Œäº¦å³é•œå¤´æŒ‡å‘çš„å‰æ–¹ã€‚</li>
<li>å›¾åƒåæ ‡ç³»ï¼ˆä¹Ÿå¯ä»¥åˆ†æˆä¸¤ä¸ªï¼šå›¾åƒåæ ‡ç³»(m)å’Œåƒç´ åæ ‡ç³»(pixel)ï¼‰ã€‚å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹æ˜¯æ¯ä¸ªåƒç´ å¹¶ä¸æ˜¯çœŸæ­£çš„ä¸€ä¸ªç‚¹ï¼Œpixelåæ ‡ç³»æ‰€ä»£è¡¨çš„æ•´æ•°å€¼æ˜¯æ¯ä¸ªåƒç´ ç‚¹çš„ä¸­å¿ƒã€‚</li>
</ol></li>
<li>è€ƒè™‘åŠŸèƒ½æ€§ï¼Œè¿˜æœ‰ä¸€ä¸ªåŒè´¨åæ ‡ç³»ï¼Œç”¨äºå®é™…è¿ç®—ã€‚</li>
</ul>
<p><img src="/2022/11/04/camera-calibration/image-20221021144051423-1667622796442-3.png" alt="image-20221021144051423" style="zoom: 25%;"></p>
<h2 id="intrinsic">Intrinsic</h2>
<ul>
<li><p>ç†æƒ³çŠ¶å†µä¸‹ï¼ˆæ— Skewnesså’ŒDistortionï¼‰ï¼ŒIntrinsic çŸ©é˜µEncodeçš„ä¿¡æ¯æœ‰ï¼šFocal Lengthã€Image Sensorçš„é•¿å®½ï¼ˆin pixelï¼‰ï¼Œæ¯åƒç´ ä»£è¡¨çš„ç±³æ•°(pixel/m)ï¼Œä¹Ÿå³ç›¸æœºçš„åˆ†è¾¨ç‡ã€‚</p></li>
<li><p>éç†æƒ³æƒ…å†µä¸‹ï¼ŒSkewnesså’ŒDistortionä¹Ÿä¼šè¢«æ”¾åˆ°Intrinsicä¸­ã€‚</p></li>
<li><p>å…³äºå½“æé«˜/é™ä½åˆ†è¾¨ç‡æ—¶å€™çš„Intrinsicå˜åŒ–ï¼š<span class="math inline">\(k,l,c_x,c_y\)</span>éƒ½è¦ä¹˜ä»¥åˆ†è¾¨ç‡æé«˜çš„ç³»æ•°ã€‚</p>
<figure>
<img src="/2022/11/04/camera-calibration/image-20221026155238653-1667622796442-4.png" alt="image-20221026155238653"><figcaption aria-hidden="true">image-20221026155238653</figcaption>
</figure></li>
<li><p>å‚è§Intrinsicçš„è®¡ç®—è¿‡ç¨‹ï¼Œç”±äºè®¡ç®—æ—¶å·²ç»è€ƒè™‘äº†ç›®æ ‡ç‰©ä½“æ·±åº¦å¯¹æˆåƒä½ç½®çš„å½±å“ï¼Œæ‰€ä»¥Intrinsicå…¶å®æ˜¯åŒ…å«äº†é€è§†(perspective)ä¿¡æ¯çš„ã€‚</p></li>
<li><p>Intrinsicå¯ä½¿ç›¸æœºåæ ‡ç³»è½¬åŒ–ä¸ºå›¾ç‰‡åæ ‡ç³»ã€‚</p></li>
</ul>
<h2 id="extrinsic">Extrinsic</h2>
<ul>
<li><p>Extrinsic å¯ä»¥çœ‹ä½œæ˜¯ä¸¤ä¸ªçŸ©é˜µå†™åœ¨äº†ä¸€èµ·ï¼šæ—‹è½¬çŸ©é˜µRå’Œå¹³ç§»çŸ©é˜µTã€‚å‰ä¸‰åˆ—æ˜¯Rï¼Œæœ€åä¸€åˆ—æ˜¯Tã€‚ å…¶å®ï¼Œè™½ç„¶ç»å¸¸å†™ä½œ<span class="math inline">\([R|T]\)</span>ï¼Œä½†äº‹å®ä¸Šè¿˜æœ‰ä¸€ä¸ªç›¸ä¼¼å˜æ¢Sï¼Œè¿™ä¸ªSæ˜¯ä¸ªå¯¹è§’çº¿çŸ©é˜µï¼Œå¯¹è§’çº¿ä¸Šçš„å€¼ä¸º<span class="math inline">\([S_x, S_y, S_z, 1]\)</span>ã€‚Sç›´æ¥å’ŒRä¹˜åœ¨ä¸€èµ·ï¼Œä¸Tæ— å…³ã€‚</p>
<p><img src="/2022/11/04/camera-calibration/image-20221026162455644-1667622796442-5.png" alt="image-20221026162455644" style="zoom:50%;"></p></li>
<li><p>Extrinsicå¯ä½¿ä¸–ç•Œåæ ‡ç³»è½¬åŒ–ä¸ºç›¸æœºåæ ‡ç³»ã€‚</p></li>
</ul>
<h2 id="skewness-and-distortion">Skewness and Distortion</h2>
<ul>
<li><p>SkewnessæŒ‡çš„æ˜¯ç›¸æœºSensorçš„ä¸¤ä¸ªè½´ä¸å‚ç›´ï¼Œå³xyä¹‹é—´æœ‰ä¸€ä¸ªå°å¤¹è§’ã€‚é€šå¸¸è¿™ä¸ä¼šå‘ç”Ÿï¼Œä½†å¦‚æœæœ‰åˆ¶é€ æ–¹é¢çš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯å¯èƒ½çš„ã€‚</p></li>
<li><p>ç›¸æœºçš„Skewness</p></li>
<li><p>Skewnessçš„è§£å†³æ–¹æ³•æ˜¯æŠŠè¿™ä¸ªå¤¹è§’æ‰¾åˆ°ï¼Œå¹¶åœ¨Intrinsicä¸­åæ˜ å‡ºæ¥ã€‚</p>
<figure>
<img src="/2022/11/04/camera-calibration/image-20221026154924465-1667622796442-6.png" alt="image-20221026154924465"><figcaption aria-hidden="true">image-20221026154924465</figcaption>
</figure></li>
<li><p>DistortionåŒ…å«ï¼š</p>
<ul>
<li><em>Radial Distortion</em> (å¾„å‘ç•¸å˜)ï¼š</li>
<li><em>Tangential distortion</em> (åˆ‡å‘ç•¸å˜)ï¼šæœ¬è´¨ä¸Šæ˜¯ç›¸å¹³é¢å’Œç›¸æœºåæ ‡ç³»å­˜åœ¨ä¸€ä¸ªå¤¹è§’ï¼Œå³â€œå›¾åƒSensorå’Œé•œå¤´æˆªé¢ä¸å¹³è¡Œâ€ã€‚</li>
</ul></li>
<li><p>å…³äºDistortionçš„è®¡ç®—ï¼š</p>
<figure>
<img src="/2022/11/04/camera-calibration/image-20221026163826434-1667622796442-7.png" alt="image-20221026163826434"><figcaption aria-hidden="true">image-20221026163826434</figcaption>
</figure></li>
</ul>
<h2 id="homogeneous-coordinates">Homogeneous Coordinates</h2>
<ul>
<li>åŒè´¨åæ ‡çš„ä¸»è¦ç”¨æ„æ˜¯æŠŠæœ¬æ¥åœ¨åˆ†æ¯ä¸Šçš„zï¼ˆæ·±åº¦ï¼‰ç»™æŒªèµ°ï¼Œä»¥ä¾¿è®©æŠ•å½±è¿™ä¸ªTransformationä»non-linearå˜æˆLinearã€‚</li>
<li>æ³¨æ„åŒè´¨åæ ‡è™½ç„¶åœ¨è§†è§‰æ•ˆæœä¸Šæ˜¯åœ¨åŸæœ¬çš„åæ ‡(u,v)æˆ–(x,y,z)ä¸‹é¢åŠ äº†ä¸€ä¸ª1ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™ä¸ª1åœ¨æ¬§å¼åæ ‡ç³»ä¸­å¹¶ä¸å­˜åœ¨ã€‚å½“æˆ‘ä»¬åé¢åˆ—å‡ºæ–¹ç¨‹æ ¡å‡†æ—¶ï¼Œåº”è¯¥å›åˆ°åŸæœ¬çš„æ¬§å¼åæ ‡ç³»è§£ã€‚</li>
</ul>
<h2 id="imu">IMU</h2>
<ul>
<li>IMUè¾“å‡ºä¸‰ä¸ªæ–¹å‘è§’é€Ÿåº¦å’Œä¸‰ä¸ªè½´å‘åŠ é€Ÿåº¦çš„å€¼ï¼Œä½¿ç”¨æ—¶ä¹Ÿéœ€è¦æ ¡å‡†ã€‚</li>
<li>å…·ä½“æ ¡å‡†æ–¹æ³•å‚è§Kalibrå’ŒDVï¼Œå› ä¸ºæˆ‘æ²¡ç”¨ä¸Šï¼Œæ‰€ä»¥ä¸å¤šå±•å¼€ã€‚</li>
</ul>
<h2 id="dvs">DVS</h2>
<ul>
<li>DVSçš„æ ¡å‡†ä¸»è¦åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼š
<ul>
<li>ä¸€ç§æ˜¯ç›´æ¥ç”¨pairedçš„RGBè¿›è¡Œæ ¡å‡†ï¼Œæ¯•ç«Ÿè¿™é‡Œçš„RGBå’ŒDVS shareåŒä¸€ç»„é€é•œã€‚</li>
<li>å¦‚æœæ²¡æœ‰è¿™ä¸ªRGBï¼Œå°±ç›´æ¥ç”¨accumulateçš„frameåšæ ¡å‡†ã€‚</li>
</ul></li>
</ul>
<h2 id="methods">Methods</h2>
<h3 id="è§£æ–¹ç¨‹ç›´æ¥æ ¡å‡†pçŸ©é˜µ">è§£æ–¹ç¨‹ç›´æ¥æ ¡å‡†PçŸ©é˜µ</h3>
<ul>
<li><p>åœ¨Paper <em>DHP19: Dynamic Vision Sensor 3D Human Pose Dataset</em>é‡Œï¼Œ ä»–ä»¬é‡‡ç”¨çš„æ–¹æ³•æ˜¯ï¼šç›´æ¥åœ¨ç»è¿‡Mocapæ ¡å‡†çš„ç©ºé—´ä¸­æ”¾ç½®ä¸€ç³»åˆ—Markersï¼Œç„¶ååœ¨DVSçš„RGBï¼ˆAPSï¼‰è¾“å‡ºframeä¸­ç›´æ¥è¿›è¡Œæ‰‹åŠ¨æ ‡æ³¨ï¼Œå¾—åˆ°å…¶åœ¨image planeä¸­çš„<span class="math inline">\((u, v)\)</span>åæ ‡ï¼Œ ç„¶åè§£æ–¹ç¨‹ã€‚</p>
<p><img src="/2022/11/04/camera-calibration/image-20221021155115039-1667622796442-8.png" alt="image-20221021155115039" style="zoom:40%;"></p></li>
<li><p>ä¸Šå›¾ä¸­æåˆ°äº†ä¸€ä¸ªç‚¹ï¼šä»æŠ•å½±çŸ©é˜µè®¡ç®—ç›¸æœºåæ ‡ç³»çš„åŸç‚¹ï¼Œå³ç›¸æœºçš„ç„¦ç‚¹ä½ç½®çš„æ–¹æ³•ï¼š<span class="math inline">\(C=Q^{-1}c_4\)</span>ã€‚å…·ä½“çš„æ¨ç†å…¶å®å¾ˆç®€å•ï¼Œä¸»è¦å°±é ä¸€ä¸ªæ¡ä»¶å…¬å¼ï¼š<span class="math inline">\(PC=0\)</span>ï¼Œå³åŸç‚¹çš„æŠ•å½±æ˜¯0ã€‚</p></li>
<li><p>ç»†èŠ‚ä¸Šï¼Œä»–ä»¬ç”¨äº†38ä¸ªMarkerï¼Œå¹¶8æ¬¡æ”¹å˜å®ƒä»¬çš„ä½ç½®ï¼Œé€šè¿‡æœ€å°å¹³æ–¹æ³•è§£å¾—æœ€æ¥è¿‘çš„11ä¸ªPä¸­å‚æ•°å€¼ã€‚è¿™é‡Œçš„æœ€å°å¹³æ–¹æ³•çš„æ„ä¹‰åœ¨äºé€šè¿‡å¢åŠ æ•°æ®ç‚¹å–å¹³å‡På€¼æ¥å‡å°è¯¯å·®ã€‚å…¶å®11ç»„å¼å­å°±å¤Ÿäº†ï¼Œä½†è¿™é‡Œè¿˜æ˜¯ç”¨äº†<span class="math inline">\(8\times38\times2\)</span>ä¸ªå…¬å¼ï¼Œå°±åœ¨äºæ­¤ã€‚</p></li>
<li><p>å…·ä½“çš„æœ€å°å¹³æ–¹æ³•ä»‹ç»åŠä»£ç ï¼š<a href="https://pythonnumericalmethods.berkeley.edu/notebooks/chapter16.04-Least-Squares-Regression-in-Python.html">Link</a></p></li>
<li><p>è¿™ä¸ªå…¨çŸ©é˜µPå…¶å®åŒ…å«äº†Camera Intrinsic <em>K</em>ï¼Œ Camera Extrinsic <em>RT</em>, ä»¥åŠCamera Skewnessã€‚</p></li>
<li><p>ç†è®ºï¼š</p>
<figure>
<img src="/2022/11/04/camera-calibration/image-20221026175034098-1667622796442-9.png" alt="image-20221026175034098"><figcaption aria-hidden="true">image-20221026175034098</figcaption>
</figure>
<p><img src="/2022/11/04/camera-calibration/image-20221026175051047-1667622796442-10.png" alt="image-20221026175051047" style="zoom:50%;"></p></li>
<li><p>ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Least Square Calibration for Camera Projection Matrix using Numpy</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">svd_calibration</span>(<span class="params">points_3d, points_2d</span>):</span></span><br><span class="line">    <span class="comment"># points_3d: 3D points in world coordinate</span></span><br><span class="line">    <span class="comment"># points_2d: 2D points in image coordinate</span></span><br><span class="line">    <span class="comment"># return: projection matrix</span></span><br><span class="line">    <span class="keyword">assert</span> points_3d.shape[<span class="number">0</span>] == points_2d.shape[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">assert</span> points_3d.shape[<span class="number">1</span>] == <span class="number">3</span></span><br><span class="line">    <span class="keyword">assert</span> points_2d.shape[<span class="number">1</span>] == <span class="number">2</span></span><br><span class="line">    num_points = points_3d.shape[<span class="number">0</span>]</span><br><span class="line">    A = np.zeros((<span class="number">2</span> * num_points, <span class="number">12</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_points):</span><br><span class="line">        A[<span class="number">2</span> * i, <span class="number">0</span>:<span class="number">4</span>] = *(points_3d[i, :]), <span class="number">1</span></span><br><span class="line">        A[<span class="number">2</span> * i, <span class="number">8</span>:<span class="number">12</span>] = *(-points_2d[i, <span class="number">0</span>] * points_3d[i, :]), -points_2d[i, <span class="number">0</span>]</span><br><span class="line">        A[<span class="number">2</span> * i + <span class="number">1</span>, <span class="number">4</span>:<span class="number">8</span>] = *(points_3d[i, :]), <span class="number">1</span></span><br><span class="line">        A[<span class="number">2</span> * i + <span class="number">1</span>, <span class="number">8</span>:<span class="number">12</span>] = *(-points_2d[i, <span class="number">1</span>] * points_3d[i, :]), -points_2d[i, <span class="number">0</span>]</span><br><span class="line">    U, S, V = np.linalg.svd(A)</span><br><span class="line">    P = V[:ï¼Œ-<span class="number">1</span>].reshape((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">    <span class="keyword">return</span> P</span><br><span class="line"></span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Least Square Calibration for Camera Projection Matrix</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">least_square_calibrate_camera_projection_matrix_np</span>(<span class="params">x,y,z,u,v</span>):</span></span><br><span class="line">    <span class="comment"># x,y,z: 3D points in world coordinate</span></span><br><span class="line">    <span class="comment"># u,v: 2D points in image coordinate</span></span><br><span class="line">    <span class="comment"># return: projection matrix</span></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">len</span>(x) == <span class="built_in">len</span>(y) == <span class="built_in">len</span>(z) == <span class="built_in">len</span>(u) == <span class="built_in">len</span>(v)</span><br><span class="line">    num_points = <span class="built_in">len</span>(x)</span><br><span class="line">    A = np.zeros((<span class="number">2</span> * num_points, <span class="number">12</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_points):</span><br><span class="line">        A[<span class="number">2</span> * i, <span class="number">0</span>:<span class="number">4</span>] = x[i], y[i], z[i], <span class="number">1</span></span><br><span class="line">        A[<span class="number">2</span> * i, <span class="number">8</span>:<span class="number">12</span>] = -u[i] * x[i], -u[i] * y[i], -u[i] * z[i], -u[i]</span><br><span class="line">        A[<span class="number">2</span> * i + <span class="number">1</span>, <span class="number">4</span>:<span class="number">8</span>] = x[i], y[i], z[i], <span class="number">1</span></span><br><span class="line">        A[<span class="number">2</span> * i + <span class="number">1</span>, <span class="number">8</span>:<span class="number">12</span>] = -v[i] * x[i], -v[i] * y[i], -v[i] * z[i], -v[i]</span><br><span class="line">    U, S, V = np.linalg.svd(A)</span><br><span class="line">    P = V[:ï¼Œ-<span class="number">1</span>].reshape((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">    <span class="keyword">return</span> P</span><br></pre></td></tr></table></figure></li>
<li><p>æ³¨æ„ï¼šSVDè¿™é‡Œæ˜¯ç”¨äºè§£å†³Least Squares Problemçš„ï¼Œå¦‚æœç›´æ¥ç”¨<code>np.linalg.lstsq</code>å‡½æ•°çš„è¯ï¼ˆbå–å…¨0ï¼‰ï¼Œä¼šè§£å¾—ä¸€ä¸ªå…¨0çŸ©é˜µï¼ˆå› ä¸º0æ°¸è¿œæ˜¯ä¸€ä¸ªè§£ï¼‰ã€‚</p></li>
<li><p>SVDçš„è§£æ³•ç»†èŠ‚ï¼š</p>
<figure>
<img src="/2022/11/04/camera-calibration/image-20221027230723755-1667622796442-11.png" alt="image-20221027230723755"><figcaption aria-hidden="true">image-20221027230723755</figcaption>
</figure></li>
<li><p>è§£SVDçš„æ—¶å€™å¯ä»¥é€‰æ‹©æŠŠPçŸ©é˜µå³ä¸‹è§’<span class="math inline">\(P_{(3,4)}\)</span>è®¾ä¸º1ã€‚ä¸è®¾æ˜¯homogeneousè§£æ³•ï¼Œè®¾äº†ä¹‹åæ˜¯inhomogeneousã€‚</p></li>
</ul>
<h3 id="kalibr">kalibr</h3>
<ul>
<li><p><a href="https://github.com/ethz-asl/kalibr">Link</a></p></li>
<li><p>Used for:</p>
<ol type="1">
<li><strong>Multi-Camera Calibration</strong>: Intrinsic and extrinsic calibration of a camera-systems with non-globally shared overlapping fields of view</li>
<li><strong>Visual-Inertial Calibration (CAM-IMU)</strong>: Spatial and temporal calibration of an IMU w.r.t a camera-system along with IMU intrinsic parameters</li>
<li><strong>Multi-Inertial Calibration (IMU-IMU)</strong>: Spatial and temporal calibration of an IMU w.r.t a base inertial sensor along with IMU intrinsic parameters (requires 1-aiding camera sensor).</li>
<li><strong>Rolling Shutter Camera Calibration</strong>: Full intrinsic calibration (projection, distortion and shutter parameters) of rolling shutter cameras.</li>
</ol></li>
<li><p>ç®€å•è¯´å°±æ˜¯ä¸»æ”»å¤šç›¸æœº/IMUç³»ç»Ÿã€‚<a href="https://github.com/ethz-asl/kalibr/wiki/multiple-camera-calibration">å¤šä¸ªç›¸æœº</a>ï¼Œ<a href="https://github.com/ethz-asl/kalibr/wiki/Multi-IMU-and-IMU-intrinsic-calibration">å¤šä¸ªIMU</a>ï¼Œ<a href="https://github.com/ethz-asl/kalibr/wiki/camera-imu-calibration">ç›¸æœº+IMU</a>ç­‰ã€‚</p></li>
<li><p>æ ¡å‡†å‡ºæ¥çš„Extrinsicç»“æœå¹¶ä¸æ˜¯ç›¸å¯¹åŸç‚¹ç»å¯¹çš„ï¼Œè€Œæ˜¯å¤šä¸ªè®¾å¤‡é—´ç›¸å¯¹çš„ã€‚æ¯”å¦‚IMU+Camæ ¡å‡†å‡ºæ¥çš„Extrinsicå°±æ˜¯IMUç›¸å¯¹äºCamåæ ‡çš„å˜æ¢ã€‚</p>
<p>å¼•ç”¨ä¸€æ®µ<a href="https://github.com/ethz-asl/kalibr/wiki/yaml-formats">åŸè¯</a>ï¼š</p>
<blockquote>
<ul>
<li><strong>T_cn_cnm1</strong> camera extrinsic transformation, always with respect to the last camera in the chain (e.g. cam1: T_cn_cnm1 = T_c1_c0, takes cam0 to cam1 coordinates)</li>
<li><strong>T_cam_imu</strong> IMU extrinsics: transformation from IMU to camera coordinates (T_c_i)</li>
<li><strong>timeshift_cam_imu</strong> timeshift between camera and IMU timestamps in seconds (t_imu = t_cam + shift)</li>
</ul>
</blockquote></li>
<li><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒKalibrå¹¶ä¸æ˜¯æ»¡è¶³æˆ‘ä»¬éœ€æ±‚çš„æ ¡å‡†æ–¹æ¡ˆã€‚</p></li>
</ul>
<h3 id="dv-calibration">DV Calibration</h3>
<ul>
<li><a href="https://inivation.gitlab.io/dv/dv-docs/docs/tutorial-calibration/">Tutorial Link</a>, <a href="https://gitlab.com/inivation/dv/dv-imu-cam-calibration">Code Link</a></li>
<li>å•ä¸ªå¤šä¸ªDVSéƒ½å¯ä»¥ã€‚</li>
<li>åŸºäºKalibrçš„æ–¹æ¡ˆã€‚</li>
<li>å¯¹äºå•ä¸ªDVSï¼Œæ ¡å‡†ä¸»è¦è¿›è¡Œçš„æ˜¯undistortionï¼Œä¸”å¯ä»¥åœ¨æ ¡å‡†åç›´æ¥åº”ç”¨äºç›¸æœºåç»­çš„å›¾åƒï¼Œè®©åé¢çš„recordéƒ½ä¸å†æœ‰å¤±çœŸã€‚</li>
<li>è¿™é‡Œçš„æ ¡å‡†å¯ä»¥æœ‰æ•ˆåº”å¯¹ä¹‹å‰Upalæ•™æˆæå‡ºçš„æ‰­æ›²é—®é¢˜ï¼Œåº”åœ¨åç»­æ“ä½œä¸­åº”ç”¨ã€‚</li>
</ul>
<h3 id="opencv-camera-calibration">OpenCV Camera Calibration</h3>
<ul>
<li><p>è¿™ä¸ªæ ¡å‡†ä¼šä½¿ç”¨chessboardï¼Œè€Œå…³äº3dåæ ‡ï¼Œä»–ä»¬ç”¨äº†æ£‹ç›˜ä¸Šä¸¤ä¸ªç›¸é‚»çš„ç‚¹çš„å®é™…è·ç¦»æ˜¯å·²çŸ¥çš„è¿™ä¸ªç‰¹æ€§ï¼ˆå› ä¸ºæ‰“å°çš„æ ‡å‡†æ£‹ç›˜ï¼Œé—´è·æ˜¯å›ºå®šçš„ï¼Œå¦‚30mmï¼‰ï¼Œæ¥æä¾›ç›¸åº”çš„3Dåæ ‡ä¿¡æ¯ã€‚</p></li>
<li><p>è¿™ä¸ªæ ¡å‡†ä¼šåˆ†åˆ«è¾“å‡ºIntrinsic matrix (mtx), rotation matrix (R, rvecs), translation matrix (T, tvecs), Distortion coefficients (dist)ã€‚è¿™äº›è¾“å‡ºå¯ä»¥ç›´æ¥è¢«ç”¨æ¥çº åã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># generate camera matrixes</span></span><br><span class="line">ret, mtx, dist, rvecs, tvecs = cv.calibrateCamera(objpoints, imgpoints, gray.shape[::-<span class="number">1</span>], <span class="literal">None</span>, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">img = cv.imread(<span class="string">&#x27;left12.jpg&#x27;</span>)</span><br><span class="line">h,  w = img.shape[:<span class="number">2</span>]</span><br><span class="line">newcameramtx, roi = cv.getOptimalNewCameraMatrix(mtx, dist, (w,h), <span class="number">1</span>, (w,h))</span><br><span class="line"></span><br><span class="line"><span class="comment"># undistort</span></span><br><span class="line">dst = cv.undistort(img, mtx, dist, <span class="literal">None</span>, newcameramtx)</span><br><span class="line"><span class="comment"># crop the image</span></span><br><span class="line">x, y, w, h = roi</span><br><span class="line">dst = dst[y:y+h, x:x+w]</span><br><span class="line">cv.imwrite(<span class="string">&#x27;calibresult.png&#x27;</span>, dst)</span><br></pre></td></tr></table></figure></li>
<li><p>å…³äºOpenCVæ ¡å‡†å‡ºæ¥çš„Extrinsic Matrixï¼Œç”±äºä¸–ç•Œåæ ‡ç³»å¿…å®šæœ‰ä¸€ä¸ªåŸç‚¹ï¼Œæ‰€ä»¥å®ƒä»¬ä¹Ÿæ˜¯æ¯«æ— ç–‘é—®æœ‰ä¸€ä¸ªåŸç‚¹çš„ã€‚ä½†è¿™ä¸ªä¸–ç•Œåæ ‡ç³»åŸç‚¹å®é™…ä¸Šåªæœ‰å‚è€ƒæ„ä¹‰ï¼ˆç¬¬ä¸€å¼ æ ¡å‡†å›¾çš„å·¦ä¸Šè§’æ£‹ç›˜ç‚¹ï¼‰ï¼Œå¹¶æ— æ³•ç›´æ¥ä½¿ç”¨ã€‚åŒæ—¶ï¼Œç›¸æœºåæ ‡ç³»çš„åŸç‚¹æ˜¯ç›¸æœºçš„ç„¦ç‚¹ï¼Œè€Œè¿™ä¸ªç„¦ç‚¹ä¹Ÿæ˜¯å‡ ä¹ä¸å¯é¢„çŸ¥å’Œæµ‹é‡ä½ç½®çš„ï¼ˆå®ƒå¯èƒ½åœ¨ç›¸æœºå†…éƒ¨æˆ–å¤–éƒ¨ï¼Œä½†æ ¡å‡†å¹¶ä¸ä¼šå‘Šè¯‰ä½ è¿™ä¸ªç‚¹ä½ç½®ï¼Œæ‰€ä»¥ä½ ä¹Ÿæ— æ³•é€šè¿‡ç›´æ¥æµ‹é‡ç›¸æœºOç‚¹å’Œå®é™…ä¸–ç•ŒOç‚¹ä¹‹é—´çš„ç›¸å¯¹ä½ç½®æ¥çº æ­£Extrinsicã€‚ï¼‰</p>
<blockquote>
<p><a href="https://www.appsloveworld.com/opencv/100/91/opencv-camera-calibration-world-coordinate-system-origin">Link</a>: I believe it used to be the position of the top-left corner of the checkerboard in the first calibration image, but it may have changed. You can visualized it by writing a few lines of code that project point (0,0,0) (in calibrated scene coordinates) in all the calibration images, then plotting its projected image coordinates on top of the image themselves.</p>
<p>You should really not depend on it being anything meaningful, and instead locate a separate feature in 3D and roto-translate the reference frame to it after calibration.</p>
</blockquote></li>
<li><p>å®é™…ä¸Šï¼Œä¸è¦æƒ³é€šè¿‡OpenCVçš„æ ¡å‡†æ¥ç›´æ¥å¾—åˆ°æœ‰å®é™…æ„ä¹‰çš„Extrinsicï¼Œè‹¥æƒ³å¾—åˆ°ï¼Œè¯·è‡ªè¡Œç”¨å‰é¢æåˆ°çš„Method 1æ¥å®é™…labelä¸€äº›å·²çŸ¥3Dåæ ‡çš„Markerså¯¹åº”çš„2Dç‚¹ï¼Œç”¨Least Squaresè§£å¾—ã€‚</p></li>
<li><p>ä½†æ˜¯ï¼ŒOpenCVçš„æ ¡å‡†å¯ä»¥æä¾›æœ‰æ•ˆçš„Distortion Coefficientå’ŒIntrinsicï¼Œå¹¶å¯ç›´æ¥è¢«ç”¨äºç•¸å˜è¡¥å¿ã€‚</p></li>
</ul>
<h2 id="reference">Reference</h2>
<h3 id="blogswebsites">Blogs/Websites</h3>
<ul>
<li><a href="****https://pythonnumericalmethods.berkeley.edu/notebooks/chapter16.04-Least-Squares-Regression-in-Python.html****">Least Squares Regression in Python</a></li>
<li><a href="https://math.stackexchange.com/questions/974193/why-does-svd-provide-the-least-squares-and-least-norm-solution-to-a-x-b">Why does SVD provide the least squares and least norm solution to ğ´ğ‘¥=ğ‘?</a></li>
<li><a href="https://math.stackexchange.com/questions/772039/how-does-the-svd-solve-the-least-squares-problem">How does the SVD solve the least squares problem?</a></li>
<li><a href="https://www.quora.com/What-is-the-real-world-coordinate-system-camera-calibration-refer-to-in-computer-vision">What is the "real world coordinate system" camera calibration refer to in computer vision?</a></li>
<li><a href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.svd.html">numpy linalg svd</a></li>
<li><a href="https://docs.opencv.org/4.x/dc/dbb/tutorial_py_calibration.html">OpenCV Camera Calibration</a></li>
</ul>
<h3 id="slides">Slides</h3>
<ul>
<li><a href="https://s3.amazonaws.com/content.udacity-data.com/courses/ud810/slides/Unit-3/3C-L3.pdf#fromHistory">Udacity CS4495/6495 Introduction to Computer Vision 3C-L3 Calibrating cameras</a></li>
<li><a href="https://www.cs.cmu.edu/~16385/s17/Slides/11.1_Camera_matrix.pdf">CMU - Camera Matrix</a></li>
<li><a href="https://cvgl.stanford.edu/teaching/cs231a_winter1314/lectures/lecture2_camera_models.pdf">Stanford - Lecture 2</a></li>
<li><a href="https://cvgl.stanford.edu/teaching/cs231a_winter1314/lectures/lecture3_camera_calibration.pdf">Stanford - Lecture 3</a></li>
</ul>
<h3 id="papers">Papers</h3>
<ul>
<li>[A Flexible New Technique for Camera Calibration](</li>
</ul>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>CV</tag>
        <tag>camera calibration</tag>
        <tag>camera matrix</tag>
      </tags>
  </entry>
  <entry>
    <title>ACGç›¸å…³AIé¡¹ç›®-è®ºæ–‡-ä»£ç -æ•°æ®-èµ„æº</title>
    <url>/2020/07/06/acg-dl/</url>
    <content><![CDATA[<h2 id="è®ºæ–‡">è®ºæ–‡</h2>
<p>[<a href>Paper</a>] [<a href>Code</a>] [20XX]</p>
<h3 id="è‡ªåŠ¨å‹¾çº¿-çº¿ç¨¿">è‡ªåŠ¨å‹¾çº¿-çº¿ç¨¿</h3>
<ol type="1">
<li><p>Learning to Simplify: Fully Convolutional Networks for Rough Sketch Cleanup [<a href="http://www.f.waseda.jp/hfs/SimoSerraSIGGRAPH2016.pdf">Paper</a>] [<a href="https://github.com/bobbens/sketch_simplification">Code</a>] [<a href="https://medium.com/coinmonks/simplifying-rough-sketches-using-deep-learning-c404459622b9">Blog</a>] [2015]</p>
<ul>
<li><p>æ—©ç¨»ç”°å¤§å­¦15å¹´ç»å…¸è®ºæ–‡ã€‚</p></li>
<li><p>ç²—ç³™æ‰‹ç¨¿æ˜ å°„åˆ°ç²¾æçº¿ç¨¿ã€‚</p></li>
<li><p>ä½¿ç”¨çš„æ˜¯è‡ªå»ºæ•°æ®é›†ï¼Œç»™å®šç²¾è‡´çº¿ç¨¿è®©ç”»å¸ˆå»ç…§ç€æç²—ç¨¿ï¼Œè¿™æ ·é¿å…äº†ä»çº¿ç¨¿æåˆ°ç²¾ç¨¿æ—¶å€™æ·»åŠ å’Œå¤§æ”¹äº†å¾ˆå¤šçº¿æ¡ã€‚æ•°æ®é›†æ²¡æœ‰å¼€æº......ä¸è¿‡ä¼¼ä¹ä½œè€…ç»™äº†è®­ç»ƒå¥½çš„æƒé‡ã€‚</p>
<span id="more"></span></li>
<li><p>We found that the standard approach, which we denote as direct dataset construction, of asking artists to draw a rough sketch and then produce a clean version of the sketch ended up with a lot of changes in the figure, i.e., output lines are greatly changed with respect to their input lines, or new lines are added in the output. This results in very noisy training data that does not perform well. In order to avoid this issue, we found that the best approach is the inverse dataset construction approach, that is, given a clean simplified sketch drawing, the artist is asked to make a rough version of that sketch.</p></li>
</ul>
<p><img src="/2020/07/06/acg-dl/image-20200705025359787.png" alt="image-20200705025359787" style="zoom:50%;"></p>
<p><img src="/2020/07/06/acg-dl/image-20200705025440435.png" alt="image-20200705025440435" style="zoom:50%;"></p></li>
</ol>
<h3 id="è‡ªåŠ¨çº¿ç¨¿ä¸Šè‰²">è‡ªåŠ¨çº¿ç¨¿ä¸Šè‰²</h3>
<ol type="1">
<li><p>Scribbler: Controlling Deep Image Synthesis with Sketch and Color [<a href="http://openaccess.thecvf.com/content_cvpr_2017/papers/Sangkloy_Scribbler_Controlling_Deep_CVPR_2017_paper.pdf">Paper</a>] [<a href>Code</a>] [2017]</p></li>
<li><p>User-Guided Deep Anime Line Art Colorization with Conditional Adversarial Networks [<a href="https://arxiv.org/pdf/1808.03240.pdf">Paper</a>] [<a href="https://github.com/orashi/AlacGAN">Code</a>] [2018]</p>
<ul>
<li>æ—¢æ”¯æŒç›´æ¥ä»çº¿ç¨¿è½¬æ¢ä¸ºè‰²ç¨¿ï¼Œä¹Ÿæ”¯æŒç”¨æˆ·äº¤äº’ç”»ç‚¹ç”Ÿæˆè‰²ç¨¿ã€‚</li>
<li>ç”Ÿæˆå™¨å’Œæ£€æµ‹å™¨çš„è¾“å…¥è¿›è¡Œäº†åˆ›æ–°ã€‚ç”Ÿæˆå™¨çš„è¾“å…¥æ˜¯çº¿ç¨¿ã€ç”¨æˆ·è‰²ç‚¹å›¾ã€è¿˜æœ‰ä¸€ä¸ªçº¿ç¨¿çš„ç‰¹å¾Mapã€‚æ£€æµ‹å™¨çš„è¾“å…¥æ˜¯ä¸¤å¯¹ï¼šï¼ˆçœŸå®è‰²ç¨¿ï¼Œçº¿ç¨¿ç‰¹å¾ï¼‰ä¸ï¼ˆç”Ÿæˆè‰²ç¨¿ï¼Œçº¿ç¨¿ç‰¹å¾ï¼‰ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯é¿å…äº†ç›´æ¥è®©åˆ¤åˆ«å™¨çœ‹åˆ°åŸå§‹çº¿ç¨¿ï¼Œä»è€Œä¸€å®šç¨‹åº¦ä¸Šé¿å…äº†è¿‡æ‹Ÿåˆã€‚</li>
<li>çº¿ç¨¿æ˜¯é€šè¿‡XDoGè½¬æ¢è‰²ç¨¿å¾—æ¥ã€‚</li>
<li>Comment from <a href="https://www.reddit.com/r/AnimeResearch/comments/962ziu/userguided_deep_anime_line_art_colorization_with/">reddit</a>: I don't have it locally but it should be easy to make an 'illustration dataset' simply by using a tag like <a href="https://danbooru.donmai.us/posts?utf8=âœ“&amp;tags=-monochrome+&amp;ms=1"><code>-monochrome</code></a> to filter out any line-art. It's easy to make a line-art dataset because that's also a tag: <code>lineart</code>. Finally, you don't need to half-ass the pairs dataset with fake pairs using XDoG because you can just use <a href="https://danbooru.donmai.us/wiki_pages/21859">parent-child relationships</a> to find all sets of related images, and then extract all pairs of monochrome vs non-monochrome, which will usually give you sketch to completed image. Or there are tags just for this, like <a href="https://danbooru.donmai.us/posts?utf8=âœ“&amp;tags=colored+&amp;ms=1"><code>colored</code></a>, for human colorization of BW images (and you can again use the parent/child relationships to filter more).</li>
</ul>
<p><img src="/2020/07/06/acg-dl/image-20200705104853930.png" alt="image-20200705104853930" style="zoom:33%;"></p>
<p><img src="/2020/07/06/acg-dl/image-20200705104922846.png" alt="image-20200705104922846" style="zoom:33%;"></p>
<p><img src="/2020/07/06/acg-dl/image-20200705105004118.png" alt="image-20200705105004118" style="zoom:33%;"></p></li>
<li><p>Line Art Correlation Matching Network for Automatic Animation Colorization</p></li>
</ol>
<h3 id="ç…§ç‰‡è½¬åŠ¨æ¼«">ç…§ç‰‡è½¬åŠ¨æ¼«</h3>
<ol type="1">
<li>CartoonGAN: Generative Adversarial Networks for Photo Cartoonization [<a href="http://openaccess.thecvf.com/content_cvpr_2018/papers/Chen_CartoonGAN_Generative_Adversarial_CVPR_2018_paper.pdf">Paper</a>] [<a href>Code</a>] [2018]
<ul>
<li>Unpaired image dataset training.</li>
<li>Two loss: In generator, a semantic loss defined as an â„“1 sparse regularization in the <strong>high-level feature maps</strong> of the VGG network. In discriminator, an edge-promoting adversarial loss for preserving <strong>clear edges</strong></li>
<li>Built a new set of data which is animation images with edge blurred. Traditional GAN discriminator only discriminate photo from carton(or real from false), but this discriminator has three classes: Normal Photo, Real Carton Image, and Blurred edge carton image.</li>
</ul></li>
</ol>
<h3 id="åŠ¨æ¼«å›¾ç‰‡embedding">åŠ¨æ¼«å›¾ç‰‡Embedding</h3>
<ol type="1">
<li>illustration2vec (i2v)ã€‚[<a href="https://www.gwern.net/docs/anime/2015-saito.pdf">Paper</a>] [<a href="https://github.com/rezoo/illustration2vec">Code</a>] [2015]
<ul>
<li>ä½¿ç”¨äº†VGGç½‘ç»œå°†ä»»æ„åŠ¨æ¼«å›¾ç‰‡å‹ç¼©ä¸ºä¸€ä¸ªé•¿åº¦ä¸º4096çš„Vectorã€‚</li>
<li>åŒæ ·ï¼Œç”±äºè®­ç»ƒæ—¶Yä¸ºæ ‡ç­¾ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨è¯¥ç½‘ç»œä¸ºåŠ¨æ¼«å›¾ç‰‡æ‰“æ ‡ã€‚</li>
<li>è®­ç»ƒå›¾ç‰‡æ¥è‡ªäºDanbooruå’ŒSafebooruä¸¤ä¸ªç½‘ç«™ã€‚å…±è®¡ä½¿ç”¨äº†1,287,596å¼ å›¾ç‰‡å’Œå®ƒä»¬çš„metadataã€‚</li>
<li>æ ‡ç­¾åˆ†ä¸ºå››ç±»ï¼š<code>General tags</code>, <code>copyright tags</code>,<code>character tags</code>å’Œ<code>rating tags</code>ã€‚ç¬¬ä¸€ä¸ªæ˜¯å›¾ç‰‡æœ¬èº«çš„ç‰¹å¾ï¼Œå¦‚â€œæ­¦å™¨â€ï¼Œâ€œå¾®ç¬‘â€ï¼Œç¬¬äºŒä¸ªæ˜¯ç‰ˆæƒæ–¹ï¼Œå¦‚â€œVOCALOIDâ€ï¼›ç¬¬ä¸‰ä¸ªæ˜¯è§’è‰²åå­—ï¼Œå¦‚â€œhatsune mikuâ€æœ€åä¸€ä¸ªç±»åˆ«è¡¨ç¤ºæ˜¯18ç¦ã€æ“¦è¾¹çƒè¿˜æ˜¯å…¨å¹´é¾„å›¾ç‰‡ã€‚</li>
</ul></li>
</ol>
<h3 id="ç®€ç¬”ç”»è½¬ç…§ç‰‡">ç®€ç¬”ç”»è½¬ç…§ç‰‡</h3>
<ol type="1">
<li><p>Deep Learning for Free-Hand Sketch: A Survey and A Toolbox [<a href="https://arxiv.org/pdf/2001.02600.pdf">Paper</a>] [<a href="https://github.com/PengBoXiangShang/torchsketch/">Code</a>] [2020]</p>
<figure>
<img src="/2020/07/06/acg-dl/image-20200705105458250.png" alt="image-20200705105458250"><figcaption aria-hidden="true">image-20200705105458250</figcaption>
</figure>
<figure>
<img src="/2020/07/06/acg-dl/image-20200705105522568.png" alt="image-20200705105522568"><figcaption aria-hidden="true">image-20200705105522568</figcaption>
</figure></li>
</ol>
<h3 id="å…¶ä»–gan">å…¶ä»–GAN</h3>
<ol type="1">
<li><p>Style GAN [<a href="https://arxiv.org/pdf/1812.04948.pdf">Paper</a>] [<a href="https://github.com/NVlabs/stylegan">Code</a>] [2019]</p>
<ul>
<li>NVIDIAå‡ºå“</li>
<li>å®ƒå¯ä»¥è¿ç»­æ§åˆ¶ç”Ÿæˆå›¾ç‰‡çš„å„ç§ç‹¬ç«‹å‚æ•°ï¼</li>
<li>ä¹‹å‰çš„GANéƒ½æ˜¯Inputä½¿ç”¨ä¸€ä¸ªéšæœºå™ªå£°ï¼Œè€ŒNVIDIAè¿™ç¯‡è¿™æ˜¯åœ¨è®¸å¤šå±‚ä¸­é—´éƒ½æ·»åŠ ä¸€æ³¢å™ªå£°ã€‚å±‚æ•°è¶Šé åï¼Œè¿™äº›å™ªå£°æ§åˆ¶çš„ç‰¹å¾å°±è¶Šç»†èŠ‚ã€‚</li>
<li>gwernè®­ç»ƒå¥½çš„äºŒæ¬¡å…ƒStyleGANæ¨¡å‹ï¼š<a href="https://drive.google.com/file/d/1z8N_-xZW9AU45rHYGj1_tDHkIkbnMW-R/view">Link</a></li>
</ul>
<p><img src="/2020/07/06/acg-dl/image-20200705105910579.png" alt="image-20200705105910579" style="zoom:33%;"></p>
<p><img src="/2020/07/06/acg-dl/v2-3fffd4e8d8e16d7da045de536f6d0e95_1440w.jpg" alt="img" style="zoom:33%;"></p>
<p><img src="/2020/07/06/acg-dl/image-20200705105951584.png" alt="image-20200705105951584" style="zoom:33%;"></p></li>
<li><p><a href="https://github.com/zhangqianhui/AdversarialNetsPapers">AdversarialNetsPapers å„ç§GANçš„Papers</a></p></li>
<li><p><a href="https://github.com/tjwei/GANotebooks">GANotebooks å„ç§GANçš„Jupyter Notebookæ•™ç¨‹</a></p></li>
<li><p><a href="https://github.com/jayleicn/animeGAN">animeGAN A simple PyTorch Implementation of GAN, focusing on anime face drawing.</a></p></li>
</ol>
<h2 id="æ•°æ®é›†">æ•°æ®é›†</h2>
<h3 id="çº¯åŠ¨æ¼«å›¾ç‰‡">çº¯åŠ¨æ¼«å›¾ç‰‡</h3>
<ol type="1">
<li><p>Danbooru2019. [<a href="https://www.gwern.net/Danbooru2019">Release</a>] [<a href="https://github.com/fire-eggs/Danbooru2019">Code</a>] [2019]</p>
<ul>
<li>Original or 3x512x512</li>
<li>~3TB or 295GB</li>
<li>3.69M or 2828400 images</li>
<li>108M tag instances (of 392k defined tags, ~29/image).</li>
<li>Covering Danbooru from 24 May 2005 through 31 December 2019 (final ID: #3,734,659).</li>
<li>Image files &amp; a JSON export of the metadata.</li>
</ul></li>
<li><p>Anime Face Dataset [<a href="https://www.kaggle.com/splcher/animefacedataset">Link</a>][2019]</p>
<ul>
<li>æ•°æ®æ¥æºï¼š<a href="www.getchu.com">Getchu</a></li>
<li>åŒ…å«å›¾ç‰‡æ•°ç›®ï¼š 63,632</li>
<li>åªåŒ…å«è„¸éƒ¨æˆªå–å›¾ç‰‡</li>
<li>å¤§å°ï¼š395.95MB</li>
<li>æ¯å¼ å›¾ç‰‡åˆ†è¾¨ç‡ï¼š90 * 90 ~ 120 * 120</li>
</ul>
<p><img src="/2020/07/06/acg-dl/test.jpg" alt="anime girls" style="zoom:50%;"></p></li>
</ol>
<h3 id="çº¿ç¨¿-è‰²ç¨¿å¯¹">çº¿ç¨¿-è‰²ç¨¿å¯¹</h3>
<ol type="1">
<li>Danbooru Sketch Pair 128x [<a href="https://www.kaggle.com/wuhecong/danbooru-sketch-pair-128x">Link</a>] [2019]
<ul>
<li>9.58GB</li>
<li>647K images. 323K sketch-color pairs</li>
<li>Image size: 3x128x128</li>
<li>æœ‰çš„æ˜¯æ’ç”»ï¼Œæœ‰çš„æ˜¯æ¼«ç”»ã€‚</li>
<li>åšå®¢ï¼šSketch to Color Anime: An application of Conditional GAN. [<a href="https://medium.com/@raviranjankr165/sketch-to-color-anime-an-application-of-conditional-gan-e40f59c66281">Link</a>] [<a href="https://github.com/ravi-1654003/Sketch2Color-conditional-GAN">Code</a>] [2020]</li>
</ul></li>
</ol>
<h3 id="æ¨èä¸è¯„ä»·">æ¨èä¸è¯„ä»·</h3>
<ol type="1">
<li><p>Anime Recommendations Database [<a href="https://www.kaggle.com/CooperUnion/anime-recommendations-database">Link</a>] [2016]</p>
<ul>
<li>æ•°æ®æ¥æºäºï¼š<a href="https://myanimelist.net/">Link</a></li>
<li>å¤§å°ï¼š107.14MB</li>
<li>This data set contains information on user preference data from 73,516 users on 12,294 anime.</li>
</ul>
<p><img src="/2020/07/06/acg-dl/image-20200705024244220.png" alt="image-20200705024244220" style="zoom: 33%;"></p></li>
</ol>
<h2 id="åšå®¢">åšå®¢</h2>
<ol type="1">
<li><a href="https://zhuanlan.zhihu.com/p/24767059">GANå­¦ä¹ æŒ‡å—ï¼šä»åŸç†å…¥é—¨åˆ°åˆ¶ä½œç”ŸæˆDemo</a></li>
<li><a href="https://medium.com/@jonathan_hui/gan-whats-generative-adversarial-networks-and-its-application-f39ed278ef09">GANâ€Šâ€”â€ŠWhat is Generative Adversary Networks GAN?</a></li>
<li><a href="https://www.leiphone.com/news/201709/i9qlcvWrpitOacjf.html">å¯èƒ½æ˜¯è¿‘æœŸæœ€å¥½ç©çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼šCycleGANçš„åŸç†ä¸å®éªŒè¯¦è§£</a></li>
<li><a href="https://makegirlsmoe.github.io/main/2017/08/14/news-english.html">è¾“å…¥å„ç§å‚æ•°ç”ŸæˆåŠ¨æ¼«äººç‰©å¤´åƒå®˜æ–¹åšå®¢</a></li>
<li><a href="https://www.jiqizhixin.com/articles/2017-08-20-4">å®…ç”·çš„ç¦éŸ³ï¼šç”¨GANè‡ªåŠ¨ç”ŸæˆäºŒæ¬¡å…ƒèŒå¦¹å­</a></li>
<li><a href="https://qiita.com/rezoolab/items/5cc96b6d31153e0c86bc">Chainerã‚’ä½¿ã£ã¦ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«ã‚¤ãƒ©ã‚¹ãƒˆã‚’æã‹ã›ã‚‹</a></li>
<li><a href="https://www.jqr.com/article/000215">æ—‹è½¬å§ï¼æ¢è£…å°‘å¥³ï¼šä¸€ç§å¯ç”Ÿæˆé«˜åˆ†è¾¨ç‡å…¨èº«åŠ¨ç”»çš„GAN</a></li>
<li><a href="https://www.jianshu.com/p/f31d9fc1d677">ä¸è¦æ€‚ï¼Œå°±æ˜¯GAN</a></li>
<li><a href="https://medium.com/@jonathan_hui/gan-some-cool-applications-of-gans-4c9ecca35900">GANâ€Šâ€”â€ŠSome cool applications of GANs</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/30532830">çœ¼è§å·²ä¸ä¸ºå®ï¼Œè¿„ä»Šæœ€çœŸå®çš„GANï¼šProgressive Growing of GANs</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/33752313">é€šä¿—ç†è§£ç”Ÿæˆå¯¹æŠ—ç½‘ç»œGAN</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27012520">ä»å¤´å¼€å§‹GAN</a></li>
<li><a href="https://junyanz.github.io/CycleGAN/">Cycle GAN ä½œè€…å®˜ç½‘</a></li>
<li><a href="https://www.jiqizhixin.com/articles/2018-04-17-5">å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºæ·±åº¦å­¦ä¹ é¡¹ç›®ï¼Ÿè¿™é‡Œæœ‰ä¸€ä»½è¯¦ç»†çš„æ•™ç¨‹</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/27145954">å¸¦ä½ ç†è§£CycleGANï¼Œå¹¶ç”¨TensorFlowè½»æ¾å®ç°</a></li>
</ol>
<h2 id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº</h2>
<h3 id="æ–‡å­—è½¬è¯­éŸ³">æ–‡å­—è½¬è¯­éŸ³</h3>
<ol type="1">
<li><a href="http://sinsy.jp/">Sinsy</a>: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸæ¥½è­œ(MusicXML)ã«åŸºã¥ã„ã¦ä»»æ„ã®æ­Œå£°ã‚’ç”Ÿæˆã™ã‚‹HMM/DNNæ­Œå£°åˆæˆã‚·ã‚¹ãƒ†ãƒ ï¼ŒSinsyï¼ˆã—ãƒã‚“ã—ãƒï¼‰ã§ã™ï¼
<ul>
<li>æ”¯æŒæ—¥è¯­ã€ä¸­æ–‡ã€è‹±è¯­ã€‚</li>
<li>è¾“å…¥ç‰¹å®šæ ¼å¼çš„ä¹è°±ï¼Œè¾“å‡ºç›¸å½“ä¸é”™çš„å”±è¯éŸ³é¢‘æ–‡ä»¶ã€‚</li>
<li><a href="https://pypi.org/project/sinsy-cli/">sinsy-cli</a>: ä½¿ç”¨å‘½ä»¤è¡Œè°ƒç”¨Sinsyè¿›è¡Œåˆæˆã€‚å®‰è£…ï¼š<code>pip install sinsy-cli</code></li>
<li>ä»‹ç»åšå®¢ï¼š<a href="http://blog.pcedev.com/2016/02/18/hands-sinsy-solution-song-vocal-synthesis-using-open-source-software/">Hands on Sinsy, a free software solution for song vocal synthesis</a></li>
</ul></li>
<li><a href="https://www.animenewsnetwork.com/interest/2013-10-22/vocaloducer-automatically-creates-songs-from-lyrics">Vocaloducer</a>ã€‚</li>
</ol>
<h3 id="åŠ¨æ¼«äººè„¸æ£€æµ‹åˆ‡å‰²">åŠ¨æ¼«äººè„¸æ£€æµ‹åˆ‡å‰²</h3>
<ol type="1">
<li><a href="https://github.com/nagadomi/lbpcascade_animeface">è‡ªåŠ¨åŒ–åŠ¨æ¼«äººç‰©è„¸éƒ¨åˆ‡å‰²ä¿å­˜</a> <img src="/2020/07/06/acg-dl/43184241-ed3f1af8-9022-11e8-8800-468b002c73d9.png" alt="result"></li>
</ol>
<h3 id="å¤´åƒç”Ÿæˆ">å¤´åƒç”Ÿæˆ</h3>
<ol type="1">
<li><a href="https://make.girls.moe/">è¾“å…¥å„ç§å‚æ•°ç”ŸæˆåŠ¨æ¼«äººç‰©å¤´åƒ</a></li>
<li><a href="https://github.com/Aixile/chainer-cyclegan">Chainer-CycleGAN åŠ¨æ¼«äººç‰©å¤´å‘è½¬é“¶è‰²</a></li>
</ol>
<h3 id="å›¾åƒè¶…åˆ†è¾¨ç‡">å›¾åƒè¶…åˆ†è¾¨ç‡</h3>
<ol type="1">
<li><a href="http://waifu2x.udp.jp">Waifu2x åŠ¨æ¼«å›¾ç‰‡æ— æŸæ”¾å¤§</a></li>
</ol>
<h3 id="è‡ªåŠ¨çº¿ç¨¿ä¸Šè‰²-1">è‡ªåŠ¨çº¿ç¨¿ä¸Šè‰²</h3>
<ol type="1">
<li><p><a href="https://github.com/pfnet/PaintsChainer">PaintsChainer</a>: Paints Chainer is a line drawing colorizer using chainer. Using CNN, you can colorize your sketch semi-automatically .</p>
<ul>
<li>ä½œè€…æä¾›äº†ç›´æ¥æ­å»ºç½‘ç«™server çš„ä»£ç ã€‚</li>
<li>è¿™é‡Œæ˜¯æ­å»ºå¥½çš„<a href="http://paintschainer.preferred.tech/">ç«™ç‚¹</a>ã€‚</li>
<li>è¯¥ç½‘ç«™ä¹Ÿæä¾›è‰å›¾æˆ–ç…§ç‰‡æå–çº¿ç¨¿åŠŸèƒ½ã€‚</li>
</ul>
<figure>
<img src="/2020/07/06/acg-dl/sample.png" alt="image"><figcaption aria-hidden="true">image</figcaption>
</figure></li>
</ol>
<h3 id="ç…§ç‰‡ç”»é£è¿ç§»">ç…§ç‰‡ç”»é£è¿ç§»</h3>
<ol type="1">
<li><p><a href="https://deepart.io/">Repaint your picture in the style of your favorite artist</a></p>
<figure>
<img src="/2020/07/06/acg-dl/image-20200705105719731.png" alt="image-20200705105719731"><figcaption aria-hidden="true">image-20200705105719731</figcaption>
</figure></li>
</ol>
]]></content>
      <tags>
        <tag>deep-learning</tag>
        <tag>paper</tag>
        <tag>anime</tag>
        <tag>acg</tag>
      </tags>
  </entry>
  <entry>
    <title>Cascade, Recursive, Residual and Dense è¾¨æ</title>
    <url>/2020/08/05/cascade-recursive/</url>
    <content><![CDATA[<h2 id="cascade">Cascade</h2>
<p>ç›¸å½“äºProgressive Optimizationï¼Œæ¯ä¸ªé˜¶æ®µéƒ½ä¼šè¾“å‡ºä¸€ä¸ªå’Œæœ€ç»ˆç»“æœå½¢çŠ¶ç›¸åŒçš„Matrixï¼Œå¦‚ç›®æ ‡åˆ†å¸ƒçš„å›¾åƒã€BBoxç­‰ï¼Œç„¶åä¸‹ä¸€ä¸ªblockçš„ä½œç”¨åˆ™æ˜¯è¾“å…¥è¿™ä¸ªMatrixå’Œå‰é¢æå–çš„Featuresï¼Œè¾“å‡ºRefinedåçš„Matrixï¼Œè¯¥æ­¥éª¤ä¸æ–­é‡å¤ã€‚æ ¸å¿ƒæ˜¯é€æ­¥ä¼˜åŒ–ã€‚</p>
<span id="more"></span>
<h2 id="recursive">Recursive</h2>
<p>ç›¸å½“äºæŠŠä¸€å—Conv blocké‡å¤äº†å¥½å¤šæ¬¡ï¼Œæ¯æ¬¡çš„æƒé‡æ˜¯å…±äº«çš„ã€‚æ ¸å¿ƒä½œç”¨æ˜¯èŠ‚çœå†…å­˜å’Œå‚æ•°é‡ã€èŠ‚çœè¿ç®—æ—¶é—´ã€‚åŒæ—¶å®ƒä¹Ÿå«æœ‰æ—¶åŸŸç‰¹å¾ã€‚</p>
<h2 id="residual">Residual</h2>
<p>ä¿ç•™ä¸€æ¡â€œä¿¡æ¯é«˜é€Ÿå…¬è·¯â€ï¼Œä½¿å¾—å‰ä¸€è½®çš„è¾“å‡ºå¯ä»¥ç›´æ¥ç‚¹åŠ åˆ°ç»è¿‡äº†æ–°ä¸€è½®çš„Blockå·ç§¯è¿‡åçš„ç»“æœä¸Šã€‚æ ¸å¿ƒä½œç”¨æ˜¯è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼ŒåŒæ—¶åœ¨ç½‘ç»œçš„å„å±‚ä¿ç•™äº†ä¸åŒå±‚çº§çš„ä¿¡æ¯ã€‚å˜å½¢æœ‰å¦‚Residual in Residualã€‚</p>
<figure>
<img src="/2020/08/05/cascade-recursive/v2-862e1c2dcb24f10d264544190ad38142_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<blockquote>
<p>ResNetç½‘ç»œçš„çŸ­è·¯è¿æ¥æœºåˆ¶ï¼ˆå…¶ä¸­+ä»£è¡¨çš„æ˜¯å…ƒç´ çº§ç›¸åŠ æ“ä½œï¼‰</p>
</blockquote>
<h2 id="dense">Dense</h2>
<p>æ¯ä¸ªConv Blockçš„è¾“å‡ºä¼šåœ¨Channelç»´ä¸Šå’Œåé¢æ‰€æœ‰Conv Blockçš„è¾“å‡ºConcateåˆ°ä¸€èµ·ã€‚æ³¨æ„å’ŒResidualç»“æ„çš„åŒºåˆ«ï¼Œå‰è€…æ˜¯ç›´æ¥é€ç‚¹ç›¸åŠ ï¼Œè€ŒDenseåˆ™æ˜¯å¹¶åˆ°Channelç»´åº¦ä¸Šã€‚</p>
<figure>
<img src="/2020/08/05/cascade-recursive/v2-2cb01c1c9a217e56c72f4c24096fe3fe_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<blockquote>
<p>DenseNetç½‘ç»œçš„å¯†é›†è¿æ¥æœºåˆ¶ï¼ˆå…¶ä¸­cä»£è¡¨çš„æ˜¯channelçº§è¿æ¥æ“ä½œï¼‰</p>
</blockquote>
<figure>
<img src="/2020/08/05/cascade-recursive/v2-0a9db078f505b469973974aee9c27605_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<blockquote>
<p>DenseNetçš„å‰å‘è¿‡ç¨‹</p>
</blockquote>
<figure>
<img src="/2020/08/05/cascade-recursive/v2-c81da515c8fa9796601fde82e4d36f61_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<blockquote>
<p>åŸå›¾</p>
</blockquote>
]]></content>
      <tags>
        <tag>deep-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>Git Submodule æ”»ç•¥</title>
    <url>/2020/10/22/git-sub-module/</url>
    <content><![CDATA[<h2 id="tldr">TL;DR</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Add submodule</span></span><br><span class="line">git submodule add</span><br><span class="line"></span><br><span class="line"><span class="comment"># Clone a project with submodules</span></span><br><span class="line">git <span class="built_in">clone</span> --recursive</span><br><span class="line"></span><br><span class="line"><span class="comment"># Update when submodeule remote repo changed</span></span><br><span class="line">git submodule update --remote</span><br><span class="line"></span><br><span class="line"><span class="comment"># When cloned without recursive</span></span><br><span class="line">git submodule init</span><br><span class="line">git submodule update</span><br><span class="line"></span><br><span class="line"><span class="comment"># Push submodule change to its remote origin master</span></span><br><span class="line"><span class="built_in">cd</span> &lt;submodule_name&gt;</span><br><span class="line">git add -A .</span><br><span class="line">git commit -m <span class="string">&quot;xxx&quot;</span></span><br><span class="line">git checkout &lt;detached branch name/number&gt;</span><br><span class="line">git merge master</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h2 id="å®šä¹‰">å®šä¹‰</h2>
<p><code>git submodule</code>å…è®¸ç”¨æˆ·å°†ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå¦ä¸€ä¸ª Git ä»“åº“çš„å­ç›®å½•ã€‚ å®ƒèƒ½è®©ä½ å°†å¦ä¸€ä¸ªä»“åº“å…‹éš†åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼ŒåŒæ—¶è¿˜ä¿æŒæäº¤çš„ç‹¬ç«‹æ€§ã€‚</p>
<h2 id="ä½œç”¨">ä½œç”¨</h2>
<p>åœ¨æˆ‘è¿™é‡Œï¼Œå®ƒçš„ä½œç”¨éå¸¸æ˜ç¡®ï¼Œå³ç»™åœ¨å„ä¸ªé¡¹ç›®ä¸­éƒ½ä¼šç”¨åˆ°çš„ä»£ç æ®µä¸€ä¸ªå…¬å…±æ –æ¯åœ°ï¼Œåšåˆ°â€œä¸€å¤„æ”¹ï¼Œå¤„å¤„æ”¹â€ã€‚</p>
<h2 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</h2>
<h3 id="æ·»åŠ ">æ·»åŠ </h3>
<p><code>git submodule add</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç›´æ¥cloneï¼Œä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ªsomeSubmoduleç›®å½•å­˜æ”¾ä»“åº“å†…å®¹</span></span><br><span class="line">git submodule add https://github.com/miracleyoo/someSubmodule</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šæ–‡ä»¶ç›®å½•</span></span><br><span class="line">git submodule add https://github.com/miracleyoo/someSubmodule  src/submodulePath</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ å®Œä¹‹åï¼Œå­æ¨¡å—ç›®å½•è¿˜æ˜¯ç©ºçš„ï¼ˆä¼¼ä¹æ–°ç‰ˆä¸ä¼šäº†ï¼‰ï¼Œæ­¤æ—¶éœ€è¦æ‰§è¡Œï¼š</p>
<p><code>git submodule update --init --recursive</code></p>
<p>æ¥çœŸæ­£å°†å­æ¨¡å—ä¸­çš„å†…å®¹cloneä¸‹æ¥ã€‚åŒæ—¶ï¼Œå¦‚æœä½ çš„ä¸»ç›®å½•åœ¨å…¶ä»–æœºå™¨ä¹Ÿæœ‰äº†ä¸€ä»½cloneï¼Œå®ƒä»¬ä¹Ÿéœ€è¦æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤æ¥æŠŠè¿œç«¯å…³äºå­æ¨¡å—çš„æ›´æ”¹å®é™…åº”ç”¨ã€‚</p>
<h3 id="cloneæ—¶å­æ¨¡å—åˆå§‹åŒ–">Cloneæ—¶å­æ¨¡å—åˆå§‹åŒ–</h3>
<p><code>clone</code>çˆ¶ä»“åº“çš„æ—¶å€™åŠ ä¸Š<code>--recursive</code>ï¼Œä¼šè‡ªåŠ¨åˆå§‹åŒ–å¹¶æ›´æ–°ä»“åº“ä¸­çš„æ¯ä¸€ä¸ªå­æ¨¡å—</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recursive</span><br></pre></td></tr></table></figure>
<p>æˆ–ï¼š</p>
<p>å¦‚æœå·²ç»æ­£å¸¸çš„<code>clone</code>äº†ï¼Œé‚£ä¹Ÿå¯ä»¥åšä»¥ä¸‹è¡¥æ•‘ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git submodule init</span><br><span class="line">git submodule update</span><br></pre></td></tr></table></figure>
<p>æ­£å¸¸<code>clone</code>åŒ…å«å­æ¨¡å—çš„å‡½æ•°ä¹‹åï¼Œç”±äº.submoduleæ–‡ä»¶çš„å­˜åœ¨<code>someSubmodule</code>å·²ç»è‡ªåŠ¨ç”Ÿæˆï¼Œä½†æ˜¯é‡Œé¢æ˜¯ç©ºçš„ã€‚ä¸Šé¢çš„ä¸¤æ¡å‘½ä»¤åˆ†åˆ«ï¼š</p>
<ol type="1">
<li>åˆå§‹åŒ–çš„æœ¬åœ°é…ç½®æ–‡ä»¶</li>
<li>ä»è¯¥é¡¹ç›®ä¸­æŠ“å–æ‰€æœ‰æ•°æ®å¹¶æ£€å‡ºåˆ°ä¸»é¡¹ç›®ä¸­ã€‚</li>
</ol>
<h3 id="æ›´æ–°">æ›´æ–°</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git submodule update --remote</span><br></pre></td></tr></table></figure>
<p>Git å°†ä¼šè¿›å…¥æ‰€æœ‰å­æ¨¡å—ï¼Œåˆ†åˆ«æŠ“å–å¹¶æ›´æ–°ï¼Œé»˜è®¤æ›´æ–°masteråˆ†æ”¯ã€‚</p>
<p>ä¸å¸¦<code>--remote</code>çš„<code>update</code>åªä¼šåœ¨æœ¬åœ°æ²¡æœ‰å­æ¨¡å—æˆ–å®ƒæ˜¯ç©ºçš„çš„æ—¶å€™æ‰ä¼šæœ‰æ•ˆæœã€‚</p>
<h3 id="æ¨é€å­æ¨¡å—ä¿®æ”¹">æ¨é€å­æ¨¡å—ä¿®æ”¹</h3>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œå°±æ˜¯ä¸»repoä¸­çš„å­æ¨¡å—è¢«æ‹‰åˆ°æœ¬åœ°æ—¶é»˜è®¤æ˜¯ä¸€ä¸ªå­æ¨¡å—è¿œç¨‹ä»“åº“masteråˆ†æ”¯çš„<code>detached branch</code>ã€‚è¿™ä¸ªåˆ†æ”¯æ˜¯masterçš„æ‹·è´ï¼Œä½†å®ƒä¸ä¼šè¢«æ¨é€åˆ°è¿œç«¯ã€‚å¦‚æœåœ¨å­æ¨¡å—ä¸­åšäº†ä¿®æ”¹ï¼Œå¹¶ä¸”å·²ç»<code>add</code>ï¼Œ<code>commit</code>ï¼Œé‚£ä½ ä¼šå‘ç°å½“ä½ æƒ³è¦<code>push</code>çš„æ—¶å€™ä¼šæŠ¥é”™ï¼š<code>Updates were rejected because a pushed branch tip is behind its remote</code>ã€‚è¿™ä¾¿æ˜¯æ‰€è°“çš„<code>detached branch</code>çš„æœ€ç›´æ¥çš„ä½“ç°ã€‚</p>
<p>è§£å†³æ–¹æ³•æ˜¯ï¼šåœ¨å­æ¨¡å—ä¸­å…ˆ<code>git checkout master</code>ï¼Œç„¶ååœ¨<code>git merge &lt;detached branch name/number&gt;</code>ï¼Œæœ€å<code>git push -u origin master</code>å³å¯ã€‚</p>
<p>è¿™é‡Œè§£é‡Šä¸€ä¸‹<code>&lt;detached branch name/number&gt;</code>è¿™ä¸ªä¸œè¥¿å¯ä»¥ä½¿ç”¨<code>git branch</code>å‘½ä»¤æŸ¥çœ‹ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯<code>zsh</code>ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ›´ç®€å•äº†ï¼Œç›´æ¥åœ¨å‘½ä»¤æç¤ºç¬¦å¤„å°±å¯ä»¥æ‰¾åˆ°ã€‚</p>
<figure>
<img src="/2020/10/22/git-sub-module/image-20200704184550817.png" alt="image-20200704184550817"><figcaption aria-hidden="true">image-20200704184550817</figcaption>
</figure>
<figure>
<img src="/2020/10/22/git-sub-module/image-20200704184656815.png" alt="image-20200704184656815"><figcaption aria-hidden="true">image-20200704184656815</figcaption>
</figure>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ol type="1">
<li><p><a href="https://juejin.im/post/5d5ca6e06fb9a06b1a568e32">æ¥è¯´è¯´å‘çˆ¹çš„ git submodule</a></p></li>
<li><p><a href="https://juejin.im/post/5ca47a84e51d4565372e46e0">Git submoduleä½¿ç”¨æŒ‡å—ï¼ˆä¸€ï¼‰</a></p></li>
<li><p><a href="https://github.blog/author/jaw6/">Working with submodules</a></p></li>
<li><p><a href="https://stackoverflow.com/questions/18770545/why-is-my-git-submodule-head-detached-from-master">Why is my Git Submodule HEAD detached from master?</a></p></li>
</ol>
]]></content>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>æ—¥ç³»ç»˜ç”»æ„å›¾</title>
    <url>/2020/09/12/illustration-composition/</url>
    <content><![CDATA[<p><strong>æ„å›¾æ³•+å‡ºé•œæ¯”ä¾‹+äººç‰©åŠ¨æ€=å¥½çš„æ„å›¾</strong></p>
<h2 id="å¸¸è§å•äººæ„å›¾">å¸¸è§å•äººæ„å›¾</h2>
<h3 id="å¯¹ç§°æ„å›¾">å¯¹ç§°æ„å›¾</h3>
<p>ä¸»è¦åŒ…å«ï¼šå·¦å³å¯¹ç§°ï¼Œå¯¹è§’çº¿å¯¹ç§°</p>
<p>ç›¸å¯¹æ¯”è¾ƒä¸­è§„ä¸­çŸ©ï¼Œä½†æ˜¯åŒæ ·çš„ï¼Œé™åˆ¶ä¼šæ¯”è¾ƒå¤§ï¼Œä¹Ÿéœ€è¦æ›´å¤šç»†èŠ‚ä¸Šçš„<strong>ä¸å¯¹ç§°</strong>æ¥ä¸­å’Œæ„å›¾ä¸Šçš„å¯¹ç§°ã€‚è¿™äº›ä¸å¯¹ç§°å…ƒç´ å¾€å¾€æ¥è‡ªäºï¼šäººç‰©åŠ¨æ€ã€é“å…·ã€èƒŒæ™¯å…ƒç´ ã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912154217731.png" alt="image-20200912154217731" style="zoom:50%;"></p>
<span id="more"></span>
<h3 id="ä¹å®«æ ¼æ„å›¾">ä¹å®«æ ¼æ„å›¾</h3>
<p>å°†é‡è¦çš„ç‚¹ç½®äºä¹å®«æ ¼çš„ç„¦ç‚¹ä¸Šï¼Œèµ·åˆ°å¼ºåŒ–å…³é”®è¦ç´ çš„ä½œç”¨ï¼Œå¦‚è„¸éƒ¨ã€å…³èŠ‚ç­‰ã€‚</p>
<figure>
<img src="/2020/09/12/illustration-composition/image-20200912153443124.png" alt="image-20200912153443124"><figcaption aria-hidden="true">image-20200912153443124</figcaption>
</figure>
<h3 id="é»„é‡‘æ¯”ä¾‹æ„å›¾">é»„é‡‘æ¯”ä¾‹æ„å›¾</h3>
<p>Bæ ¼è¾ƒé«˜ï¼Œäººç‰©çš„äººä½“æ›²çº¿å’Œé»„é‡‘åˆ†å‰²çº¿å¥‘åˆï¼Œèºæ—‹æ­£ä¸­å¤®ç¼©äºäººç‰©è„¸éƒ¨ã€‚è¯¥æ„å›¾è¾ƒä¸ºæœ‰ç‰¹è‰²ï¼Œæœ‰ç€ä¸å¯¹ç§°çš„ç¾æ„Ÿã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912153516507.png" alt="image-20200912153516507" style="zoom:50%;"></p>
<h3 id="å¥½ç”¨æŠ€å·§">å¥½ç”¨æŠ€å·§</h3>
<ol type="1">
<li><p>äººç‰©åŠ¨æ€å’Œé“å…·éƒ½å¯ä»¥è¢«ç”¨æ¥è¡¨è¾¾åŠ¨æ€ã€‚å¦‚æœäººä½“åŠ¨æ€æ¯”è¾ƒå¤æ‚çµåŠ¨ï¼Œè¡£ç‰©å¯ä»¥ç›¸å¯¹ç®€å•ç‚¹ï¼›è€Œå¦‚æœäººç‰©åŠ¨æ€æƒ³ç”»çš„ç®€å•ä¿å®ˆä¸€ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨é“å…·ï¼ˆé•¿è€Œé£˜é€¸çš„å¤´å‘ã€å¤§è€ŒèˆåŠ¨çš„è£™æ‘†ã€é•¿é•¿çš„å¸ƒæ–™...ï¼‰</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912172118092.png" alt="image-20200912172118092" style="zoom:50%;"></p></li>
<li><p>åˆ©ç”¨äººç‰©åŠ¨ä½œå¸¦æ¥åŠ¨æ€æ„Ÿï¼ˆé£ï¼‰-&gt; å¤´å‘å’Œè£™æ‘†éšé£é£˜åŠ¨ï¼Œäººç‰©è·³èµ·æ¥æˆ–æµ®äºç©ºä¸­ã€‚è¿™æ ·å¯ä»¥è®©ç”»é¢çœ‹èµ·æ¥æ›´æœ‰æ´»åŠ›å’Œç”Ÿå‘½åŠ›ã€‚</p></li>
</ol>
<p><img src="/2020/09/12/illustration-composition/image-20200912172201727.png" alt="image-20200912172201727" style="zoom:50%;"></p>
<ol type="1">
<li></li>
</ol>
<h2 id="å‡ºé•œæ¯”ä¾‹">å‡ºé•œæ¯”ä¾‹</h2>
<p>ä¸€èˆ¬çš„äººç‰©åœ¨æ’ç”»ä¸­çš„å‡ºé•œæ¯”ä¾‹ä¸ºï¼š</p>
<ol type="1">
<li><p>è…°éƒ¨ä»¥ä¸Šï¼šåˆ»ç”»éƒ¨åˆ†æ›´å°‘ï¼Œä½†æ˜¯ç›¸å¯¹çš„ï¼Œå¯¹å¤´éƒ¨å’Œä¸Šèº«è¡£ç‰©çš„åˆ»ç”»å°±ä¼šè¦æ±‚æ›´é«˜ã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912153749506.png" alt="image-20200912153749506" style="zoom:50%;"></p></li>
<li><p>å¤§è…¿ä»¥ä¸Šï¼šå¯ä»¥åˆ»ç”»å‡ ä¹å…¨éƒ¨çš„äººç‰©åŠ¨æ€ã€‚</p>
<p>ç‰¹ç‚¹ï¼šæ–¹ä¾¿è¡¨ç°èº¯å¹²åŠ¨æ€ï¼Œæ–¹ä¾¿è¡¨è¾¾é€è§†ã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912153853701.png" alt="image-20200912153853701" style="zoom:50%;"></p></li>
<li><p>å…¨èº«ï¼šç”±äºäººä½“æ˜¯ä¸€ä¸ªç»†é•¿çš„ç‰©ä½“ï¼Œå¦‚æœè¦å±•ç°å…¨èº«å¹¶ä¸»è¦ç”±äººç‰©å¡«æ»¡ç”»é¢çš„è¯ï¼Œéœ€è¦ä½œå‡ºå¾ˆå¤§çš„åŠ¨ä½œï¼ˆå¼¯æ›²ï¼‰å’Œå¤§è§’åº¦çš„é€è§†ã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912153932298.png" alt="image-20200912153932298" style="zoom:50%;"></p></li>
</ol>
<p>ç«–ç‰ˆæ’å›¾ï¼ˆA4ï¼‰ä¸‰ç§æ¯”ä¾‹éƒ½å¾ˆå¤šï¼Œè€Œæ¨ªç‰ˆæ’å›¾ï¼ˆ1080pï¼‰åˆ™åå…¨èº«ã€‚</p>
<h2 id="å¸¸è§åŒäººæ„å›¾">å¸¸è§åŒäººæ„å›¾</h2>
<p>æ— è®ºä½¿ç”¨ä»€ä¹ˆæ„å›¾ï¼Œä¸¤ä¸ªäººä¹‹é—´ä¸€å®šæ˜¯æœ‰æŸç§è¾ƒä¸ºäº²è¿‘çš„å…³ç³»çš„ã€‚ç”±äºæœ‰ä¸æ­¢ä¸€ä¸ªäººï¼Œæ­¤æ—¶çš„äººç‰©åŠ¨æ€è‡ªç”±åº¦ä¼šç›¸å¯¹é™ä½ï¼Œè€Œå¯¹æ„å›¾æ³•çš„ä¾èµ–æ›´é«˜ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦æ›´åŠ çµæ´»å‡†ç¡®çš„é€è§†ã€‚ç›¸æ¯”å•äººï¼Œç”»é¢ä¼šæ›´åŠ ä¸°å¯Œï¼Œä¹Ÿä¼šä¾§é‡è¾¹çº¿äººç‰©ä¹‹é—´çš„è”ç³»ã€äº’åŠ¨ã€‚</p>
<h3 id="å¹³åˆ†å‹">å¹³åˆ†å‹</h3>
<p>åå®ç”¨å‹ã€‚</p>
<p>å¾€å¾€ä¼šæœ‰æŸç§å½¢å¼çš„è‚¢ä½“æ¥è§¦ï¼Œè¿™æ ·è®©å…¨å›¾æ˜¾å¾—æ›´åŠ è‡ªç„¶ã€‚å¦‚æœä¸¤ä¸ªäººç«™åœ¨ä¸€èµ·åˆæ²¡æœ‰ä»»ä½•äº’åŠ¨ï¼Œç”»é¢ä¼šæ¯”ä»·å¥‡æ€ªã€‚</p>
<p>å¦‚æœä¸¤ä¸ªäººçš„èº«é«˜ä½“å‹éƒ½è¿‘ä¼¼ï¼Œé‚£è‡ªç„¶æ˜¯æœ€å¥½ï¼›å¦‚æœèº«é«˜ä½“å‹æœ‰åˆ«ï¼Œé‚£ä¹ˆåˆ™éœ€è¦é€šè¿‡æŸäº›éƒ¨åˆ†ï¼ˆæ¢å‡ºçš„å¤´éƒ¨ï¼Œé£˜é€¸çš„å¤´å‘ã€çªå‡ºçš„è†ç›–ã€èƒŒåŒ…ç­‰é“å…·ï¼‰æ¥å¹³è¡¡ç”»é¢ã€‚</p>
<p>ç‰¹ç‚¹ï¼šç”»é¢æ˜“äºå¹³è¡¡ã€å®¹æ˜“ç†è§£å¥½ä¸Šæ‰‹ã€‚å¯¹åŠ¨æ€è¦æ±‚ä¸é«˜ã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912155936519.png" alt="image-20200912155936519" style="zoom:50%;"></p>
<p><img src="/2020/09/12/illustration-composition/image-20200912161613370.png" alt="image-20200912161613370" style="zoom:50%;"></p>
<h3 id="å…«å¦å‹">å…«å¦å‹</h3>
<p>åé™è°§ç¾å‹ï¼Œå¼ºè°ƒåŒäººå…³ç³»ã€‚</p>
<p>ç‰¹ç‚¹ï¼šä¸¤äººä¹‹é—´å¾€å¾€ä¼šæœ‰äº¤å‰å…³ç³»ã€‚æ„å›¾æœ‰ç‰¹å¾ï¼Œç”»é¢ä¸å®¹æ˜“å•è°ƒã€‚</p>
<p>è¦æ±‚ï¼šå¯¹äººç‰©åŠ¨æ€è¦æ±‚æ¯”è¾ƒé«˜ã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912161749570.png" alt="image-20200912161749570" style="zoom:50%;"></p>
<p><img src="/2020/09/12/illustration-composition/image-20200912161941253.png" alt="image-20200912161941253" style="zoom:50%;"></p>
<h3 id="ç©ºé—´æ„å›¾">ç©ºé—´æ„å›¾</h3>
<p>åæ°›å›´ã€‚</p>
<p>ç‰¹ç‚¹ï¼šä¸¤ä¸ªäººç‰©ç”±ä¸æ‘„åƒæœºé•œå¤´çš„è¿œè¿‘äº§ç”Ÿäº†è¿œè¿‘ã€å¤§å°çš„åŒºåˆ«ã€‚è®©ç”»é¢çš„ç©ºé—´æ„Ÿæ›´è¶³ï¼Œä»è€Œå¯¹åŠ¨æ€è¦æ±‚ä¸é«˜ã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912162117364.png" alt="image-20200912162117364" style="zoom:50%;"></p>
<h2 id="å¸¸è§å¤šäººæ„å›¾">å¸¸è§å¤šäººæ„å›¾</h2>
<p>æ™®é€šæ’ç”»ä¸­ä½¿ç”¨ç›¸å¯¹è¾ƒå°‘ï¼Œå¤šç”¨äºåŠ¨ç”»æµ·æŠ¥ã€æ¸¸æˆç™»å½•ç•Œé¢ã€‚</p>
<h3 id="æ²¡æœ‰ç»å¯¹ä¸»è§’çš„æ—¶å€™">æ²¡æœ‰ç»å¯¹ä¸»è§’çš„æ—¶å€™</h3>
<h4 id="å¹¶æ’æ„å›¾åŠå…¶å˜å½¢">å¹¶æ’æ„å›¾åŠå…¶å˜å½¢</h4>
<p>äººç‰©åŸºæœ¬åˆ†å¸ƒåœ¨åŒä¸€è·ç¦»ï¼Œå¤„äºåŒä¸€ç›´/æ›²çº¿ä¸Šã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ol type="1">
<li>æœ‰ç€æ˜æ˜¾èµ°åŠ¿ï¼ˆä¸ºäº†è®©ç”»é¢æœ‰åºï¼‰</li>
<li>é›†ä¸­</li>
</ol>
<figure>
<img src="/2020/09/12/illustration-composition/image-20200912162754564.png" alt="image-20200912162754564"><figcaption aria-hidden="true">image-20200912162754564</figcaption>
</figure>
<p><img src="/2020/09/12/illustration-composition/image-20200912162706717.png" alt="image-20200912162706717" style="zoom:80%;"></p>
<h3 id="æœ‰ç»å¯¹ä¸»è§’">æœ‰ç»å¯¹ä¸»è§’</h3>
<p>ä»¥ä¸»è§’ä¸ºä¸­å¿ƒæ‰©æ•£ã€‚</p>
<p><img src="/2020/09/12/illustration-composition/image-20200912163421619.png" alt="image-20200912163421619" style="zoom:50%;"></p>
]]></content>
      <tags>
        <tag>art</tag>
        <tag>painting</tag>
      </tags>
  </entry>
  <entry>
    <title>IoU, AP, mAPç­‰å¯¹æ¯”</title>
    <url>/2020/07/14/iou-ap-map/</url>
    <content><![CDATA[<h1 id="iou-ap-map-map0.5-map0.5-0.95-average-map">IoU, AP, mAP, mAP@0.5, mAP@[0.5: 0.95], Average mAP</h1>
<h2 id="tldr">TL;DR</h2>
<ol type="1">
<li>IoUï¼šä¸¤ä¸ªæ¡†æ¡†é‡å éƒ¨åˆ†é¢ç§¯/ä¸¤ä¸ªæ¡†æ¡†åˆå¹¶åçš„æ€»é¢ç§¯â€‹</li>
<li>APï¼šç»˜åˆ¶Recall-Precisionå›¾ï¼Œç»è¿‡å¹³æ»‘åæ›²çº¿çš„ä¸‹é¢å…¨é¢ç§¯ã€‚è¿™ä¸ªå›¾çš„ç»˜åˆ¶æ–¹æ³•æ˜¯ï¼šæŒ‰ç…§æ¯ä¸ªé¢„æµ‹ç»“æœçš„Confidenceä»ä¸Šå¾€ä¸‹æ’åˆ—ï¼Œå…ˆåªå–ä¸€ä¸ªç”»å‡ºå›¾ä¸Šå·¦ä¸Šè§’ç¬¬ä¸€ä¸ªç‚¹ï¼Œç„¶åæ˜¯åªå–å‰ä¸¤ä¸ªï¼Œç›´åˆ°å–å®Œã€‚</li>
<li>mAPï¼šAPæ˜¯é’ˆå¯¹æŸä¸€ä¸ªç±»çš„ï¼Œè€ŒmAPæ˜¯æŠŠå„ä¸ªç±»çš„APåšä¸€ä¸ªå¹³å‡ã€‚</li>
<li>mAP@0.5ï¼šå½“IoUé˜ˆå€¼ä¸º0.5æ—¶çš„mAPã€‚</li>
<li>mAP@[0.5:0.95]ï¼šCOCOè¦æ±‚IoUé˜ˆå€¼åœ¨[0.5, 0.95]åŒºé—´å†…æ¯éš”0.05å–ä¸€æ¬¡ï¼Œè¿™æ ·å°±å¯ä»¥è®¡ç®—å‡º10ä¸ªç±»ä¼¼äºPASCALçš„mAPï¼Œç„¶åè¿™10ä¸ªè¿˜è¦å†åšå¹³å‡ã€‚</li>
</ol>
<span id="more"></span>
<h2 id="æŸ¥å‡†ç‡precisionå’ŒæŸ¥å…¨ç‡recall"><strong>æŸ¥å‡†ç‡ï¼ˆPrecisionï¼‰å’ŒæŸ¥å…¨ç‡ï¼ˆrecallï¼‰</strong></h2>
<p>æŸ¥å‡†ç‡ï¼ˆPrecisionï¼‰æ˜¯æŒ‡åœ¨æ‰€æœ‰é¢„æµ‹ä¸ºæ­£ä¾‹ä¸­çœŸæ­£ä¾‹çš„æ¯”ç‡ï¼Œä¹Ÿå³é¢„æµ‹çš„å‡†ç¡®æ€§ã€‚</p>
<p>æŸ¥å…¨ç‡ï¼ˆRecallï¼‰æ˜¯æŒ‡åœ¨æ‰€æœ‰æ­£ä¾‹ä¸­è¢«æ­£ç¡®é¢„æµ‹çš„æ¯”ç‡ï¼Œä¹Ÿå³é¢„æµ‹æ­£ç¡®çš„è¦†ç›–ç‡ã€‚</p>
<p>ä¸€ä¸ªæ ·æœ¬æ¨¡å‹é¢„æµ‹æŒ‰æ­£ç¡®ä¸å¦åˆ†ç±»å¦‚ä¸‹ï¼š</p>
<p>çœŸæ­£ä¾‹ï¼š <span class="math inline">\(TP=True\space Positive\)</span></p>
<p>çœŸåä¾‹ï¼š <span class="math inline">\(TN=True\space Negative\)</span></p>
<p>å‡æ­£ä¾‹ï¼š<span class="math inline">\(FP=False\space Positive\)</span></p>
<p>å‡åä¾‹ï¼š<span class="math inline">\(FN=False\space Negative\)</span></p>
<p><strong>åˆ™ï¼ŒæŸ¥å‡†ç‡å’ŒæŸ¥å…¨ç‡è®¡ç®—å…¬å¼ï¼š</strong></p>
<p><strong>æŸ¥å‡†ç‡</strong>ï¼š<span class="math inline">\(Precision=\frac{TP}{TP+FP}\)</span></p>
<p><strong>æŸ¥å…¨ç‡</strong>ï¼š<span class="math inline">\(Recall=\frac{TP}{TP+FN}\)</span></p>
<h2 id="äº¤å¹¶æ¯”iouintersection-over-union"><strong>äº¤å¹¶æ¯”IoU(Intersection over union)</strong></h2>
<p>äº¤å¹¶æ¯”IoUè¡¡é‡çš„æ˜¯ä¸¤ä¸ªåŒºåŸŸçš„é‡å ç¨‹åº¦ï¼Œæ˜¯ä¸¤ä¸ªåŒºåŸŸé‡å éƒ¨åˆ†é¢ç§¯å äºŒè€…æ€»é¢ç§¯ï¼ˆé‡å éƒ¨åˆ†åªè®¡ç®—ä¸€æ¬¡ï¼‰çš„æ¯”ä¾‹ã€‚å¦‚ä¸‹å›¾ï¼Œä¸¤ä¸ªçŸ©å½¢æ¡†çš„IoUæ˜¯äº¤å‰é¢ç§¯ï¼ˆä¸­é—´å›¾ç‰‡çº¢è‰²éƒ¨åˆ†ï¼‰ä¸åˆå¹¶é¢ç§¯ï¼ˆå³å›¾çº¢è‰²éƒ¨åˆ†ï¼‰é¢ç§¯ä¹‹æ¯”ã€‚</p>
<p><img src="/2020/07/14/iou-ap-map/v2-11ed1bf4a882ee38f9ea1f73a2593472_1440w.jpg" alt="img">IoUè®¡ç®—é‡å åº¦</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯IoU=0.5ï¼Œå¹¶ä¸æ„å‘³ç€æ¯ä¸ªæ¡†åˆšå¥½æœ‰50%ä¸å¦å¤–ä¸€ä¸ªæ¡†äº¤å‰éƒ¨åˆ†ï¼Œè€Œæ˜¯æ¯ä¸ªæ¡†å¤§çº¦æœ‰2/3è¢«äº¤å‰ã€‚æœ‰ç‚¹åç›´è§‰ã€‚</p>
<p>æˆ‘å½“åˆçœ‹åˆ°IoUï¼Œéå¸¸ç–‘æƒ‘ä¸ºå•¥ä¸æŒ‰äº¤å‰é¢ç§¯å æ¯ä¸ªæ¡†çš„æ¯”ä¾‹ï¼ˆIoA ä¹Ÿå³Intersection over Areaï¼‰å–å¤§å€¼è®¡ç®—é‡å åº¦ï¼Œæ›´ç¬¦åˆç›´è§‰ã€‚å…¶å®è¿™ç§ç®—æ³•åªååº”å°å›¾ç‰‡çš„è¢«é®ç›–åº¦ï¼Œå¹¶ä¸èƒ½åæ˜ äº’ç›¸ä¹‹é—´çš„é‡å åº¦ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å¯å–ã€‚å¦‚ä¸‹å›¾ï¼Œæ©™è‰²éƒ¨åˆ†è¾ƒå°ï¼ŒIoAå¾ˆå¤§ï¼Œä½†å¯¹äºè“è‰²éƒ¨åˆ†ï¼ŒIoAå°±å¾ˆå°ï¼ŒåªæŒ‰æ©™è‰²å–IoAæ˜¾ç„¶æœ‰å¤±åé©³ã€‚</p>
<p><img src="/2020/07/14/iou-ap-map/v2-284022eaa7bbb8dd7b4f8488e0495fcd_1440w.jpg" alt="img">IoAè®¡ç®—é‡å åº¦</p>
<h2 id="å•ç±»åˆ«apaverage-precisionçš„è®¡ç®—"><strong>å•ç±»åˆ«AP(Average Precision)çš„è®¡ç®—</strong></h2>
<p>ç‰©ä½“æ£€æµ‹ä¸­çš„æ¯ä¸€ä¸ªé¢„æµ‹ç»“æœåŒ…å«ä¸¤éƒ¨åˆ†ï¼Œé¢„æµ‹æ¡†ï¼ˆbounding boxï¼‰å’Œç½®ä¿¡æ¦‚ç‡ï¼ˆPcï¼‰ã€‚bounding boxé€šå¸¸ä»¥çŸ©å½¢é¢„æµ‹æ¡†çš„å·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„åæ ‡è¡¨ç¤ºï¼Œå³x_min, y_min, x_max, y_maxï¼Œå¦‚ä¸‹å›¾ã€‚ç½®ä¿¡æ¦‚ç‡Pcæœ‰ä¸¤å±‚æ„æ€ï¼Œä¸€æ˜¯æ‰€é¢„æµ‹bounding boxçš„ç±»åˆ«ï¼ŒäºŒæ˜¯è¿™ä¸ªç±»åˆ«çš„ç½®ä¿¡æ¦‚ç‡ï¼Œå¦‚ä¸‹å›¾ä¸­çš„P_dog=0.88ï¼Œä»£è¡¨é¢„æµ‹ç»¿è‰²æ¡†ä¸ºdogï¼Œå¹¶ä¸”ç½®ä¿¡æ¦‚ç‡ä¸º88%ã€‚</p>
<figure>
<img src="/2020/07/14/iou-ap-map/v2-8e1e070d1a59043a349eb1f921ea1e1c_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>é‚£ä¹ˆï¼Œæ€ä¹ˆæ‰å«é¢„æµ‹æ­£ç¡®å‘¢ï¼Ÿæ˜¾è€Œæ˜“è§çš„ï¼Œå¿…é¡»æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<ol type="1">
<li>ç±»åˆ«æ­£ç¡®ä¸”ç½®ä¿¡åº¦å¤§äºä¸€å®šé˜€å€¼ï¼ˆP_thresholdï¼‰</li>
<li>é¢„æµ‹æ¡†ä¸çœŸå®æ¡†ï¼ˆground truthï¼‰çš„IoUå¤§äºä¸€å®šé˜€å€¼ï¼ˆIoU_thresholdï¼‰</li>
</ol>
<p>å¦‚ä¸‹å›¾ï¼Œå‡å¦‚P_threshold=0.6ï¼ŒIoU_threshold=0.5ï¼Œåˆ™ç»¿è‰²æ¡†é¢„æµ‹æ­£ç¡®ï¼Œè®°ä¸ºTrue Positiveã€‚</p>
<figure>
<img src="/2020/07/14/iou-ap-map/v2-fa34f541cee564e83435562297e768ab_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è€Œåœ¨è¡¡é‡æ¨¡å‹æ€§èƒ½æ—¶ï¼ŒIoU_thresholdå…ˆå–ä¸€ä¸ªå®šå€¼ï¼Œç„¶åç»¼åˆè€ƒè™‘å„ç§P_thresholdå–å€¼æ—¶çš„æ€§èƒ½ï¼Œè¿›è€Œå¾—åˆ°ä¸€ä¸ªä¸P_thresholdé€‰å®šæ— å…³çš„æ¨¡å‹æ€§èƒ½è¡¡é‡æ ‡å‡†ã€‚</p>
<p><strong>APæ˜¯è®¡ç®—å•ç±»åˆ«çš„æ¨¡å‹å¹³å‡å‡†ç¡®åº¦ã€‚</strong></p>
<p>å‡å¦‚ç›®æ ‡ç±»åˆ«ä¸ºDogï¼Œæœ‰5å¼ ç…§ç‰‡ï¼Œå…±åŒ…å«7åªDogï¼Œä¹Ÿå³GTï¼ˆGround Truthï¼‰æ•°é‡ä¸º7ï¼Œç»æ¨¡å‹é¢„æµ‹ï¼Œå¾—åˆ°äº†Dogçš„10ä¸ªé¢„æµ‹ç»“æœï¼Œé€‰å®šIoU_threshold=0.5ï¼Œç„¶åæŒ‰confidenceä»é«˜åˆ°ä½æ’åºï¼Œå¦‚ä¸‹å›¾ã€‚å…¶ä¸­ï¼ŒBBè¡¨ç¤ºBounding Boxåºå·ï¼ŒGT=1è¡¨ç¤ºæœ‰GTä¸æ‰€é¢„æµ‹çš„Bounding Boxçš„IoU&gt;=IoU_thresholdï¼ŒBounding Boxåºå·ç›¸åŒä»£è¡¨æ‰€å¯¹åº”çš„GTæ˜¯åŒä¸€ä¸ªã€‚</p>
<table>
<thead>
<tr class="header">
<th>Rank</th>
<th>BB</th>
<th>confidence</th>
<th>GT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>BB1</td>
<td>0.9</td>
<td>1</td>
</tr>
<tr class="even">
<td>2</td>
<td>BB2</td>
<td>0.8</td>
<td>1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>BB1</td>
<td>0.8</td>
<td>1</td>
</tr>
<tr class="even">
<td>4</td>
<td>BB3</td>
<td>0.5</td>
<td>0</td>
</tr>
<tr class="odd">
<td>5</td>
<td>BB4</td>
<td>0.4</td>
<td>0</td>
</tr>
<tr class="even">
<td>6</td>
<td>BB5</td>
<td>0.4</td>
<td>1</td>
</tr>
<tr class="odd">
<td>7</td>
<td>BB6</td>
<td>0.3</td>
<td>0</td>
</tr>
<tr class="even">
<td>8</td>
<td>BB7</td>
<td>0.2</td>
<td>0</td>
</tr>
<tr class="odd">
<td>9</td>
<td>BB8</td>
<td>0.1</td>
<td>1</td>
</tr>
<tr class="even">
<td>10</td>
<td>BB9</td>
<td>0.1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>å› æ­¤ï¼Œå¦‚æœè®¾ç½®P_threshold=0ï¼Œåˆ™æœ‰ TP=5 (BB1, BB2, BB5, BB8, BB9)ï¼ŒFP=5 (é‡å¤æ£€æµ‹åˆ°çš„BB1ä¹Ÿç®—FP)ã€‚é™¤äº†è¡¨é‡Œæ£€æµ‹åˆ°çš„5ä¸ªGTä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰2ä¸ªGTæ²¡è¢«æ£€æµ‹åˆ°ï¼Œå› æ­¤: FN = 2.</p>
<p>ç„¶åä¾æ¬¡ä»ä¸Šåˆ°ä¸‹è®¾å®šå¯¹åº”çš„rankä¸ºæ­£ååˆ†ç•Œçº¿ï¼Œæ­¤rankä¹‹å‰ï¼ˆåŒ…å«æ­¤rankï¼‰çš„é¢„æµ‹ä¸ºæ­£ï¼Œæ­¤rankä¹‹åçš„é¢„æµ‹ä¸ºåï¼Œç„¶åè®¡ç®—å¯¹åº”çš„Precisionå’ŒRecallï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">rank=1  precision=1.00 and recall=0.14</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=2  precision=1.00 and recall=0.29</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=3  precision=0.66 and recall=0.29</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=4  precision=0.50 and recall=0.29</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=5  precision=0.40 and recall=0.29</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=6  precision=0.50 and recall=0.43</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=7  precision=0.43 and recall=0.43</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=8  precision=0.38 and recall=0.43</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=9  precision=0.44 and recall=0.57</span><br><span class="line">--------------------------------------</span><br><span class="line">rank=10 precision=0.50 and recall=0.71</span><br><span class="line">--------------------------------------</span><br></pre></td></tr></table></figure>
<p>æ¯”å¦‚rank=4æ—¶ï¼ŒTP=2 (BB1, BB2)ï¼Œåˆ™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">Precision=2/4=0.5ï¼ŒRecall=TP/GT=2/7=0.29</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºï¼Œéšç€é¢„æµ‹æ­£ååˆ†å‰²çº¿çš„å‘ä¸‹ç§»åŠ¨ï¼ŒRecallç¨³æ­¥å˜å¤§ï¼ŒPrecisionæ•´ä½“å‡å°ï¼Œå±€éƒ¨ä¸Šä¸‹è·³åŠ¨ï¼ŒPRæ›²çº¿å¦‚ä¸‹å›¾ï¼š</p>
<figure>
<img src="/2020/07/14/iou-ap-map/v2-0a899369aeab8824dc3dd3e4fe572cd3_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>AP(Average Precision)çš„è®¡ç®—åŸºæœ¬ç­‰åŒäºè®¡ç®—PRæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œä½†ç•¥æœ‰ä¸åŒã€‚éœ€è¦å…ˆå°†PRæ›²çº¿å¹³æ»‘åŒ–ã€‚</p>
<p>æ–¹æ³•æ˜¯ï¼ŒæŸ¥å…¨ç‡rå¯¹åº”çš„æŸ¥å‡†ç‡pï¼Œå–æŸ¥å…¨ç‡å¤§äºç­‰äºræ—¶æœ€å¤§çš„æŸ¥å‡†ç‡pã€‚å³ï¼Œ <span class="math display">\[
tex=p(r)=\max_{\tilde{r}\geq r}{p(\tilde{r})}
\]</span> å¹³æ»‘åçš„æ›²çº¿å¦‚ä¸‹å›¾ä¸­çš„ç»¿è‰²æ›²çº¿ï¼š</p>
<figure>
<img src="/2020/07/14/iou-ap-map/v2-666e46a022e32981aeb07b85958803cc_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¯¹äºAP(Average Precision)çš„è®¡ç®—æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<p><strong>1. VOC2010ä¹‹å‰çš„æ–¹æ³•</strong></p>
<p>AP =ï¼ˆå¹³æ»‘åPRæ›²çº¿ä¸Šï¼ŒRecallåˆ†åˆ«ç­‰äº0ï¼Œ0.1ï¼Œ0.2ï¼Œâ€¦ , 1.0ç­‰11å¤„Precisionçš„å¹³å‡å€¼ï¼‰ã€‚ <span class="math display">\[
AP=\frac{1}{11}\sum_{r\subseteq\left\{0,0.1,..,1.0\right\}}{p\left(r\right)}
\]</span></p>
<p>è¿™é‡Œåˆ™æœ‰ï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">AP = (1 + 1 + 1 + 0.5 + 0.5 + 0.5 + 0.5 + 0.5 + 0 + 0 + 0) / 11 = 0.5</span><br></pre></td></tr></table></figure>
<p><strong>2. VOC2010åŠä»¥åçš„æ–¹æ³•</strong></p>
<p>AP=å¹³æ»‘åPRæ›²çº¿ä¸‹åŒ…å›´çš„é¢ç§¯</p>
<p>è¿™é‡Œåˆ™æœ‰ï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">AP = (0.14-0) * 1 + (0.29-0.14) * 1 + (0.43-0.29) * 0.5 + (0.57-0.43) * 0.5 + (0.71-0.57) * 0.5 + (1-0.71) * 0 = 0.5</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸¤ç§æ–¹æ¡ˆå¾—å‡ºçš„APå€¼ç›¸åŒï¼Œä½†é€šå¸¸æ˜¯ä¸åŒçš„ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸Šè¿°APçš„è®¡ç®—å¹¶æ²¡æœ‰æ˜¾å¼è®¾å®š<code>P_threshold</code>ï¼Œè€Œæ˜¯é€šè¿‡ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æŒ‡å®šæ¯ä¸€ä¸ªrankä¸ºæ­£ååˆ†ç•Œçº¿æ¥å˜ç›¸çš„åæ˜ <code>P_threshold</code>ä¸åŒå–å€¼ã€‚</p>
<h2 id="mapçš„è®¡ç®—"><strong>mAPçš„è®¡ç®—</strong></h2>
<p>ä¸Šè¿°è®¡ç®—çš„APåªæ˜¯é’ˆå¯¹dogè¿™ä¸ªç±»åˆ«ï¼Œç‰©ä½“æ£€æµ‹é€šå¸¸æœ‰å¤šä¸ªç±»åˆ«ï¼Œæ¨¡å‹æ€§èƒ½è‚¯å®šæ˜¯å¤šä¸ªç±»åˆ«å‡†åº¦çš„ç»¼åˆåº¦é‡ã€‚</p>
<p><strong>1. VOCæ•°æ®é›†ä¸­çš„mAP</strong></p>
<p>VOCæ•°æ®é›†ä¸­çš„mAPè®¡ç®—çš„æ˜¯<code>IoU_threshold=0.5</code>æ—¶å„ä¸ªç±»åˆ«APçš„å‡å€¼ã€‚</p>
<p><strong>2. COCOæ•°æ®é›†ä¸­çš„mAP</strong></p>
<p>æ£€æµ‹æ˜¯å¦æ­£ç¡®æœ‰ä¸¤ä¸ªè¶…å‚æ•°ï¼Œ<code>P_threshold</code>å’Œ<code>IoU_threshold</code>ã€‚APæ˜¯å›ºå®šäº†<code>IoU_threshold</code>ï¼Œå†ç»¼åˆè€ƒè™‘å„ä¸ª<code>P_threshold</code>ä¸‹çš„æ¨¡å‹å¹³å‡å‡†ç¡®åº¦ã€‚</p>
<p>VOCè®¤ä¸º<code>IoU_threshold</code>å›ºå®šä¸€ä¸ªå•å€¼0.5å³å¯ï¼ŒCOCOåˆ™è®¤ä¸ºå›ºå®šäº†<code>IoU_threshold</code>çš„å–å€¼ï¼Œæ— æ³•è¡¡é‡<code>IoU_threshold</code>å¯¹æ¨¡å‹æ€§èƒ½çš„å½±å“ã€‚</p>
<p>æ¯”å¦‚ï¼Œ</p>
<p>Aæ¨¡å‹åœ¨<code>IoU_threshold=0.5</code>æ—¶ï¼Œ<code>mAP=0.4</code>ã€‚</p>
<p>Bæ¨¡å‹åœ¨<code>IoU_threshold=0.7</code>æ—¶ï¼Œ<code>mAP</code>åŒæ ·ä¸º0.4ã€‚</p>
<p>ä¾æ®VOCçš„æ ‡å‡†ï¼ŒABæ¨¡å‹çš„æ€§èƒ½ä¸€æ ·ï¼Œä½†æ˜¾ç„¶Bæ¨¡å‹çš„æ¡†æ›´å‡†ï¼Œæ€§èƒ½æ›´ä¼˜ã€‚</p>
<p>COCOåœ¨VOCæ ‡å‡†çš„åŸºç¡€ä¸Šï¼Œå–<code>IoU_threshold=0.5ï¼Œ0.55ï¼Œ 0.6ï¼Œâ€¦ , 0.95</code>æ—¶å„ä¸ªmAPçš„å‡å€¼ã€‚</p>
<h2 id="reference">Reference</h2>
<ol type="1">
<li><a href="https://arleyzhang.github.io/articles/c521a01c/">ç›®æ ‡æ£€æµ‹è¯„ä»·æ ‡å‡†-AP mAP</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_9db078090102whzw.html">å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»ä»»åŠ¡çš„è¯„ä»·æ–¹æ³•-mAP</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/56961620">è¯¦è§£object detectionä¸­çš„mAP</a></li>
<li><a href="https://blog.csdn.net/luke_sanjayzzzhong/article/details/89851944">å¯¹äºç›®æ ‡æ£€æµ‹ä¸­mAP@0.5çš„ç†è§£</a></li>
<li><a href="https://datascience.stackexchange.com/questions/16797/what-does-the-notation-map-5-95-mean">What does the notation mAP@[.5:.95] mean?</a></li>
</ol>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
      </tags>
  </entry>
  <entry>
    <title>Matplotlib and its Legend</title>
    <url>/2020/03/12/matplotlib-legend/</url>
    <content><![CDATA[<p><strong>This blog comes from an answer from <a href="https://stackoverflow.com/questions/4700614/how-to-put-the-legend-out-of-the-plot">How to put the legend out of the plot</a>. Reprint it here for note. Original author keeps all the right.</strong></p>
<h2 id="placing-the-legend-bbox_to_anchor">Placing the legend (<code>bbox_to_anchor</code>)</h2>
<p>A legend is positioned inside the bounding box of the axes using the <code>loc</code> argument to <a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.legend"><code>plt.legend</code></a>. E.g. <code>loc="upper right"</code> places the legend in the upper right corner of the bounding box, which by default extents from <code>(0,0)</code> to <code>(1,1)</code> in axes coordinates (or in bounding box notation <code>(x0,y0, width, height)=(0,0,1,1)</code>).</p>
<span id="more"></span>
<p>To place the legend outside of the axes bounding box, one may specify a tuple <code>(x0,y0)</code> of axes coordinates of the lower left corner of the legend.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.legend(loc=(<span class="number">1.04</span>,<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<p>However, a more versatile approach would be to manually specify the bounding box into which the legend should be placed, using the <strong><code>bbox_to_anchor</code></strong> argument. One can restrict oneself to supply only the <code>(x0,y0)</code> part of the bbox. This creates a zero span box, out of which the legend will expand in the direction given by the <code>loc</code> argument. E.g.</p>
<p><strong>plt.legend(bbox_to_anchor=(1.04,1), loc="upper left")</strong></p>
<p>places the legend outside the axes, such that the upper left corner of the legend is at position <code>(1.04,1)</code> in axes coordinates.</p>
<p>Further examples are given below, where additionally the interplay between different arguments like <code>mode</code> and <code>ncols</code> are shown.</p>
<p><a href="https://i.stack.imgur.com/OIMyM.png"><img src="/2020/03/12/matplotlib-legend/OIMyM.png" alt="enter image description here"></a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">l1 = plt.legend(bbox_to_anchor=(<span class="number">1.04</span>,<span class="number">1</span>), borderaxespad=<span class="number">0</span>)</span><br><span class="line">l2 = plt.legend(bbox_to_anchor=(<span class="number">1.04</span>,<span class="number">0</span>), loc=<span class="string">&quot;lower left&quot;</span>, borderaxespad=<span class="number">0</span>)</span><br><span class="line">l3 = plt.legend(bbox_to_anchor=(<span class="number">1.04</span>,<span class="number">0.5</span>), loc=<span class="string">&quot;center left&quot;</span>, borderaxespad=<span class="number">0</span>)</span><br><span class="line">l4 = plt.legend(bbox_to_anchor=(<span class="number">0</span>,<span class="number">1.02</span>,<span class="number">1</span>,<span class="number">0.2</span>), loc=<span class="string">&quot;lower left&quot;</span>,</span><br><span class="line">                mode=<span class="string">&quot;expand&quot;</span>, borderaxespad=<span class="number">0</span>, ncol=<span class="number">3</span>)</span><br><span class="line">l5 = plt.legend(bbox_to_anchor=(<span class="number">1</span>,<span class="number">0</span>), loc=<span class="string">&quot;lower right&quot;</span>, </span><br><span class="line">                bbox_transform=fig.transFigure, ncol=<span class="number">3</span>)</span><br><span class="line">l6 = plt.legend(bbox_to_anchor=(<span class="number">0.4</span>,<span class="number">0.8</span>), loc=<span class="string">&quot;upper right&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Details about how to interpret the 4-tuple argument to <code>bbox_to_anchor</code>, as in <code>l4</code>, can be found in <a href="https://stackoverflow.com/questions/39803385/what-does-a-4-element-tuple-argument-for-bbox-to-anchor-mean-in-matplotlib">this question</a>. The <code>mode="expand"</code> expands the legend horizontally inside the bounding box given by the 4-tuple. For a vertically expanded legend, see <a href="https://stackoverflow.com/questions/46710546/matplotlib-expand-legend-vertically">this question</a>.</p>
<p>Sometimes it may be useful to specify the bounding box in figure coordinates instead of axes coordinates. This is shown in the example <code>l5</code> from above, where the <code>bbox_transform</code> argument is used to put the legend in the lower left corner of the figure.</p>
<h3 id="postprocessing">Postprocessing</h3>
<p>Having placed the legend outside the axes often leads to the undesired situation that it is completely or partially outside the figure canvas.</p>
<p>Solutions to this problem are:</p>
<ul>
<li><p><strong>Adjust the subplot parameters</strong> One can adjust the subplot parameters such, that the axes take less space inside the figure (and thereby leave more space to the legend) by using <a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.subplots_adjust"><code>plt.subplots_adjust</code></a>. E.g.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.subplots_adjust(right=<span class="number">0.7</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<p>leaves 30% space on the right-hand side of the figure, where one could place the legend.</p>
<ul>
<li><p><strong>Tight layout</strong> Using <a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.tight_layout"><code>plt.tight_layout</code></a> Allows to automatically adjust the subplot parameters such that the elements in the figure sit tight against the figure edges. Unfortunately, the legend is not taken into account in this automatism, but we can supply a rectangle box that the whole subplots area (including labels) will fit into.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.tight_layout(rect=[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.75</span>,<span class="number">1</span>])</span><br></pre></td></tr></table></figure></li>
<li><p><strong>Saving the figure with <code>bbox_inches = "tight"</code></strong> The argument <code>bbox_inches = "tight"</code> to <a href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.savefig"><code>plt.savefig</code></a> can be used to save the figure such that all artist on the canvas (including the legend) are fit into the saved area. If needed, the figure size is automatically adjusted.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.savefig(<span class="string">&quot;output.png&quot;</span>, bbox_inches=<span class="string">&quot;tight&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p><strong>automatically adjusting the subplot params</strong> A way to automatically adjust the subplot position such that the legend fits inside the canvas <strong>without changing the figure size</strong> can be found in this answer: <a href="https://stackoverflow.com/a/43001737/4124317">Creating figure with exact size and no padding (and legend outside the axes)</a></p></li>
</ul>
<p>Comparison between the cases discussed above:</p>
<p><a href="https://i.stack.imgur.com/zqKjY.png"><img src="/2020/03/12/matplotlib-legend/zqKjY.png" alt="enter image description here"></a></p>
<h2 id="alternatives-a-figure-legend">Alternatives <strong>A figure legend</strong></h2>
<p>One may use a legend to the figure instead of the axes, <a href="https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.legend"><code>matplotlib.figure.Figure.legend</code></a>. This has become especially useful for matplotlib version &gt;=2.1, where no special arguments are needed</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fig.legend(loc&#x3D;7) </span><br></pre></td></tr></table></figure>
<p>to create a legend for all artists in the different axes of the figure. The legend is placed using the <code>loc</code> argument, similar to how it is placed inside an axes, but in reference to the whole figure - hence it will be outside the axes somewhat automatically. What remains is to adjust the subplots such that there is no overlap between the legend and the axes. Here the point <em>"Adjust the subplot parameters"</em> from above will be helpful. An example:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">2</span>*np.pi)</span><br><span class="line">colors=[<span class="string">&quot;#7aa0c4&quot;</span>,<span class="string">&quot;#ca82e1&quot;</span> ,<span class="string">&quot;#8bcd50&quot;</span>,<span class="string">&quot;#e18882&quot;</span>]</span><br><span class="line">fig, axes = plt.subplots(ncols=<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    axes[i//<span class="number">2</span>].plot(x,np.sin(x+i), color=colors[i],label=<span class="string">&quot;y=sin(x+&#123;&#125;)&quot;</span>.<span class="built_in">format</span>(i))</span><br><span class="line"></span><br><span class="line">fig.legend(loc=<span class="number">7</span>)</span><br><span class="line">fig.tight_layout()</span><br><span class="line">fig.subplots_adjust(right=<span class="number">0.75</span>)   </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><a href="https://i.stack.imgur.com/v1AU6.png"><img src="/2020/03/12/matplotlib-legend/v1AU6.png" alt="enter image description here"></a></p>
<p><strong>Legend inside dedicated subplot axes</strong> An alternative to using <code>bbox_to_anchor</code> would be to place the legend in its dedicated subplot axes (<code>lax</code>). Since the legend subplot should be smaller than the plot, we may use <code>gridspec_kw=&#123;"width_ratios":[4,1]&#125;</code> at axes creation. We can hide the axes <code>lax.axis("off")</code> but still put a legend in. The legend handles and labels need to obtained from the real plot via <code>h,l = ax.get_legend_handles_labels()</code>, and can then be supplied to the legend in the <code>lax</code> subplot, <code>lax.legend(h,l)</code>. A complete example is below.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rcParams[<span class="string">&quot;figure.figsize&quot;</span>] = <span class="number">6</span>,<span class="number">2</span></span><br><span class="line"></span><br><span class="line">fig, (ax,lax) = plt.subplots(ncols=<span class="number">2</span>, gridspec_kw=&#123;<span class="string">&quot;width_ratios&quot;</span>:[<span class="number">4</span>,<span class="number">1</span>]&#125;)</span><br><span class="line">ax.plot(x,y, label=<span class="string">&quot;y=sin(x)&quot;</span>)</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">h,l = ax.get_legend_handles_labels()</span><br><span class="line">lax.legend(h,l, borderaxespad=<span class="number">0</span>)</span><br><span class="line">lax.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>This produces a plot, which is visually pretty similar to the plot from above:</p>
<p><a href="https://i.stack.imgur.com/4RrYb.png"><img src="/2020/03/12/matplotlib-legend/4RrYb.png" alt="enter image description here"></a></p>
<p>We could also use the first axes to place the legend, but use the <code>bbox_transform</code> of the legend axes,</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.legend(bbox_to_anchor=(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>), bbox_transform=lax.transAxes)</span><br><span class="line">lax.axis(<span class="string">&quot;off&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>In this approach, we do not need to obtain the legend handles externally, but we need to specify the <code>bbox_to_anchor</code> argument.</p>
<h3 id="further-reading-and-notes">Further reading and notes:</h3>
<ul>
<li>Consider the matplotlib <a href="http://matplotlib.org/users/legend_guide.html">legend guide</a> with some examples of other stuff you want to do with legends.</li>
<li>Some example code for placing legends for pie charts may directly be found in answer to this question: <a href="https://stackoverflow.com/questions/43272206/python-legend-overlaps-with-the-pie-chart">Python - Legend overlaps with the pie chart</a></li>
<li>The <code>loc</code> argument can take numbers instead of strings, which make calls shorter, however, they are not very intuitively mapped to each other. Here is the mapping for reference:</li>
</ul>
<p><a href="https://i.stack.imgur.com/jxecX.png"><img src="/2020/03/12/matplotlib-legend/jxecX.png" alt="enter image description here"></a></p>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>matplotlib</tag>
      </tags>
  </entry>
  <entry>
    <title>Pytorchå®˜æ–¹æ¨¡å‹å®ç°åˆ†æ</title>
    <url>/2020/07/11/pytorch-official-network-analysis/</url>
    <content><![CDATA[<h2 id="resnet">Resnet</h2>
<h3 id="å¦‚ä½•åº”å¯¹ä¸åŒå°ºå¯¸è¾“å…¥">å¦‚ä½•åº”å¯¹ä¸åŒå°ºå¯¸è¾“å…¥</h3>
<p>åœ¨ç½‘ç»œæœ€åæ·»åŠ ä¸€ä¸ª<code>AdaptiveAvgPool2d(output_size)</code>å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ— è®ºè¾“å…¥å›¾ç‰‡å½¢çŠ¶å¦‚ä½•ï¼Œæœ€ç»ˆéƒ½ä¼šè½¬æ¢ä¸ºç»™å®šè¾“å‡ºå°ºå¯¸ã€‚è€ŒResnetä¸­ï¼Œè¿™ä¸ª<code>output_size</code>è¢«è®¾ç½®ä¸ºäº†<code>(1,1)</code>ï¼Œå³æ— è®ºè¾“å…¥çš„å›¾ç‰‡å°ºå¯¸ä¸ºå¤šå°‘ï¼Œåªè¦å…¶å¤§å°è¶³ä»¥æ‰›å¾—ä½ç½‘ç»œå‰é¢çš„ä¸€ç³»åˆ—pooling layersï¼Œåˆ°æœ€åçš„è¾“å‡ºå°ºå¯¸å¤§äºç­‰äº<code>(1,1)</code>ï¼Œå…¶æ¯ä¸ªChannelå°±ä¼šè¢«è¿™ä¸€å±‚å‹ç¼©æˆä¸€ä¸ªç‚¹ï¼Œå³æœ€ååªä¼šå¾—åˆ°ä¸€ä¸ªä¸Channelæ•°ç›®ç›¸ç­‰çš„å‘é‡ã€‚è¿™ä¸ªå‘é‡è¢«é€åˆ°äº†FCå±‚ã€‚</p>
<span id="more"></span>
<h3 id="å¦‚ä½•åº”å¯¹channelæ•°ç›®ä¸åˆé€‚é—®é¢˜">å¦‚ä½•åº”å¯¹Channelæ•°ç›®ä¸åˆé€‚é—®é¢˜</h3>
<p>ç”±äºå…¼å®¹äº†å„ç§å¤§å°å’Œå°ºå¯¸çš„æ¨¡å‹ï¼Œæ‰€ä»¥æœ‰æ—¶éš¾å…ä¼šå‡ºç°å¦‚Channelæ•°ç›®æ— æ³•è¢«4æ•´é™¤ï¼ˆBottleNeck Layerè¦æ±‚ï¼‰çš„æƒ…å†µã€‚è¿™é‡Œï¼Œå®ƒä½¿ç”¨äº†<code>1x1 conv</code>çš„æ–¹æ³•ã€‚ç”±äºæ¯ä¸ªblockçš„è¾“å‡ºéƒ½è¦åŠ åˆ°è¾“å…¥ä¸Šï¼Œå¦‚æœè¿™ä¸ªæ•´é™¤ä¸äº†ï¼Œç»“æœå°±æ˜¯Channelæ•°ç›®ä¸åŒ¹é…æ— æ³•åšResidualã€‚è¿™é‡Œçš„æ“ä½œæ˜¯ï¼Œå¦‚æœè¾“å‡º<code>Channelæ•°*4 != è¾“å…¥Channelæ•°</code>ï¼Œé‚£ä¹ˆå°±ç›´æ¥è®©è¾“å…¥å…ˆç”¨<code>1x1 conv</code>æ”¹å˜ç»´åº¦åˆ°<code>è¾“å‡ºChannelæ•°*4</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> stride != <span class="number">1</span> <span class="keyword">or</span> self.inplanes != planes * block.expansion:</span><br><span class="line">    downsample = nn.Sequential(</span><br><span class="line">        conv1x1(self.inplanes, planes * block.expansion, stride),</span><br><span class="line">        norm_layer(planes * block.expansion),</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<h3 id="å¦‚ä½•åº”å¯¹ä¸åŒæ€»layeræ•°çš„resnetä½¿ç”¨ä¸åŒçš„layer-blockçš„é—®é¢˜">å¦‚ä½•åº”å¯¹ä¸åŒæ€»Layeræ•°çš„Resnetä½¿ç”¨ä¸åŒçš„Layer Blockçš„é—®é¢˜</h3>
<p>åœ¨Resnetä¸­ï¼Œresnet18, 34ä½¿ç”¨çš„æ˜¯åŒå±‚<code>3x3 conv</code>çš„<code>Basic Block</code>ï¼Œè€Œresnet50, 101, 152åˆ™ä½¿ç”¨çš„æ˜¯<code>1x1conv -&gt; 3x3 conv -&gt; 1x1 conv</code>çš„ç»“æ„ã€‚ä¸ºäº†è·å¾—æœ€å¤§çš„å…¼å®¹æ€§ï¼Œè¿™é‡Œå®˜æ–¹æ¨¡å‹å°†<code>Basic Block</code>å’Œ<code>Bottleneck Block</code>åˆ†åˆ«å®šä¹‰ä¸ºä¸¤ä¸ªclassï¼Œå³å­æ¨¡å—ï¼Œç„¶åå¯¹äºä¸åŒå°ºå¯¸çš„resnetåˆ†åˆ«è¾“å…¥ä¸åŒçš„æ¨¡å—ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆå®šä¹‰äº†conv3x3å’Œconv1x1ä¸¤ä¸ªå‡½æ•°">ä¸ºä»€ä¹ˆå®šä¹‰äº†conv3x3å’Œconv1x1ä¸¤ä¸ªå‡½æ•°</h3>
<p>è¿™ä¸¤ä¸ªå‡½æ•°çœ‹ä¼¼ç”»è›‡æ·»è¶³å¤šæ­¤ä¸€ä¸¾ï¼Œä½†å®é™…ä¸Šåœ¨æˆ‘çš„ç†è§£ä¸­ï¼Œä»–ä»¬é¿å…äº†ä¸€äº›é‡å¤å˜é‡çš„è¾“å…¥ï¼Œæ›´ç›´è§‚åœ°åæ˜ äº†è¯¥å±‚çš„åŠŸèƒ½ï¼š<code>1x1</code>æˆ–<code>3x3</code>ï¼Œä¹Ÿæ½œåœ¨åœ°é¿å…äº†ä¸€äº›é”™è¯¯ï¼Œå¹¶ä¼˜åŒ–äº†ç†è§£ã€‚</p>
]]></content>
      <tags>
        <tag>deep-learning</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>Analyzing Geography Data (Beginners&#39; Tutorial)</title>
    <url>/2021/02/03/satellite-basic/</url>
    <content><![CDATA[<h2 id="æ•°æ®æ¥æº">æ•°æ®æ¥æº</h2>
<h3 id="å«æ˜Ÿç±»å‹">å«æ˜Ÿç±»å‹</h3>
<ol type="1">
<li><p>Sentinel-2ï¼šæä¾›æ··åˆåˆ†è¾¨ç‡çš„13 Bands MSIã€‚åˆ†è¾¨ç‡æœ‰<span class="math inline">\(10m \times 10m\)</span>ï¼Œ<span class="math inline">\(20m \times 20m\)</span>ï¼Œ<span class="math inline">\(60m \times 60m\)</span>ï¼Œbandsä¸­å¿ƒæ³¢é•¿ä»442.3nmåˆ°2185.7nmã€‚</p>
<p><img src="/2021/02/03/satellite-basic/image-20201213154533413.png" alt="image-20201213154533413" style="zoom:33%;"></p>
<span id="more"></span></li>
<li><p>Planetï¼šè¿™ä¸ªæ•°æ®æºæä¾›<span class="math inline">\(3m \times 3m\)</span>çš„4 bands MSI imageã€‚åˆ†åˆ«æ˜¯Rã€Gã€Bã€NIRã€‚</p>
<ul>
<li>è¿™ä¸ªæ•°æ®æºä¼¼ä¹åªå¯¹ç¾å›½å›½å†…çš„é™¢æ ¡æœºæ„å¼€æ”¾ï¼Œä¸è¿‡ä¸æ˜¯å¾ˆç¡®å®šï¼Œéœ€è¦çš„å¯ä»¥è¯•è¯•ã€‚</li>
</ul>
<figure>
<img src="/2021/02/03/satellite-basic/image-20201213150111581.png" alt="Planet Specification"><figcaption aria-hidden="true">Planet Specification</figcaption>
</figure></li>
<li><p>RapidEyes</p></li>
</ol>
<h3 id="sentinel-2-data-source">Sentinel-2 Data Source</h3>
<ol type="1">
<li><p>USGS Earth Explorer: <a href="https://earthexplorer.usgs.gov/">Link</a>. It support downloading data within five years. And it not only support sentinel-2 data, but also contains many other satellite datasource.</p>
<figure>
<img src="/2021/02/03/satellite-basic/image-20201227143234319.png" alt="image-20201227143234319"><figcaption aria-hidden="true">image-20201227143234319</figcaption>
</figure></li>
<li><p>Copernicus Open Access Hub: <a href="https://scihub.copernicus.eu/dhus/#/home">Link</a>. It supports only one year's old data. You can request the older data, but not guarante the fetch time.</p>
<figure>
<img src="/2021/02/03/satellite-basic/image-20201227145324164.png" alt="image-20201227145324164"><figcaption aria-hidden="true">image-20201227145324164</figcaption>
</figure></li>
<li><p>Amazon AWS Sentinel-2 Service: <a href="https://registry.opendata.aws/sentinel-2/">Link</a></p></li>
</ol>
<h3 id="planet-data-source">Planet Data Source</h3>
<ul>
<li>å®˜ç½‘ï¼š<a href="https://www.planet.com/">Link</a></li>
</ul>
<h3 id="specification">Specification</h3>
<ol type="1">
<li><a href="https://sentinel.esa.int/web/sentinel/technical-guides/sentinel-2-msi/msi-instrument">Sentinel-2 MultiSpectral Instrument (MSI) Overview</a></li>
<li><a href="https://www.planet.com/products/satellite-imagery/files/Planet_Combined_Imagery_Product_Specs_December2017.pdf">Sentinel-2 Specification Doc</a></li>
<li><a href="https://www.planet.com/products/planet-imagery/">Planet Specification</a></li>
</ol>
<h2 id="è½¯ä»¶ä¸pythonåŒ…ç®€ä»‹">è½¯ä»¶ä¸PythonåŒ…ç®€ä»‹</h2>
<ul>
<li><a href="http://www.gdal.org/">GDAL</a> â€“&gt; Fundamental package for processing vector and raster data formats (many modules below depend on this). Used for raster processing.</li>
<li><a href="https://github.com/mapbox/rasterio">Rasterio</a> â€“&gt; Clean and fast and geospatial raster I/O for Python. <a href="https://rasterio.readthedocs.io/en/latest/quickstart.html">Guidebook</a>.</li>
<li><a href="http://geopandas.org/#description">Geopandas</a> â€“&gt; Working with geospatial data in Python made easier, combines the capabilities of pandas and shapely.</li>
<li><a href="http://toblerity.org/shapely/manual.html">Shapely</a> â€“&gt; Python package for manipulation and analysis of planar geometric objects (based on widely deployed <a href="https://trac.osgeo.org/geos/">GEOS</a>).</li>
<li><a href="https://pypi.python.org/pypi/Fiona">Fiona</a> â€“&gt; Reading and writing spatial data (alternative for geopandas).</li>
<li><a href="https://pypi.python.org/pypi/pyproj?">Pyproj</a> â€“&gt; Performs cartographic transformations and geodetic computations (based on <a href="http://trac.osgeo.org/proj">PROJ.4</a>).</li>
<li><a href="https://pysal.readthedocs.org/en/latest/">Pysal</a> â€“&gt; Library of spatial analysis functions written in Python.</li>
<li><a href="http://geopy.readthedocs.io/en/latest/">Geopy</a> â€“&gt; Geocoding library: coordinates to address &lt;-&gt; address to coordinates.</li>
<li><a href="http://geo.holoviews.org/index.html">GeoViews</a> â€“&gt; Interactive Maps for the web.</li>
<li><a href="https://networkx.github.io/documentation/networkx-1.10/overview.html">Networkx</a> â€“&gt; Network analysis and routing in Python (e.g. Dijkstra and A* -algorithms), see <a href="http://gis.stackexchange.com/questions/65056/is-it-possible-to-route-shapefiles-using-python-and-without-arcgis-qgis-or-pgr">this post</a>.</li>
<li><a href="http://scitools.org.uk/cartopy/docs/latest/index.html">Cartopy</a> â€“&gt; Make drawing maps for data analysis and visualisation as easy as possible.</li>
<li><a href="http://docs.scipy.org/doc/scipy/reference/spatial.html">Scipy.spatial</a> â€“&gt; Spatial algorithms and data structures.</li>
<li><a href="http://toblerity.org/rtree/">Rtree</a> â€“&gt; Spatial indexing for Python for quick spatial lookups.</li>
<li><a href="http://www.rsgislib.org/index.html#python-documentation">RSGISLib</a> â€“&gt; Remote Sensing and GIS Software Library for Python.</li>
<li><a href="https://python-geojson.readthedocs.io/en/latest/">python-geojson</a>-&gt; Deal with geojson format files.</li>
</ul>
<h2 id="sentinel-2-å¤§æ°”æ ¡æ­£">Sentinel-2 å¤§æ°”æ ¡æ­£</h2>
<p>Sentinel-2ä¸€èˆ¬æœ‰ä¸¤ç§standardï¼Œä¸€ä¸ªæ˜¯Açº§åˆ«ï¼Œä¸€ä¸ªæ˜¯Cçº§åˆ«ã€‚Cçº§åˆ«çš„æ•°æ®æ˜¯ä½ å¯ä»¥ä»ä»»æ„ç½‘ç«™ä¸Šä¸‹è½½åˆ°çš„æ•°æ®ï¼Œå®ƒæ²¡æœ‰ç»è¿‡å¤§æ°”æ ¡æ­£ï¼Œæ˜¯ç²—æ•°æ®ï¼Œæ¯ä¸ªåŒºå—çš„åå°„ç‡å¯èƒ½æœ‰ä¸åŒï¼Œä¸é€‚åˆç›´æ¥ç”¨ä½œæ·±åº¦å­¦ä¹ æ•°æ®ã€‚</p>
<p>ç»è¿‡Sen2Corè½¯ä»¶æ ¡æ­£åå¯ä»¥å¾—åˆ°Açº§åˆ«çš„æ•°æ®ã€‚</p>
<p>Sen2Coræ˜¯æ¬§ç©ºå±€å‘å¸ƒçš„ä¸€ä¸ªè½¯ä»¶ï¼Œå®ƒå³å¯ä»¥ä½œä¸ºSNAPçš„æ’ä»¶å®‰è£…ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºç‹¬ç«‹å‘½ä»¤è¡Œè½¯ä»¶ä½¿ç”¨ã€‚æ¨èåè€…ï¼Œæ›´ä¸ºå¿«é€Ÿã€ç¨³å®šï¼Œå°¤å…¶é€‚ç”¨äºå¤§é‡æ•°æ®æ—¶ï¼Œå¯ä»¥ç”¨è„šæœ¬æ‰¹å¤„ç†ã€‚<a href="http://step.esa.int/main/snap-supported-plugins/sen2cor/sen2cor_v2-8/">å®˜ç½‘é“¾æ¥</a></p>
<h3 id="æŸ¥è¯¢åæ ‡æ˜ å°„">æŸ¥è¯¢åæ ‡æ˜ å°„</h3>
<ul>
<li>åœ°çƒæ˜¯åœ†çš„ã€‚</li>
<li>å«æ˜Ÿä¸Šæ‹çš„ä¸€å¼ çŸ©å½¢ç…§ç‰‡æ‰€å¯¹åº”çš„åŒºåŸŸå¹¶éæ˜¯çŸ©å½¢çš„ã€‚</li>
<li>ä½¿ç”¨å«æ˜Ÿå›¾ç‰‡æ—¶è¦å…ˆå°†å…¶æ˜ å°„åˆ°äºŒç»´å±•å¼€çš„åæ ‡ç³»ä¸­ã€‚</li>
<li>æ•´ä¸ªåœ°çƒè¢«åˆ†ä¸ºäº†è®¸å¤šé¢„å…ˆè®¢å¥½çš„åŒºåŸŸã€‚</li>
<li>æ¯ä¸ªåŒºåŸŸæœ‰ä¸€ä¸ªç¼–å·ã€‚</li>
<li>ç¼–å·å¯ä»¥åœ¨<a href="http://epsg.io/">EPSG</a>ç½‘ç«™æŸ¥è¯¢ã€‚</li>
</ul>
<h2 id="snap">SNAP</h2>
<ul>
<li><p>æ¬§ç©ºå±€è‡ªå·±ç”¨ä½œå¤„ç†Sentinel-2çš„è½¯ä»¶ã€‚<a href="https://step.esa.int/main/download/snap-download/">Link</a></p></li>
<li><p>åªç”¨æ¥å¤„ç†Sentinel-2ï¼Œå°¤å…¶æ˜¯é¢„å¤„ç†ï¼ŒåŒ…æ‹¬æ ¡æ­£ï¼Œreprojectionï¼Œç²—cropï¼Œç»Ÿä¸€å„ä¸ªbandsåˆ†è¾¨ç‡ç­‰ç­‰ï¼Œéå¸¸å¥½ç”¨ã€‚å› ä¸ºæ˜¯äº²å„¿å­ï¼Œæ‰€ä»¥ç”šè‡³å¯ä»¥ç›´æ¥è¯»å–Sentinel-2æ¯ä¸ªæ–‡ä»¶çš„å‹ç¼©åŒ…ï¼Œæ€»ä¹‹ååˆ†ä¾¿åˆ©ã€‚</p></li>
<li><p>æ¯”è¾ƒå¤è€ï¼Œinterfaceæœ‰å¹´ä»£æ„Ÿï¼ŒåŠŸèƒ½ä¹Ÿç›¸è¾ƒäºå…¶ä»–è½¯ä»¶æ¯”è¾ƒå±€é™ã€‚</p></li>
<li><p>æ¨èç”¨ä½œç¬¬ä¸€æ­¥é¢„å¤„ç†ã€‚</p></li>
<li><p>ä½¿ç”¨æµç¨‹ï¼š<code>è¯»å–-&gt;å‰ªè£-&gt;correction-&gt;resize-&gt;reprojection-&gt;å¯¼å‡º</code>ã€‚</p></li>
<li><p>å¤§éƒ¨åˆ†éœ€è¦ç”¨åˆ°çš„åŠŸèƒ½éƒ½åœ¨<code>Raster-&gt;Geometric</code>ä¸­</p></li>
<li><p>ç»è¿‡å°è¯•ã€æœç´¢ã€ç¡®è®¤ï¼ŒSNAPå¹¶ä¸æä¾›ä¾¿åˆ©çš„é€‰å®šåŒºåŸŸæˆªå›¾ï¼Œæˆ–æ˜¯ä¾æ®shapefileå‰ªè£ï¼Œæ‰€ä»¥ç›®å‰æœ€ä½³çš„æ–¹æ³•æ˜¯ï¼Œå…ˆé€šè¿‡zoomåœ°å›¾å’Œæ”¹å˜çª—å£å¤§å°ç¡®ä¿éœ€è¦çš„éƒ¨åˆ†å¤§è‡´åœ¨viewçš„å¯è§†èŒƒå›´å†…ï¼Œç„¶åå³é”®ï¼Œé€‰æ‹©<code>Spatial Subset from View</code>ï¼Œç„¶åå¯è§†åŒºåŸŸå³å¯è¢«å‰ªè£ã€‚æ³¨æ„ï¼Œè¿™åªæ˜¯ç²—å‰ªè£ï¼Œæ‰€ä»¥å°½é‡å¤šåŒ…æ‹¬ä¸€ç‚¹ï¼Œä¹Ÿä¸è¦å°‘ä»»ä½•ä¸€éƒ¨åˆ†ã€‚å‰ªè£åçš„å†…å®¹å¯ä»¥åç»­åœ¨ArcGIS Proä¸­è¿›ä¸€æ­¥å¤„ç†ã€‚</p>
<p><img src="/2021/02/03/satellite-basic/image-20201227155911702.png" alt="image-20201227155911702" style="zoom:40%;"></p></li>
<li><p>å±•ç¤ºå›¾ï¼š</p>
<p><img src="/2021/02/03/satellite-basic/image-20201227155421761.png" alt="image-20201227155421761" style="zoom:33%;"></p>
<figure>
<img src="/2021/02/03/satellite-basic/image-20201227155558109.png" alt="image-20201227155558109"><figcaption aria-hidden="true">image-20201227155558109</figcaption>
</figure></li>
</ul>
<h2 id="arcgis-pro">ArcGIS Pro</h2>
<ul>
<li><p>æˆ‘èƒ½æ‰¾åˆ°çš„æœ€å¼ºå¤§çš„å¯ç”¨äºå«æ˜Ÿå›¾åƒå¤„ç†çš„è½¯ä»¶ã€‚</p></li>
<li><p>ä¸“ä¸šï¼Œç¾è§‚ï¼Œæ”¯æŒformatå¤šï¼Œæœ‰ç€å¼ºå¤§çš„raster functionsã€‚</p></li>
<li><p>ç‰ˆæƒè½¯ä»¶ï¼Œä¸‹è½½ä¹‹å‰å…ˆç¡®è®¤è‡ªå·±å­¦æ ¡æˆ–å…¬å¸æ˜¯å¦æä¾›Licenseã€‚</p></li>
<li><p>æœ‰æ—¶å¯¼å‡ºrasterä¼šå‡ºç°éšæœºbugï¼Œå¯¼è‡´ï¼šå¯¼å‡ºå¯èƒ½æ˜¯çº¯é»‘çš„å›¾ç‰‡ï¼Œå¯¼å‡ºéƒ¨åˆ†æ²¡æœ‰æŒ‰ç…§æœŸæœ›å‰ªè£ç­‰ã€‚å¾ˆæ¶å¿ƒï¼Œä½†ä¼¼ä¹ä¹Ÿæ²¡æœ‰æ›´å¥½çš„é€‰æ‹©ã€‚</p></li>
<li><p>è§£å†³å¯¼å‡ºé—®é¢˜ï¼š</p>
<ol type="1">
<li>å…³é—­å¯¼å‡ºçª—å£ï¼Œé‡æ–°æ“ä½œï¼Œå¤šè¯•å‡ æ¬¡ã€‚å¯ä»¥è§£å†³ç»å¤§éƒ¨åˆ†é—®é¢˜ã€‚</li>
<li>å’Œå‰ªè£ã€maskç­‰æœ‰å…³çš„é—®é¢˜å¯ä»¥å…ˆä½¿ç”¨raster functionè¿›è¡Œè¿™äº›æ“ä½œï¼Œå†ç›´æ¥å¯¼å‡ºå‰é¢æ“ä½œçš„ç»“æœlayerã€‚</li>
</ol></li>
<li><p>å…³äºå‰ªè£åçš„å«æ˜Ÿå›¾ç‰‡å’ŒåŸå§‹å›¾ç‰‡æœ‰ç€æ˜æ˜¾äº®åº¦å¯¹æ¯”åº¦åŒºåˆ«çš„é—®é¢˜ï¼š</p>
<ol type="1">
<li><p>é¦–å…ˆï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªbugï¼Œè€Œæ˜¯ä¸€ä¸ªfeatureã€‚ã€‚ã€‚å®é™…ä¸Šçš„å«æ˜Ÿå›¾éƒ½å¾ˆæš—æ²‰çš„ï¼Œæ‰€ä»¥è½¯ä»¶åŸç”Ÿæä¾›ä¸€ä¸ªâ€œæ˜¾ç¤ºæ–¹æ³•â€çš„å‡½æ•°ï¼Œè°ƒæ•´å›¾ç‰‡æ›²çº¿ï¼Œä½¿å¾—æ˜¾ç¤ºçš„å›¾ç‰‡æ¯”è¾ƒäº®ï¼Œå®¹æ˜“çœ‹æ¸…æ¥šç»†èŠ‚ã€‚ç„¶è€Œï¼Œå‰ªè£åçš„å›¾ç‰‡æœ‰ç€ä¸ä¸€æ ·çš„ç»Ÿè®¡å€¼ï¼Œæ‰€ä»¥åœ¨æœ‰äº›æ˜¾ç¤ºå‡½æ•°ä¸‹ï¼Œæ˜¾ç¤ºçš„ç»“æœå’Œå‰ªè£å‰ç»“æœä¸åŒã€‚</p>
<p><img src="/2021/02/03/satellite-basic/image-20201227155342029.png" alt="image-20201227155342029" style="zoom:33%;"></p></li>
<li><p>ä½†æ˜¯ä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºå¯¼å‡ºæ—¶å€™å¹¶ä¸ä¼šè€ƒè™‘è¿™ä¸ªæ˜¾ç¤ºå‡½æ•°ã€‚å³ï¼šå‰ªè£å‰åçš„å¯¼å‡ºå›¾åƒæ•°å€¼æ˜¯ç›¸åŒçš„ã€‚</p></li>
</ol></li>
<li><p>ä¸‹é¢æ˜¯ä¸¤å¼ å±•ç¤ºå›¾ï¼š</p></li>
</ul>
<figure>
<img src="/2021/02/03/satellite-basic/image-20201227155051608.png" alt="image-20201227155051608"><figcaption aria-hidden="true">image-20201227155051608</figcaption>
</figure>
<figure>
<img src="/2021/02/03/satellite-basic/image-20201227155259214.png" alt="image-20201227155259214"><figcaption aria-hidden="true">image-20201227155259214</figcaption>
</figure>
<h2 id="qgis">QGIS</h2>
<ul>
<li><p>å¼€æºè½¯ä»¶ï¼Œæ”¯æŒå¾ˆå¤šæ’ä»¶ï¼Œæ¯”å¦‚ç›´æ¥ä¸‹è½½Sentinel-2æ•°æ®ï¼ŒSen2Corç­‰ã€‚<a href="https://qgis.org/en/site/">Link</a></p></li>
<li><p>æ”¯æŒå¾ˆå¤šformatçš„æ•°æ®ã€‚</p></li>
<li><p>é—®é¢˜æ˜¯ï¼Œä¸ç¨³å®šï¼Œæ•ˆç‡ä½ï¼Œå®¹æ˜“å´©æºƒï¼ˆè½¯ä»¶&amp;å¿ƒæ€ï¼‰ï¼Œç”šè‡³å·¦ä¾§Exploreré‡åˆ°å¤§æ–‡ä»¶å¤¹éƒ½è¦ç»å¸¸è½¬å¾ˆä¹…æ‰èƒ½è¿›å»ï¼Œæˆ–æ˜¯å¹²è„†å°±ç›´æ¥è½¬å´©äº†ã€‚æˆ‘æ€€ç–‘ä»–ä»¬è¦åˆ†ææ¯ä¸ªæ–‡ä»¶å¤¹æ‰€æœ‰æ–‡ä»¶ä¹‹åå†æ˜¾ç¤ºåˆ—è¡¨ã€‚ã€‚ã€‚æ€»ä¹‹ï¼Œæ…é‡ã€‚</p>
<figure>
<img src="/2021/02/03/satellite-basic/image-20201227160344273.png" alt="image-20201227160344273"><figcaption aria-hidden="true">image-20201227160344273</figcaption>
</figure></li>
</ul>
<h2 id="pythonic-method">Pythonic Method</h2>
<p>è™½ç„¶å‰é¢ä»‹ç»äº†å‡ ä¸ªè½¯ä»¶ï¼Œä½†æ˜¯è¯´å®è¯ï¼Œå¤„ç†ä¸€ä¸¤ä¸ªå¯ä»¥ï¼Œæ‰¹é‡å¤„ç†å‡ åå‡ ç™¾ç”šè‡³å‡ åä¸‡å°±æœ‰ç‚¹åŠ›ä¸ä»å¿ƒäº†ã€‚æ‰€ä»¥æœ€åè¿˜æ˜¯ç‹ ä¸‹å¿ƒç ”ç©¶äº†ä¸€éPythonå¤„ç†è¿™äº›æ•°æ®çš„æ–¹æ³•ï¼Œå†™å‡ºäº†ä¸€æ‰¹é€‚åˆæˆ‘é¡¹ç›®ç”¨çš„å‡½æ•°ã€‚ä¸ä¸€å®šé€‚åˆæ‰€æœ‰äººï¼Œä½†å¯ä»¥ä½œä¸ºå‚è€ƒï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> geopandas <span class="keyword">as</span> gpd</span><br><span class="line"><span class="keyword">from</span> shapely.geometry <span class="keyword">import</span> Point, LineString, Polygon</span><br><span class="line"><span class="keyword">import</span> rasterio <span class="keyword">as</span> rio</span><br><span class="line"><span class="keyword">from</span> rasterio.mask <span class="keyword">import</span> mask</span><br><span class="line"><span class="keyword">from</span> rasterio.warp <span class="keyword">import</span> calculate_default_transform, reproject, Resampling</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bbox</span>(<span class="params">shp</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Compute the bounding box of a certain shapefile.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    piece = np.array([i.bounds <span class="keyword">for</span> i <span class="keyword">in</span> shp[<span class="string">&#x27;geometry&#x27;</span>]])</span><br><span class="line">    minx = piece[:,<span class="number">0</span>].<span class="built_in">min</span>()</span><br><span class="line">    miny = piece[:,<span class="number">1</span>].<span class="built_in">min</span>()</span><br><span class="line">    maxx = piece[:,<span class="number">2</span>].<span class="built_in">max</span>()</span><br><span class="line">    maxy = piece[:,<span class="number">3</span>].<span class="built_in">max</span>()</span><br><span class="line">    <span class="keyword">return</span> minx, miny, maxx, maxy</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">edge_length</span>(<span class="params">shp</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Compute the x and y edge length for a ceratin shapefile.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    minx, miny, maxx, maxy = bbox(shp)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">round</span>(maxx-minx,<span class="number">3</span>), <span class="built_in">round</span>(maxy-miny,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shape2latlong</span>(<span class="params">shp</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Turn the shapefile unit from meters/other units to lat/long.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> shp.to_crs(epsg=<span class="number">4326</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bbox_latlong</span>(<span class="params">shp</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Compute the latitude-longitude bounding box of a certain shapefile.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    shp = shape2latlong(shp)</span><br><span class="line">    <span class="keyword">return</span> bbox(shp)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bbox_polygon</span>(<span class="params">shp</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Return the rectangular Polygon bounding box of a certain shapefile.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    minx, miny, maxx, maxy = bbox(shp)</span><br><span class="line">    <span class="keyword">return</span> Polygon([(minx, miny), (minx, maxy), (maxx,maxy), (maxx, miny)])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_polygon</span>(<span class="params">shp</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Merge a shapefile to one single polygon.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> shp.dissolve(by=<span class="string">&#x27;Id&#x27;</span>).iloc[<span class="number">0</span>].geometry</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">polygon2geojson</span>(<span class="params">polygon</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Turn a polygon to a geojson format string.</span></span><br><span class="line"><span class="string">        This is used for rasterio mask operation.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(polygon) == Polygon:</span><br><span class="line">        polygon = gpd.GeoSeries(polygon)</span><br><span class="line">    <span class="keyword">return</span> [json.loads(polygon.to_json())[<span class="string">&#x27;features&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;geometry&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sen2rgb</span>(<span class="params">img, scale=<span class="number">30</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Turn the 12 channel float32 format sentinel-2 images to a RGB uint8 image. </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> (img[(<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>),]/<span class="number">256</span>*scale).astype(np.uint8)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cropbyshp</span>(<span class="params">raster, shp</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Crop a raster using a shapefile.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># Reproject the shapefile to the same crs of raster.</span></span><br><span class="line">    shp = shp.to_crs(&#123;<span class="string">&quot;init&quot;</span>: <span class="built_in">str</span>(raster.crs)&#125;)</span><br><span class="line">    <span class="comment"># Compute the rectangular Polygon bounding box of a certain shapefile.</span></span><br><span class="line">    bbpoly = bbox_polygon(shp)</span><br><span class="line">    <span class="comment"># Execute the mask operation.</span></span><br><span class="line">    out_img, out_transform = mask(dataset=raster, shapes=polygon2geojson(bbpoly), crop=<span class="literal">True</span>, all_touched=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> out_img</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_raster</span>(<span class="params">raster, path</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Write a created raster object to file.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> rio.<span class="built_in">open</span>(</span><br><span class="line">        path,</span><br><span class="line">        <span class="string">&#x27;w&#x27;</span>,</span><br><span class="line">        **raster.meta</span><br><span class="line">    ) <span class="keyword">as</span> dst:</span><br><span class="line">        dst.write(raster.read())</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sen_reproject</span>(<span class="params">src, dst_crs, out_path</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Reproject a raster to a new CRS coordinate, and save it in out_path.</span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        src: Input raster.</span></span><br><span class="line"><span class="string">        dst_crs: Target CRS. String.</span></span><br><span class="line"><span class="string">        out_path: The path of the output file.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    transform, width, height = calculate_default_transform(</span><br><span class="line">        src.crs, dst_crs, src.width, src.height, *src.bounds)</span><br><span class="line">    kwargs = src.meta.copy()</span><br><span class="line">    kwargs.update(&#123;</span><br><span class="line">        <span class="string">&#x27;crs&#x27;</span>: dst_crs,</span><br><span class="line">        <span class="string">&#x27;transform&#x27;</span>: transform,</span><br><span class="line">        <span class="string">&#x27;width&#x27;</span>: width,</span><br><span class="line">        <span class="string">&#x27;height&#x27;</span>: height</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> rio.<span class="built_in">open</span>(out_path, <span class="string">&#x27;w&#x27;</span>, **kwargs) <span class="keyword">as</span> dst:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, src.count + <span class="number">1</span>):</span><br><span class="line">            reproject(</span><br><span class="line">                source=rio.band(src, i),</span><br><span class="line">                destination=rio.band(dst, i),</span><br><span class="line">                src_transform=src.transform,</span><br><span class="line">                src_crs=src.crs,</span><br><span class="line">                dst_transform=transform,</span><br><span class="line">                dst_crs=dst_crs,</span><br><span class="line">                resampling=Resampling.cubic)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mask_A_by_B</span>(<span class="params">A, B</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Generate a mask from B, and applied it to A.</span></span><br><span class="line"><span class="string">        All 0 values are excluded.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    mask = B.<span class="built_in">sum</span>(axis=<span class="number">0</span>)&gt;<span class="number">1e-3</span></span><br><span class="line">    masked_A = mask*A</span><br><span class="line">    <span class="keyword">return</span> masked_A</span><br></pre></td></tr></table></figure>
<h2 id="reference">Reference</h2>
<ol type="1">
<li><a href="https://automating-gis-processes.github.io/2016/course-info.html">Python GIS è¶…å®Œæ•´æ•™ç¨‹</a></li>
<li><a href="https://zia207.github.io/geospatial-python.io/">Professor Zia's Personal Website</a></li>
<li><a href="https://blog.csdn.net/sinat_28853941/article/details/78511167">sentinel-2æ•°æ®ä¸‹è½½ å¤§æ°”æ ¡æ­£ è½¬ENVIæ ¼å¼</a></li>
<li><a href="https://blog.csdn.net/lidahuilidahui/article/details/102765420">03-SNAPå¤„ç†Sentinel-2 L2Açº§æ•°æ®ï¼ˆä¸€ï¼‰</a></li>
<li><a href="https://clouds.eos.ubc.ca/~phil/courses/atsc301/html/rasterio_demo.html">UBC Course Notebook</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/31010043">åˆ©ç”¨Sen2corå¯¹å“¨å…µ2å·ï¼ˆSentinel-2ï¼‰L1Cå¤šå…‰è°±æ•°æ®è¿›è¡Œè¾å°„å®šæ ‡å’Œå¤§æ°”æ ¡æ­£</a></li>
<li><a href="https://sentinelhub-py.readthedocs.io/en/latest/">Documentation of Sentinel Hub Python package</a></li>
<li><a href="https://github.com/sentinel-hub/sentinelhub-py">sentinelhub-py</a></li>
</ol>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>satellite</tag>
      </tags>
  </entry>
  <entry>
    <title>Attention ä»åˆ†ç±»åˆ°å®ç°ç»†èŠ‚</title>
    <url>/2020/07/06/attention-wiki/</url>
    <content><![CDATA[<p>Attentionçš„æœ¬è´¨å¯ä»¥çœ‹åšåŠ æƒæ±‚å’Œã€‚</p>
<h2 id="attention-çš„-n-ç§ç±»å‹">Attention çš„ N ç§ç±»å‹</h2>
<figure>
<img src="/2020/07/06/attention-wiki/image-20200705230846450.png" alt="image-20200705230846450"><figcaption aria-hidden="true">image-20200705230846450</figcaption>
</figure>
<p>Attention æœ‰å¾ˆå¤šç§ä¸åŒçš„ç±»å‹ï¼šSoft Attentionã€Hard Attentionã€é™æ€ Attentionã€åŠ¨æ€ Attentionã€Self Attention ç­‰ç­‰ã€‚ä¸Šå›¾ä¸ºå„ç§Attentionçš„åˆ†ç±»ï¼Œä¸‹é¢æ˜¯è¿™äº›ä¸åŒçš„ Attention çš„è§£é‡Šã€‚</p>
<p>ç”±äºè¿™ç¯‡æ–‡ç« ã€Š<a href="https://zhuanlan.zhihu.com/p/35739040">Attention ç”¨äº NLP çš„ä¸€äº›å°ç»“</a>ã€‹å·²ç»æ€»ç»“çš„å¾ˆå¥½çš„ï¼Œä¸‹é¢å°±ç›´æ¥å¼•ç”¨äº†ï¼š</p>
<p>æœ¬èŠ‚ä»è®¡ç®—åŒºåŸŸã€æ‰€ç”¨ä¿¡æ¯ã€ç»“æ„å±‚æ¬¡å’Œæ¨¡å‹ç­‰æ–¹é¢å¯¹ Attention çš„å½¢å¼è¿›è¡Œå½’ç±»ã€‚</p>
<span id="more"></span>
<h3 id="è®¡ç®—åŒºåŸŸ"><strong>1. è®¡ç®—åŒºåŸŸ</strong></h3>
<p>æ ¹æ® Attention çš„è®¡ç®—åŒºåŸŸï¼Œå¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç§ï¼š</p>
<p>1ï¼‰<strong>Soft</strong> Attentionï¼Œè¿™æ˜¯æ¯”è¾ƒå¸¸è§çš„ Attention æ–¹å¼ï¼Œå¯¹æ‰€æœ‰ key æ±‚æƒé‡æ¦‚ç‡ï¼Œæ¯ä¸ª key éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„æƒé‡ï¼Œæ˜¯ä¸€ç§å…¨å±€çš„è®¡ç®—æ–¹å¼ï¼ˆä¹Ÿå¯ä»¥å« Global Attentionï¼‰ã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒç†æ€§ï¼Œå‚è€ƒäº†æ‰€æœ‰ key çš„å†…å®¹ï¼Œå†è¿›è¡ŒåŠ æƒã€‚ä½†æ˜¯è®¡ç®—é‡å¯èƒ½ä¼šæ¯”è¾ƒå¤§ä¸€äº›ã€‚</p>
<p>2ï¼‰<strong>Hard</strong> Attentionï¼Œè¿™ç§æ–¹å¼æ˜¯ç›´æ¥ç²¾å‡†å®šä½åˆ°æŸä¸ª keyï¼Œå…¶ä½™ key å°±éƒ½ä¸ç®¡äº†ï¼Œç›¸å½“äºè¿™ä¸ª key çš„æ¦‚ç‡æ˜¯ 1ï¼Œå…¶ä½™ key çš„æ¦‚ç‡å…¨éƒ¨æ˜¯ 0ã€‚å› æ­¤è¿™ç§å¯¹é½æ–¹å¼è¦æ±‚å¾ˆé«˜ï¼Œè¦æ±‚ä¸€æ­¥åˆ°ä½ï¼Œå¦‚æœæ²¡æœ‰æ­£ç¡®å¯¹é½ï¼Œä¼šå¸¦æ¥å¾ˆå¤§çš„å½±å“ã€‚å¦ä¸€æ–¹é¢ï¼Œå› ä¸ºä¸å¯å¯¼ï¼Œä¸€èˆ¬éœ€è¦ç”¨å¼ºåŒ–å­¦ä¹ çš„æ–¹æ³•è¿›è¡Œè®­ç»ƒã€‚ï¼ˆæˆ–è€…ä½¿ç”¨ gumbel softmax ä¹‹ç±»çš„ï¼‰</p>
<p>3ï¼‰<strong>Local</strong> Attentionï¼Œè¿™ç§æ–¹å¼å…¶å®æ˜¯ä»¥ä¸Šä¸¤ç§æ–¹å¼çš„ä¸€ä¸ªæŠ˜ä¸­ï¼Œå¯¹ä¸€ä¸ªçª—å£åŒºåŸŸè¿›è¡Œè®¡ç®—ã€‚å…ˆç”¨ Hard æ–¹å¼å®šä½åˆ°æŸä¸ªåœ°æ–¹ï¼Œä»¥è¿™ä¸ªç‚¹ä¸ºä¸­å¿ƒå¯ä»¥å¾—åˆ°ä¸€ä¸ªçª—å£åŒºåŸŸï¼Œåœ¨è¿™ä¸ªå°åŒºåŸŸå†…ç”¨ Soft æ–¹å¼æ¥ç®— Attentionã€‚</p>
<h3 id="æ‰€ç”¨ä¿¡æ¯"><strong>2. æ‰€ç”¨ä¿¡æ¯</strong></h3>
<p>å‡è®¾æˆ‘ä»¬è¦å¯¹ä¸€æ®µåŸæ–‡è®¡ç®— Attentionï¼Œè¿™é‡ŒåŸæ–‡æŒ‡çš„æ˜¯æˆ‘ä»¬è¦åš attention çš„æ–‡æœ¬ï¼Œé‚£ä¹ˆæ‰€ç”¨ä¿¡æ¯åŒ…æ‹¬å†…éƒ¨ä¿¡æ¯å’Œå¤–éƒ¨ä¿¡æ¯ï¼Œå†…éƒ¨ä¿¡æ¯æŒ‡çš„æ˜¯åŸæ–‡æœ¬èº«çš„ä¿¡æ¯ï¼Œè€Œå¤–éƒ¨ä¿¡æ¯æŒ‡çš„æ˜¯é™¤åŸæ–‡ä»¥å¤–çš„é¢å¤–ä¿¡æ¯ã€‚</p>
<p>1ï¼‰<strong>General</strong> Attentionï¼Œè¿™ç§æ–¹å¼åˆ©ç”¨åˆ°äº†å¤–éƒ¨ä¿¡æ¯ï¼Œå¸¸ç”¨äºéœ€è¦æ„å»ºä¸¤æ®µæ–‡æœ¬å…³ç³»çš„ä»»åŠ¡ï¼Œquery ä¸€èˆ¬åŒ…å«äº†é¢å¤–ä¿¡æ¯ï¼Œæ ¹æ®å¤–éƒ¨ query å¯¹åŸæ–‡è¿›è¡Œå¯¹é½ã€‚</p>
<p>ç®€å•åˆ¤å®šä¾æ®ï¼š<strong>è®¡ç®—Attentionæ—¶ï¼Œæœ‰æ²¡æœ‰ç”¨åˆ°é™¤äº†è¢«Attentionå‘é‡ä»¥å¤–çš„å‘é‡ã€‚</strong></p>
<p>æ¯”å¦‚åœ¨é˜…è¯»ç†è§£ä»»åŠ¡ä¸­ï¼Œéœ€è¦æ„å»ºé—®é¢˜å’Œæ–‡ç« çš„å…³è”ï¼Œå‡è®¾ç°åœ¨ baseline æ˜¯ï¼Œå¯¹é—®é¢˜è®¡ç®—å‡ºä¸€ä¸ªé—®é¢˜å‘é‡ qï¼ŒæŠŠè¿™ä¸ª q å’Œæ‰€æœ‰çš„æ–‡ç« è¯å‘é‡æ‹¼æ¥èµ·æ¥ï¼Œè¾“å…¥åˆ° LSTMä¸­è¿›è¡Œå»ºæ¨¡ã€‚é‚£ä¹ˆåœ¨è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œæ–‡ç« æ‰€æœ‰è¯å‘é‡å…±äº«åŒä¸€ä¸ªé—®é¢˜å‘é‡ï¼Œç°åœ¨æˆ‘ä»¬æƒ³è®©æ–‡ç« æ¯ä¸€æ­¥çš„è¯å‘é‡éƒ½æœ‰ä¸€ä¸ªä¸åŒçš„é—®é¢˜å‘é‡ï¼Œä¹Ÿå°±æ˜¯ï¼Œåœ¨æ¯ä¸€æ­¥ä½¿ç”¨æ–‡ç« åœ¨è¯¥æ­¥ä¸‹çš„è¯å‘é‡å¯¹é—®é¢˜æ¥ç®— attentionï¼Œè¿™é‡Œé—®é¢˜å±äºåŸæ–‡ï¼Œæ–‡ç« è¯å‘é‡å°±å±äºå¤–éƒ¨ä¿¡æ¯ã€‚</p>
<figure>
<img src="/2020/07/06/attention-wiki/v2-1e08348b226f4e2f08c89ae6e5d7fcda_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>2ï¼‰<strong>Self</strong> Attentionï¼Œè¿™ç§æ–¹å¼åªä½¿ç”¨å†…éƒ¨ä¿¡æ¯ï¼Œkey å’Œ value ä»¥åŠ query åªå’Œè¾“å…¥åŸæ–‡æœ‰å…³ï¼Œåœ¨ self attention ä¸­ï¼Œkey=value=queryã€‚æ—¢ç„¶æ²¡æœ‰å¤–éƒ¨ä¿¡æ¯ï¼Œé‚£ä¹ˆåœ¨åŸæ–‡ä¸­çš„æ¯ä¸ªè¯å¯ä»¥è·Ÿè¯¥å¥å­ä¸­çš„æ‰€æœ‰è¯è¿›è¡Œ Attention è®¡ç®—ï¼Œç›¸å½“äºå¯»æ‰¾åŸæ–‡å†…éƒ¨çš„å…³ç³»ã€‚</p>
<p>è¿˜æ˜¯ä¸¾é˜…è¯»ç†è§£ä»»åŠ¡çš„ä¾‹å­ï¼Œä¸Šé¢çš„ baseline ä¸­æåˆ°ï¼Œå¯¹é—®é¢˜è®¡ç®—å‡ºä¸€ä¸ªå‘é‡ qï¼Œé‚£ä¹ˆè¿™é‡Œä¹Ÿå¯ä»¥ç”¨ä¸Š attentionï¼Œåªç”¨é—®é¢˜è‡ªèº«çš„ä¿¡æ¯å»åš attentionï¼Œè€Œä¸å¼•å…¥æ–‡ç« ä¿¡æ¯ã€‚</p>
<p>åŒæ ·æ˜¯åœ¨Encoder-Decoderæ¨¡å‹ä¸­ï¼Œå®ƒçš„å®ç°æ–¹æ³•æ˜¯Encoderéƒ¨åˆ†å †å äº†ä¸¤å±‚ã€‚</p>
<p><img src="/2020/07/06/attention-wiki/v2-2c7e48868e98202b6c3af3a7aa4ea987_1440w.jpg" alt="img" style="zoom:50%;"></p>
<h3 id="ç»“æ„å±‚æ¬¡"><strong>3. ç»“æ„å±‚æ¬¡</strong></h3>
<p>ç»“æ„æ–¹é¢æ ¹æ®æ˜¯å¦åˆ’åˆ†å±‚æ¬¡å…³ç³»ï¼Œåˆ†ä¸ºå•å±‚ attentionï¼Œå¤šå±‚ attention å’Œå¤šå¤´ attentionï¼š</p>
<p>1ï¼‰å•å±‚ Attentionï¼Œè¿™æ˜¯æ¯”è¾ƒæ™®éçš„åšæ³•ï¼Œç”¨ä¸€ä¸ª query å¯¹ä¸€æ®µåŸæ–‡è¿›è¡Œä¸€æ¬¡ attentionã€‚</p>
<p>2ï¼‰å¤šå±‚ Attentionï¼Œä¸€èˆ¬ç”¨äºæ–‡æœ¬å…·æœ‰å±‚æ¬¡å…³ç³»çš„æ¨¡å‹ï¼Œå‡è®¾æˆ‘ä»¬æŠŠä¸€ä¸ª document åˆ’åˆ†æˆå¤šä¸ªå¥å­ï¼Œåœ¨ç¬¬ä¸€å±‚ï¼Œæˆ‘ä»¬åˆ†åˆ«å¯¹æ¯ä¸ªå¥å­ä½¿ç”¨ attention è®¡ç®—å‡ºä¸€ä¸ªå¥å‘é‡ï¼ˆä¹Ÿå°±æ˜¯å•å±‚ attentionï¼‰ï¼›åœ¨ç¬¬äºŒå±‚ï¼Œæˆ‘ä»¬å¯¹æ‰€æœ‰å¥å‘é‡å†åš attention è®¡ç®—å‡ºä¸€ä¸ªæ–‡æ¡£å‘é‡ï¼ˆä¹Ÿæ˜¯ä¸€ä¸ªå•å±‚ attentionï¼‰ï¼Œæœ€åå†ç”¨è¿™ä¸ªæ–‡æ¡£å‘é‡å»åšä»»åŠ¡ã€‚</p>
<p>3ï¼‰å¤šå¤´ Attentionï¼Œè¿™æ˜¯ Attention is All You Need ä¸­æåˆ°çš„ multi-head attentionï¼Œç”¨åˆ°äº†å¤šä¸ª query å¯¹ä¸€æ®µåŸæ–‡è¿›è¡Œäº†å¤šæ¬¡ attentionï¼Œæ¯ä¸ª query éƒ½å…³æ³¨åˆ°åŸæ–‡çš„ä¸åŒéƒ¨åˆ†ï¼Œç›¸å½“äºé‡å¤åšå¤šæ¬¡å•å±‚ attentionï¼š<span class="math display">\[head_i=Attention(q_i,K,V)\]</span></p>
<p>æœ€åå†æŠŠè¿™äº›ç»“æœæ‹¼æ¥èµ·æ¥ï¼š<span class="math inline">\(MultiHead(Q, K, V)=Concat(head_1,head_2,head_3,...,head_n)W^O\)</span></p>
<figure>
<img src="/2020/07/06/attention-wiki/v2-3cd76d3e0d8a20d87dfa586b56cc1ad3_1440w.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<h3 id="æ¨¡å‹æ–¹é¢"><strong>4. æ¨¡å‹æ–¹é¢</strong></h3>
<p>ä»æ¨¡å‹ä¸Šçœ‹ï¼ŒAttention ä¸€èˆ¬ç”¨åœ¨ CNN å’Œ LSTM ä¸Šï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¿›è¡Œçº¯ Attention è®¡ç®—ã€‚</p>
<h4 id="cnnattention"><strong>1ï¼‰CNN+Attention</strong></h4>
<p>CNN çš„å·ç§¯æ“ä½œå¯ä»¥æå–é‡è¦ç‰¹å¾ï¼Œæˆ‘è§‰å¾—è¿™ä¹Ÿç®—æ˜¯ Attention çš„æ€æƒ³ï¼Œä½†æ˜¯ CNN çš„å·ç§¯æ„Ÿå—è§†é‡æ˜¯å±€éƒ¨çš„ï¼Œéœ€è¦é€šè¿‡å åŠ å¤šå±‚å·ç§¯åŒºå»æ‰©å¤§è§†é‡ã€‚å¦å¤–ï¼ŒMax Pooling ç›´æ¥æå–æ•°å€¼æœ€å¤§çš„ç‰¹å¾ï¼Œä¹Ÿåƒæ˜¯ hard attention çš„æ€æƒ³ï¼Œç›´æ¥é€‰ä¸­æŸä¸ªç‰¹å¾ã€‚</p>
<p>CNN ä¸ŠåŠ  Attention å¯ä»¥åŠ åœ¨è¿™å‡ æ–¹é¢ï¼š</p>
<ol type="a">
<li><p>åœ¨å·ç§¯æ“ä½œå‰åš attentionï¼Œæ¯”å¦‚ Attention-Based BCNN-1ï¼Œè¿™ä¸ªä»»åŠ¡æ˜¯æ–‡æœ¬è•´å«ä»»åŠ¡éœ€è¦å¤„ç†ä¸¤æ®µæ–‡æœ¬ï¼ŒåŒæ—¶å¯¹ä¸¤æ®µè¾“å…¥çš„åºåˆ—å‘é‡è¿›è¡Œ attentionï¼Œè®¡ç®—å‡ºç‰¹å¾å‘é‡ï¼Œå†æ‹¼æ¥åˆ°åŸå§‹å‘é‡ä¸­ï¼Œä½œä¸ºå·ç§¯å±‚çš„è¾“å…¥ã€‚</p></li>
<li><p>åœ¨å·ç§¯æ“ä½œååš attentionï¼Œæ¯”å¦‚ Attention-Based BCNN-2ï¼Œå¯¹ä¸¤æ®µæ–‡æœ¬çš„å·ç§¯å±‚çš„è¾“å‡ºåš attentionï¼Œä½œä¸º pooling å±‚çš„è¾“å…¥ã€‚</p></li>
<li><p>åœ¨ pooling å±‚åš attentionï¼Œä»£æ›¿ max poolingã€‚æ¯”å¦‚ Attention poolingï¼Œé¦–å…ˆæˆ‘ä»¬ç”¨ LSTM å­¦åˆ°ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å¥å‘é‡ï¼Œä½œä¸º queryï¼Œç„¶åç”¨ CNN å…ˆå­¦ä¹ åˆ°ä¸€ä¸ªç‰¹å¾çŸ©é˜µä½œä¸º keyï¼Œå†ç”¨ query å¯¹ key äº§ç”Ÿæƒé‡ï¼Œè¿›è¡Œ attentionï¼Œå¾—åˆ°æœ€åçš„å¥å‘é‡ã€‚</p></li>
</ol>
<h4 id="lstmattention"><strong>2ï¼‰LSTM+Attention</strong></h4>
<p>LSTM å†…éƒ¨æœ‰ Gate æœºåˆ¶ï¼Œå…¶ä¸­ input gate é€‰æ‹©å“ªäº›å½“å‰ä¿¡æ¯è¿›è¡Œè¾“å…¥ï¼Œforget gate é€‰æ‹©é—å¿˜å“ªäº›è¿‡å»ä¿¡æ¯ï¼Œæˆ‘è§‰å¾—è¿™ç®—æ˜¯ä¸€å®šç¨‹åº¦çš„ Attention äº†ï¼Œè€Œä¸”å·ç§°å¯ä»¥è§£å†³é•¿æœŸä¾èµ–é—®é¢˜ï¼Œå®é™…ä¸Š LSTM éœ€è¦ä¸€æ­¥ä¸€æ­¥å»æ•æ‰åºåˆ—ä¿¡æ¯ï¼Œåœ¨é•¿æ–‡æœ¬ä¸Šçš„è¡¨ç°æ˜¯ä¼šéšç€ step å¢åŠ è€Œæ…¢æ…¢è¡°å‡ï¼Œéš¾ä»¥ä¿ç•™å…¨éƒ¨çš„æœ‰ç”¨ä¿¡æ¯ã€‚</p>
<p>LSTM é€šå¸¸éœ€è¦å¾—åˆ°ä¸€ä¸ªå‘é‡ï¼Œå†å»åšä»»åŠ¡ï¼Œå¸¸ç”¨æ–¹å¼æœ‰ï¼š</p>
<ol type="a">
<li><p>ç›´æ¥ä½¿ç”¨æœ€åçš„ hidden stateï¼ˆå¯èƒ½ä¼šæŸå¤±ä¸€å®šçš„å‰æ–‡ä¿¡æ¯ï¼Œéš¾ä»¥è¡¨è¾¾å…¨æ–‡ï¼‰</p></li>
<li><p>å¯¹æ‰€æœ‰ step ä¸‹çš„ hidden state è¿›è¡Œç­‰æƒå¹³å‡ï¼ˆå¯¹æ‰€æœ‰ step ä¸€è§†åŒä»ï¼‰ã€‚</p></li>
<li><p>Attention æœºåˆ¶ï¼Œå¯¹æ‰€æœ‰ step çš„ hidden state è¿›è¡ŒåŠ æƒï¼ŒæŠŠæ³¨æ„åŠ›é›†ä¸­åˆ°æ•´æ®µæ–‡æœ¬ä¸­æ¯”è¾ƒé‡è¦çš„ hidden state ä¿¡æ¯ã€‚æ€§èƒ½æ¯”å‰é¢ä¸¤ç§è¦å¥½ä¸€ç‚¹ï¼Œè€Œæ–¹ä¾¿å¯è§†åŒ–è§‚å¯Ÿå“ªäº› step æ˜¯é‡è¦çš„ï¼Œä½†æ˜¯è¦å°å¿ƒè¿‡æ‹Ÿåˆï¼Œè€Œä¸”ä¹Ÿå¢åŠ äº†è®¡ç®—é‡ã€‚</p></li>
</ol>
<h4 id="çº¯-attention"><strong>3ï¼‰çº¯ Attention</strong></h4>
<p>Attention is all you needï¼Œæ²¡æœ‰ç”¨åˆ° CNN/RNNï¼Œä¹ä¸€å¬ä¹Ÿæ˜¯ä¸€è‚¡æ¸…æµäº†ï¼Œä½†æ˜¯ä»”ç»†ä¸€çœ‹ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€å †å‘é‡å»è®¡ç®— attentionã€‚æœ¬æ–‡æå‡ºäº†Transformerã€‚Transformer ä¹Ÿå¯ä»¥è§†ä¸ºä¸€ç§è‡ªå¸¦Attentionæœºåˆ¶çš„RNNã€‚å®ƒä½¿ç”¨äº†é—®é¢˜ã€é”®ã€å€¼ä¸‰ä¸ªå‘é‡ï¼Œè®©æƒé‡çš„è®¡ç®—å˜å¾—æ›´åŠ ç»†è‡´ã€‚</p>
<p>Transformerå¯ä»¥è¯´æ˜¯é›†è¿‘äº›å¹´çš„ç ”ç©¶ä¹‹äºå¤§æˆã€‚é‡Œé¢æ¶‰åŠåˆ°å¾ˆå¤šå¾ˆå¤šæŠ€æœ¯ç‚¹ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>Feed Forward Network</li>
<li>ResNetçš„æ€æƒ³</li>
<li>Positional Embedding è§£å†³è¾“å…¥æ—¶åºé—®é¢˜</li>
<li>Layer Normalization</li>
<li>Decoderä¸­çš„Masked Self-Attention</li>
</ul>
<figure>
<img src="/2020/07/06/attention-wiki/transformer_resideual_layer_norm_3.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p><img src="/2020/07/06/attention-wiki/self-attention-output.png" alt="img" style="zoom:50%;"></p>
<p><img src="/2020/07/06/attention-wiki/self-attention-matrix-calculation.png" alt="img" style="zoom:50%;"></p>
<p><img src="/2020/07/06/attention-wiki/self-attention-matrix-calculation-2.png" alt="img" style="zoom:50%;"></p>
<h3 id="ç›¸ä¼¼åº¦è®¡ç®—æ–¹å¼"><strong>5. ç›¸ä¼¼åº¦è®¡ç®—æ–¹å¼</strong></h3>
<p>åœ¨åš attention çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®— query å’ŒæŸä¸ª key çš„åˆ†æ•°ï¼ˆç›¸ä¼¼åº¦ï¼‰ï¼Œå¸¸ç”¨æ–¹æ³•æœ‰ï¼š</p>
<p>1ï¼‰ç‚¹ä¹˜ï¼šæœ€ç®€å•çš„æ–¹æ³•ï¼Œ <span class="math inline">\(s(q,k)=q^Tk\)</span></p>
<p>2ï¼‰çŸ©é˜µç›¸ä¹˜ï¼š <span class="math inline">\(s(q,k)=q^TWk\)</span></p>
<p>3ï¼‰cos ç›¸ä¼¼åº¦ï¼š <span class="math display">\[s(q,k)=\frac{q^T}{||q||Â·||k||}\]</span></p>
<p>4ï¼‰ä¸²è”æ–¹å¼ï¼šæŠŠ q å’Œ k æ‹¼æ¥èµ·æ¥ï¼Œ <span class="math display">\[s(q,k)=W[q;k]\]</span></p>
<p>5ï¼‰ç”¨å¤šå±‚æ„ŸçŸ¥æœºä¹Ÿå¯ä»¥ï¼š <span class="math display">\[s(q,k)=v^T_atanh(Wq+Uk)\]</span></p>
<h2 id="encoder-decoderæ¨¡å‹ç»“æ„">Encoder-Decoderæ¨¡å‹ç»“æ„</h2>
<p>ä»¥æœºå™¨ç¿»è¯‘æ¨¡å‹ä¸ºä¾‹ï¼š<a href="https://pytorch.org/tutorials/intermediate/seq2seq_translation_tutorial.html">åŸæ–‡</a></p>
<figure>
<img src="/2020/07/06/attention-wiki/seq2seq.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="/2020/07/06/attention-wiki/image-20200705230609732.png" alt="image-20200705230609732"><figcaption aria-hidden="true">image-20200705230609732</figcaption>
</figure>
<ul>
<li>Encoderçš„è¾“å…¥æ˜¯å¥å­ä¸­æ¯ä¸ªè¯å¯¹åº”çš„æ•°å­—ç¼–å·çš„åºåˆ—ï¼Œè¾“å‡ºçš„æ˜¯RNNæ¯ä¸€ä¸ªCellçš„ç›¸åº”Output Vectorï¼ˆæˆ–æ˜¯ä¸€æ¬¡åªè¾“å…¥ä¸€ä¸ªè¯çš„ç¼–å·ï¼Œç„¶åæ¯æ¬¡å¾—åˆ°ä¸€ä¸ªOutputï¼Œæœ€åæ‹¼æˆä¸€ä¸ªListï¼‰ã€‚å…¶RNNçš„åˆå§‹Hidden Layeræ˜¯éšæœºåˆå§‹åŒ–ï¼ˆRandomã€å…¨0ï¼‰çš„ã€‚</li>
<li>Decoderçš„ç¬¬ä¸€ä¸ªè¾“å…¥æ˜¯å¥å­èµ·å§‹ç¬¦<SOS>ï¼Œæ•°å­—ç¼–ç å¯ä»¥ä¸º0ï¼Œç„¶åHidden Layerä½¿ç”¨Encoderçš„æœ€åä¸€ä¸ªHidden Layer Valueåˆå§‹åŒ–ã€‚æ¯æ¬¡åªè¾“å…¥ä¸€ä¸ªInputæ•°å­—ç¼–å·ï¼Œç„¶åä¸‹ä¸€æ¬¡çš„Inputæˆ–ä½¿ç”¨ä¸Šæ¬¡çš„é¢„æµ‹ç»“æœï¼Œæˆ–æ˜¯ä½¿ç”¨Output Labelçš„ç›¸åº”å€¼ã€‚å‰è€…è¢«ç§°ä½œ<em>Teacher Forcing</em>ï¼Œåè€…æ˜¯<em>Without Teacher Forcing</em>ã€‚</SOS></li>
<li>Attentionæ˜¯åŠ åœ¨Decoderä¸Šçš„ã€‚Decoder çš„inputä¼šå…ˆåšembeddingï¼Œä¹‹åä¹ˆembeddingå’ŒHidden Layerå‚æ•°Concateåˆ°ä¸€èµ·ï¼Œå†è¿‡ä¸€ä¸ªFCï¼ˆ<strong>è¿‡FCå°±ç›¸å½“äºä¹˜ä¸Šäº†ä¸€ä¸ªå˜æ¢çŸ©é˜µäº†</strong>ï¼‰å°±å¾—åˆ°äº†Attentionã€‚è¿™ä¸ªç®—å‡ºæ¥çš„Attentionå†å’ŒEncoderçš„outputåšä¸€ä¸ª<code>torch.bmm</code>çŸ©é˜µä¹˜æ³•ï¼ˆ<span class="math inline">\([Batch\_Size*1*Length]*[Batch\_Size*Length*Hidden\_Size]\)</span>ï¼‰ï¼Œå¾—åˆ°ä¸€ä¸ªå‘é‡([<span class="math inline">\(Batch\_Size*1*Hidden\_Size\)</span>])ï¼Œè¿™ä¸ªæ•°å€¼å³ä¸ºè¯¥inputè¿‡äº†Attentionåçš„å€¼ã€‚è¯¥å€¼å†å’Œembeddingåçš„å€¼([<span class="math inline">\(Batch\_Size*1*Hidden\_Size\)</span>]) ä½¿ç”¨Concateæ‹¼åˆ°ä¸€èµ·ï¼Œè¿‡ä¸€ä¸ªFCï¼Œè¾“å‡ºä¸€ä¸ª([<span class="math inline">\(Batch\_Size*1*Hidden\_Size\)</span>])çš„å‘é‡ï¼Œå®ƒä¾¿æ˜¯æ–½åŠ äº†Attentionåçš„Inputã€‚è¿™é‡Œæœ¬è´¨ä¸Šä½¿ç”¨äº†å‰é¢æåˆ°çš„æƒå€¼è®¡ç®—æ–¹æ³•ä¸­çš„ <strong>ä¸²è”æ–¹å¼</strong>ã€‚</li>
<li>ç®€å•è¯´ï¼Œdecoderçš„inputå’Œhidden layeråªæ˜¯ç”¨æ¥è®¡ç®—encoderå„ä¸ªcellçš„outputçš„æƒé‡çš„ã€‚æ¯ä¸ªoutputæœ‰ç€hidden_sizeç»´åº¦ï¼Œä»–ä»¬æœ€ç»ˆæŒ‰ç…§attentionä½œä¸ºåŠ æƒæ±‚å’Œã€‚æˆ–æ˜¯è¯´ï¼š<strong>Decoderä¸­æ¯ä¸€ä¸ªCellï¼Œå»Encoderä¸­å¯»æ‰¾æœ€ç›¸å…³çš„è®°å¿†ã€‚</strong></li>
</ul>
<h2 id="ç½‘ç»œç»“æ„">ç½‘ç»œç»“æ„</h2>
<h3 id="embedding"><code>Embedding</code></h3>
<p><code>torch.nn.Embedding(*num_embeddings: int*, *embedding_dim: int*)</code></p>
<blockquote>
<p>To summarize <code>num_embeddings</code> is total number of unique elements in the vocabulary, and <code>embedding_dim</code> is the size of each embedded vector once passed through the embedding layer. Therefore, you can have a tensor of 10+ elements, as long as each element in the tensor is in the range <code>[0, 9]</code>, because you defined a vocabulary size of 10 elements.</p>
</blockquote>
<p>å³ç¬¬ä¸€ä¸ªæ•°<code>num_embedding</code>æŒ‡çš„æ˜¯ä½ çš„è¾“å…¥ä¸­æœ‰å¤šå°‘å¯èƒ½çš„å€¼ï¼Œæˆ–è€…è¯´è¯­æ–™åº“çš„å¤§å°ï¼›ç¬¬äºŒä¸ªæ•°<code>embedding_dim</code>æŒ‡çš„æ˜¯ç»™å®šä¸€ä¸ªinputï¼ˆä¸€ä¸ªdigitï¼‰ï¼Œè¾“å‡ºå‡ ä¸ªdigitã€‚</p>
<h3 id="bmm"><code>BMM</code></h3>
<p><code>torch.bmm(*input*, *mat2*, *deterministic=False*, *out=None*) â†’ Tensor</code></p>
<blockquote>
<p>Performs a batch matrix-matrix product of matrices stored in <code>input</code> and <code>mat2</code>.</p>
<p><code>input</code> and <code>mat2</code> must be 3-D tensors each containing the same number of matrices.</p>
<p>If <code>input</code> is a <span class="math inline">\((b \times n \times m)\)</span> tensor, <code>mat2</code> is a <span class="math inline">\((b \times m \times p)\)</span> tensor, <code>out</code> will be a <span class="math inline">\((b \times n \times p)\)</span>tensor.</p>
</blockquote>
<p>ç®€å•è¯´ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯åœ¨ä¸åŠ¨batchç»´åº¦çš„æƒ…å†µä¸‹å¯¹å…¶ä»–ç»´åº¦æ‰§è¡ŒçŸ©é˜µä¹˜æ³•ã€‚</p>
<h2 id="self-attention-ä¸-general-attentionåœ¨å®ç°ä¸Šçš„åŒºåˆ«">Self-Attention ä¸ General Attentionåœ¨å®ç°ä¸Šçš„åŒºåˆ«</h2>
<p>Self Attention æœ¬è´¨ä¸Šæ˜¯ä¹˜ä¸Šä¸€ä¸ªå’Œè¾“å…¥å‘é‡éœ€è¦åŠ Attentionçš„ç»´åº¦ç­‰é•¿çš„å‘é‡ï¼ˆ<code>nn.Parameter(torch.Tensor(1, D), requires_grad=True)</code>ï¼‰ï¼Œå¹¶åšçŸ©é˜µç›¸ä¹˜ã€‚å¦‚è¾“å…¥æ˜¯ä¸€ä¸ªé•¿ä¸ºLçš„å¥å­ï¼Œå¥å­ä¸­æ¯ä¸ªè¯çš„Embeddingé•¿åº¦æ˜¯Dï¼Œ batchä¸ºBï¼Œå³(B, L, D)ï¼Œ é‚£ä¹ˆè‹¥æ˜¯è¦å¯¹å¥å­çš„é•¿åº¦ç»´åº¦åšAttentionï¼Œåˆ™éœ€è¦ä¹˜ä¸€ä¸ªshapeä¸º(B, D, 1)çš„å‘é‡ï¼Œå¾—åˆ°çš„Output shapeä¸º(B, L, 1)ã€‚ä¹‹åè¿˜éœ€åšsoftmaxï¼Œå¥å­é•¿åº¦maskï¼Œç»“æœé™¤ä»¥å•è¯ä¸ªæ•°ä¿è¯æ‰€æœ‰weightåŠ èµ·æ¥ç­‰äºä¸€ï¼Œç„¶åå†ä½¿ç”¨è¿™ä¸ªoutputç‚¹ä¹˜inputï¼Œå³å¯å¾—åˆ°å’Œinput shapeç›¸åŒï¼Œä½†è¢«åŠ äº†Attentionåçš„å€¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Attention</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Pytorch self-attention layer code inspired from:</span></span><br><span class="line"><span class="string">    Link:</span></span><br><span class="line"><span class="string">        https://discuss.pytorch.org/t/self-attention-on-words-and-masking/5671/4</span></span><br><span class="line"><span class="string">    Original Web Page:</span></span><br><span class="line"><span class="string">        https://www.kaggle.com/dannykliu/lstm-with-attention-clr-in-pytorch</span></span><br><span class="line"><span class="string">    Usage:</span></span><br><span class="line"><span class="string">        In __init__():</span></span><br><span class="line"><span class="string">            self.atten1 = Attention(hidden_dim*2, batch_first=True) # 2 is bidrectional</span></span><br><span class="line"><span class="string">        In forward():</span></span><br><span class="line"><span class="string">            x, _ = self.atten1(x, lengths)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, hidden_size, batch_first=<span class="literal">True</span>, device=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>(Attention, self).__init__()</span><br><span class="line"></span><br><span class="line">        self.hidden_size = hidden_size</span><br><span class="line">        self.batch_first = batch_first</span><br><span class="line">        <span class="keyword">if</span> device <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            self.device = <span class="string">&quot;cuda&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.device = device</span><br><span class="line"></span><br><span class="line">        self.att_weights = nn.Parameter(</span><br><span class="line">            torch.Tensor(<span class="number">1</span>, hidden_size), requires_grad=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        stdv = <span class="number">1.0</span> / np.sqrt(self.hidden_size)</span><br><span class="line">        <span class="keyword">for</span> weight <span class="keyword">in</span> self.att_weights:</span><br><span class="line">            nn.init.uniform_(weight, -stdv, stdv)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_mask</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, inputs, lengths</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.batch_first:</span><br><span class="line">            batch_size, max_len = inputs.size()[:<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            max_len, batch_size = inputs.size()[:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># apply attention layer</span></span><br><span class="line">        weights = torch.bmm(inputs,</span><br><span class="line">                            self.att_weights  <span class="comment"># (1, hidden_size)</span></span><br><span class="line">                            .permute(<span class="number">1</span>, <span class="number">0</span>)  <span class="comment"># (hidden_size, 1)</span></span><br><span class="line">                            .unsqueeze(<span class="number">0</span>)  <span class="comment"># (1, hidden_size, 1)</span></span><br><span class="line">                            <span class="comment"># (batch_size, hidden_size, 1)</span></span><br><span class="line">                            .repeat(batch_size, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">                            )</span><br><span class="line"></span><br><span class="line">        attentions = torch.softmax(F.relu(weights.squeeze()), dim=-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># create mask based on the sentence lengths</span></span><br><span class="line">        mask = torch.ones(attentions.size(), requires_grad=<span class="literal">True</span>).to(self.device)</span><br><span class="line">        <span class="keyword">for</span> i, l <span class="keyword">in</span> <span class="built_in">enumerate</span>(lengths):  <span class="comment"># skip the first sentence</span></span><br><span class="line">            <span class="keyword">if</span> l &lt; max_len:</span><br><span class="line">                mask[i, l:] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># apply mask and renormalize attention scores (weights)</span></span><br><span class="line">        masked = attentions * mask</span><br><span class="line">        _sums = masked.<span class="built_in">sum</span>(-<span class="number">1</span>).unsqueeze(-<span class="number">1</span>)  <span class="comment"># sums per row</span></span><br><span class="line"></span><br><span class="line">        attentions = masked.div(_sums)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># apply attention weights</span></span><br><span class="line">        weighted = torch.mul(</span><br><span class="line">            inputs, attentions.unsqueeze(-<span class="number">1</span>).expand_as(inputs))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># get the final fixed vector representations of the sentences</span></span><br><span class="line">        representations = weighted.<span class="built_in">sum</span>(<span class="number">1</span>).squeeze()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> representations, attentions</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è€ŒGeneral Attentionçš„æœ¬è´¨åˆ™æ˜¯ä¸€ä¸ªFCï¼ˆå³ä¸€ä¸ªæ˜ å°„çŸ©é˜µï¼‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EncoderRNN</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, input_size, hidden_size</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(EncoderRNN, self).__init__()</span><br><span class="line">        self.hidden_size = hidden_size</span><br><span class="line"></span><br><span class="line">        self.embedding = nn.Embedding(input_size, hidden_size)</span><br><span class="line">        self.gru = nn.GRU(hidden_size, hidden_size)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, <span class="built_in">input</span>, hidden</span>):</span></span><br><span class="line">        embedded = self.embedding(<span class="built_in">input</span>).view(<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>)</span><br><span class="line">        output = embedded</span><br><span class="line">        output, hidden = self.gru(output, hidden)</span><br><span class="line">        <span class="keyword">return</span> output, hidden</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initHidden</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> torch.zeros(<span class="number">1</span>, <span class="number">1</span>, self.hidden_size, device=device)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AttnDecoderRNN</span>(<span class="params">nn.Module</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, hidden_size, output_size, dropout_p=<span class="number">0.1</span>, max_length=MAX_LENGTH</span>):</span></span><br><span class="line">        <span class="built_in">super</span>(AttnDecoderRNN, self).__init__()</span><br><span class="line">        self.hidden_size = hidden_size</span><br><span class="line">        self.output_size = output_size</span><br><span class="line">        self.dropout_p = dropout_p</span><br><span class="line">        self.max_length = max_length</span><br><span class="line"></span><br><span class="line">        self.embedding = nn.Embedding(self.output_size, self.hidden_size)</span><br><span class="line">        self.attn = nn.Linear(self.hidden_size * <span class="number">2</span>, self.max_length)</span><br><span class="line">        self.attn_combine = nn.Linear(self.hidden_size * <span class="number">2</span>, self.hidden_size)</span><br><span class="line">        self.dropout = nn.Dropout(self.dropout_p)</span><br><span class="line">        self.gru = nn.GRU(self.hidden_size, self.hidden_size)</span><br><span class="line">        self.out = nn.Linear(self.hidden_size, self.output_size)</span><br><span class="line">	</span><br><span class="line">    <span class="comment"># input: (1)</span></span><br><span class="line">    <span class="comment"># hidden: (1, D)</span></span><br><span class="line">    <span class="comment"># encoder_outputs: (L, D)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, <span class="built_in">input</span>, hidden, encoder_outputs</span>):</span></span><br><span class="line">        embedded = self.embedding(<span class="built_in">input</span>).view(<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>) <span class="comment"># (1, 1, D)</span></span><br><span class="line">        embedded = self.dropout(embedded) <span class="comment"># (1, 1, D)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># (1, 2D) -&gt; (1, L)</span></span><br><span class="line">        attn_weights = F.softmax(</span><br><span class="line">            self.attn(torch.cat((embedded[<span class="number">0</span>], hidden[<span class="number">0</span>]), <span class="number">1</span>)), dim=<span class="number">1</span>) </span><br><span class="line">        </span><br><span class="line">        <span class="comment"># (1, 1, L) x (1, L, D) -&gt; (1, 1, D)</span></span><br><span class="line">        attn_applied = torch.bmm(attn_weights.unsqueeze(<span class="number">0</span>),</span><br><span class="line">                                 encoder_outputs.unsqueeze(<span class="number">0</span>)) </span><br><span class="line"></span><br><span class="line">        output = torch.cat((embedded[<span class="number">0</span>], attn_applied[<span class="number">0</span>]), <span class="number">1</span>) <span class="comment"># (1, 2D)</span></span><br><span class="line">        output = self.attn_combine(output).unsqueeze(<span class="number">0</span>) <span class="comment"># (1, 1, D)</span></span><br><span class="line"></span><br><span class="line">        output = F.relu(output) <span class="comment"># (1, 1, D)</span></span><br><span class="line">        output, hidden = self.gru(output, hidden) <span class="comment"># (1, D)</span></span><br><span class="line"></span><br><span class="line">        output = F.log_softmax(self.out(output[<span class="number">0</span>]), dim=<span class="number">1</span>) <span class="comment"># (1, output_size)</span></span><br><span class="line">        <span class="keyword">return</span> output, hidden, attn_weights</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initHidden</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> torch.zeros(<span class="number">1</span>, <span class="number">1</span>, self.hidden_size, device=device)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">teacher_forcing_ratio = <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span>(<span class="params">input_tensor, target_tensor, encoder, decoder, encoder_optimizer, decoder_optimizer, criterion, max_length=MAX_LENGTH</span>):</span></span><br><span class="line">    encoder_hidden = encoder.initHidden()</span><br><span class="line"></span><br><span class="line">    encoder_optimizer.zero_grad()</span><br><span class="line">    decoder_optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line">    input_length = input_tensor.size(<span class="number">0</span>)</span><br><span class="line">    target_length = target_tensor.size(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    encoder_outputs = torch.zeros(max_length, encoder.hidden_size, device=device)</span><br><span class="line"></span><br><span class="line">    loss = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ei <span class="keyword">in</span> <span class="built_in">range</span>(input_length):</span><br><span class="line">        encoder_output, encoder_hidden = encoder(</span><br><span class="line">            input_tensor[ei], encoder_hidden)</span><br><span class="line">        encoder_outputs[ei] = encoder_output[<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    decoder_input = torch.tensor([[SOS_token]], device=device)</span><br><span class="line"></span><br><span class="line">    decoder_hidden = encoder_hidden</span><br><span class="line"></span><br><span class="line">    use_teacher_forcing = <span class="literal">True</span> <span class="keyword">if</span> random.random() &lt; teacher_forcing_ratio <span class="keyword">else</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> use_teacher_forcing:</span><br><span class="line">        <span class="comment"># Teacher forcing: Feed the target as the next input</span></span><br><span class="line">        <span class="keyword">for</span> di <span class="keyword">in</span> <span class="built_in">range</span>(target_length):</span><br><span class="line">            decoder_output, decoder_hidden, decoder_attention = decoder(</span><br><span class="line">                decoder_input, decoder_hidden, encoder_outputs)</span><br><span class="line">            loss += criterion(decoder_output, target_tensor[di])</span><br><span class="line">            decoder_input = target_tensor[di]  <span class="comment"># Teacher forcing</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># Without teacher forcing: use its own predictions as the next input</span></span><br><span class="line">        <span class="keyword">for</span> di <span class="keyword">in</span> <span class="built_in">range</span>(target_length):</span><br><span class="line">            decoder_output, decoder_hidden, decoder_attention = decoder(</span><br><span class="line">                decoder_input, decoder_hidden, encoder_outputs)</span><br><span class="line">            topv, topi = decoder_output.topk(<span class="number">1</span>)</span><br><span class="line">            decoder_input = topi.squeeze().detach()  <span class="comment"># detach from history as input</span></span><br><span class="line"></span><br><span class="line">            loss += criterion(decoder_output, target_tensor[di])</span><br><span class="line">            <span class="keyword">if</span> decoder_input.item() == EOS_token:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    loss.backward()</span><br><span class="line"></span><br><span class="line">    encoder_optimizer.step()</span><br><span class="line">    decoder_optimizer.step()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> loss.item() / target_length</span><br></pre></td></tr></table></figure>
<h2 id="reference">Reference</h2>
<ol type="1">
<li><a href="https://pytorch.org/tutorials/intermediate/seq2seq_translation_tutorial.html">NLP FROM SCRATCH: TRANSLATION WITH A SEQUENCE TO SEQUENCE NETWORK AND ATTENTION</a></li>
<li><a href="https://easyai.tech/ai-definition/attention/">Attention æœºåˆ¶ -- EasyAI</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/35739040">Attentionç”¨äºNLPçš„ä¸€äº›å°ç»“</a></li>
<li><a href="https://github.com/EvilPsyCHo/Attention-PyTorch">Attention-PyTorch</a></li>
<li><a href="https://github.com/AuCson/PyTorch-Batch-Attention-Seq2seq/blob/master/attentionRNN.py">Pytorch Batch Attention Seq-2-Seq</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/47282410">Attentionæœºåˆ¶è¯¦è§£ï¼ˆäºŒï¼‰â€”â€”Self-Attentionä¸Transformer</a></li>
<li><a href="https://jalammar.github.io/illustrated-transformer/">The Illustrated Transformer</a></li>
<li><a href="https://jalammar.github.io/visualizing-neural-machine-translation-mechanics-of-seq2seq-models-with-attention/">Visualizing A Neural Machine Translation Model (Mechanics of Seq2seq Models With Attention)</a></li>
<li><a href="https://www.zhihu.com/question/68482809">çŸ¥ä¹ï¼šç›®å‰ä¸»æµçš„attentionæ–¹æ³•éƒ½æœ‰å“ªäº›ï¼Ÿ</a></li>
</ol>
]]></content>
      <tags>
        <tag>machine-learning</tag>
        <tag>deep-learning</tag>
        <tag>attention</tag>
      </tags>
  </entry>
  <entry>
    <title>Multi-Spectral Imaging æ•°æ®é‡‡é›†å‰æœŸè°ƒç ”</title>
    <url>/2020/10/16/hsi-pre-data-collection/</url>
    <content><![CDATA[<h2 id="equipment">Equipment</h2>
<h3 id="flir-blackfly-s-rgb-camera">FLIR Blackfly S RGB Camera</h3>
<ol type="1">
<li><p>Spectral Range:</p>
<ul>
<li>Blue: 460 nm</li>
<li>Green: 530 nm</li>
<li>Red: 625 nm</li>
</ul></li>
<li><p>Resolution: 720 Ã— 540</p></li>
<li><p>FPS: 522</p>
<span id="more"></span></li>
<li><p>Dimensions [W x H x L]: 29 mm Ã— 29 mm Ã— 30 mm</p></li>
<li><p>Official Link: <a href="https://www.flir.com/products/blackfly-s-usb3/">Link</a></p></li>
</ol>
<h3 id="ximea-mq022hg-im-sm5x5-nir-multispectral-camera">XIMEA MQ022HG-IM-SM5X5-NIR Multispectral Camera</h3>
<ol type="1">
<li>Spectral Range: 665~975nm</li>
<li>Resolution:
<ul>
<li>Original: 2048 Ã— 1088</li>
<li>Spatial: 409 Ã— 217</li>
</ul></li>
<li>FPS: up to 170 cubes/sec</li>
<li>Sensor size: 2/3"</li>
<li>Dimensions WxHxD: 26 x 26 x 31 mm</li>
<li>Pixel size: 5.5 Âµm</li>
<li>Python multispectral processing lib: <a href="http://www.spectralpython.net/#documentation">Link</a></li>
<li>Camera control official python lib: <a href="https://www.ximea.com/support/wiki/apis/Python">Link</a></li>
<li>Official brief specification: <a href="https://www.ximea.com/files/brochures/xiSpec-Hyperspectral-cameras-2015-brochure.pdf">Link</a></li>
<li>Official Page: <a href="https://www.ximea.com/en/products/hyperspectral-cameras-based-on-usb3-xispec/mq022hg-im-sm5x5-nir">Link</a></li>
</ol>
<table>
<thead>
<tr class="header">
<th>Full Specifications:</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Part Number</strong></td>
<td>MQ022HG-IM-SM5X5-NIR</td>
</tr>
<tr class="even">
<td><strong>Resolution</strong></td>
<td>Original: 2048 Ã— 1088 Spatial: 409 Ã— 217</td>
</tr>
<tr class="odd">
<td><strong>Frame rates</strong></td>
<td>up to 170 cubes/sec</td>
</tr>
<tr class="even">
<td><strong>Sensor type</strong></td>
<td>CMOS, Hyperspectral filters added at wafer-level</td>
</tr>
<tr class="odd">
<td><strong>Sensor model</strong></td>
<td>IMEC SNm5x5</td>
</tr>
<tr class="even">
<td><strong>Sensor size</strong></td>
<td>2/3"</td>
</tr>
<tr class="odd">
<td><strong>Sensor active area</strong></td>
<td>25 Bands</td>
</tr>
<tr class="even">
<td><strong>Readout Method</strong></td>
<td>Snapshot Mosaic</td>
</tr>
<tr class="odd">
<td><strong>Pixel size</strong></td>
<td>5.5 Âµm</td>
</tr>
<tr class="even">
<td><strong>ADC -Bits per pixel</strong></td>
<td>8, 10 bit RAW pixel data</td>
</tr>
<tr class="odd">
<td><strong>Data interface</strong></td>
<td>USB 3.1 Gen1 or PCI Express (xiX camera model)</td>
</tr>
<tr class="even">
<td><strong>Data I/O</strong></td>
<td>GPIO IN, OUT</td>
</tr>
<tr class="odd">
<td><strong>Power consumption</strong></td>
<td>1.6 Watt</td>
</tr>
<tr class="even">
<td><strong>Lens mount</strong></td>
<td>C or CS Mount</td>
</tr>
<tr class="odd">
<td><strong>Weight</strong></td>
<td>32 grams</td>
</tr>
<tr class="even">
<td><strong>Dimensions WxHxD</strong></td>
<td>26 x 26 x 31 mm</td>
</tr>
<tr class="odd">
<td><strong>Operating temperature</strong></td>
<td>50 Â°C</td>
</tr>
<tr class="even">
<td><strong>Spectral range</strong></td>
<td>665-975 nm</td>
</tr>
<tr class="odd">
<td><strong>Customs tariff code</strong></td>
<td>8525.80 30 (EU) / 8525.80 40 (USA)</td>
</tr>
<tr class="even">
<td><strong>ECCN</strong></td>
<td>EAR99</td>
</tr>
</tbody>
</table>
<h3 id="seek-compact-pro-thermal-camera">Seek Compact Pro Thermal Camera</h3>
<ol type="1">
<li>Seek Compact Pro: 7500~14000 nm</li>
<li>Resolution: <strong>320 x 240</strong></li>
<li>Field of view: <strong>32Â°</strong></li>
<li>Frame rate: <strong>&lt; 9 Hz</strong></li>
<li>Focusable lens</li>
<li>Platform: Android or iOS (Linux 3rd-party binary library)</li>
<li>Specification Sheet: <a href="https://www.thermal.com/uploads/1/0/1/3/101388544/compactpro-sellsheet-website.pdf">Link</a></li>
</ol>
<h2 id="introduction">Introduction</h2>
<p>Full spectrum:</p>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/2880px-EM_spectrum.svg.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/2880px-EM_Spectrum_Properties_edit_zh.svg.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/Atmospheric_electromagnetic_opacity.svg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/200px-Light_spectrum.svg.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<h3 id="different-infrared"><strong>Different Infrared:</strong></h3>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 15%">
<col style="width: 11%">
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 15%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Division name</th>
<th style="text-align: center;">Abbreviation</th>
<th style="text-align: center;">Wavelength</th>
<th style="text-align: center;">Frequency</th>
<th style="text-align: center;">Photon energy</th>
<th style="text-align: center;">Temperature[<a href="https://en.wikipedia.org/wiki/Infrared#cite_note-â€ -15">i]</a></th>
<th style="text-align: center;">Characteristics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Near-infrared</td>
<td style="text-align: center;">NIR, IR-A <em><a href="https://en.wikipedia.org/wiki/DIN">DIN</a></em></td>
<td style="text-align: center;">0.75â€“1.4 <a href="https://en.wikipedia.org/wiki/Îœm">Î¼m</a></td>
<td style="text-align: center;">214â€“400 <a href="https://en.wikipedia.org/wiki/Terahertz_(unit)">THz</a></td>
<td style="text-align: center;">886â€“1653 <a href="https://en.wikipedia.org/wiki/MeV">meV</a></td>
<td style="text-align: center;">3,864â€“2,070 <a href="https://en.wikipedia.org/wiki/Kelvin">K</a> (3,591â€“1,797 <a href="https://en.wikipedia.org/wiki/Celsius">Â°C</a>)</td>
<td style="text-align: center;">Defined by water absorption,[<em><a href="https://en.wikipedia.org/wiki/Wikipedia:Please_clarify">clarification needed</a></em>] and commonly used in <a href="https://en.wikipedia.org/wiki/Fiber_optic">fiber optic</a> telecommunication because of low attenuation losses in the SiO2 glass (<a href="https://en.wikipedia.org/wiki/Silica">silica</a>) medium. <a href="https://en.wikipedia.org/wiki/Image_intensifier">Image intensifiers</a> are sensitive to this area of the spectrum; examples include <a href="https://en.wikipedia.org/wiki/Night_vision">night vision</a> devices such as night vision goggles. <a href="https://en.wikipedia.org/wiki/Near-infrared_spectroscopy">Near-infrared spectroscopy</a> is another common application.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Short-wavelength infrared</td>
<td style="text-align: center;">SWIR, IR-B <em>DIN</em></td>
<td style="text-align: center;">1.4â€“3 Î¼m</td>
<td style="text-align: center;">100â€“214 THz</td>
<td style="text-align: center;">413â€“886 meV</td>
<td style="text-align: center;">2,070â€“966 <a href="https://en.wikipedia.org/wiki/Kelvin">K</a> (1,797â€“693 <a href="https://en.wikipedia.org/wiki/Celsius">Â°C</a>)</td>
<td style="text-align: center;">Water absorption increases significantly at 1450 nm. The 1530 to 1560 nm range is the dominant spectral region for long-distance telecommunications.</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Mid-wavelength infrared</td>
<td style="text-align: center;">MWIR, IR-C <em>DIN</em>; MidIR.[<a href="https://en.wikipedia.org/wiki/Infrared#cite_note-rdmag20120908-16">15]</a> Also called intermediate infrared (IIR)</td>
<td style="text-align: center;">3â€“8 Î¼m</td>
<td style="text-align: center;">37â€“100 THz</td>
<td style="text-align: center;">155â€“413 meV</td>
<td style="text-align: center;">966â€“362 <a href="https://en.wikipedia.org/wiki/Kelvin">K</a> (693â€“89 <a href="https://en.wikipedia.org/wiki/Celsius">Â°C</a>)</td>
<td style="text-align: center;">In guided missile technology the 3â€“5 Î¼m portion of this band is the atmospheric window in which the homing heads of passive IR 'heat seeking' missiles are designed to work, homing on to the <a href="https://en.wikipedia.org/wiki/Infrared_signature">Infrared signature</a> of the target aircraft, typically the jet engine exhaust plume. This region is also known as thermal infrared.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Long-wavelength infrared</td>
<td style="text-align: center;">LWIR, IR-C <em>DIN</em></td>
<td style="text-align: center;">8â€“15 Î¼m</td>
<td style="text-align: center;">20â€“37 THz</td>
<td style="text-align: center;">83â€“155 meV</td>
<td style="text-align: center;">362â€“193 <a href="https://en.wikipedia.org/wiki/Kelvin">K</a> (89 â€“ âˆ’80 <a href="https://en.wikipedia.org/wiki/Celsius">Â°C</a>)</td>
<td style="text-align: center;">The "thermal imaging" region, in which sensors can obtain a completely passive image of objects only slightly higher in temperature than room temperature - for example, the human body - based on thermal emissions only and requiring no illumination such as the sun, moon, or infrared illuminator. This region is also called the "thermal infrared".</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="https://en.wikipedia.org/wiki/Far_infrared">Far infrared</a></td>
<td style="text-align: center;">FIR</td>
<td style="text-align: center;">15â€“1000 Î¼m</td>
<td style="text-align: center;">0.3â€“20 THz</td>
<td style="text-align: center;">1.2â€“83 meV</td>
<td style="text-align: center;">193â€“3 <a href="https://en.wikipedia.org/wiki/Kelvin">K</a> (âˆ’80.15 â€“ âˆ’270.15 <a href="https://en.wikipedia.org/wiki/Celsius">Â°C</a>)</td>
<td style="text-align: center;">(see also <a href="https://en.wikipedia.org/wiki/Far-infrared_laser">far-infrared laser</a> and <a href="https://en.wikipedia.org/wiki/Far_infrared">far infrared</a>)</td>
</tr>
</tbody>
</table>
<h2 id="thermal">Thermal</h2>
<h3 id="dataset">Dataset</h3>
<ol type="1">
<li><p><a href="https://www.flir.com/oem/adas/adas-dataset-form/">FREE FLIR Thermal Dataset for Algorithm Training</a></p>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/image-20200716161001770.png" alt="image-20200716161001770"><figcaption aria-hidden="true">image-20200716161001770</figcaption>
</figure>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/image-20200716161013251.png" alt="image-20200716161013251"><figcaption aria-hidden="true">image-20200716161013251</figcaption>
</figure></li>
<li><p><a href="https://soonminhwang.github.io/rgbt-ped-detection/">KAIST Multispectral Pedestrian Detection Benchmark</a> [2018] <a href="https://www-users.cs.umn.edu/~jsyoon/JaeShin_homepage/kaist_multispectral.pdf">Paper</a></p>
<p>Contain day and night scenarios. Human with bounding box. RGB-Thermal pair.</p>
<p>The KAIST Multispectral Pedestrian Dataset consists of 95k color-thermal pairs (640x480, 20Hz) taken from a vehicle. All the pairs are manually annotated (person, people, cyclist) for the total of 103,128 dense annotations and 1,182 unique pedestrians.</p>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/teaser.png" alt="teaserImage"><figcaption aria-hidden="true">teaserImage</figcaption>
</figure></li>
</ol>
<h2 id="real-multispectral">Real-Multispectral</h2>
<ol type="1">
<li><p><a href="https://sites.google.com/site/hyperspectralcolorimaging/dataset">Hyperspectral Images Database</a> [2017]</p>
<p><strong>Visible Range MSI</strong></p>
<p>NUS hyperspectral images database: 52 Outdoor Scene, 35 Indoor Scene, 33 Individual Fruit Scene, 11 Group Fruit Scene, 13 Real vs Fake Fruit Scene, 44 color Charts &amp; Patches Scene.</p></li>
</ol>
<p>It consists of various indoor and outdoor scenes taken with a SPECIM hyperspectral camera and multiple consumer cameras. For consumer cameras, camera-specific RAW format that is free of any manipulation, is available. For easier classification, this hyperspectral camera dataset has been categorized into the following categories:</p>
<ul>
<li><a href="https://sites.google.com/site/hyperspectralcolorimaging/dataset/general-scenes">General Scenes (Outdoor &amp; Indoor)</a></li>
<li><a href="https://sites.google.com/site/hyperspectralcolorimaging/dataset/fruits">Fruits</a></li>
<li><a href="https://sites.google.com/site/hyperspectralcolorimaging/dataset/color-patches">Color Charts and Patches</a></li>
</ul>
<p>Additionally, our spectral data can be visualized using the professional software by <a href="http://scyllarus.research.nicta.com.au/">Scyllarus Matlab/C++ toolbox</a>.</p>
<p>Relevant Code <a href="https://github.com/trangreyle/gene-color-mapping">GitHub</a></p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729094343425.png" alt="image-20200729094343425" style="zoom: 50%;"></p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729094355733.png" alt="image-20200729094355733" style="zoom:50%;"></p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729094407105.png" alt="image-20200729094407105" style="zoom:50%;"></p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729094457881.png" alt="image-20200729094457881" style="zoom:50%;"></p>
<ol start="2" type="1">
<li><p><a href="https://biic.wvu.edu/data-sets/multispectral-dataset">Multispectral Dataset from west virginia university</a></p>
<ol type="1">
<li>SWIR Biometrics Dataset: <strong>SWIR</strong></li>
<li>WVU Multispectral Face Database: Three types of camera are used: <strong>RGB, Multi(RGB+NIR), SWIR</strong></li>
<li>Multispectral Imaging (Iris) Database:</li>
</ol></li>
<li><p><a href="https://www.mi.t.u-tokyo.ac.jp/static/projects/mil_multispectral/">Multispectral Image Recognition</a></p>
<ol type="1">
<li>Multi-spectral Object Detection</li>
</ol>
<p><strong>RGB, Near-infrared (NIR), Mid-wavelength infrared (MIR), and Far infrared (FIR)</strong> from the left. Objects are labeled and bounding box predicted.</p>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/det_result.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<ol start="2" type="1">
<li>Multi-spectral Semantic Segmentation</li>
</ol>
<p>RGB-Thermal dataset with semantic segmentation</p>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/predictionExamples_good.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure></li>
<li><p><a href="https://projects.ics.forth.gr/cvrl/msi/">Multispectral Imaging (MSI) datasets</a>: Painting multispectral images. Not paired. Not ordinary objects.</p>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/image-20200727175214182.png" alt="image-20200727175214182"><figcaption aria-hidden="true">image-20200727175214182</figcaption>
</figure></li>
<li><p><a href="https://www.cs.columbia.edu/CAVE/databases/multispectral/">CAVE Multispectral Image Database</a></p>
<p><strong>Visible Range MSI:</strong> <strong>400nm to 700nm</strong></p>
<p>It only has 32 multispectral &amp; RGB image pairs... Be careful to use it. Each image has 31 bands, and they are separated.</p>
<table>
<thead>
<tr class="header">
<th>Camera</th>
<th><a href="http://www.ccd.com/alta_u260.html">Cooled CCD camera (Apogee Alta U260)</a></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Resolution</td>
<td>512 x 512 pixel</td>
</tr>
<tr class="even">
<td>Filter</td>
<td><a href="http://www.cri-inc.com/products/varispec.asp">VariSpec liquid crystal tunable filter</a></td>
</tr>
<tr class="odd">
<td>Illuminant</td>
<td>CIE Standard Illuminant D65</td>
</tr>
<tr class="even">
<td>Range of wevelength</td>
<td>400nm - 700nm</td>
</tr>
<tr class="odd">
<td>Steps</td>
<td>10nm</td>
</tr>
<tr class="even">
<td>Number of band</td>
<td>31 band</td>
</tr>
<tr class="odd">
<td>Focal length</td>
<td>f/1.4</td>
</tr>
<tr class="even">
<td>Focus</td>
<td>Fixed (focused using 550nm image)</td>
</tr>
<tr class="odd">
<td>Image format</td>
<td>PNG (16bit)</td>
</tr>
</tbody>
</table>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/teaser-20200727174750119.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure></li>
<li><p><a href="http://www.cvc.uab.es/color_calibration/Bristol_Hyper/">Bristol Hyperspectral Images Database</a> [1995]</p>
<p><strong>Visible Range MSI</strong></p>
<p>The database consists of <strong>29 scenes</strong>, each composed by <strong>31 spectrally filtered images</strong> (256 x 256 x 256 grey levels). Each scene has been compressed (zipped) and can be downloaded separately by clicking on the corresponding picture. Please bear in mind that all individual images have a 32 bytes header. To download the whole database at once, just click <a href="http://www.cvc.uab.es/color_calibration/Bristol_Hyper/brelstaff.tar.gz">here</a>.</p>
<p>There is some code and miscellaneous files <a href="http://www.cvc.uab.es/color_calibration/Bristol_Hyper/src/Src.zip">here</a> (these need to be run in order to make use of the images as physical measurements). A more complete description on how the images were gathered and some issues on the camera's technicalities can be found <a href="http://www.cvc.uab.es/color_calibration/Bristol_Hyper/2-TECH.pdf">here</a>.</p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729095320320.png" alt="image-20200729095320320" style="zoom:50%;"></p></li>
<li><p><a href="http://vision.seas.harvard.edu/hyperspec/">Harvard Real-World Hyperspectral Images</a> [2011]</p>
<p><strong>Visible Range MSI:</strong> <strong>420nm to 720nm</strong></p>
<p>The camera uses an integrated liquid crystal tunable filter and is capable of acquiring a hyperspectral image by sequentially tuning the filter through a series of <strong>31 narrow wavelength bands</strong>, each with approximately 10nm bandwidth and centered at steps of 10nm from <strong>420nm to 720nm</strong>.</p>
<p>The captured dataset includes images of both indoor and outdoor scenes featuring a diversity of objects, materials and scale.</p>
<p>This is a database of <strong>50</strong> hyperspectral images of indoor and outdoor scenes under daylight illumination, and an additional <strong>25</strong> images under artificial and mixed illumination. The images were captured using a commercial hyperspectral camera (Nuance FX, CRI Inc) with an integrated liquid crystal tunable filter capable of acquiring a hyperspectral image by sequentially tuning the filter through a series of thirty-one narrow wavelength bands, each with approximately 10nm bandwidth and centered at steps of 10nm from 420nm to 720nm. The camera is equipped with an apo-chromatic lens and the images were captured with the smallest viable aperture setting, thus largely avoiding chromatic aberration. All the images are of static scenes, with labels to mask out regions with movement during exposure.</p>
<p>This database is available for non-commercial research use. The data is available as a series of MATLAB .mat files (one for each image) containing both the images data and masks. Since the size of the download is large (around 5.5 + 2.2 GB), we ask that you send an e-mail to the authors at <strong>ayanc[at]eecs[dot]harvard[dot]edu</strong> for the download link. If you use this data in an academic publication, kindly cite the following paper:</p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729100019504.png" alt="image-20200729100019504" style="zoom:50%;"></p></li>
<li><p><a href="http://colour.cmp.uea.ac.uk/datasets/multispectral.html">UAE multispectral image database</a></p>
<p><strong>Visible Range MSI:</strong> <strong>400nm to 700nm</strong></p>
<p>Wavelength range from 400nm to 700nm at 10nm steps (31 samples). The image matrix for each object is 31xWIDTHxHEIGHT. The images have been captured in a VeriVide viewing booth with a black cloth background under CIE illuminant D75. Each image has been captured twice: once with a white tile and once without. The illuminant has been estimated from the white tile and the spectral data divided by this estimate, in order to arrive at reflectance measurements. The images below are displayed sRGB values rendered under a neutral daylight (D65).</p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729100842353.png" alt="image-20200729100842353" style="zoom:33%;"></p></li>
<li><p><a href="http://personalpages.manchester.ac.uk/staff/david.foster/default.html">Manchester hyperspectral images Dataset<strong>s</strong></a></p>
<p><strong>Visible Range MSI:</strong> 400, 410, ..., 720 nm</p>
<p>Multiple MSI datasets included:</p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729101027937.png" alt="image-20200729101027937" style="zoom:50%;"></p>
<ul>
<li><p><a href="https://personalpages.manchester.ac.uk/staff/david.foster/Time-Lapse_HSIs/Time-Lapse_HSIs_2015.html">Time-Lapse Hyperspectral Radiance Images of Natural Scenes 2015</a></p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729101135099.png" alt="image-20200729101135099" style="zoom:33%;"></p></li>
<li><p><a href="https://personalpages.manchester.ac.uk/staff/david.foster/Local_Illumination_HSIs/Local_Illumination_HSIs_2015.html">Hyperspectral Images for Local Illumination in Natural Scenes 2015</a></p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729101232518.png" alt="image-20200729101232518" style="zoom:50%;"></p></li>
<li><p><a href="https://personalpages.manchester.ac.uk/staff/david.foster/Hyperspectral_images_of_natural_scenes_02.html">Hyperspectral Images of Natural Scenes 2002</a></p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729101343922.png" alt="image-20200729101343922" style="zoom:50%;"></p></li>
<li><p><a href="https://personalpages.manchester.ac.uk/staff/david.foster/Hyperspectral_images_of_natural_scenes_04.html">Hyperspectral Images of Natural Scenes 2004</a></p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729101441578.png" alt="image-20200729101441578" style="zoom:50%;"></p></li>
</ul></li>
<li><p><a href="https://pythonhosted.org/bob.db.cbsr_nir_vis_2/">BOB NIR+VIS Face Database</a> [2013]</p>
<p>It consists of 725 subjects in total. There are [1-22] VIS and [5-50] NIR face images per subject. The eyes positions are also distributed with the images.</p>
<p><img src="/2020/10/16/hsi-pre-data-collection/database.png" alt="_images/database.png" style="zoom:33%;"></p></li>
<li><p><a href="http://icvl.cs.bgu.ac.il/hyperspectral/">ICVL hyperspectral database</a></p></li>
</ol>
<p><strong>RGB+NIR Range MSI:</strong> Images were collected at 1392Ã—1300 spatial resolution over 519 spectral bands (<strong>400-1,000nm</strong> at roughly 1.25nm increments)</p>
<p>The database images were acquired using a Specim PS Kappa DX4 hyperspectral camera and a rotary stage for spatial scanning. At this time it contains 201 images and will continue to grow progressively. For your convenience, <strong>.mat</strong> files are provided, downsampled to 31 spectral channels from 400nm to 700nm at 10nm increments.</p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729102126434.png" alt="image-20200729102126434" style="zoom:50%;"></p>
<ol start="11" type="1">
<li><p><a href="http://colorimaginglab.ugr.es/pages/Data">University of Granada hyperspectral image database</a></p>
<p><strong>RGB+NIR Range MSI:</strong> Most of the images have spatial resolution of 1000 Ã— 900 pixels. The spectral range is from <strong>400 nm to 1000</strong> nm in 10 nm intervals, resulting in total 61 channels.</p>
<p><img src="/2020/10/16/hsi-pre-data-collection/image-20200729102332515.png" alt="image-20200729102332515" style="zoom:50%;"></p></li>
<li><p><a href="http://www.cs.cmu.edu/~ILIM/projects/IM/MSPowder/">SWIRPowder</a>: A 400-1700nm Multispectral Dataset with 100 Powders on Complex Backgrounds</p>
<p><strong>SWIR(Multi)+RGB+NIR</strong></p>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/result.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/illustration_1.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure></li>
<li><p><a href="http://www.ok.sc.e.titech.ac.jp/res/MSI/MSIdata31.html">TokyoTech 31-band Hyperspectral Image Dataset</a> [2015]</p>
<p><strong>Visible Range MSI:</strong> <strong>420nm to 720nm</strong></p>
<p>Colorful objects with rich textures 30 scenes from 420nm to 720nm at 10nm intervals</p>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/MSimage.png" alt="MSimage"><figcaption aria-hidden="true">MSimage</figcaption>
</figure>
<figure>
<img src="/2020/10/16/hsi-pre-data-collection/image-20200729094232057.png" alt="image-20200729094232057"><figcaption aria-hidden="true">image-20200729094232057</figcaption>
</figure></li>
</ol>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://jbthomas.org/TechReport/CIC-shortcourseSFA-2017.pdf">Spectral Filter Arrays Technology</a></li>
<li><a href="https://en.wikipedia.org/wiki/Infrared">Infrared WiKi</a></li>
</ul>
<h2 id="electromagnetic-wave-classification">Electromagnetic Wave Classification</h2>
<p>Î³ = <a href="https://zh.wikipedia.org/wiki/ä¼½é¦¬å°„ç·š">ä¼½é©¬å°„çº¿</a> <strong><a href="https://zh.wikipedia.org/wiki/Xå°„ç·š">Xå°„çº¿</a>ï¼š</strong> HX = ç¡¬<a href="https://zh.wikipedia.org/wiki/Xå°„ç·š">Xå°„çº¿</a> SX = è½¯Xå°„çº¿ <strong><a href="https://zh.wikipedia.org/wiki/ç´«å¤–ç·š">ç´«å¤–çº¿</a>ï¼š</strong> EUV = æç«¯<a href="https://zh.wikipedia.org/wiki/ç´«å¤–ç·š">ç´«å¤–çº¿</a> NUV = è¿‘ç´«å¤–çº¿ <strong><a href="https://zh.wikipedia.org/wiki/ç´…å¤–ç·š">çº¢å¤–çº¿</a>ï¼š</strong> NIR = è¿‘<a href="https://zh.wikipedia.org/wiki/ç´…å¤–ç·š">çº¢å¤–çº¿</a> MIR =ä¸­çº¢å¤–çº¿ FIR = <a href="https://zh.wikipedia.org/wiki/é ç´…å¤–ç·š">è¿œçº¢å¤–çº¿</a></p>
<p>Typically we define near infrared (<em>NIR</em>) from 780 nm to 1400 nm and shortwave infrared (<em>SWIR</em>) from 1400 nm to 3000 nm.</p>
<p><strong><a href="https://zh.wikipedia.org/wiki/å¾®æ³¢">å¾®æ³¢</a>ï¼š</strong> EHF = <a href="https://zh.wikipedia.org/wiki/æ¥µé«˜é »">æé«˜é¢‘</a> SHF = <a href="https://zh.wikipedia.org/wiki/è¶…é«˜é »">è¶…é«˜é¢‘</a> UHF = <a href="https://zh.wikipedia.org/wiki/ç‰¹é«˜é »">ç‰¹é«˜é¢‘</a> <strong><a href="https://zh.wikipedia.org/wiki/ç„¡ç·šé›»æ³¢">æ— çº¿ç”µæ³¢</a>ï¼š</strong> VHF = <a href="https://zh.wikipedia.org/wiki/ç”šé«˜é »">ç”šé«˜é¢‘</a> HF = <a href="https://zh.wikipedia.org/wiki/é«˜é »">é«˜é¢‘</a> MF = <a href="https://zh.wikipedia.org/wiki/ä¸­é »">ä¸­é¢‘</a> LF = <a href="https://zh.wikipedia.org/wiki/ä½é »">ä½é¢‘</a> VLF = <a href="https://zh.wikipedia.org/wiki/ç”šä½é¢‘">ç”šä½é¢‘</a> ULF = <a href="https://zh.wikipedia.org/wiki/ç‰¹ä½é »">ç‰¹ä½é¢‘</a> ELF = <a href="https://zh.wikipedia.org/wiki/æ¥µä½é »">æä½é¢‘</a></p>
]]></content>
      <tags>
        <tag>hsi</tag>
        <tag>data</tag>
        <tag>camera</tag>
        <tag>optics</tag>
      </tags>
  </entry>
  <entry>
    <title>æ—¥ç³»äººä½“ç»˜ç”»æ€»ç»“</title>
    <url>/2020/08/21/illustration-human-body/</url>
    <content><![CDATA[<h2 id="æ—¥ç³»ç”»é£ä¸ç°å®çš„åŒºåˆ«">æ—¥ç³»ç”»é£ä¸ç°å®çš„åŒºåˆ«</h2>
<ul>
<li>çœŸå®çš„â€œ<strong>ä¸‰åº­äº”çœ¼</strong>â€ï¼š
<ul>
<li>ä¸‰åº­ï¼š<strong>d(å‘é™…çº¿, çœ‰éª¨) = d(çœ‰éª¨, é¼»åº•) = d(é¼»åº•, ä¸‹å·´)</strong></li>
<li>äº”çœ¼ï¼š<strong>çœ¼å®½=çœ¼é—´è·=çœ¼ç›åˆ°é¢éƒ¨è½®å»“çš„è·ç¦»</strong></li>
</ul></li>
<li>çœ¼ç›çš„é•¿åº¦ç›¸å¯¹çœŸå®æ¯”ä¾‹æ›´é•¿çš„ï¼Œå¹¶ä¸ç¬¦åˆä¸‰åº­äº”çœ¼ä¸­çš„äº”çœ¼æ¯”ä¾‹ã€‚è€Œæ˜¯çœ¼ç›å®½åº¦å’Œçœ¼é—´è·å¤§ä½“ç›¸åŒä¸”è¾ƒé•¿ï¼Œè€Œçœ¼ç›ä¸¤è¾¹åˆ°è„¸éƒ¨è½®å»“çš„è·ç¦»æ›´çŸ­ã€‚</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/Screenshot%2520-%25202020-06-12%252022.46.34.png" alt="Screenshot - 2020-06-12 22.46.34" style="zoom:50%;"></p>
<span id="more"></span>
<h2 id="æ—¥ç³»ç”·ç”Ÿä¸å¥³ç”Ÿåˆ»ç”»çš„ç‰¹ç‚¹ä¸åŒºåˆ«">æ—¥ç³»ç”·ç”Ÿä¸å¥³ç”Ÿåˆ»ç”»çš„ç‰¹ç‚¹ä¸åŒºåˆ«</h2>
<h3 id="å¥³ç”Ÿ">å¥³ç”Ÿ</h3>
<ul>
<li>å¤´éƒ¨çš„é«˜å®½æ¯”åå°ï¼Œè„¸éƒ¨åçŸ­ã€‚</li>
<li>é¢éƒ¨ç›¸å¯¹è¾ƒåœ†ï¼Œä½¿ç”¨æ›´å¤šçš„æ›²çº¿ã€‚</li>
<li>äº”å®˜ç›¸å¯¹ä¸‹ç§»ï¼Œç•™å‡ºæ›´é«˜çš„é¢å¤´æ”¾åˆ˜æµ·ã€‚</li>
<li>çœ¼ç›æ˜¯åˆ»ç”»çš„é‡ç‚¹ï¼Œå®ƒå¾ˆå¤§ã€‚</li>
<li>çœ¼å‹ååœ†çš„å±…å¤šã€‚</li>
<li>å¼±åŒ–é¼»å­ã€å˜´å·´ã€<strong>çœ‰æ¯›</strong>ç­‰çš„åˆ»ç”»ã€‚</li>
<li>çœ‰æ¯›å’Œçœ¼ç›é—´è·è¾ƒå¤§ã€‚</li>
<li>è¡¨æƒ…æ–¹é¢æ›´å¤šçš„è¡¨ç°å‡ºèŒã€å¯çˆ±ã€ç”œç¾ï¼Œæ€»ä½“åç¾å‹ã€‚</li>
</ul>
<h3 id="ç”·ç”Ÿ">ç”·ç”Ÿ</h3>
<ul>
<li>å¤´éƒ¨çš„é«˜å®½æ¯”æ›´å¤§ï¼Œè„¸éƒ¨è¾ƒé•¿ï¼Œæˆ–æ˜¯æ›´åå‘çœŸå®æ¯”ä¾‹ã€‚</li>
<li>é¢éƒ¨å¤–è½®å»“ä½¿ç”¨æ›´å¤šçš„ç›´çº¿ã€é”åˆ©çš„çº¿æ¡ã€‚</li>
<li>è„¸å‹æ›´æ–¹æ­£/ç›´ã€‚</li>
<li>çœ¼ç›ç›¸å¯¹å¥³ç”Ÿæ¥è¯´è¾ƒå°ï¼Œæˆ–è¯´è¾ƒç»†ï¼Œé«˜åº¦è¾ƒä½ï¼Œä½†é•¿åº¦è¿˜æ˜¯ç›¸å¯¹çœŸå®æ¯”ä¾‹æ›´é•¿çš„ï¼Œå¹¶ä¸ç¬¦åˆä¸‰åº­äº”çœ¼ä¸­çš„äº”çœ¼æ¯”ä¾‹ï¼Œè€Œæ˜¯çœ¼ç›å®½åº¦å’Œçœ¼é—´è·å¤§ä½“ç›¸åŒä¸”è¾ƒé•¿ï¼Œè€Œçœ¼ç›ä¸¤è¾¹åˆ°è„¸éƒ¨è½®å»“çš„è·ç¦»æ›´çŸ­ã€‚</li>
<li>çœ¼å‹åå¹³è¡Œå››è¾¹å½¢çš„å±…å¤šã€‚</li>
<li>åŒæ ·çœ‰æ¯›ä¹Ÿè¢«ç€é‡åˆ»ç”»ï¼Œæ„åœ¨è¡¨ç°ç”·ç”Ÿçš„è‹±æ°”ã€å¸…æ°”ç­‰ã€‚</li>
<li>çœ‰æ¯›å’Œçœ¼ç›é—´è·å°ã€‚</li>
<li>å¼±åŒ–é¼»å­å’Œå˜´å·´çš„åˆ»ç”»ï¼Œä½†åˆæ¯”å¥³ç”Ÿå¼ºä¸€ç‚¹ï¼Œå¥³ç”Ÿå¾€å¾€å¯ä»¥å½’ç»“ä¸ºä¸€ä¸ªç‚¹ï¼Œè€Œç”·ç”Ÿè¿˜æ˜¯è¦åˆ»ç”»çš„ã€‚ä¸­è€å¹´ç”·äººé¼»å­ç”šè‡³éå¸¸æ˜æ˜¾ã€‚</li>
<li>è¡¨æƒ…æ–¹é¢æ›´åå‘äºé…·ã€å¸…ã€å†·ã€ä¸è€çƒ¦çš„æ„Ÿè§‰ã€‚</li>
</ul>
<h2 id="æ—¥ç³»å¹´é¾„å¯¹é¢éƒ¨ç”»æ³•çš„å½±å“">æ—¥ç³»å¹´é¾„å¯¹é¢éƒ¨ç”»æ³•çš„å½±å“</h2>
<h3 id="ç”·ç”Ÿ-1">ç”·ç”Ÿ</h3>
<ul>
<li>å¹´è½»äººçš„ç”¨çº¿ä¼šç›¸å¯¹åœ†æ¶¦ï¼Œè¶Šå¹´é•¿çº¿æ¡è¶Šé”‹åˆ©ã€‚</li>
<li>å¹´é•¿è€…çš„é¢éƒ¨è½¬æŠ˜ç‚¹ä¼šæ›´å‘ä¸Šéƒ¨é æ‹¢ï¼Œäº”å®˜ä¹Ÿç›¸å¯¹å‘ä¸Šã€‚</li>
<li>å¹´é•¿è€…çš„çœ¼ç›æ›´çª„ï¼ŒåŒæ ·æ˜¯æ›´åŠ é”åˆ©çš„æ„Ÿè§‰ï¼›è€Œå¹´è½»äººå¯ä»¥ç¨å¾®çœ¼ç›å¤§ä¸€ç‚¹ï¼Œé«˜ä¸€ç‚¹ï¼Œåœ†ä¸€ç‚¹ã€‚</li>
<li>å¹´é•¿è€…çš„çœ‰æ¯›ä¼šæ›´å°–é”æœ‰åŠ›ã€‚</li>
<li>å¹´é•¿è€…çš„ä¸‹å·´ä¼šæ›´å®½ä¸€äº›ã€‚</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200613182651960.png" alt="image-20200613182651960" style="zoom:50%;"></p>
<h3 id="å¥³ç”Ÿ-1">å¥³ç”Ÿ</h3>
<ul>
<li>åŒæ ·ï¼Œå¹´é•¿è€…æœ€é‡è¦çš„æ˜¯è„¸éƒ¨è½¬æŠ˜ç‚¹ä¸Šç§»ã€‚</li>
<li>å¹´é•¿è€…äº”å®˜ä¸Šç§»ã€‚</li>
<li>å¹´é•¿è€…çœ¼ç›å˜çª„ã€‚</li>
<li>æ›²çº¿æ›´åŠ æœ‰åŠ›ã€‚</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200613184807549.png" alt="image-20200613184807549" style="zoom:50%;"></p>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<ul>
<li>åœ¨å¹´é¾„å˜åŒ–çš„åˆ»ç”»ä¸Šï¼Œæ›´åŠ ç€é‡åœ°å»åˆ»ç”»æ€§åˆ«çš„ç‰¹ç‚¹ï¼Œå¡ç‚¹å’Œè½¬æŠ˜æ›´é‡ã€‚</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200613185226577.png" alt="image-20200613185226577" style="zoom:50%;"></p>
<ul>
<li>è§’è‰²è®¾å®šæ˜¯ä¸€ä¸ªæŠŠæ–‡å­—è®¾å®šè½¬ä¸ºæ ‡ç­¾åŒ–çš„é¢„è®¾äººä½“ç‰¹å¾çš„è¿‡ç¨‹ã€‚æ¯”å¦‚ä¸åŒçš„çœ¼å‹ã€ä¸åŒçš„ç«æ¯›è¡¨ç°ã€ä¸åŒçš„çœ‰æ¯›è¡¨ç°ã€ä¸åŒçš„é¢éƒ¨å¤–è½®å»“ç­‰ã€‚</li>
</ul>
<h2 id="çœ‰çœ¼ç»“æ„">çœ‰çœ¼ç»“æ„</h2>
<p><img src="/2020/08/21/illustration-human-body/image-20200614093652461.png" alt="image-20200614093652461" style="zoom:50%;"></p>
<ul>
<li>ç”·ç”Ÿçœ‰æ¯›ç²—ï¼Œç¦»çœ¼ç›è¿‘ã€‚ç”»çš„æ—¶å€™è¦å‹ä½ã€å¾€ä¸‹æ”¾ã€‚</li>
<li>å¥³ç”Ÿçœ‰æ¯›ç»†ï¼Œç¦»çœ¼ç›è¿œã€‚ç”»çš„æ—¶å€™è¦æé«˜ã€å¾€ä¸Šèµ°ã€‚å¥³ç”Ÿçœ‰æ¯›å¾ˆå¤šæ—¶å€™æ›´åƒæ˜¯ä¸€æ¡çº¿ã€‚</li>
<li>çœ‰çœ¼çš„ä¾§è§†å›¾å¤§è‡´æ˜¯æ­£è§†å›¾å®½åº¦çš„<span class="math inline">\(\frac{1}{2}\)</span>ã€‚</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200614094501368.png" alt="image-20200614094501368" style="zoom:50%;"></p>
<h2 id="å£é¼»çš„ç”»æ³•">å£é¼»çš„ç”»æ³•</h2>
<ul>
<li>å˜´è§’å¤„è¦å¡ç‚¹ï¼ˆåŠ é‡ï¼‰ï¼Œæ— è®ºå˜´å¤šä¹ˆå°ï¼Œæ”¹å¡ç‚¹çš„éƒ½è¦å¡ã€‚å˜´çš„ä¸­é—´è¦ç›¸å¯¹ç”»çš„è¾ƒè™šï¼Œè‹¥éšè‹¥ç°æ„Ÿè§‰ã€‚</li>
<li>ä¸çœŸå®çš„äººä¸åŒï¼Œæ—¥ç³»ç”»æ³•ä¸­å¾€å¾€ä¸åˆ»ç”»ä¸Šå˜´å”‡ï¼Œä½†æœ‰æ—¶è¿˜æ˜¯ä¼šæŠŠä¸‹å˜´å”‡ç”¨ä¸€æ ¹çº¿å¸¦è¿‡ã€‚</li>
<li>å¼ å¼€çš„å˜´æœ€å¥½ç”»å‡ºç‰™é½¿å’ŒèˆŒå¤´ã€‚</li>
<li>å¾®ç¬‘æœ€å¥½ç”»å‡ºå·¦å³æ–œå‘ä¸‹ç®­å¤´çš„å½¢çŠ¶ã€‚åŒç†ï¼Œå¾®å¾®å™˜å˜´è¦ç”»å‡ºå·¦å³æ–œå‘ä¸Šç®­å¤´çš„å½¢çŠ¶ã€‚</li>
<li>ä¾§é¢å¼ å¼€çš„å˜´æ˜¯æ¢¯å½¢çš„ã€‚</li>
<li>é¼»å°–ä¹Ÿéœ€è¦å¡ç‚¹ã€‚</li>
<li>ç”·æ€§çš„é¼»å­é•¿ï¼Œå˜´å·´å®½ï¼›å¥³æ€§çš„é¼»å­å°ã€çŸ­ï¼Œå˜´å·´çª„ã€‚</li>
<li>è™½ç„¶å¥³ç”Ÿé¼»å­å¾ˆå¤šéƒ½æ˜¯ä¸€ä¸ªç‚¹ï¼Œä½†è¿™ä¸ªç‚¹æ˜¯æœ‰æ–¹å‘å’Œè½»é‡çš„ã€‚æ–¹å‘æ˜¯é¢éƒ¨æœå‘ï¼Œè€Œè½»é‡åˆ™æ˜¯ç‚¹çš„èµ·ç¬”é‡ï¼ˆä¸Šæ–¹ï¼‰ï¼Œè½ç¬”è½»ï¼ˆä¸‹æ–¹ï¼‰ã€‚</li>
</ul>
<h3 id="ç”·æ€§å£é¼»ç¤ºä¾‹">ç”·æ€§å£é¼»ç¤ºä¾‹</h3>
<p><img src="/2020/08/21/illustration-human-body/image-20200614150816122.png" alt="image-20200614150816122" style="zoom:50%;"></p>
<h3 id="å¥³æ€§å£é¼»ç¤ºä¾‹">å¥³æ€§å£é¼»ç¤ºä¾‹</h3>
<p><img src="/2020/08/21/illustration-human-body/image-20200614150929840.png" alt="image-20200614150929840" style="zoom:50%;"></p>
<h2 id="é¢éƒ¨ç¤ºä¾‹">é¢éƒ¨ç¤ºä¾‹</h2>
<h3 id="å¥³ç”Ÿ-2">å¥³ç”Ÿ</h3>
<p><img src="/2020/08/21/illustration-human-body/image-20200614204900408.png" alt="image-20200614204900408" style="zoom:50%;"></p>
<h3 id="ç”·ç”Ÿ-2">ç”·ç”Ÿ</h3>
<p><img src="/2020/08/21/illustration-human-body/image-20200615124628061.png" alt="image-20200615124628061" style="zoom:50%;"></p>
<h2 id="æ•´ä½“æ³¨æ„äº‹é¡¹">æ•´ä½“æ³¨æ„äº‹é¡¹</h2>
<ol type="1">
<li>ç»˜åˆ¶æ­¥éª¤ï¼šæ‰¾å‚è€ƒ-&gt;æ‰“å‹-&gt;ç»†åŒ–-&gt;è°ƒæ•´</li>
<li>ç”»çš„è¿‡ç¨‹ä¸­è¦ä¸æ–­é‡å¤ä¸€ä¸‹å‡ ä¸ªæ£€æŸ¥ï¼š
<ul>
<li>å¤´éƒ¨çš„è§’åº¦</li>
<li>è§’è‰²æ€§æ ¼ç›¸å¯¹åº”çš„äº”å®˜å½¢çŠ¶</li>
<li>ä¸æ–­æ”¾å¤§ç¼©å°å»çœ‹ä½ç½®å’Œé€è§†</li>
</ul></li>
</ol>
<h2 id="å¤´å‘çš„ç»˜åˆ¶">å¤´å‘çš„ç»˜åˆ¶</h2>
<ol type="1">
<li><p>ç»˜åˆ¶çš„é¡ºåºï¼š</p>
<ol type="1">
<li>è§‚å¯Ÿå‚è€ƒ</li>
<li>ç¡®å®šå‘å¿ƒï¼ˆåˆ˜æµ·ä¸­å¿ƒç‚¹ï¼‰æˆ–å‘ä¸­çº¿ä½ç½®</li>
<li>åˆ†å—ç”»è‰å›¾</li>
<li>ç»†åŒ–</li>
</ol></li>
<li><p>å¤´å‘å¤šæ ·æ€§çš„ä½“ç°ï¼š</p>
<ol type="1">
<li>ç²—ç»†å˜æ¢</li>
<li>ä¸èƒ½è¿‡äºå¯¹ç§°ï¼ˆç²—ç»†ã€ä½ç½®é«˜ä½ã€å¤´å‘çš„æ ¹æ•°ï¼‰</li>
<li>å¤´å‘çš„æ–¹å‘ï¼ˆå‘æ—‹ã€è´´å¤´å¼¯æ›²ã€å‘†æ¯›å’Œä¸è§„åˆ™å‘ï¼‰</li>
<li>åŠ¨æ€å˜åŒ–</li>
</ol>
<p><img src="/2020/08/21/illustration-human-body/Screenshot%2520-%25202020-07-08%252023.03.30.png" alt="Screenshot - 2020-07-08 23.03.30" style="zoom:50%;"></p></li>
<li><p>å¤´å‘çš„æœ€å¤§åˆ†å—å¯åˆ†ä¸ºï¼šå‰å‘ï¼ˆåˆ˜æµ·ï¼‰ã€ä¸­å‘ï¼ˆä¸€èˆ¬åˆ°è„¸æˆ–è‚©çš„ä¾§é¢å¤´å‘ï¼‰å’Œåå‘ã€‚å‰ä¸­éƒ½å¯ä»¥æ²¡æœ‰ï¼Œä½†åå‘ä¸€å®šæœ‰ã€‚</p></li>
<li><p>å„ç§å‘å‹å¯ä»¥çœ‹åšå„ç§å‰ä¸­åå‘çš„ç»„åˆã€‚</p></li>
<li><p>åå‘ä¸èƒ½ç´§è´´å¤´çš®ï¼Œè¦é¢„ç•™ä¸€å®šè·ç¦»ã€ä½“ç°è“¬æ¾æ„Ÿã€‚</p></li>
<li><p>å¥½çš„å‘å‹çš„ç»˜åˆ¶å…¶å‰ªå½±ä¹Ÿæ˜¯å¾ˆå¥½çœ‹çš„ã€‚</p></li>
<li><p>æ³¨æ„å‘æ¢¢åœ¨è„–å­å‘¨å›´è¡Œç¨‹ä¸€ä¸ªåœ†ï¼Œè€Œä¸æ˜¯ç›´çº¿ã€‚è¿™ç‚¹åœ¨çŸ­å‘æƒ…å†µä¸‹å°¤å…¶æ˜æ˜¾ã€‚</p></li>
<li><p>é¢ˆéƒ¨åé¢ä¼šæœ‰çŸ­å°çš„å¤´å‘ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200709105324243.png" alt="image-20200709105324243" style="zoom:33%;"></p></li>
<li><p>å‘æ¢¢æ˜¯å¤´å‘çš„çµé­‚ã€‚ä¸åŒç§ç±»çš„å¤´å‘å…¶å‘æ¢¢å·®è·ç”±å…¶ä¹‹å¤§ï¼Œæ¯”å¦‚ç›´çº¿å‹ã€å°–é”å‹ã€æŠ˜å å‹ç­‰ã€‚</p></li>
<li><p>å‘æ¢¢éƒ¨åˆ†ï¼Œå°¤å…¶æ˜¯åå‘ï¼Œå°½é‡å¾€é‡Œæ”¶ï¼Œé™¤éå‘å‹å°±æ˜¯ç¿˜çš„ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200709095740444.png" alt="image-20200709095740444" style="zoom:50%;"></p></li>
<li><p>é•¿å·å‘ä¼šåå‘æˆç†Ÿé­…åŠ›çš„æ°”è´¨ã€é•¿ç›´å‘åå‘å†·é…·é«˜è´µã€çŸ­ç›´å‘æ›´å¤šåå‘æ¸…çº¯æ„Ÿå’Œå­¦ç”Ÿæ„Ÿã€çŸ­å·å‘åå¯çˆ±æ´»åŠ›ã€‚</p></li>
<li><p>å·å‘çš„åŸºç¡€æ˜¯ä¸€æ’®å¤´å‘ï¼Œæ¯ä¸€æ’®å¤´å‘çš„åŸºç¡€æ˜¯Så‹çº¿ï¼Œåˆ†æ¸…æ¥šé‡Œå¤–ã€‚å…ˆç”»å¤§çš„Sï¼Œæœ€åç”»è£…é¥°çº¿ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200709102107872.png" alt="image-20200709102107872" style="zoom:50%;"></p></li>
<li><p>ç”»é•¿å‘ï¼Œå°¤å…¶æ˜¯é•¿å·å‘ï¼Œæœ€é‡è¦çš„æ˜¯å³ä½¿çº¿æ¡ä¹±ï¼Œä¹Ÿä¸èƒ½è¢«çº¿æ¡å¸¦èŠ‚å¥ï¼Œè¦ææ¸…æ¥šæ¯ä¸€ç‰‡å¤´å‘çš„ä»å±å…³ç³»ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200709102245876.png" alt="image-20200709102245876" style="zoom:33%;"></p></li>
</ol>
<h3 id="è¾«å­">è¾«å­</h3>
<ol type="1">
<li><p>ç»˜åˆ¶è¾«å­çš„æ—¶å€™è¦å°¤å…¶æ³¨æ„çº¿æ¡çš„è™šå®ï¼Œè¥é€ ç©¿æ’æ„Ÿã€‚åŠ ç»†èŠ‚çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ç¢å‘ä¹Ÿè¦é¡ºç€è¾«å­çš„å¤§ä½“èµ°åŠ¿ç»˜åˆ¶ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200709104609283.png" alt="image-20200709104609283" style="zoom:50%;"></p></li>
<li><p>é©¬å°¾è¾«ï¼šå¹´é¾„è¶Šå¤§ã€é©¬å°¾è¶Šä½ã€‚é©¬å°¾æœå‘æ–œå‘ä¸Šçš„è¾«å­è¦å…ˆä¸Šå‡åä¸‹é™ã€‚</p></li>
<li><p>ç›¸è¾ƒäºæŠ«æ•£å‘ï¼Œè¾«å­çš„ç¿»è½¬æ›´å¤šã€‚</p></li>
<li><p>è¾«å­ä¸­ï¼Œæ€»ä¼šæœ‰ä¸€äº›çŸ­çš„ã€ç¢çš„å¤´å‘ä¸æ— æ³•è¢«æ‰åˆ°è¾«å­ä¸»æµä¸­ï¼Œä»–ä»¬æ„æˆäº†æœ‰æ•ˆçš„ç»†èŠ‚ã€‚</p>
<figure>
<img src="/2020/08/21/illustration-human-body/image-20200709105414092.png" alt="image-20200709105414092"><figcaption aria-hidden="true">image-20200709105414092</figcaption>
</figure></li>
</ol>
<h3 id="ç”·æ€§å¤´å‘">ç”·æ€§å¤´å‘</h3>
<ol type="1">
<li><p>ç”·æ€§å¤´å‘å¦‚æœæ˜¯å‘å¤–ç¿˜ï¼Œæ˜¾å¾—æœ‰æ”»æ°”ï¼›å‘å†…å·ï¼Œæ˜¾å¾—æ¸©æŸ”å’Œå—æ°”ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200709121121242.png" alt="image-20200709121121242" style="zoom:50%;"></p></li>
<li><p>é•¿å‘çš„ç”·æ€§è§’è‰²ï¼Œå¯ä»¥ç›´æ¥å‚ç…§å¥³æ€§å¤´å‘ç”»æ³•ã€‚</p></li>
</ol>
<h3 id="å‘å‹è®¾è®¡">å‘å‹è®¾è®¡</h3>
<ol type="1">
<li><p>è®¾è®¡æµç¨‹ï¼š</p>
<ol type="1">
<li>åˆ†å—</li>
<li>åˆ†ç»„ï¼ˆä½¿ç”¨ä¸åŒçš„å…ƒç´ ï¼‰</li>
<li>ç»„åˆè®¾è®¡</li>
<li>ä¸åŒçš„å‘å‹å‡ºæ¥ä¸ŠãŒã‚Šï½</li>
</ol>
<p><img src="/2020/08/21/illustration-human-body/image-20200709113650623.png" alt="image-20200709113650623" style="zoom:50%;"></p></li>
</ol>
<h2 id="å‘é¥°ä¸å…¶ä»–è£…é¥°é“å…·çš„ç»˜åˆ¶">å‘é¥°ä¸å…¶ä»–è£…é¥°é“å…·çš„ç»˜åˆ¶</h2>
<h3 id="è´è¶ç»“å’Œè´è¶ç»“ç±»ä¼¼ç‰©åˆ†ç±»">è´è¶ç»“å’Œè´è¶ç»“ç±»ä¼¼ç‰©åˆ†ç±»</h3>
<ol type="1">
<li>å›ºå®šå½¢çŠ¶çš„ï¼Œå³å–çš„æ—¶å€™å°±æ˜¯æ‰“å¥½çš„é‚£ç§è´è¶ç»“ã€‚å®å¿ƒã€è¾ƒå¤§ï¼Œå¸¸ç”¨ä½œå¤´é¥°å’Œé¢†ç»“ã€‚</li>
<li>æ‰‹æ‰“çš„ç©ºå¿ƒè´è¶ç»“ã€‚åŒæ ·è¾ƒå¤§ï¼Œé™¤äº†å¤´é¥°å’Œé¢†ç»“ï¼Œè¿˜å¯ä»¥ç”¨ä½œå›´è£™åé¢ç­‰ã€‚</li>
<li>é£˜å¸¦ã€‚ç”±ä¸€æ ¹ç»†é•¿æ‰å¹³çš„å¸¦å­æ‰“å‡ºæ¥çš„è´è¶ç»“ã€‚æ˜“éšé£é£˜åŠ¨ï¼Œä¸”ç”±äºä½“ç§¯è¾ƒå°ï¼Œéœ€ä»”ç»†æ§åˆ¶ã€‚</li>
<li>å°å‹ç‚¹ç¼€å¼çš„è´è¶ç»“ã€‚ç”¨ä½œå°å‹è£…é¥°ç‰©ï¼Œå‡ºç°åœ¨å¤´ä¸Šï¼ˆå‘å¡ï¼‰ã€è¡£æœä¸Šã€å£è¢‹ä¸Šç­‰ç­‰ã€‚</li>
<li>ä»¥ä¸Šçš„ç»„åˆå’Œå˜å½¢ã€‚</li>
</ol>
<p><img src="/2020/08/21/illustration-human-body/image-20200719014529861.png" alt="image-20200719014529861" style="zoom: 60%;"></p>
<p><img src="/2020/08/21/illustration-human-body/image-20200719014444973.png" alt="image-20200719014444973" style="zoom:50%;"></p>
<p><img src="/2020/08/21/illustration-human-body/image-20200719014416132.png" alt="image-20200719014416132" style="zoom:50%;"></p>
<p><img src="/2020/08/21/illustration-human-body/image-20200719014348797.png" alt="image-20200719014348797" style="zoom:50%;"></p>
<p><img src="/2020/08/21/illustration-human-body/image-20200719014322885.png" alt="image-20200719014322885" style="zoom:68%;"></p>
<h3 id="å‘åº“">å‘åº“ï¼š</h3>
<ol type="1">
<li>æ³¨æ„ä¸èƒ½æ²¿ç€å¤´éƒ¨è½®å»“ç”»ã€‚</li>
<li>åº”è¯¥å…ˆæ‰¾å‡ºæ¥é¢éƒ¨ç«–ç›´è½®å»“çº¿ï¼Œç„¶åä¿è¯å‘åº“ä¸å®ƒå‚ç›´ã€‚</li>
<li>å°¤å…¶æ³¨æ„é€è§†ç°è±¡ï¼Œå‘åº“çš„æœ«ç«¯ç»“æŸäºè€³æœµåé¢ã€‚</li>
</ol>
<figure>
<img src="/2020/08/21/illustration-human-body/image-20200719103005141.png" alt="image-20200719103005141"><figcaption aria-hidden="true">image-20200719103005141</figcaption>
</figure>
<h3 id="å¸½å­">å¸½å­</h3>
<ol type="1">
<li><p>åå¤´é¡¶ï¼ˆæ­£ï¼‰ï¼šæ£’çƒå¸½ã€ç¤¼å¸½ã€ç”°å›­é£</p></li>
<li><p>åè„‘å‹ºï¼šè´é›·å¸½ã€å¤ªé˜³å¸½</p></li>
<li><p>æ£’çƒå¸½çš„ç”»æ³•ï¼š</p>
<ul>
<li>å¸½å­çš„ä¸­çº¿ä¸å¤´éƒ¨ä¸­çº¿å¹³é½</li>
<li>æ³¨æ„å¸½å­çš„å¤–å½¢</li>
<li>é€‚å½“çš„ç»™å¸½æªå¢åŠ åšåº¦</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200719104600298.png" alt="image-20200719104600298" style="zoom:33%;"></p></li>
<li><p>å¤ªé˜³å¸½çš„ç”»æ³•ï¼š</p>
<ul>
<li>ä½ç½®åè„‘å</li>
<li>*å¸½æªçš„å½¢çŠ¶</li>
<li>é€‚å½“çš„è£…é¥°ï¼šç¼å¸¦ã€è´è¶ç»“ã€é²œèŠ±ç­‰</li>
<li>ç”»çš„æ—¶å€™å³ä½¿åé¢çš„å¸½æªéƒ¨åˆ†è¢«è„‘è¢‹é®æŒ¡ï¼Œè¿˜æ˜¯è¦å…ˆç”»å‡ºæ¥ã€ç¡®ä¿å·¦å³æ˜¯è¿ç€çš„çº¿ã€‚</li>
</ul></li>
</ol>
<h3 id="çœ¼é•œ">çœ¼é•œ</h3>
<ol type="1">
<li><p>å¯çˆ±é£ï¼šé•œæ¡†åå¤§ã€ååœ†ã€å¯ä»¥æŠ¹é™¤ä¸Šçœ¼é•œæ¡†ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯å¯ä»¥é¿å…çœ¼é•œæŒ¡ä½çœ¼ç›ã€‚</p>
<figure>
<img src="/2020/08/21/illustration-human-body/image-20200719110203120.png" alt="image-20200719110203120"><figcaption aria-hidden="true">image-20200719110203120</figcaption>
</figure></li>
<li><p>æˆç†Ÿé£ï¼šçœ¼å‹æœ¬æ¥å°±åå°ï¼Œçœ¼é•œä¹Ÿå°±åçª„ã€‚</p>
<figure>
<img src="/2020/08/21/illustration-human-body/image-20200719110140108.png" alt="image-20200719110140108"><figcaption aria-hidden="true">image-20200719110140108</figcaption>
</figure></li>
<li><p>æ€§æ„Ÿé£ï¼šæ— é•œæ¡†ã€åçª„ã€‚</p>
<figure>
<img src="/2020/08/21/illustration-human-body/image-20200719110242408.png" alt="image-20200719110242408"><figcaption aria-hidden="true">image-20200719110242408</figcaption>
</figure></li>
<li><p>æäº‹æ´¾ï¼šé•œç‰‡åå…‰ã€‚ã€‚ã€‚å¦‚æŸ¯å—å¼€å§‹æ¨ç†ã€å‚æœ¬å¤§ä½¬ç­‰ã€‚</p>
<figure>
<img src="/2020/08/21/illustration-human-body/image-20200719110419553.png" alt="image-20200719110419553"><figcaption aria-hidden="true">image-20200719110419553</figcaption>
</figure></li>
<li><p>ç”»æ³•è¦ç‚¹ï¼š</p>
<ul>
<li>ä¸¤ä¸ªå…³é”®æ”¯ç‚¹ï¼šé¼»æ¢ã€è€³æœµ</li>
<li>çœ¼é•œä¸­çº¿å‘ˆç›´çº¿å‹ï¼šé•œç‰‡é€è§†ä¿æŒä¸€è‡´</li>
<li>åœ¨ç”»çœ¼ç›ä¹‹å‰å…ˆç”»å‡ºæ¥ä¸€ä¸ªèƒ½åŒ…è£¹ä½ä¸¤ä¸ªé•œç‰‡çš„çŸ©å½¢å¤–æ¡†</li>
</ul></li>
</ol>
<h2 id="è¡¨æƒ…">è¡¨æƒ…</h2>
<h3 id="åˆ†ç±»">åˆ†ç±»</h3>
<ol type="1">
<li><p>å¾®ç¬‘ï¼ˆå°´å°¬è€Œä¸å¤±ç¤¼è²Œçš„ï¼‰</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724113228668.png" alt="image-20200724113228668" style="zoom:50%;"></p>
<ol type="1">
<li>å£å‹å°±å¤–å…«å­—ç‚¹ä¸¤ç‚¹å°±å¥½ï¼Œæ³¨æ„å¡ç‚¹</li>
</ol></li>
<li><p>å¼€å£ç¬‘</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724113253860.png" alt="image-20200724113253860" style="zoom:50%;"></p>
<ol type="1">
<li>å¼€å£æ˜¯æ¢¯å½¢ç±»ä¼¼ç‰©</li>
<li>å¼€å£çš„å¤§å°è¦å¤šå°è¯•ï¼Œå› ä¸ºä¸åŒäººç‰©é€‚åˆçš„å¤§å°å¹¶ä¸ç›¸åŒ</li>
</ol></li>
<li><p>ç‹‚ç¬‘</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724113443615.png" alt="image-20200724113443615" style="zoom:50%;"></p></li>
<li><p>é—­çœ¼ç¬‘</p>
<ol type="1">
<li>çœ¼ç›å³ä½¿é—­ä¸Šäº†ä¹Ÿä¸æ˜¯ä¸€æ¡å•è°ƒçš„çº¿ï¼Œè€Œæ˜¯æœ‰å½¢çŠ¶æœ‰ç»†èŠ‚çš„</li>
<li>é‚£æ¡çº¿åœ¨ä¹‹å‰ä¸Šä¸‹çœ¼ç‘ä¸­é—´</li>
</ol></li>
<li><p>æ€’ï¼ˆæ”»æ°”ã€å‚²æ…¢ã€ç››æ°”å‡Œäººï¼‰</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724113521388.png" alt="image-20200724113521388" style="zoom:50%;"></p>
<ol type="1">
<li>çœ¼è§’ä¸Šæ‰¬</li>
<li>çœ‰æ¯›å¤–å…«å­—ï¼Œä¹Ÿæ˜¯ä¸Šæ‰¬</li>
<li>å˜´ä¸­é—´å‘ä¸Šå¼¯æ›²ï¼ˆå³æ›²çº¿å‘ä¸Šå‡¸ï¼‰</li>
</ol></li>
<li><p>å“€ï¼ˆå—æ°”ã€å¯æ€œï¼‰</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724113548199.png" alt="image-20200724113548199" style="zoom:50%;"></p>
<ol type="1">
<li>çœ¼è§’å‘ä¸‹æ’‡</li>
<li>çœ‰æ¯›æ­£å…«å­—</li>
<li>å˜´ä¼šå¾ˆå°</li>
</ol></li>
<li><p>ä¸‰æ— å°‘å¥³</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724113639102.png" alt="image-20200724113639102" style="zoom:50%;"></p>
<ol type="1">
<li>æ— å£æ— å¿ƒæ— è¡¨æƒ…</li>
<li>å˜´éƒ¨å¾ˆå°å¾ˆå°ï¼Œä¸€èˆ¬å°±æ˜¯ä¸€ä¸ªç‚¹</li>
<li>ç”±äºæœ¬æ¥è§’è‰²å°±ä¸æ€ä¹ˆæœ‰è¡¨æƒ…ï¼Œæ‰€ä»¥çœ¼ç›å’Œçœ‰æ¯›ç§»ä¸€ç›´éƒ½æ˜¯æ”¾æ¾çŠ¶æ€</li>
</ol></li>
<li><p>é‚ªé­…ä¸€ç¬‘ï¼ˆè‰²æ°”ï¼‰</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724111805983.png" alt="image-20200724111805983" style="zoom:42%;"></p>
<ol type="1">
<li>é¢éƒ¨çº¢æ™•</li>
<li>ç‰¹åˆ¶ç¬‘å®¹</li>
</ol></li>
<li><p>å¾®å¾®å“­æ³£</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724112336854.png" alt="image-20200724112336854" style="zoom:33%;"></p>
<ol type="1">
<li>å§”å±ˆ+æŠ¿å˜´</li>
<li>å°‘é‡çœ¼è§’æ³ªèŠ±</li>
<li>é¢é¢Šçº¢æ™•</li>
</ol></li>
<li><p>å¤§å“­</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724110336117.png" alt="image-20200724110336117" style="zoom:33%;"></p>
<ol type="1">
<li>å§”å±ˆåŠ å¼ºç‰ˆï¼Œçœ‰æ¯›ç»§ç»­å…«å­—</li>
<li>çœ¼ç›é«˜åº¦å‡å°ï¼Œä¸‹çœ¼ç‘å‘ä¸ŠæŒ¤å‹</li>
<li>æœ‰çœ¼æ³ªå…ƒç´ </li>
<li>å˜´å¼ å¼€ï¼Œéœ²ç‰™é½¿</li>
<li>é¢é¢Šçº¢æ™•</li>
</ol></li>
<li><p>å®³ç¾</p>
<ol type="1">
<li>å¤§ç‰‡çš„é¢éƒ¨çº¢æ™•ï¼Œå¯ä»¥è¦†ç›–çœ¼ç›ä¸‹é¢ä¸€é•¿æ¡åŒ…æ‹¬é¼»å­ä½ç½®</li>
</ol></li>
<li><p>å‚²å¨‡</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724112224823.png" alt="image-20200724112224823" style="zoom:33%;"></p>
<ol type="1">
<li>å®³ç¾+æ€’</li>
<li>å¯ä»¥ç”¨å¾®æ±—ç‚¹ç¼€</li>
<li>å°è™ç‰™</li>
</ol></li>
<li><p>ç—…å¨‡ï¼ˆè¯¡å¼‚ï¼‰</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200724110015171.png" alt="image-20200724110015171" style="zoom:33%;"></p>
<ol type="1">
<li>çœ¼çƒå’Œä¸Šçœ¼ç‘ä¸æ˜¯è¿ç€çš„ï¼Œä¹‹é—´éš”ç€ä¸€ç‚¹çœ¼ç™½</li>
<li>å˜´éƒ¨æœ‰ä¸å¯¹ç§°å…ƒç´ </li>
<li>è§†è§’å¯åä»°è§†</li>
</ol></li>
</ol>
<h3 id="å¤æ‚è¡¨æƒ…æ„æˆ">å¤æ‚è¡¨æƒ…æ„æˆ</h3>
<ol type="1">
<li>åŸºç¡€è¡¨æƒ…ï¼ˆä¸åŒç¨‹åº¦çš„ç¬‘ã€å“­ã€å“€ï¼‰</li>
<li>ä¸åŒè§’åº¦ã€èº«ä½“è½¬å‘ï¼ˆæ¯”å¦‚è¡¨ç°å§”å±ˆã€æƒ¹äººæ€œçˆ±ã€å“­æ³£å¯ä»¥é‡‡ç”¨ä¿¯è§†ï¼Œè€Œè¡¨ç°æƒŠæ‚šå’Œæ¶å½¹åˆ™å¯ä½¿ç”¨ä»°è§†ï¼Œå…ƒæ°”å¯çˆ±çµåŠ¨å¯ç”¨å„ç§ä¾§è§†å›¾ç­‰ï¼‰</li>
<li>è‚¢ä½“åŠ¨ä½œï¼ˆå¦‚æ‰‹éƒ¨åŠ¨ä½œï¼‰</li>
</ol>
<h3 id="æ¼«ç”»ä¸æ’ç”»çš„åŒºåˆ«">æ¼«ç”»ä¸æ’ç”»çš„åŒºåˆ«</h3>
<ul>
<li>ç›¸è¾ƒäºæ¼«ç”»ï¼Œæ’ç”»æ›´åå‘äºæ•´ä½“äººç‰©çš„å”¯ç¾æ€§ï¼Œè¡¨æƒ…ä¸€èˆ¬ä¸ä¼šå¾ˆå¤¸å¼ ï¼Œç¬‘è„¸ä¼šå æ®å¤§åŠã€‚</li>
<li>æ¼«ç”»åˆ™ç›¸å¯¹æŸç¼šè¾ƒå°ï¼Œå¯ä»¥ç”»å„ç§å„æ ·å¥‡å¥‡æ€ªæ€ªçš„å¤¸å¼ è¡¨æƒ…æ¥å‡¸æ˜¾äººç‰©å¿ƒæƒ…å’Œæ¨åŠ¨å‰§æƒ…ã€‚</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200724120144027.png" alt="image-20200724120144027" style="zoom:50%;"></p>
<h2 id="è¡£ç‰©çš„ç”»æ³•">è¡£ç‰©çš„ç”»æ³•</h2>
<h3 id="è¡£æœçš„åˆ†ç±»">è¡£æœçš„åˆ†ç±»</h3>
<p><strong>å¥³ç”Ÿï¼š</strong> åˆ¶æœï¼ˆJKï¼‰ã€å¥³ä»†è£…ã€æ³³è£…ã€å’Œé£æœé¥°ï¼ˆå’Œæœã€æµ´è¡£ï¼‰ã€LOLITAã€idolï¼ˆèˆå°è£…ï¼‰</p>
<p><strong>ç”·ç”Ÿï¼š</strong> è¡¬è¡«ã€è¥¿æœã€å«è¡£ã€Tæ¤</p>
<h3 id="ç”»æ³•è¦ç‚¹">ç”»æ³•è¦ç‚¹</h3>
<ol type="1">
<li>æ³¨æ„ä¸äººç‰©å½¢ä½“çš„å…³ç³»ï¼Œä¸è¦ç›´æ¥ç”»è¡£æœ</li>
<li>å—åŠ›æƒ…å†µ</li>
<li>æ­é…ã€å…ƒç´ ç»„åˆ</li>
<li>è®¾è®¡ï¼ˆé¥°å“ï¼‰</li>
<li>å‚ä¸æ„å›¾</li>
</ol>
<h3 id="è¡£è¤¶">è¡£è¤¶</h3>
<h4 id="è¡£è¤¶çš„æˆå› ">è¡£è¤¶çš„æˆå› </h4>
<ul>
<li>è¡£è¤¶æ˜¯å—æ”¯æ’‘ç‚¹å’Œåœ°å¿ƒå¼•åŠ›çš„æ‹‰åŠ›å½±å“è€Œå½¢æˆçš„è¤¶çš±ã€‚</li>
<li>å¦‚æœæ²¡æœ‰å†…éƒ¨ç»“æ„å°±æ²¡æœ‰å¸ƒçº¹è¡£è¤¶çš„å­˜åœ¨ã€‚</li>
<li>æ‹‰ä¼¸çš„åŠ›æŠ¹å¹³è¡£è¤¶ï¼Œæ”¶ç¼©çš„åŠ›å½¢æˆè¡£è¤¶ã€‚</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200726104737094.png" alt="image-20200726104737094" style="zoom:33%;"></p>
<h4 id="è¡£è¤¶å¤šçš„åœ°æ–¹">è¡£è¤¶å¤šçš„åœ°æ–¹</h4>
<ul>
<li>å’Œå†…éƒ¨æ”¯æ’‘ç‰©ä¹‹é—´ç©ºé—´è¾ƒå¤§çš„åœ°æ–¹ï¼ˆå®½æ¾é¢†å£ã€å¤äººè¡£æœã€å®½æ¾è¢–å­ã€å«è¡£è…°éƒ¨ï¼‰ï¼ˆç›¸åï¼šç´§èº«è¡£ã€å†…è¡£ã€ä¸è¢œï¼‰</li>
<li>å—åˆ°æ”¶ç¼©å¤–åŠ›æ˜æ˜¾çš„åœ°æ–¹ï¼ˆè…°å¸¦å¤„ã€è¢–å£ã€æ’¸èµ·æ¥çš„è¢–å­ã€å…³èŠ‚å†…ç¼©ä¾§ï¼‰ï¼ˆç›¸åï¼šå…³èŠ‚ç»·ç´§ä¾§ï¼‰</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/Screenshot%2520-%25202020-07-26%252010.48.59.png" alt="Screenshot - 2020-07-26 10.48.59" style="zoom:50%;"></p>
<ul>
<li><p>äººä½“ä¸­è¡£è¤¶å¤šçš„ä½ç½®åˆ—ä¸¾ï¼š</p>
<ul>
<li>é¢†å£</li>
<li>è…‹ä¸‹</li>
<li>å¼¯æ›²çš„èƒ³è†Šè…¿çš„å†…ä¾§</li>
<li>è…°éƒ¨</li>
<li>è£†éƒ¨ï¼ˆè£¤è¤¶ã€è£™è¤¶ï¼‰</li>
<li>è£¤è„š</li>
<li>å…¶ä»–æ‰€æœ‰çš„æœ‰è½¬æŠ˜çš„åœ°æ–¹</li>
<li>å¦¹å­èƒ¸éƒ¨ä¸‹éƒ¨</li>
<li>è…°å¸¦ã€ç»³å¸¦å¤„</li>
<li>æ‰£å­å¤„</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200726110314572.png" alt="image-20200726110314572" style="zoom:33%;"></p></li>
</ul>
<h3 id="è¤¶çš±ç†è®º">è¤¶çš±ç†è®º</h3>
<h4 id="ä¸€ç‚¹æ”¯æ’‘">ä¸€ç‚¹æ”¯æ’‘</h4>
<p>è¤¶çš±å½¢çŠ¶ï¼šæ”¾å°„çŠ¶</p>
<figure>
<img src="/2020/08/21/illustration-human-body/image-20200726111529235.png" alt="image-20200726111529235"><figcaption aria-hidden="true">image-20200726111529235</figcaption>
</figure>
<h5 id="å¸¸è§ä½ç½®">å¸¸è§ä½ç½®</h5>
<ul>
<li>è‚©éƒ¨</li>
<li>èƒ¸éƒ¨ä¸­ä¸‹ä¾§</li>
<li>ç»³å¸¦</li>
<li>è†ç›–</li>
<li>æ‰‹è‚˜</li>
</ul>
<h4 id="ä¸¤ç‚¹æ”¯æ’‘">ä¸¤ç‚¹æ”¯æ’‘</h4>
<p>ä¸¤ç‚¹æ”¯æ’‘å¯ä»¥çœ‹åšä¸¤ä¸ªä¸€ç‚¹æ”¯æ’‘å»æ‰å†…ä¾§çš„çº¿ç„¶åè¿èµ·æ¥ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200726112319409.png" alt="image-20200726112319409" style="zoom:40%;"></p>
<h5 id="å¸¸è§ä½ç½®-1">å¸¸è§ä½ç½®ï¼š</h5>
<ul>
<li>é¢†å£</li>
<li>è…°éƒ¨ï¼ˆèƒ¯ï¼‰</li>
<li>å®½æ¾çš„XXï¼ˆè¢–å­ã€è£¤å­ã€è…°ï¼‰</li>
</ul>
<p><img src="/2020/08/21/illustration-human-body/image-20200726112701126.png" alt="image-20200726112701126" style="zoom:33%;"></p>
<p><img src="/2020/08/21/illustration-human-body/image-20200726112803185.png" alt="image-20200726112803185" style="zoom:33%;"></p>
<h3 id="è¤¶çš±ç”»æ³•">è¤¶çš±ç”»æ³•</h3>
<h4 id="ç©¿æ’">ç©¿æ’</h4>
<p>ç®€å•çš„è¯´ï¼Œç©¿æ’å°±æ˜¯Aæ’åˆ°äº†Bé‡Œé¢ã€‚ç”±äºè¤¶çš±å¼¯æ›²ï¼Œæœ‰æ—¶å€™ä¼šé¼“èµ·æ¥çªå‡ºä¸€å—ï¼Œå…¶æ•ˆæœå°±æ˜¯ä¸‹æ¸¸çš„å¸ƒæ–™æ’è¿›äº†ä¸Šæ¸¸çš„å¸ƒæ–™æ‰€å½¢æˆçš„è¤¶å­é‡Œé¢ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200726120758174.png" alt="image-20200726120758174" style="zoom:50%;"></p>
<p><img src="/2020/08/21/illustration-human-body/image-20200726120727471.png" alt="image-20200726120727471" style="zoom:50%;"></p>
<p>ç”±äºè§†è§’çš„ä¸åŒï¼Œè®©ç©¿æ’å‘ˆç°å‡º2ä¸­ç»˜åˆ¶ç»“æ„ã€‚</p>
<p>è¿ç”¨èŒƒå›´ï¼šè¡£è¢–ã€è…°éƒ¨ã€æ‰‹è‚˜ï¼ˆå¼¯æ›²ï¼‰ã€è…¿éƒ¨ï¼ˆå¼¯æ›²ï¼‰ã€‚ã€‚ã€‚</p>
<h4 id="å †å ">å †å </h4>
<p>å †å ï¼Œå³æŠŠè¿‡é•¿çš„éƒ¨åˆ†å †èµ·æ¥ã€‚å…¶å½¢å¦‚é˜¶æ¢¯ï¼Œä½†å„é˜¶å½¢å¼‚ã€‚è®ºå…¶èµ°çº¿ï¼Œè«æœ‰å®Œå…¨å¹³è¡Œè€…ï¼Œç›®ä¹‹æ‰€åŠï¼Œçš†ä¸ºäº¤é”™å‘ä¸‹ï¼›é—´æœ‰å†…é™·ï¼Œè‹¥å°æ°´æ´¼ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200726141313049.png" alt="image-20200726141313049" style="zoom:50%;"></p>
<h4 id="è£ç¼çº¿">è£ç¼çº¿</h4>
<ul>
<li><p>ä½œç”¨ï¼šåˆ†æ‘Šæ‹‰åŠ›ã€‚å‡è®¾å¦‚æœæ²¡æœ‰è£ç¼çº¿æ—¶åªæœ‰å‡ ä¸ªå¤§çš„è¡£è¤¶çº¹è·¯ï¼Œæ­¤æ—¶åŠ ä¸Šä¸€æ ¹è£ç¼çº¿ï¼Œåˆ™åœ¨åŸæ¥çš„è¤¶çš±çº¹è·¯åŸºç¡€ä¸Šä¼šå‡ºç°è®¸å¤šç»†å°çš„è¤¶å­ï¼Œæ­¤å³ä¸ºæ‰€è°“â€œåˆ†æ‘Šæ‹‰åŠ›â€ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200730133455227.png" alt="image-20200730133455227" style="zoom:33%;"></p></li>
</ul>
<h4 id="é›·åŒº">é›·åŒº</h4>
<ol type="1">
<li>è¤¶çš±å¤ªå°‘ï¼ŒçŠ¶ä¼¼é“çš®ï¼ˆå¸ƒçš„è´¨æ„Ÿï¼‰</li>
<li>è¡£è¤¶è¿‡å¤šï¼Œå¦‚ç€ç ´å¸ƒï¼ˆä¸ç¾è§‚ï¼‰</li>
<li>è¡£è¤¶ä½ç½®ä¸å¯¹</li>
<li>çº¿æ¡å¤ªå®æˆ–å¤ªè™š</li>
</ol>
<h4 id="æœè£…çš„è´¨æ„Ÿè½¯ä¸ç¡¬">æœè£…çš„è´¨æ„Ÿï¼šè½¯ä¸ç¡¬</h4>
<ul>
<li>è½¯çš„è¡£æœï¼ˆå¦‚æ°´æ‰‹æœã€Tæ¤ï¼‰ï¼š
<ul>
<li>è¤¶çš±ç›¸å¯¹åå¤š</li>
<li>è¤¶çš±è§„å¾‹æ€§å¼±</li>
<li>è¤¶çš±çº¿æ¡æŸ”è½¯</li>
<li>å¸ƒçº¹åå¤š</li>
</ul></li>
<li>ç¡¬çš„è¡£æœï¼ˆå¦‚è¥¿æœã€åˆ¶æœï¼‰ï¼š
<ul>
<li>è¤¶çš±ç›¸å¯¹è¾ƒå°‘</li>
<li>è¤¶çš±è§„å¾‹ç›¸å¯¹è¾ƒå¼º</li>
<li>è¤¶çš±çº¿æ¡åç¡¬</li>
<li>å¸ƒçº¹åå°‘</li>
</ul></li>
<li>å®é™…åŒºåˆ†æ–¹æ³•ï¼šçº¿æ¡</li>
</ul>
<h3 id="è¡£ç‰©ç»˜åˆ¶æ³¨æ„äº‹é¡¹">è¡£ç‰©ç»˜åˆ¶æ³¨æ„äº‹é¡¹</h3>
<h4 id="åšåº¦">åšåº¦</h4>
<p>å¸ƒæ˜¯æœ‰åšåº¦çš„ï¼Œæˆ‘ä»¬ç”»å¸ƒçš„æ—¶å€™è¦æ³¨æ„åœ¨å‚ä¸‹çš„è¾¹è§’å¤„çº¿ä¸çº¿çš„äº¤æ±‡å¤„ä¸è¦æ¥æ­»ï¼Œç•™å‡ºä¸€å®šçš„ç©ºéš™ä»¥ä½“ç°å¸ƒæ–™çš„åšåº¦ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200730134510170.png" alt="image-20200730134510170" style="zoom:33%;"></p>
<h4 id="è™šå®">è™šå®</h4>
<p>æˆ‘ä»¬åœ¨ç”»è¡£è¤¶çš„æ—¶å€™è¦æ³¨æ„çº¿çš„è™šå®å˜åŒ–ã€‚äº¤ä»£æ¸…æ¥šçº¿çš„è™šå®ï¼Œè¡£çº¹ä¼šæ›´æœ‰æ´»åŠ›ï¼Œæ›´ç”ŸåŠ¨ã€‚</p>
<p>å¤–ç²—é‡Œç»†ï¼Œä¸»è¦è¤¶çš±ç²—ã€æ¬¡è¦è¡£çº¹ç»†ã€‚</p>
<h4 id="å¤§å°å¯¹æ¯”">å¤§å°å¯¹æ¯”</h4>
<p>æˆ‘ä»¬ç”»è¡£çº¹çš„æ—¶å€™ä¹Ÿè¦æ³¨æ„æœ‰å¤§å°å¯¹æ¯”ï¼Œä¸è¦æŠŠæ¯ä¸€ä¸ªçº¹è·¯ç”»çš„ä¸€æ ·å¤§ï¼Œè¿™æ ·ä¼šæ˜¾å¾—å‘†æ¿æ— è¶£ã€‚</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200730135011004.png" alt="image-20200730135011004" style="zoom:33%;"></p>
<h3 id="jkåˆ¶æœçš„ç”»æ³•">JKåˆ¶æœçš„ç”»æ³•</h3>
<h4 id="åˆ†ç±»-1">åˆ†ç±»</h4>
<p><strong>ä¸Šè¡£</strong>ï¼šæ°´æ‰‹æœã€è¡¬è¡«+ï¼ˆâˆ…ã€é’ˆç»‡è¡«ã€è¥¿æœã€é©¬ç”²ã€èƒŒå¿ƒï¼‰</p>
<p><strong>è£™å­</strong>ï¼šæ ¼å­è£™ã€å‡€è‰²è£™ã€å‡€è‰²+æ¡çº¹</p>
<p><strong>é¢†é¥°</strong>ï¼šé¢†ç»³ã€é¢†å¸¦ã€é¢†ç»“ã€é¢†å·¾</p>
<h4 id="å˜åŒ–">å˜åŒ–</h4>
<p><strong>é¢†å£</strong>ï¼šåœ†é¢†ã€å°–é¢†ï¼›é•¿é¢†å£ã€çŸ­é¢†å£ï¼ˆå‘ä¸‹å»¶ä¼¸é•¿åº¦ï¼‰ï¼›é¢†å­ä¸Šå¸¦æ¡çº¹ã€ä¸å¸¦æ¡çº¹</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200811011515263.png" alt="image-20200811011515263" style="zoom:50%;"></p>
<p><img src="/2020/08/21/illustration-human-body/image-20200811011529584.png" alt="image-20200811011529584" style="zoom: 33%;"></p>
<p><strong>ç™¾è¤¶è£™å †å æ–¹å¼</strong>ï¼šä¸Šä¸‹ä¸Šä¸‹å¼ã€é˜¶æ¢¯å¼</p>
<p><img src="/2020/08/21/illustration-human-body/image-20200811011403507.png" alt="image-20200811011403507" style="zoom: 33%;"></p>
<h4 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h4>
<ol type="1">
<li>æ°´æ‰‹æœå¹¶ä¸æ˜¯æ”¶è…°ç´§èº«çš„ï¼Œè€Œæ˜¯ä½¿ç”¨äº†ç›¸å¯¹è¾ƒç¡¬çš„æè´¨ã€åœ¨èƒ¸éƒ¨ä»¥ä¸‹æ›´åå‘çº¿æ€§å»¶ä¼¸çš„ã€‚</li>
</ol>
<h4 id="ç¤ºä¾‹">ç¤ºä¾‹</h4>
<p><img src="/2020/08/21/illustration-human-body/image-20200811013940137.png" alt="image-20200811013940137" style="zoom:33%;"></p>
<h3 id="èŠ±è¾¹çš„ç”»æ³•">èŠ±è¾¹çš„ç”»æ³•</h3>
<p><img src="/2020/08/21/illustration-human-body/image-20200811112029242.png" alt="image-20200811112029242" style="zoom:33%;"></p>
<h3 id="æœè£…çš„è®¾è®¡">æœè£…çš„è®¾è®¡</h3>
<ol type="1">
<li>å…ƒç´ çš„ç»„åˆâ€”â€”ä¸»å…ƒç´ ã€è¾…å…ƒç´ ã€‚å¦‚ä»¥å’Œé£ä¸ºä¸»ï¼Œä½†è¾…ä»¥èŠ±è¾¹å’Œå®½æ¾è£™æ‘†ç­‰Lolitaçš„è®¾è®¡ã€‚</li>
<li>å˜å½¢ï¼šæ‰“ç ´ä¼ ç»Ÿï¼Œæ±‚å¼‚ã€‚å¦‚ä¼ ç»Ÿçš„å’Œæœè¢–å­éƒ½å¾ˆé•¿ï¼Œé¢†ç»“éƒ½åœ¨é¢†å­ä¸‹é¢ï¼Œè€Œæ±‚å¼‚çš„è®¾è®¡å°±å¯ä»¥æŠŠå’Œæœçš„è¢–å­ç¼©çŸ­ã€é¢†ç»“ç›´æ¥ç»‘åœ¨é¢ˆéƒ¨ã€‚</li>
<li>åˆ‡å‰²ï¼šè¡£æœçš„è™šä¸å®ã€‚è¿™é‡Œçš„å®æŒ‡çš„æ˜¯æœ‰å¸ƒæ–™è¦†ç›–çš„åœ°æ–¹ï¼Œè€Œè™šåˆ™æ˜¯æŒ‡åˆ‡å¼€éœ²å‡ºã€æ²¡æœ‰å¸ƒæ–™è¦†ç›–çš„ä½ç½®ã€‚è™šçš„ä½ç½®å¾€å¾€å¯ä»¥å‡ºç°åœ¨è‚©éƒ¨ã€è…°éƒ¨ã€è…¿éƒ¨ã€èƒ³è†Šç­‰ã€‚</li>
<li>å¯¹æ¯”ï¼š
<ol type="1">
<li>ä½“ç§¯çš„å¯¹æ¯”ï¼ˆå¤§ã€å°ï¼‰</li>
<li>é•¿åº¦çš„å¯¹æ¯”ï¼ˆé•¿ã€çŸ­ï¼‰</li>
<li>å¨‡å°çš„è§’è‰²ç©¿å®½æ¾è¾ƒå¤§çš„æœè£…ï¼ˆå¦‚åŸƒç½—èŠ’é˜¿è€å¸ˆã€ç‚¹å…”ã€å°åŸ‹ï¼‰ã€‚å®½å¤§çš„è¡£æœæ›´æ˜¾å¾—è§’è‰²æœ¬èº«çš„å¨‡å°ã€‚</li>
<li>æ€§æ„Ÿçš„è§’è‰²äº§å¸ƒæ–™è¾ƒå°‘çš„è¡£æœï¼Œçªå‡ºå…¶èº«æ</li>
</ol></li>
<li>å‰ªå½±ï¼šæ•´ä½“ä¸Šçªå‡ºä¸»å…ƒç´ </li>
</ol>
]]></content>
      <tags>
        <tag>art</tag>
        <tag>painting</tag>
        <tag>human-body</tag>
      </tags>
  </entry>
  <entry>
    <title>PSç¬”åˆ·æ¢ç©¶</title>
    <url>/2020/05/20/ps-brush/</url>
    <content><![CDATA[<h2 id="é€‰é¡¹ç ”ç©¶">é€‰é¡¹ç ”ç©¶</h2>
<p>ç”±äºå¤šæ¬¡æœç´¢å’Œç ”ç©¶ç”»ç¬”è®¾ç½®å’Œç¬”åˆ·çš„åˆ¶ä½œæ–¹æ³•ï¼Œä½†å‡æ„Ÿè§‰ç½‘ä¸Šæ‰€è®²ä¸€çŸ¥åŠè§£å±…å¤šï¼Œè¿™æ¬¡ç‰¹æ„æ‰¾æ—¶é—´å…¨éƒ¨æ•´ç†äº†ä¸€éã€‚éš¾ç†è§£çš„ã€å¯èƒ½å¹¶ä¸å¸¸ç”¨çš„æ”¾åœ¨å‰é¢ç€é‡è®²ï¼Œå®¹æ˜“ç†è§£çš„ã€å¸¸ç”¨çš„åˆ™æ”¾åœ¨åé¢ã€‚</p>
<h3 id="æ‚è‰²noise">æ‚è‰²(Noise)</h3>
<p>ä¸ºä¸ªåˆ«ç”»ç¬”ç¬”å°–å¢åŠ é¢å¤–çš„éšæœºæ€§ã€‚å½“åº”ç”¨äºæŸ”ç”»ç¬”ç¬”å°–ï¼ˆåŒ…å«ç°åº¦å€¼çš„ç”»ç¬”ç¬”å°–ï¼‰æ—¶ï¼Œæ­¤é€‰é¡¹æœ€æœ‰æ•ˆã€‚</p>
<span id="more"></span>
<h3 id="æ¹¿è¾¹wet-edges">æ¹¿è¾¹(Wet Edges)</h3>
<p>æ²¿ç”»ç¬”æè¾¹çš„è¾¹ç¼˜å¢å¤§æ²¹å½©é‡ï¼Œä»è€Œåˆ›å»ºæ°´å½©æ•ˆæœã€‚</p>
<h3 id="å–·æªå»ºç«‹airbrushbuild-up">å–·æª/å»ºç«‹(Airbrush/Build-up)</h3>
<p>å°†æ¸å˜è‰²è°ƒåº”ç”¨äºå›¾åƒï¼ŒåŒæ—¶æ¨¡æ‹Ÿä¼ ç»Ÿçš„å–·æªæŠ€æœ¯ã€‚â€œç”»ç¬”â€é¢æ¿ä¸­çš„â€œå–·æªâ€é€‰é¡¹ä¸é€‰é¡¹æ ä¸­çš„â€œå–·æªâ€é€‰é¡¹ç›¸å¯¹åº”ã€‚å–·æªçš„æœ¬è´¨ç‰¹ç‚¹æ˜¯ï¼šå½“ä½ çš„ç¬”/é¼ æ ‡åœ¨ä¸€ä¸ªç‚¹æŒ‰ä½åœç•™çš„æ—¶å€™ï¼Œé¢œè‰²ä¼šä¸æ–­åŠ æ·±ï¼Œå½±å“åŒºåŸŸä¹Ÿè¶Šæ¥è¶Šå¤§ã€‚å¦‚æœæ²¡æœ‰å‹¾é€‰å–·æª/å»ºç«‹é€‰é¡¹ï¼ŒæŒ‰å¤šä¹…éƒ½æ˜¯ä¸€æ ·çš„é¢œè‰²æ·±åº¦ã€‚ä»æŸç§æ„ä¹‰ä¸Šè®²ï¼Œå–·æªæ•ˆæœåœ¨â€œç¬”å‹â€ä¹‹å¤–åŠ å…¥äº†ä¸€ä¸ªâ€œåœç•™æ—¶é—´â€ç»´åº¦ã€‚</p>
<h3 id="å¹³æ»‘smoothing">å¹³æ»‘(Smoothing)</h3>
<p>åœ¨ç”»ç¬”æè¾¹ä¸­ç”Ÿæˆæ›´å¹³æ»‘çš„æ›²çº¿ã€‚å½“ä½¿ç”¨å…‰ç¬”è¿›è¡Œå¿«é€Ÿç»˜ç”»æ—¶ï¼Œæ­¤é€‰é¡¹æœ€æœ‰æ•ˆï¼›ä½†æ˜¯å®ƒåœ¨æè¾¹æ¸²æŸ“ä¸­å¯èƒ½ä¼šå¯¼è‡´è½»å¾®çš„æ»åã€‚</p>
<h3 id="ä¿æŠ¤çº¹ç†protect-texture">ä¿æŠ¤çº¹ç†(Protect Texture)</h3>
<p>å°†ç›¸åŒå›¾æ¡ˆå’Œç¼©æ”¾æ¯”ä¾‹åº”ç”¨äºå…·æœ‰çº¹ç†çš„æ‰€æœ‰ç”»ç¬”é¢„è®¾ã€‚é€‰æ‹©æ­¤é€‰é¡¹åï¼Œåœ¨ä½¿ç”¨å¤šä¸ªçº¹ç†ç”»ç¬”ç¬”å°–ç»˜ç”»æ—¶ï¼Œå¯ä»¥æ¨¡æ‹Ÿå‡ºä¸€è‡´çš„ç”»å¸ƒçº¹ç†ã€‚</p>
<h3 id="ç”»ç¬”ç¬”åŠ¿é€‰é¡¹">ç”»ç¬”ç¬”åŠ¿é€‰é¡¹</h3>
<p>ç”»ç¬”ç¬”åŠ¿é€‰é¡¹å¯è®©æ‚¨è·å¾—ç±»ä¼¼å…‰ç¬”çš„æ•ˆæœï¼Œå¹¶å¯è®©æ‚¨æ§åˆ¶ç”»ç¬”çš„è§’åº¦å’Œä½ç½®ã€‚</p>
<p>è¿™é‡Œè¯´çš„å…‰ç¬”æ˜¯æŒ‡ä¸€ç§åœ¨æ¿ç»˜æ—¶å¯ä»¥æ„ŸçŸ¥ç¬”çš„å€¾æ–œè§’åº¦ã€æ—‹è½¬çš„ç¬”ã€‚<strong>ç”»ç¬”ç¬”åŠ¿</strong>é€‰é¡¹å›ºå®šä¸”å‰¥å¤ºäº†æ¿ç»˜ç¬”æ—‹è½¬ã€å€¾æ–œã€å‹åŠ›çš„èƒ½åŠ›ï¼Œç›´æ¥è®¾å®šä¸ºäº†å®šå€¼ã€‚</p>
<p><strong>å€¾æ–œ X</strong></p>
<p>ç¡®å®šç”»ç¬”ä»å·¦å‘å³å€¾æ–œçš„è§’åº¦ã€‚</p>
<p><strong>å€¾æ–œ Y</strong></p>
<p>ç¡®å®šç”»ç¬”ä»å‰å‘åå€¾æ–œçš„è§’åº¦ã€‚</p>
<p><strong>æ—‹è½¬</strong></p>
<p>ç¡®å®šç¡¬æ¯›åˆ·çš„æ—‹è½¬è§’åº¦ã€‚</p>
<p><strong>å‹åŠ›</strong></p>
<p>ç¡®å®šåº”ç”¨äºç”»å¸ƒä¸Šç”»ç¬”çš„å‹åŠ›ã€‚</p>
<p>å¯ç”¨â€œè¦†ç›–â€é€‰é¡¹ä»¥ç»´æŠ¤é™æ€ç”»ç¬”ç¬”åŠ¿ã€‚</p>
<h2 id="ç”»ç¬”æ•£å¸ƒ">ç”»ç¬”æ•£å¸ƒ</h2>
<p>â€œç”»ç¬”æ•£å¸ƒâ€å¯ç¡®å®šæè¾¹ä¸­ç¬”è¿¹çš„æ•°ç›®å’Œä½ç½®ã€‚</p>
<p>ç®€å•çš„è¯´ï¼Œå¼€å¯äº†è¯¥é€‰é¡¹åï¼Œç”»çš„æ—¶å€™ç¬”è¿¹å¹¶ä¸ä¼šä¸¥æ ¼éµå¾ªä½ ç¬”çš„ä¸‹ç¬”ä½ç½®ï¼Œè€Œæ˜¯ä¼šåœ¨xå’Œyè½´ä¸Šæœ‰ä¸€ä¸ªæˆ–å¤šæˆ–å°‘çš„åç§»ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_14.png" alt="Photoshop ç”»ç¬”æ•£å¸ƒ"><figcaption aria-hidden="true">Photoshop ç”»ç¬”æ•£å¸ƒ</figcaption>
</figure>
<p>æ— æ•£å¸ƒçš„ç”»ç¬”æè¾¹ï¼ˆå·¦å›¾ï¼‰å’Œæœ‰æ•£å¸ƒçš„ç”»ç¬”æè¾¹ï¼ˆå³å›¾ï¼‰</p>
<p><strong>æ•£å¸ƒå’Œæ§åˆ¶</strong></p>
<p>æŒ‡å®šç”»ç¬”ç¬”è¿¹åœ¨æè¾¹ä¸­çš„åˆ†å¸ƒæ–¹å¼ã€‚å½“é€‰æ‹©â€œä¸¤è½´â€æ—¶ï¼Œç”»ç¬”ç¬”è¿¹æŒ‰å¾„å‘åˆ†å¸ƒã€‚å½“å–æ¶ˆé€‰æ‹©â€œä¸¤è½´â€æ—¶ï¼Œç”»ç¬”ç¬”è¿¹å‚ç›´äºæè¾¹è·¯å¾„åˆ†å¸ƒã€‚</p>
<p>è¦æŒ‡å®šæ•£å¸ƒçš„æœ€å¤§ç™¾åˆ†æ¯”ï¼Œè¯·è¾“å…¥ä¸€ä¸ªå€¼ã€‚è‹¥è¦æŒ‡å®šå¸Œæœ›å¦‚ä½•æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„æ•£å¸ƒå˜åŒ–ï¼Œè¯·ä»â€œæ§åˆ¶â€å¼¹å‡ºå¼èœå•ä¸­é€‰å–ä¸€ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>å…³</strong></p>
<p>æŒ‡å®šä¸æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„æ•£å¸ƒå˜åŒ–ã€‚</p>
<p><strong>æ¸éš</strong></p>
<p>æŒ‰æŒ‡å®šæ•°é‡çš„æ­¥é•¿å°†ç”»ç¬”ç¬”è¿¹çš„æ•£å¸ƒä»æœ€å¤§æ•£å¸ƒæ¸éšåˆ°æ— æ•£å¸ƒã€‚</p>
<p><strong>é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€å…‰ç¬”è½®ã€æ—‹è½¬</strong></p>
<p>ä¾æ®é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€é’¢ç¬”æ‹‡æŒ‡è½®ä½ç½®æˆ–é’¢ç¬”çš„æ—‹è½¬æ¥æ”¹å˜ç”»ç¬”ç¬”è¿¹çš„æ•£å¸ƒã€‚</p>
<p><strong>è®¡æ•°</strong></p>
<p>æŒ‡å®šåœ¨æ¯ä¸ªé—´è·é—´éš”åº”ç”¨çš„ç”»ç¬”ç¬”è¿¹æ•°é‡ã€‚</p>
<h3 id="é¢œè‰²åŠ¨æ€ç”»ç¬”é€‰é¡¹">é¢œè‰²åŠ¨æ€ç”»ç¬”é€‰é¡¹</h3>
<p>é¢œè‰²åŠ¨æ€å†³å®šæè¾¹è·¯çº¿ä¸­æ²¹å½©é¢œè‰²çš„å˜åŒ–æ–¹å¼ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_18.png" alt="Photoshop æœ‰é¢œè‰²åŠ¨æ€å’Œæ— é¢œè‰²åŠ¨æ€çš„ç”»ç¬”æè¾¹"><figcaption aria-hidden="true">Photoshop æœ‰é¢œè‰²åŠ¨æ€å’Œæ— é¢œè‰²åŠ¨æ€çš„ç”»ç¬”æè¾¹</figcaption>
</figure>
<p>æ— é¢œè‰²åŠ¨æ€çš„ç”»ç¬”æè¾¹ï¼ˆå·¦å›¾ï¼‰å’Œæœ‰é¢œè‰²åŠ¨æ€çš„ç”»ç¬”æè¾¹ï¼ˆå³å›¾ï¼‰</p>
<p>å®ƒä¹Ÿå¯ä»¥ç”¨æ¥åˆ¶ä½œå¦‚ä¸‹çš„å›¾åƒï¼š</p>
<p><img src="/2020/05/20/ps-brush/image-20200519182011143.png" alt="image-20200519182011143" style="zoom:33%;"></p>
<p><strong>æ¯ç¬”å°–åº”ç”¨</strong></p>
<p>æŒ‡å®šä¸ºæè¾¹ä¸­æ¯ä¸ªä¸åŒçš„ç¬”å°–å›¾ç« æ›´æ”¹é¢œè‰²ã€‚</p>
<p>å¦‚æœå–æ¶ˆé€‰ä¸­ï¼Œåˆ™åœ¨æ¯ä¸ªæè¾¹å¼€å§‹æ—¶å³è¿›è¡ŒåŠ¨æ€æ›´æ”¹ã€‚æ‚¨ä¾¿å¯ä»¥æ›´æ”¹ä¸åŒæè¾¹çš„é¢œè‰²ï¼Œè€Œä¸æ˜¯å¯¹æ¯ä¸ªæè¾¹å†…éƒ¨æ›´æ”¹é¢œè‰²ã€‚</p>
<p><strong>å‰æ™¯/èƒŒæ™¯æŠ–åŠ¨å’Œæ§åˆ¶</strong></p>
<p>æŒ‡å®šå‰æ™¯è‰²å’ŒèƒŒæ™¯è‰²ä¹‹é—´çš„æ²¹å½©å˜åŒ–æ–¹å¼ã€‚</p>
<p>è¦æŒ‡å®šæ²¹å½©é¢œè‰²å¯ä»¥æ”¹å˜çš„ç™¾åˆ†æ¯”ï¼Œè¯·é”®å…¥æ•°å­—æˆ–ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚è‹¥è¦æŒ‡å®šå¸Œæœ›å¦‚ä½•æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„é¢œè‰²å˜åŒ–ï¼Œè¯·ä»â€œæ§åˆ¶â€å¼¹å‡ºå¼èœå•ä¸­é€‰å–ä¸€ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>å…³</strong></p>
<p>æŒ‡å®šä¸æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„é¢œè‰²å˜åŒ–ã€‚</p>
<p><strong>æ¸éš</strong></p>
<p>æŒ‰æŒ‡å®šæ•°é‡çš„æ­¥é•¿åœ¨å‰æ™¯è‰²å’ŒèƒŒæ™¯è‰²ä¹‹é—´æ”¹å˜æ²¹å½©é¢œè‰²ã€‚</p>
<p><strong>é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€å…‰ç¬”è½®ã€æ—‹è½¬</strong></p>
<p>ä¾æ®é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€é’¢ç¬”æ‹‡æŒ‡è½®ä½ç½®æˆ–é’¢ç¬”çš„æ—‹è½¬æ¥æ”¹å˜å‰æ™¯è‰²å’ŒèƒŒæ™¯è‰²ä¹‹é—´çš„æ²¹å½©é¢œè‰²ã€‚</p>
<p><strong>è‰²ç›¸æŠ–åŠ¨</strong></p>
<p>æŒ‡å®šæè¾¹ä¸­æ²¹å½©è‰²ç›¸å¯ä»¥æ”¹å˜çš„ç™¾åˆ†æ¯”ã€‚é”®å…¥æ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚è¾ƒä½çš„å€¼åœ¨æ”¹å˜è‰²ç›¸çš„åŒæ—¶ä¿æŒæ¥è¿‘å‰æ™¯è‰²çš„è‰²ç›¸. è¾ƒé«˜çš„å€¼å¢å¤§è‰²ç›¸é—´çš„å·®å¼‚ã€‚</p>
<p><strong>é¥±å’Œåº¦æŠ–åŠ¨</strong></p>
<p>æŒ‡å®šæè¾¹ä¸­æ²¹å½©é¥±å’Œåº¦å¯ä»¥æ”¹å˜çš„ç™¾åˆ†æ¯”ã€‚é”®å…¥æ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚è¾ƒä½çš„å€¼åœ¨æ”¹å˜é¥±å’Œåº¦çš„åŒæ—¶ä¿æŒæ¥è¿‘å‰æ™¯è‰²çš„é¥±å’Œåº¦ã€‚è¾ƒé«˜çš„å€¼å¢å¤§é¥±å’Œåº¦çº§åˆ«ä¹‹é—´çš„å·®å¼‚ã€‚</p>
<p><strong>äº®åº¦æŠ–åŠ¨</strong></p>
<p>æŒ‡å®šæè¾¹ä¸­æ²¹å½©äº®åº¦å¯ä»¥æ”¹å˜çš„ç™¾åˆ†æ¯”ã€‚é”®å…¥æ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚è¾ƒä½çš„å€¼åœ¨æ”¹å˜äº®åº¦çš„åŒæ—¶ä¿æŒæ¥è¿‘å‰æ™¯è‰²çš„äº®åº¦ã€‚è¾ƒé«˜çš„å€¼å¢å¤§äº®åº¦çº§åˆ«ä¹‹é—´çš„å·®å¼‚ã€‚</p>
<p><strong>çº¯åº¦</strong></p>
<p>å¢å¤§æˆ–å‡å°é¢œè‰²çš„é¥±å’Œåº¦ã€‚é”®å…¥ä¸€ä¸ªæ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—è¾“å…¥ä¸€ä¸ªä»‹äº -100 å’Œ 100 ä¹‹é—´çš„ç™¾åˆ†æ¯”ã€‚å¦‚æœè¯¥å€¼ä¸º -100ï¼Œåˆ™é¢œè‰²å°†å®Œå…¨å»è‰²ï¼›å¦‚æœè¯¥å€¼ä¸º 100ï¼Œåˆ™é¢œè‰²å°†å®Œå…¨é¥±å’Œã€‚</p>
<h2 id="åŒé‡ç”»ç¬”">åŒé‡ç”»ç¬”</h2>
<p>åŒé‡ç”»ç¬”ç»„åˆä¸¤ä¸ªç¬”å°–æ¥åˆ›å»ºç”»ç¬”ç¬”è¿¹ã€‚å°†åœ¨<strong>ä¸»ç”»ç¬”çš„ç”»ç¬”æè¾¹å†…</strong>åº”ç”¨ç¬¬äºŒä¸ªç”»ç¬”çº¹ç†ï¼›ä»…ç»˜åˆ¶<strong>ä¸¤ä¸ªç”»ç¬”æè¾¹çš„äº¤å‰åŒºåŸŸ</strong>ã€‚åœ¨â€œç”»ç¬”â€é¢æ¿çš„â€œç”»ç¬”ç¬”å°–å½¢çŠ¶â€éƒ¨åˆ†ä¸­è®¾ç½®ä¸»è¦ç¬”å°–çš„é€‰é¡¹ã€‚ä»â€œç”»ç¬”â€é¢æ¿çš„â€œåŒé‡ç”»ç¬”â€éƒ¨åˆ†é€‰æ‹©å¦ä¸€ä¸ªç”»ç¬”ç¬”å°–ï¼Œç„¶åè®¾ç½®ä»¥ä¸‹ä»»æ„é€‰é¡¹ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_16.png" alt="Photoshop ä¸»ã€è¾…åŠ©ã€åŒé‡ç”»ç¬”æè¾¹"><figcaption aria-hidden="true">Photoshop ä¸»ã€è¾…åŠ©ã€åŒé‡ç”»ç¬”æè¾¹</figcaption>
</figure>
<p><strong>A.</strong> ä¸»ç”»ç¬”ç¬”å°–æè¾¹ï¼ˆå°–è§’ 55ï¼‰ã€‚ <strong>B.</strong> è¾…åŠ©ç”»ç¬”ç¬”å°–æè¾¹ï¼ˆè‰ï¼‰ã€‚ <strong>C.</strong> åŒé‡ç”»ç¬”æè¾¹ï¼ˆä½¿ç”¨ä¸¤è€…ï¼‰ã€‚</p>
<p><strong>æ¨¡å¼</strong></p>
<p>é€‰æ‹©ä»ä¸»è¦ç¬”å°–å’ŒåŒé‡ç¬”å°–ç»„åˆç”»ç¬”ç¬”è¿¹æ—¶è¦ä½¿ç”¨çš„æ··åˆæ¨¡å¼ã€‚ï¼ˆè¯·å‚é˜…<a href="https://helpx.adobe.com/cn/photoshop/using/blending-modes.html">æ··åˆæ¨¡å¼</a>ã€‚ï¼‰</p>
<p><strong>ç›´å¾„</strong></p>
<p>æ§åˆ¶åŒç¬”å°–çš„å¤§å°ã€‚ä»¥åƒç´ ä¸ºå•ä½è¾“å…¥å€¼ï¼Œæˆ–è€…å•å‡»â€œä½¿ç”¨å–æ ·å¤§å°â€æ¥ä½¿ç”¨ç”»ç¬”ç¬”å°–çš„åŸå§‹ç›´å¾„ã€‚(åªæœ‰å½“ç”»ç¬”ç¬”å°–å½¢çŠ¶æ˜¯é€šè¿‡é‡‡é›†å›¾åƒä¸­çš„åƒç´ æ ·æœ¬åˆ›å»ºçš„æ—¶ï¼Œâ€œä½¿ç”¨å–æ ·å¤§å°â€é€‰é¡¹æ‰å¯ç”¨ã€‚)</p>
<p><strong>é—´è·</strong></p>
<p>æ§åˆ¶æè¾¹ä¸­åŒç¬”å°–ç”»ç¬”ç¬”è¿¹ä¹‹é—´çš„è·ç¦»ã€‚è‹¥è¦æ›´æ”¹é—´è·ï¼Œè¯·é”®å…¥æ•°å­—ï¼Œæˆ–ä½¿ç”¨æ»‘å—è¾“å…¥ç¬”å°–ç›´å¾„çš„ç™¾åˆ†æ¯”ã€‚</p>
<p><strong>æ•£å¸ƒ</strong></p>
<p>æŒ‡å®šæè¾¹ä¸­åŒç¬”å°–ç”»ç¬”ç¬”è¿¹çš„åˆ†å¸ƒæ–¹å¼ã€‚å½“é€‰ä¸­â€œä¸¤è½´â€æ—¶ï¼ŒåŒç¬”å°–ç”»ç¬”ç¬”è¿¹æŒ‰å¾„å‘åˆ†å¸ƒã€‚å½“å–æ¶ˆé€‰æ‹©â€œä¸¤è½´â€æ—¶ï¼ŒåŒç¬”å°–ç”»ç¬”ç¬”è¿¹å‚ç›´äºæè¾¹è·¯å¾„åˆ†å¸ƒã€‚è‹¥è¦æŒ‡å®šæ•£å¸ƒçš„æœ€å¤§ç™¾åˆ†æ¯”ï¼Œè¯·é”®å…¥æ•°å­—æˆ–ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚</p>
<p><strong>è®¡æ•°</strong></p>
<p>æŒ‡å®šåœ¨æ¯ä¸ªé—´è·é—´éš”åº”ç”¨çš„åŒç¬”å°–ç”»ç¬”ç¬”è¿¹çš„æ•°é‡ã€‚é”®å…¥æ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚</p>
<h2 id="çº¹ç†ç”»ç¬”é€‰é¡¹">çº¹ç†ç”»ç¬”é€‰é¡¹</h2>
<p>çº¹ç†ç”»ç¬”åˆ©ç”¨<strong>å›¾æ¡ˆä½¿æè¾¹</strong>çœ‹èµ·æ¥åƒæ˜¯åœ¨å¸¦çº¹ç†çš„ç”»å¸ƒä¸Šç»˜åˆ¶çš„ä¸€æ ·ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_15.png" alt="Photoshop æœ‰çº¹ç†å’Œæ— çº¹ç†çš„ç”»ç¬”æè¾¹"><figcaption aria-hidden="true">Photoshop æœ‰çº¹ç†å’Œæ— çº¹ç†çš„ç”»ç¬”æè¾¹</figcaption>
</figure>
<p>æ— çº¹ç†çš„ç”»ç¬”æè¾¹ï¼ˆå·¦å›¾ï¼‰å’Œæœ‰çº¹ç†çš„ç”»ç¬”æè¾¹ï¼ˆå³å›¾ï¼‰</p>
<p>å•å‡»å›¾æ¡ˆæ ·æœ¬ï¼Œç„¶åä»å¼¹å‡ºå¼é¢æ¿ä¸­é€‰æ‹©å›¾æ¡ˆã€‚è®¾ç½®ä¸‹é¢çš„ä¸€ä¸ªæˆ–å¤šä¸ªé€‰é¡¹ï¼š</p>
<p><strong>åç›¸</strong></p>
<p>åŸºäºå›¾æ¡ˆä¸­çš„è‰²è°ƒåè½¬çº¹ç†ä¸­çš„äº®ç‚¹å’Œæš—ç‚¹ã€‚å½“é€‰æ‹©â€œåç›¸â€æ—¶ï¼Œå›¾æ¡ˆä¸­çš„æœ€äº®åŒºåŸŸæ˜¯çº¹ç†ä¸­çš„æš—ç‚¹ï¼Œå› æ­¤æ¥æ”¶æœ€å°‘çš„æ²¹å½©ï¼›å›¾æ¡ˆä¸­çš„æœ€æš—åŒºåŸŸæ˜¯çº¹ç†ä¸­çš„äº®ç‚¹ï¼Œå› æ­¤æ¥æ”¶æœ€å¤šçš„æ²¹å½©ã€‚å½“å–æ¶ˆé€‰æ‹©â€œåç›¸â€æ—¶ï¼Œå›¾æ¡ˆä¸­çš„æœ€äº®åŒºåŸŸæ¥æ”¶æœ€å¤šçš„æ²¹å½©ï¼›å›¾æ¡ˆä¸­çš„æœ€æš—åŒºåŸŸæ¥æ”¶æœ€å°‘çš„æ²¹å½©ã€‚</p>
<p><strong>æ¯”ä¾‹</strong></p>
<p>æŒ‡å®šå›¾æ¡ˆçš„ç¼©æ”¾æ¯”ä¾‹ã€‚é”®å…¥æ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å›¾æ¡ˆå¤§å°çš„ç™¾åˆ†æ¯”å€¼ã€‚</p>
<p><strong>ä¸ºæ¯ä¸ªç¬”å°–è®¾ç½®çº¹ç†</strong></p>
<p>å°†é€‰å®šçš„çº¹ç†å•ç‹¬åº”ç”¨äºç”»ç¬”æè¾¹ä¸­çš„æ¯ä¸ªç”»ç¬”ç¬”è¿¹ï¼Œè€Œä¸æ˜¯ä½œä¸ºæ•´ä½“åº”ç”¨äºç”»ç¬”æè¾¹ï¼ˆç”»ç¬”æè¾¹ç”±æ‹–åŠ¨ç”»ç¬”æ—¶è¿ç»­åº”ç”¨çš„è®¸å¤šç”»ç¬”ç¬”è¿¹æ„æˆï¼‰ã€‚å¿…é¡»é€‰æ‹©æ­¤é€‰é¡¹ï¼Œæ‰èƒ½ä½¿ç”¨â€œæ·±åº¦â€å˜åŒ–é€‰é¡¹ã€‚</p>
<p><strong>æ¨¡å¼</strong></p>
<p>æŒ‡å®šç”¨äºç»„åˆç”»ç¬”å’Œå›¾æ¡ˆçš„æ··åˆæ¨¡å¼ã€‚ï¼ˆè¯·å‚é˜…<a href="https://helpx.adobe.com/cn/photoshop/using/blending-modes.html">æ··åˆæ¨¡å¼</a>ã€‚ï¼‰</p>
<p><strong>æ·±åº¦</strong></p>
<p>æŒ‡å®šæ²¹å½©æ¸—å…¥çº¹ç†ä¸­çš„æ·±åº¦ã€‚é”®å…¥æ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚å¦‚æœæ˜¯ 100%ï¼Œåˆ™çº¹ç†ä¸­çš„æš—ç‚¹ä¸æ¥æ”¶ä»»ä½•æ²¹å½©ã€‚å¦‚æœæ˜¯ 0%ï¼Œåˆ™çº¹ç†ä¸­çš„æ‰€æœ‰ç‚¹éƒ½æ¥æ”¶ç›¸åŒæ•°é‡çš„æ²¹å½©ï¼Œä»è€Œéšè—å›¾æ¡ˆã€‚</p>
<p><strong>æœ€å°æ·±åº¦</strong></p>
<p>æŒ‡å®šå°†â€œæ·±åº¦æ§åˆ¶â€è®¾ç½®ä¸ºâ€œæ¸éšâ€ã€â€œé’¢ç¬”å‹åŠ›â€ã€â€œé’¢ç¬”æ–œåº¦â€æˆ–â€œå…‰ç¬”è½®â€å¹¶ä¸”é€‰ä¸­â€œä¸ºæ¯ä¸ªç¬”å°–è®¾ç½®çº¹ç†â€æ—¶æ²¹å½©å¯æ¸—å…¥çš„æœ€å°æ·±åº¦ã€‚</p>
<p><strong>æ·±åº¦æŠ–åŠ¨å’Œæ§åˆ¶</strong></p>
<p>æŒ‡å®šå½“é€‰ä¸­â€œä¸ºæ¯ä¸ªç¬”å°–è®¾ç½®çº¹ç†â€æ—¶æ·±åº¦çš„æ”¹å˜æ–¹å¼ã€‚è‹¥è¦æŒ‡å®šæŠ–åŠ¨çš„æœ€å¤§ç™¾åˆ†æ¯”ï¼Œè¯·è¾“å…¥ä¸€ä¸ªå€¼ã€‚è‹¥è¦æŒ‡å®šå¸Œæœ›å¦‚ä½•æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„æ·±åº¦å˜åŒ–ï¼Œè¯·ä»â€œæ§åˆ¶â€å¼¹å‡ºå¼èœå•ä¸­é€‰å–ä¸€ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>å…³</strong></p>
<p>æŒ‡å®šä¸æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„æ·±åº¦å˜åŒ–ã€‚</p>
<p><strong>æ¸éš</strong></p>
<p>æŒ‰æŒ‡å®šæ•°é‡çš„æ­¥é•¿ä»â€œæ·±åº¦æŠ–åŠ¨â€ç™¾åˆ†æ¯”æ¸éšåˆ°â€œæœ€å°æ·±åº¦â€ç™¾åˆ†æ¯”ã€‚</p>
<p><strong>é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€å…‰ç¬”è½®ã€æ—‹è½¬</strong></p>
<p>ä¾æ®é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€é’¢ç¬”æ‹‡æŒ‡è½®ä½ç½®æˆ–é’¢ç¬”æ—‹è½¬è§’åº¦æ¥æ”¹å˜æ·±åº¦ã€‚</p>
<h4 id="å‡ ä¸ªç¤ºä¾‹">å‡ ä¸ªç¤ºä¾‹ï¼š</h4>
<p><strong>å‡å»</strong>æ¨¡å¼ï¼š</p>
<p><img src="/2020/05/20/ps-brush/image-20200519185949006.png" alt="image-20200519185949006" style="zoom:50%;"></p>
<p><strong>æ­£ç‰‡å åº•</strong>æ¨¡å¼ï¼š</p>
<p><img src="/2020/05/20/ps-brush/image-20200519185914171.png" alt="image-20200519185914171" style="zoom:50%;"></p>
<p><strong>é¢œè‰²å‡æ·¡</strong>æ¨¡å¼ï¼š</p>
<p><img src="/2020/05/20/ps-brush/image-20200519190128765.png" alt="image-20200519190128765" style="zoom:40%;"></p>
<p><strong>é«˜åº¦</strong>æ¨¡å¼ï¼š</p>
<p><img src="/2020/05/20/ps-brush/image-20200519190234030.png" alt="image-20200519190234030" style="zoom:33%;"></p>
<h3 id="ç”»ç¬”å½¢çŠ¶åŠ¨æ€">ç”»ç¬”å½¢çŠ¶åŠ¨æ€</h3>
<p>å½¢çŠ¶åŠ¨æ€å†³å®šæè¾¹ä¸­ç”»ç¬”ç¬”è¿¹çš„å˜åŒ–ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_13.png" alt="Photoshop æœ‰å½¢çŠ¶åŠ¨æ€å’Œæ— å½¢çŠ¶åŠ¨æ€çš„ç”»ç¬”æè¾¹"><figcaption aria-hidden="true">Photoshop æœ‰å½¢çŠ¶åŠ¨æ€å’Œæ— å½¢çŠ¶åŠ¨æ€çš„ç”»ç¬”æè¾¹</figcaption>
</figure>
<p>æ— å½¢çŠ¶åŠ¨æ€ï¼ˆå·¦å›¾ï¼‰å’Œæœ‰å½¢çŠ¶åŠ¨æ€ï¼ˆå³å›¾ï¼‰çš„ç”»ç¬”æè¾¹</p>
<p><strong>å¤§å°æŠ–åŠ¨å’Œæ§åˆ¶</strong></p>
<p>æŒ‡å®šæè¾¹ä¸­ç”»ç¬”ç¬”è¿¹å¤§å°çš„æ”¹å˜æ–¹å¼ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://helpx.adobe.com/cn/photoshop/using/creating-modifying-brushes.html">åˆ›å»ºå’Œä¿®æ”¹ç”»ç¬”</a>ã€‚</p>
<p>è‹¥è¦æŒ‡å®šæŠ–åŠ¨çš„æœ€å¤§ç™¾åˆ†æ¯”ï¼Œè¯·é€šè¿‡é”®å…¥æ•°å­—æˆ–ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚è‹¥è¦æŒ‡å®šå¸Œæœ›å¦‚ä½•æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„å¤§å°å˜åŒ–ï¼Œè¯·ä»â€œæ§åˆ¶â€å¼¹å‡ºå¼èœå•ä¸­é€‰å–ä¸€ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>å…³</strong></p>
<p>æŒ‡å®šä¸æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„å¤§å°å˜åŒ–ã€‚</p>
<p><strong>æ¸éš</strong></p>
<p>æŒ‰æŒ‡å®šæ•°é‡çš„æ­¥é•¿åœ¨åˆå§‹ç›´å¾„å’Œæœ€å°ç›´å¾„ä¹‹é—´æ¸éšç”»ç¬”ç¬”è¿¹çš„å¤§å°ã€‚æ¯ä¸ªæ­¥é•¿ç­‰äºç”»ç¬”ç¬”å°–çš„ä¸€ä¸ªç¬”è¿¹ã€‚å€¼çš„èŒƒå›´å¯ä»¥ä» 1 åˆ° 9999ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥æ­¥é•¿æ•° 10 ä¼šäº§ç”Ÿ 10 ä¸ªå¢é‡çš„æ¸éšã€‚</p>
<p><strong>é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦æˆ–å…‰ç¬”è½®</strong></p>
<p>å¯ä¾æ®é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦æˆ–é’¢ç¬”æ‹‡æŒ‡è½®ä½ç½®ä»¥åœ¨åˆå§‹ç›´å¾„å’Œæœ€å°ç›´å¾„ä¹‹é—´æ”¹å˜ç”»ç¬”ç¬”è¿¹å¤§å°ã€‚</p>
<p><strong>æœ€å°ç›´å¾„</strong></p>
<p>æŒ‡å®šå½“å¯ç”¨â€œå¤§å°æŠ–åŠ¨â€æˆ–â€œå¤§å°æ§åˆ¶â€æ—¶ç”»ç¬”ç¬”è¿¹å¯ä»¥ç¼©æ”¾çš„æœ€å°ç™¾åˆ†æ¯”ã€‚å¯é€šè¿‡é”®å…¥æ•°å­—æˆ–ä½¿ç”¨æ»‘å—æ¥è¾“å…¥ç”»ç¬”ç¬”å°–ç›´å¾„çš„ç™¾åˆ†æ¯”å€¼ã€‚</p>
<p><strong>å€¾æ–œç¼©æ”¾æ¯”ä¾‹</strong></p>
<p>æŒ‡å®šå½“â€œå¤§å°æŠ–åŠ¨â€è®¾ç½®ä¸ºâ€œé’¢ç¬”æ–œåº¦â€æ—¶ï¼Œåœ¨æ—‹è½¬å‰åº”ç”¨äºç”»ç¬”é«˜åº¦çš„æ¯”ä¾‹å› å­ã€‚é”®å…¥æ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—è¾“å…¥ç”»ç¬”ç›´å¾„çš„ç™¾åˆ†æ¯”å€¼ã€‚</p>
<p><strong>è§’åº¦æŠ–åŠ¨å’Œæ§åˆ¶</strong></p>
<p>æŒ‡å®šæè¾¹ä¸­ç”»ç¬”ç¬”è¿¹è§’åº¦çš„æ”¹å˜æ–¹å¼ã€‚è¯¥é€‰é¡¹å¯ç”¨æ—¶ï¼Œæ¯æ¬¡ä½ é‡æ–°ä¸‹ç¬”ï¼Œéƒ½ä¼šéšæœºæ”¹å˜ä¸€ä¸ªç”»ç¬”è§’åº¦ï¼Œéšæœºç¨‹åº¦ç”±ä½ è®¾ç½®çš„å€¼æ¥å†³å®šã€‚è‹¥è¦æŒ‡å®šæŠ–åŠ¨çš„æœ€å¤§ç™¾åˆ†æ¯”ï¼Œè¯·è¾“å…¥ä¸€ä¸ª 360 åº¦çš„ç™¾åˆ†æ¯”å€¼ã€‚è‹¥è¦æŒ‡å®šå¸Œæœ›å¦‚ä½•æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„è§’åº¦å˜åŒ–ï¼Œè¯·ä»â€œæ§åˆ¶â€å¼¹å‡ºå¼èœå•ä¸­é€‰å–ä¸€ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>å…³</strong></p>
<p>æŒ‡å®šä¸æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„è§’åº¦å˜åŒ–ã€‚</p>
<p><strong>æ¸éš</strong></p>
<p>æŒ‰æŒ‡å®šæ•°é‡çš„æ­¥é•¿åœ¨ 0 å’Œ 360 åº¦ä¹‹é—´æ¸éšç”»ç¬”ç¬”è¿¹è§’åº¦ã€‚</p>
<p><strong>é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€å…‰ç¬”è½®ã€æ—‹è½¬</strong></p>
<p>ä¾æ®é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€é’¢ç¬”æ‹‡æŒ‡è½®ä½ç½®æˆ–é’¢ç¬”çš„æ—‹è½¬åœ¨ 0 åˆ° 360 åº¦ä¹‹é—´æ”¹å˜ç”»ç¬”ç¬”è¿¹çš„è§’åº¦ã€‚</p>
<p><strong>åˆå§‹æ–¹å‘</strong></p>
<p>ä½¿ç”»ç¬”ç¬”è¿¹çš„è§’åº¦åŸºäºç”»ç¬”æè¾¹çš„åˆå§‹æ–¹å‘ã€‚</p>
<p><strong>æ–¹å‘</strong></p>
<p>ä½¿ç”»ç¬”ç¬”è¿¹çš„è§’åº¦åŸºäºç”»ç¬”æè¾¹çš„æ–¹å‘ã€‚</p>
<p><strong>åœ†åº¦æŠ–åŠ¨å’Œæ§åˆ¶</strong></p>
<p>æŒ‡å®šç”»ç¬”ç¬”è¿¹çš„åœ†åº¦åœ¨æè¾¹ä¸­çš„æ”¹å˜æ–¹å¼ã€‚è‹¥è¦æŒ‡å®šæŠ–åŠ¨çš„æœ€å¤§ç™¾åˆ†æ¯”ï¼Œè¯·è¾“å…¥ä¸€ä¸ªæŒ‡æ˜ç”»ç¬”é•¿çŸ­è½´ä¹‹é—´çš„æ¯”ç‡çš„ç™¾åˆ†æ¯”ã€‚è‹¥è¦æŒ‡å®šå¸Œæœ›å¦‚ä½•æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„åœ†åº¦å˜åŒ–ï¼Œè¯·ä»â€œæ§åˆ¶â€å¼¹å‡ºå¼èœå•ä¸­é€‰å–ä¸€ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>å…³</strong></p>
<p>æŒ‡å®šä¸æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„åœ†åº¦å˜åŒ–ã€‚</p>
<p><strong>æ¸éš</strong></p>
<p>æŒ‰æŒ‡å®šæ•°é‡æ­¥é•¿åœ¨ 100% å’Œâ€œæœ€å°åœ†åº¦â€å€¼ä¹‹é—´æ¸éšç”»ç¬”ç¬”è¿¹çš„åœ†åº¦ã€‚</p>
<p><strong>é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€å…‰ç¬”è½®ã€æ—‹è½¬</strong></p>
<p>ä¾æ®é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦ã€é’¢ç¬”æ‹‡æŒ‡è½®ä½ç½®æˆ–é’¢ç¬”çš„æ—‹è½¬åœ¨ 100% å’Œâ€œæœ€å°åœ†åº¦â€å€¼ä¹‹é—´æ”¹å˜ç”»ç¬”ç¬”è¿¹çš„åœ†åº¦ã€‚</p>
<p><strong>æœ€å°åœ†åº¦</strong></p>
<p>æŒ‡å®šå½“â€œåœ†åº¦æŠ–åŠ¨â€æˆ–â€œåœ†åº¦æ§åˆ¶â€å¯ç”¨æ—¶ç”»ç¬”ç¬”è¿¹çš„æœ€å°åœ†åº¦ã€‚è¾“å…¥ä¸€ä¸ªæŒ‡æ˜ç”»ç¬”é•¿çŸ­è½´ä¹‹é—´çš„æ¯”ç‡çš„ç™¾åˆ†æ¯”ã€‚</p>
<p><strong>ç”»ç¬”æŠ•å½±</strong></p>
<p>æŒ‡å®šå½“æ‚¨ä½¿ç”¨å…‰ç¬”ç»˜ç”»æ—¶ï¼Œå…‰ç¬”å°†æ›´æ”¹ä¸ºå€¾æ–œçŠ¶æ€å¹¶å°†æ—‹è½¬å…‰ç¬”ä»¥æ”¹å˜ç¬”å°–å½¢çŠ¶ã€‚</p>
<h3 id="ä¼ é€’è½¬æ¢ç”»ç¬”é€‰é¡¹">ä¼ é€’/è½¬æ¢ç”»ç¬”é€‰é¡¹</h3>
<p>è½¬æ¢ç”»ç¬”é€‰é¡¹ç¡®å®šæ²¹å½©åœ¨æè¾¹è·¯çº¿ä¸­çš„æ”¹å˜æ–¹å¼ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_19.png" alt="Photoshop ä¼ é€’ç”»ç¬”é€‰é¡¹"><figcaption aria-hidden="true">Photoshop ä¼ é€’ç”»ç¬”é€‰é¡¹</figcaption>
</figure>
<p>æ— åŠ¨æ€ç»˜ç”»çš„ç”»ç¬”æè¾¹ï¼ˆå·¦å›¾ï¼‰å’Œæœ‰åŠ¨æ€ç»˜ç”»çš„ç”»ç¬”æè¾¹ï¼ˆå³å›¾ï¼‰</p>
<p><strong>ä¸é€æ˜åº¦æŠ–åŠ¨å’Œæ§åˆ¶</strong></p>
<p>æŒ‡å®šç”»ç¬”æè¾¹ä¸­æ²¹å½©ä¸é€æ˜åº¦å¦‚ä½•å˜åŒ–ï¼Œæœ€é«˜å€¼ï¼ˆä½†ä¸è¶…è¿‡ï¼‰æ˜¯é€‰é¡¹æ ä¸­æŒ‡å®šçš„ä¸é€æ˜åº¦å€¼ã€‚è¦æŒ‡å®šæ²¹å½©ä¸é€æ˜åº¦å¯ä»¥æ”¹å˜çš„ç™¾åˆ†æ¯”ï¼Œè¯·é”®å…¥æ•°å­—æˆ–ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚è‹¥è¦æŒ‡å®šå¸Œæœ›å¦‚ä½•æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„ä¸é€æ˜åº¦å˜åŒ–ï¼Œè¯·ä»â€œæ§åˆ¶â€å¼¹å‡ºå¼èœå•ä¸­é€‰å–ä¸€ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>å…³</strong></p>
<p>æŒ‡å®šä¸æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„ä¸é€æ˜åº¦å˜åŒ–ã€‚</p>
<p><strong>æ¸éš</strong></p>
<p>æŒ‰æŒ‡å®šæ•°é‡çš„æ­¥é•¿å°†æ²¹å½©ä¸é€æ˜åº¦ä»é€‰é¡¹æ ä¸­çš„ä¸é€æ˜åº¦å€¼æ¸éšåˆ° 0ã€‚</p>
<p><strong>é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦æˆ–å…‰ç¬”è½®</strong></p>
<p>å¯ä¾æ®é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦æˆ–é’¢ç¬”æ‹‡æŒ‡è½®çš„ä½ç½®æ¥æ”¹å˜é¢œæ–™çš„ä¸é€æ˜åº¦ã€‚</p>
<p><strong>æµé‡æŠ–åŠ¨å’Œæ§åˆ¶</strong></p>
<p>æŒ‡å®šç”»ç¬”æè¾¹ä¸­æ²¹å½©æµé‡å¦‚ä½•å˜åŒ–ï¼Œæœ€é«˜ï¼ˆä½†ä¸è¶…è¿‡ï¼‰å€¼æ˜¯é€‰é¡¹æ ä¸­æŒ‡å®šçš„æµé‡å€¼ã€‚</p>
<p>è¦æŒ‡å®šæ²¹å½©æµé‡å¯ä»¥æ”¹å˜çš„ç™¾åˆ†æ¯”ï¼Œè¯·é”®å…¥æ•°å­—æˆ–ä½¿ç”¨æ»‘å—æ¥è¾“å…¥å€¼ã€‚è‹¥è¦æŒ‡å®šå¸Œæœ›å¦‚ä½•æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„æµé‡å˜åŒ–ï¼Œè¯·ä»â€œæ§åˆ¶â€å¼¹å‡ºå¼èœå•ä¸­é€‰å–ä¸€ä¸ªé€‰é¡¹ï¼š</p>
<p><strong>å…³</strong></p>
<p>æŒ‡å®šä¸æ§åˆ¶ç”»ç¬”ç¬”è¿¹çš„æµé‡å˜åŒ–ã€‚</p>
<p><strong>æ¸éš</strong></p>
<p>æŒ‰æŒ‡å®šæ•°é‡çš„æ­¥é•¿å°†æ²¹å½©æµé‡ä»é€‰é¡¹æ ä¸­çš„æµé‡å€¼æ¸éšåˆ° 0ã€‚</p>
<p><strong>é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦æˆ–å…‰ç¬”è½®</strong></p>
<p>å¯ä¾æ®é’¢ç¬”å‹åŠ›ã€é’¢ç¬”æ–œåº¦æˆ–é’¢ç¬”æ‹‡æŒ‡è½®çš„ä½ç½®æ¥æ”¹å˜æ²¹å½©çš„æµé‡ã€‚</p>
<h3 id="æ ‡å‡†ç”»ç¬”ç¬”å°–å½¢çŠ¶é€‰é¡¹">æ ‡å‡†ç”»ç¬”ç¬”å°–å½¢çŠ¶é€‰é¡¹</h3>
<p>å¯¹äºæ ‡å‡†ç”»ç¬”ç¬”å°–ï¼Œå¯è®¾ç½®â€œç”»ç¬”è®¾ç½®â€é¢æ¿ä¸­çš„ä»¥ä¸‹é€‰é¡¹ï¼š</p>
<h4 id="å¤§å°">å¤§å°</h4>
<p>æ§åˆ¶ç”»ç¬”å¤§å°ã€‚è¾“å…¥ä»¥åƒç´ ä¸ºå•ä½çš„å€¼ï¼Œæˆ–æ‹–åŠ¨æ»‘å—ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_06.png" alt="å…·æœ‰ä¸åŒç›´å¾„å€¼çš„ç”»ç¬”æè¾¹"><figcaption aria-hidden="true">å…·æœ‰ä¸åŒç›´å¾„å€¼çš„ç”»ç¬”æè¾¹</figcaption>
</figure>
<h4 id="ä½¿ç”¨å–æ ·å¤§å°">ä½¿ç”¨å–æ ·å¤§å°</h4>
<p>å°†ç”»ç¬”å¤ä½åˆ°å®ƒçš„åŸå§‹ç›´å¾„ã€‚åªæœ‰åœ¨ç”»ç¬”ç¬”å°–å½¢çŠ¶æ˜¯é€šè¿‡é‡‡é›†å›¾åƒä¸­çš„åƒç´ æ ·æœ¬åˆ›å»ºçš„æƒ…å†µä¸‹ï¼Œæ­¤é€‰é¡¹æ‰å¯ç”¨ã€‚</p>
<h4 id="ç¿»è½¬-x">ç¿»è½¬ X</h4>
<p>æ”¹å˜ç”»ç¬”ç¬”å°–åœ¨å…¶ <em>x</em> è½´ä¸Šçš„æ–¹å‘ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_07.png" alt="Photoshop ç¿»è½¬ X"><figcaption aria-hidden="true">Photoshop ç¿»è½¬ X</figcaption>
</figure>
<p>å°†ç”»ç¬”ç¬”å°–åœ¨å…¶ x è½´ä¸Šç¿»è½¬ <strong>A.</strong> å¤„åœ¨é»˜è®¤ä½ç½®çš„ç”»ç¬”ç¬”å°– <strong>B.</strong> é€‰ä¸­äº†â€œç¿»è½¬ Xâ€æ—¶ <strong>C.</strong> é€‰ä¸­äº†â€œç¿»è½¬ Xâ€å’Œâ€œç¿»è½¬ Yâ€æ—¶</p>
<h4 id="ç¿»è½¬-y">ç¿»è½¬ Y</h4>
<p>æ”¹å˜ç”»ç¬”ç¬”å°–åœ¨å…¶ <em>y</em> è½´ä¸Šçš„æ–¹å‘ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_08.png" alt="Photoshop ç¿»è½¬ Y"><figcaption aria-hidden="true">Photoshop ç¿»è½¬ Y</figcaption>
</figure>
<p>å°†ç”»ç¬”ç¬”å°–åœ¨å…¶ y è½´ä¸Šç¿»è½¬ <strong>A.</strong> å¤„åœ¨é»˜è®¤ä½ç½®çš„ç”»ç¬”ç¬”å°– <strong>B.</strong> é€‰ä¸­äº†â€œç¿»è½¬ Yâ€æ—¶ <strong>C.</strong> é€‰ä¸­äº†â€œç¿»è½¬ Yâ€å’Œâ€œç¿»è½¬ Xâ€æ—¶</p>
<h4 id="è§’åº¦">è§’åº¦</h4>
<p>æŒ‡å®šæ¤­åœ†ç”»ç¬”æˆ–æ ·æœ¬ç”»ç¬”çš„é•¿è½´ä»æ°´å¹³æ–¹å‘æ—‹è½¬çš„è§’åº¦ã€‚é”®å…¥åº¦æ•°ï¼Œæˆ–åœ¨é¢„è§ˆæ¡†ä¸­æ‹–åŠ¨æ°´å¹³è½´ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_09.png" alt="Photoshop è§’åº¦"><figcaption aria-hidden="true">Photoshop è§’åº¦</figcaption>
</figure>
<p>å¸¦è§’åº¦çš„ç”»ç¬”åˆ›å»ºé›•åˆ»çŠ¶æè¾¹</p>
<h4 id="åœ†åº¦">åœ†åº¦</h4>
<p>æŒ‡å®šç”»ç¬”çŸ­è½´å’Œé•¿è½´ä¹‹é—´çš„æ¯”ç‡ã€‚è¾“å…¥ç™¾åˆ†æ¯”å€¼ï¼Œæˆ–åœ¨é¢„è§ˆæ¡†ä¸­æ‹–åŠ¨ç‚¹ã€‚100% è¡¨ç¤ºåœ†å½¢ç”»ç¬”ï¼Œ0% è¡¨ç¤ºçº¿æ€§ç”»ç¬”ï¼Œä»‹äºä¸¤è€…ä¹‹é—´çš„å€¼è¡¨ç¤ºæ¤­åœ†ç”»ç¬”ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_10.png" alt="Photoshop åœ†åº¦"><figcaption aria-hidden="true">Photoshop åœ†åº¦</figcaption>
</figure>
<p>è°ƒæ•´åœ†åº¦ä»¥å‹ç¼©ç”»ç¬”ç¬”å°–å½¢çŠ¶</p>
<h4 id="ç¡¬åº¦">ç¡¬åº¦</h4>
<p>æ§åˆ¶ç”»ç¬”ç¡¬åº¦ä¸­å¿ƒçš„å¤§å°ã€‚é”®å…¥æ•°å­—ï¼Œæˆ–è€…ä½¿ç”¨æ»‘å—è¾“å…¥ç”»ç¬”ç›´å¾„çš„ç™¾åˆ†æ¯”å€¼ã€‚ä¸èƒ½æ›´æ”¹æ ·æœ¬ç”»ç¬”çš„ç¡¬åº¦ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_11.png" alt="Photoshop ç¡¬åº¦"><figcaption aria-hidden="true">Photoshop ç¡¬åº¦</figcaption>
</figure>
<p>å…·æœ‰ä¸åŒç¡¬åº¦å€¼çš„ç”»ç¬”æè¾¹</p>
<h4 id="é—´è·">é—´è·</h4>
<p>æ§åˆ¶æè¾¹ä¸­ä¸¤ä¸ªç”»ç¬”ç¬”è¿¹ä¹‹é—´çš„è·ç¦»ã€‚å¦‚æœè¦æ›´æ”¹é—´è·ï¼Œè¯·é”®å…¥æ•°å­—ï¼Œæˆ–ä½¿ç”¨æ»‘å—è¾“å…¥ç”»ç¬”ç›´å¾„çš„ç™¾åˆ†æ¯”å€¼ã€‚å½“å–æ¶ˆé€‰æ‹©æ­¤é€‰é¡¹æ—¶ï¼Œå…‰æ ‡çš„é€Ÿåº¦å°†ç¡®å®šé—´è·ã€‚</p>
<figure>
<img src="/2020/05/20/ps-brush/pa_12.png" alt="Photoshop é—´è·"><figcaption aria-hidden="true">Photoshop é—´è·</figcaption>
</figure>
<p>å¢å¤§é—´è·å¯ä½¿ç”»ç¬”æ€¥é€Ÿæ”¹å˜</p>
<h4 id="æ³¨æ„">æ³¨æ„:</h4>
<p>å½“ä½¿ç”¨é¢„è®¾ç”»ç¬”æ—¶ï¼ŒæŒ‰ [ é”®å¯å‡å°ç”»ç¬”å®½åº¦ï¼›æŒ‰ ] é”®å¯å¢åŠ å®½åº¦ã€‚å¯¹äºç¡¬è¾¹åœ†ã€æŸ”è¾¹åœ†å’Œä¹¦æ³•ç”»ç¬”ï¼ŒæŒ‰ Shift+ [ é”®å¯å‡å°ç”»ç¬”ç¡¬åº¦ï¼›æŒ‰ Shift+ ] é”®å¯å¢åŠ ç”»ç¬”ç¡¬åº¦ã€‚</p>
<h2 id="å¸¸ç”¨è¾¨æ">å¸¸ç”¨è¾¨æ</h2>
<ul>
<li>å¸¸ç”¨çš„<strong>19å·ç¬”åˆ·</strong>å…¶å®ä¸»è¦å°±æ˜¯<code>å¤§å°æŠ–åŠ¨</code>+<code>æµé‡æŠ–åŠ¨</code>+<code>å»ºç«‹</code>æ„æˆçš„ã€‚</li>
<li>å¸¸ç”¨çš„<strong>å–·æª</strong>å°±æ˜¯ <code>æŸ”è§’ç¬”å°–å½¢çŠ¶</code>+ <code>æµé‡æŠ–åŠ¨</code>+<code>å»ºç«‹</code>æ„æˆçš„ã€‚æˆ–è€…è¯´ï¼Œå¹¿ä¹‰ä¸Šçš„å–·æªå¯ä»¥ç”±ä»»æ„ä¸€ä¸ªç¬”åˆ·åŠ ä¸Š<code>å»ºç«‹</code>é€‰é¡¹æ„æˆã€‚</li>
<li>èƒ½å¦<strong>æ··è‰²</strong>ä¸æ˜¯ç”±ç¬”åˆ·å†³å®šçš„ï¼Œè€Œæ˜¯ç”±<strong>ç¬”çš„ç±»å‹</strong>å†³å®šçš„ã€‚<strong>æ··åˆç”»ç¬”å·¥å…·</strong>å¯ä»¥è®©é¢œè‰²æ··åˆï¼Œè€Œæ™®é€š <strong>ç”»ç¬”å·¥å…·</strong>åˆ™ä¸å¯ä»¥ã€‚æ··åˆç”»ç¬”å·¥å…·çš„æ··è‰²ä¸ä»…ä»…æ˜¯ä¸Šä¸‹é¢œè‰²çš„èåˆï¼Œè€Œä¸”ä¼šæŠŠä¸‹é¢çš„è‰²è°ƒå¸¦åˆ°ç°æœ‰çš„ç¬”åˆ·ä¹‹ä¸­ï¼Œå³ä½¿åé¢æ²¡æœ‰äº†ä¸‹å±‚å…¶ä»–é¢œè‰²ï¼Œç”»ç¬”ä¹Ÿä¼šæŒç»­ç»´æŒæ··è‰²ä¸€æ®µæ—¶é—´ç›´è‡³å®Œå…¨è¡°å‡ã€‚å¦‚ä¸‹å›¾ï¼š</li>
</ul>
<figure>
<img src="/2020/05/20/ps-brush/image-20200519171159376.png" alt="image-20200519171159376"><figcaption aria-hidden="true">image-20200519171159376</figcaption>
</figure>
<ul>
<li>è¦æƒ³å®ç°é¢œè‰²æ··åˆï¼Œæ¯”å¦‚<code>çº¢+ç»¿=é»„</code>ï¼Œä»»ä½•æœ‰é€æ˜åº¦çš„ç¬”åˆ·éƒ½å¯ä»¥å®ç°ã€‚ä½†å¦‚æœæƒ³è®©è¿™äº›é¢œè‰²åƒæ˜¯éƒ½ç²˜åœ¨äº†åˆ·å­ä¸Šä¸€æ ·åé¢ä¼šä¸€èµ·è¹­å‡ºæ¥ï¼Œæˆ–æ˜¯å˜åŒ–æ¶‚æ–™çš„æ¹¿åº¦ï¼Œæˆ–æ˜¯æƒ³è¦â€œæ–°çš„æ¶‚æ–™ä¸Šå»åä¸‹é¢çš„æ¶‚æ–™è¢«æµ¸æ¹¿å¹¶èšé›†åœ¨æ–°ç¬”è¿¹ä¸¤ä¾§â€çš„æ•ˆæœï¼Œåˆ™éœ€è¦ä½¿ç”¨ <strong>æ··åˆç”»ç¬”å·¥å…·</strong>ã€‚</li>
<li>æ°´å½©çš„æ ¸å¿ƒæ˜¯<code>ä½æµé‡</code>+<code>å»ºç«‹</code>+<code>æ•£å¸ƒ</code>+<code>åŒé‡ç”»ç¬”</code>+<code>æµé‡æŠ–åŠ¨</code>+<code>å¤§å°æŠ–åŠ¨</code>ã€‚å…¶ä¸­ï¼Œåœ¨çº¸ä¸Šæ°¤æ°²æ•£å¼€çš„æ•ˆæœä¸»è¦æ˜¯ç”±åŒé‡ç”»ç¬”ä¸­çš„è¾…åŠ©ç”»ç¬”å®Œæˆçš„</li>
</ul>
]]></content>
      <tags>
        <tag>art</tag>
        <tag>painting</tag>
        <tag>ps</tag>
      </tags>
  </entry>
  <entry>
    <title>PSæ··åˆæ¨¡å¼åŸç†ä¸ç¤ºä¾‹</title>
    <url>/2020/05/24/ps-blend/</url>
    <content><![CDATA[<h2 id="æ¨¡å¼å®˜æ–¹ä»‹ç»">æ¨¡å¼å®˜æ–¹ä»‹ç»</h2>
<p><strong>æ­£ç‰‡å åº•</strong></p>
<p>æŸ¥çœ‹<strong>æ¯ä¸ªé€šé“</strong>ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶å°†åŸºè‰²ä¸æ··åˆè‰²è¿›è¡Œæ­£ç‰‡å åº•ã€‚ç»“æœè‰²æ€»æ˜¯è¾ƒæš—çš„é¢œè‰²ã€‚ä»»ä½•é¢œè‰²ä¸é»‘è‰²æ­£ç‰‡å åº•äº§ç”Ÿé»‘è‰²ã€‚ä»»ä½•é¢œè‰²ä¸ç™½è‰²æ­£ç‰‡å åº•ä¿æŒä¸å˜ã€‚å½“æ‚¨ç”¨é»‘è‰²æˆ–ç™½è‰²ä»¥å¤–çš„é¢œè‰²ç»˜ç”»æ—¶ï¼Œç»˜ç”»å·¥å…·ç»˜åˆ¶çš„è¿ç»­æè¾¹äº§ç”Ÿé€æ¸å˜æš—çš„é¢œè‰²ã€‚è¿™ä¸ä½¿ç”¨å¤šä¸ªæ ‡è®°ç¬”åœ¨å›¾åƒä¸Šç»˜å›¾çš„æ•ˆæœç›¸ä¼¼ã€‚</p>
<p><img src="/2020/05/24/ps-blend/image-20200519225738854.png" alt="image-20200519225738854" style="zoom:33%;"></p>
<p>å¦‚å›¾ï¼Œé‡ç‚¹æ˜¯<strong>åˆ†é€šé“</strong>ï¼Œæ‰€æœ‰çš„æ¨¡å¼æ··åˆéƒ½æ˜¯åŸºäºé€šé“çš„ã€‚å³çº¢è‰²çš„åº•è‰²ï¼Œå¾€ä¸ŠåŠ è“è‰²å’Œç»¿è‰²ç»“æœéƒ½æ˜¯é»‘è‰²ã€‚å› ä¸ºRGBé€šé“ç›¸äº’é—´çš„æš—è‰²éƒ½æ˜¯é»‘è‰²ã€‚å½“ç„¶ï¼Œå®ƒä»¬ä¸é»‘è‰²å åŠ ä¹Ÿæ˜¯é»‘è‰²çš„ã€‚</p>
<span id="more"></span>
<p><strong>æ»¤è‰²</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶å°†æ··åˆè‰²çš„äº’è¡¥è‰²ä¸åŸºè‰²è¿›è¡Œæ­£ç‰‡å åº•ã€‚ç»“æœè‰²æ€»æ˜¯è¾ƒäº®çš„é¢œè‰²ã€‚ç”¨é»‘è‰²è¿‡æ»¤æ—¶é¢œè‰²ä¿æŒä¸å˜ã€‚ç”¨ç™½è‰²è¿‡æ»¤å°†äº§ç”Ÿç™½è‰²ã€‚æ­¤æ•ˆæœç±»ä¼¼äºå¤šä¸ªæ‘„å½±å¹»ç¯ç‰‡åœ¨å½¼æ­¤ä¹‹ä¸ŠæŠ•å½±ã€‚</p>
<p><strong>æ­£å¸¸</strong></p>
<p>ç¼–è¾‘æˆ–ç»˜åˆ¶æ¯ä¸ªåƒç´ ï¼Œä½¿å…¶æˆä¸ºç»“æœè‰²ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚ï¼ˆåœ¨å¤„ç†ä½å›¾å›¾åƒæˆ–ç´¢å¼•é¢œè‰²å›¾åƒæ—¶ï¼Œâ€œæ­£å¸¸â€æ¨¡å¼ä¹Ÿç§°ä¸º<em>é˜ˆå€¼</em>ã€‚ï¼‰</p>
<p><strong>æº¶è§£</strong></p>
<p>ç¼–è¾‘æˆ–ç»˜åˆ¶æ¯ä¸ªåƒç´ ï¼Œä½¿å…¶æˆä¸ºç»“æœè‰²ã€‚ä½†æ˜¯ï¼Œæ ¹æ®ä»»ä½•åƒç´ ä½ç½®çš„ä¸é€æ˜åº¦ï¼Œç»“æœè‰²ç”±åŸºè‰²æˆ–æ··åˆè‰²çš„åƒç´ éšæœºæ›¿æ¢ã€‚</p>
<p><strong>èƒŒå</strong></p>
<p>ä»…åœ¨å›¾å±‚çš„é€æ˜éƒ¨åˆ†ç¼–è¾‘æˆ–ç»˜ç”»ã€‚æ­¤æ¨¡å¼ä»…åœ¨å–æ¶ˆé€‰æ‹©äº†â€œé”å®šé€æ˜åŒºåŸŸâ€çš„å›¾å±‚ä¸­ä½¿ç”¨ï¼Œç±»ä¼¼äºåœ¨é€æ˜çº¸çš„é€æ˜åŒºåŸŸèƒŒé¢ç»˜ç”»ã€‚</p>
<p><strong>æ¸…é™¤</strong></p>
<p>ç¼–è¾‘æˆ–ç»˜åˆ¶æ¯ä¸ªåƒç´ ï¼Œä½¿å…¶é€æ˜ã€‚æ­¤æ¨¡å¼å¯ç”¨äºå½¢çŠ¶å·¥å…·ï¼ˆå½“é€‰å®šå¡«å……åŒºåŸŸ <img src="/2020/05/24/ps-blend/P_VectorShapeFilled_Md_N.png" alt="img"> æ—¶ï¼‰ã€æ²¹æ¼†æ¡¶å·¥å…· <img src="/2020/05/24/ps-blend/P_Fill_Lg_N.png" alt="img">ã€ç”»ç¬”å·¥å…· <img src="/2020/05/24/ps-blend/P_Brush_Lg_N.png" alt="img">ã€é“…ç¬”å·¥å…· <img src="/2020/05/24/ps-blend/P_Draw_Lg_N.png" alt="img">ã€â€œå¡«å……â€å‘½ä»¤å’Œâ€œæè¾¹â€å‘½ä»¤ã€‚æ‚¨å¿…é¡»ä½äºå–æ¶ˆé€‰æ‹©äº†â€œé”å®šé€æ˜åŒºåŸŸâ€çš„å›¾å±‚ä¸­æ‰èƒ½ä½¿ç”¨æ­¤æ¨¡å¼ã€‚</p>
<p><strong>å˜æš—</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶é€‰æ‹©åŸºè‰²æˆ–æ··åˆè‰²ä¸­è¾ƒæš—çš„é¢œè‰²ä½œä¸ºç»“æœè‰²ã€‚å°†æ›¿æ¢æ¯”æ··åˆè‰²äº®çš„åƒç´ ï¼Œè€Œæ¯”æ··åˆè‰²æš—çš„åƒç´ ä¿æŒä¸å˜ã€‚</p>
<p><strong>é¢œè‰²åŠ æ·±</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶é€šè¿‡å¢åŠ äºŒè€…ä¹‹é—´çš„å¯¹æ¯”åº¦ä½¿åŸºè‰²å˜æš—ä»¥åæ˜ å‡ºæ··åˆè‰²ã€‚ä¸ç™½è‰²æ··åˆåä¸äº§ç”Ÿå˜åŒ–ã€‚</p>
<p><strong>çº¿æ€§åŠ æ·±</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶é€šè¿‡å‡å°äº®åº¦ä½¿åŸºè‰²å˜æš—ä»¥åæ˜ æ··åˆè‰²ã€‚ä¸ç™½è‰²æ··åˆåä¸äº§ç”Ÿå˜åŒ–ã€‚</p>
<p><strong>å˜äº®</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶é€‰æ‹©åŸºè‰²æˆ–æ··åˆè‰²ä¸­è¾ƒäº®çš„é¢œè‰²ä½œä¸ºç»“æœè‰²ã€‚æ¯”æ··åˆè‰²æš—çš„åƒç´ è¢«æ›¿æ¢ï¼Œæ¯”æ··åˆè‰²äº®çš„åƒç´ ä¿æŒä¸å˜ã€‚</p>
<p><strong>é¢œè‰²å‡æ·¡</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶é€šè¿‡å‡å°äºŒè€…ä¹‹é—´çš„å¯¹æ¯”åº¦ä½¿åŸºè‰²å˜äº®ä»¥åæ˜ å‡ºæ··åˆè‰²ã€‚ä¸é»‘è‰²æ··åˆåˆ™ä¸å‘ç”Ÿå˜åŒ–ã€‚</p>
<p><strong>çº¿æ€§å‡æ·¡ï¼ˆæ·»åŠ ï¼‰</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶é€šè¿‡å¢åŠ äº®åº¦ä½¿åŸºè‰²å˜äº®ä»¥åæ˜ æ··åˆè‰²ã€‚ä¸é»‘è‰²æ··åˆåˆ™ä¸å‘ç”Ÿå˜åŒ–ã€‚</p>
<p><strong>å åŠ </strong></p>
<p>å¯¹é¢œè‰²è¿›è¡Œæ­£ç‰‡å åº•æˆ–è¿‡æ»¤ï¼Œå…·ä½“å–å†³äºåŸºè‰²ã€‚å›¾æ¡ˆæˆ–é¢œè‰²åœ¨ç°æœ‰åƒç´ ä¸Šå åŠ ï¼ŒåŒæ—¶ä¿ç•™åŸºè‰²çš„æ˜æš—å¯¹æ¯”ã€‚ä¸æ›¿æ¢åŸºè‰²ï¼Œä½†åŸºè‰²ä¸æ··åˆè‰²ç›¸æ··ä»¥åæ˜ åŸè‰²çš„äº®åº¦æˆ–æš—åº¦ã€‚</p>
<p><strong>æŸ”å…‰</strong></p>
<p>ä½¿é¢œè‰²å˜æš—æˆ–å˜äº®ï¼Œå…·ä½“å–å†³äºæ··åˆè‰²ã€‚æ­¤æ•ˆæœä¸å‘æ•£çš„èšå…‰ç¯ç…§åœ¨å›¾åƒä¸Šç›¸ä¼¼ã€‚å¦‚æœæ··åˆè‰²ï¼ˆå…‰æºï¼‰æ¯” 50% ç°è‰²äº®ï¼Œåˆ™å›¾åƒå˜äº®ï¼Œå°±åƒè¢«å‡æ·¡äº†ä¸€æ ·ã€‚å¦‚æœæ··åˆè‰²ï¼ˆå…‰æºï¼‰æ¯” 50% ç°è‰²æš—ï¼Œåˆ™å›¾åƒå˜æš—ï¼Œå°±åƒè¢«åŠ æ·±äº†ä¸€æ ·ã€‚ä½¿ç”¨çº¯é»‘è‰²æˆ–çº¯ç™½è‰²ä¸Šè‰²ï¼Œå¯ä»¥äº§ç”Ÿæ˜æ˜¾å˜æš—æˆ–å˜äº®çš„åŒºåŸŸï¼Œä½†ä¸èƒ½ç”Ÿæˆçº¯é»‘è‰²æˆ–çº¯ç™½è‰²ã€‚</p>
<p><strong>å¼ºå…‰</strong></p>
<p>å¯¹é¢œè‰²è¿›è¡Œæ­£ç‰‡å åº•æˆ–è¿‡æ»¤ï¼Œå…·ä½“å–å†³äºæ··åˆè‰²ã€‚æ­¤æ•ˆæœä¸è€€çœ¼çš„èšå…‰ç¯ç…§åœ¨å›¾åƒä¸Šç›¸ä¼¼ã€‚å¦‚æœæ··åˆè‰²ï¼ˆå…‰æºï¼‰æ¯” 50% ç°è‰²äº®ï¼Œåˆ™å›¾åƒå˜äº®ï¼Œå°±åƒè¿‡æ»¤åçš„æ•ˆæœã€‚è¿™å¯¹äºå‘å›¾åƒæ·»åŠ é«˜å…‰éå¸¸æœ‰ç”¨ã€‚å¦‚æœæ··åˆè‰²ï¼ˆå…‰æºï¼‰æ¯” 50% ç°è‰²æš—ï¼Œåˆ™å›¾åƒå˜æš—ï¼Œå°±åƒæ­£ç‰‡å åº•åçš„æ•ˆæœã€‚è¿™å¯¹äºå‘å›¾åƒæ·»åŠ é˜´å½±éå¸¸æœ‰ç”¨ã€‚ç”¨çº¯é»‘è‰²æˆ–çº¯ç™½è‰²ä¸Šè‰²ä¼šäº§ç”Ÿçº¯é»‘è‰²æˆ–çº¯ç™½è‰²ã€‚</p>
<p><strong>äº®å…‰</strong></p>
<p>é€šè¿‡å¢åŠ æˆ–å‡å°å¯¹æ¯”åº¦æ¥åŠ æ·±æˆ–å‡æ·¡é¢œè‰²ï¼Œå…·ä½“å–å†³äºæ··åˆè‰²ã€‚å¦‚æœæ··åˆè‰²ï¼ˆå…‰æºï¼‰æ¯” 50% ç°è‰²äº®ï¼Œåˆ™é€šè¿‡å‡å°å¯¹æ¯”åº¦ä½¿å›¾åƒå˜äº®ã€‚å¦‚æœæ··åˆè‰²æ¯” 50% ç°è‰²æš—ï¼Œåˆ™é€šè¿‡å¢åŠ å¯¹æ¯”åº¦ä½¿å›¾åƒå˜æš—ã€‚</p>
<p><strong>çº¿æ€§å…‰</strong></p>
<p>é€šè¿‡å‡å°æˆ–å¢åŠ äº®åº¦æ¥åŠ æ·±æˆ–å‡æ·¡é¢œè‰²ï¼Œå…·ä½“å–å†³äºæ··åˆè‰²ã€‚å¦‚æœæ··åˆè‰²ï¼ˆå…‰æºï¼‰æ¯” 50% ç°è‰²äº®ï¼Œåˆ™é€šè¿‡å¢åŠ äº®åº¦ä½¿å›¾åƒå˜äº®ã€‚å¦‚æœæ··åˆè‰²æ¯” 50% ç°è‰²æš—ï¼Œåˆ™é€šè¿‡å‡å°äº®åº¦ä½¿å›¾åƒå˜æš—ã€‚</p>
<p><strong>ç‚¹å…‰</strong></p>
<p>æ ¹æ®æ··åˆè‰²æ›¿æ¢é¢œè‰²ã€‚å¦‚æœæ··åˆè‰²ï¼ˆå…‰æºï¼‰æ¯” 50% ç°è‰²äº®ï¼Œåˆ™æ›¿æ¢æ¯”æ··åˆè‰²æš—çš„åƒç´ ï¼Œè€Œä¸æ”¹å˜æ¯”æ··åˆè‰²äº®çš„åƒç´ ã€‚å¦‚æœæ··åˆè‰²æ¯” 50% ç°è‰²æš—ï¼Œåˆ™æ›¿æ¢æ¯”æ··åˆè‰²äº®çš„åƒç´ ï¼Œè€Œæ¯”æ··åˆè‰²æš—çš„åƒç´ ä¿æŒä¸å˜ã€‚è¿™å¯¹äºå‘å›¾åƒæ·»åŠ ç‰¹æ®Šæ•ˆæœéå¸¸æœ‰ç”¨ã€‚</p>
<p><strong>å®è‰²æ··åˆ</strong></p>
<p>å°†æ··åˆé¢œè‰²çš„çº¢è‰²ã€ç»¿è‰²å’Œè“è‰²é€šé“å€¼æ·»åŠ åˆ°åŸºè‰²çš„ RGB å€¼ã€‚å¦‚æœé€šé“çš„ç»“æœæ€»å’Œå¤§äºæˆ–ç­‰äº 255ï¼Œåˆ™å€¼ä¸º 255ï¼›å¦‚æœå°äº 255ï¼Œåˆ™å€¼ä¸º 0ã€‚å› æ­¤ï¼Œæ‰€æœ‰æ··åˆåƒç´ çš„çº¢è‰²ã€ç»¿è‰²å’Œè“è‰²é€šé“å€¼è¦ä¹ˆæ˜¯ 0ï¼Œè¦ä¹ˆæ˜¯ 255ã€‚æ­¤æ¨¡å¼ä¼šå°†æ‰€æœ‰åƒç´ æ›´æ”¹ä¸ºä¸»è¦çš„åŠ è‰²ï¼ˆçº¢è‰²ã€ç»¿è‰²æˆ–è“è‰²ï¼‰ã€ç™½è‰²æˆ–é»‘è‰²ã€‚</p>
<p><strong>å·®å€¼</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶ä»åŸºè‰²ä¸­å‡å»æ··åˆè‰²ï¼Œæˆ–ä»æ··åˆè‰²ä¸­å‡å»åŸºè‰²ï¼Œå…·ä½“å–å†³äºå“ªä¸€ä¸ªé¢œè‰²çš„äº®åº¦å€¼æ›´å¤§ã€‚ä¸ç™½è‰²æ··åˆå°†åè½¬åŸºè‰²å€¼ï¼›ä¸é»‘è‰²æ··åˆåˆ™ä¸äº§ç”Ÿå˜åŒ–ã€‚</p>
<p><strong>æ’é™¤</strong></p>
<p>åˆ›å»ºä¸€ç§ä¸â€œå·®å€¼â€æ¨¡å¼ç›¸ä¼¼ä½†å¯¹æ¯”åº¦æ›´ä½çš„æ•ˆæœã€‚ä¸ç™½è‰²æ··åˆå°†åè½¬åŸºè‰²å€¼ã€‚ä¸é»‘è‰²æ··åˆåˆ™ä¸å‘ç”Ÿå˜åŒ–ã€‚</p>
<p><strong>å‡å»</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶ä»åŸºè‰²ä¸­å‡å»æ··åˆè‰²ã€‚åœ¨ 8 ä½å’Œ 16 ä½å›¾åƒä¸­ï¼Œä»»ä½•ç”Ÿæˆçš„è´Ÿç‰‡å€¼éƒ½ä¼šå‰ªåˆ‡ä¸ºé›¶ã€‚</p>
<p><strong>åˆ’åˆ†</strong></p>
<p>æŸ¥çœ‹æ¯ä¸ªé€šé“ä¸­çš„é¢œè‰²ä¿¡æ¯ï¼Œå¹¶ä»åŸºè‰²ä¸­åˆ’åˆ†æ··åˆè‰²ã€‚</p>
<p><strong>è‰²ç›¸</strong></p>
<p>ç”¨åŸºè‰²çš„æ˜äº®åº¦å’Œé¥±å’Œåº¦ä»¥åŠæ··åˆè‰²çš„è‰²ç›¸åˆ›å»ºç»“æœè‰²ã€‚</p>
<p><strong>é¥±å’Œåº¦</strong></p>
<p>ç”¨åŸºè‰²çš„æ˜äº®åº¦å’Œè‰²ç›¸ä»¥åŠæ··åˆè‰²çš„é¥±å’Œåº¦åˆ›å»ºç»“æœè‰²ã€‚åœ¨æ—  (0) é¥±å’Œåº¦ï¼ˆç°åº¦ï¼‰åŒºåŸŸä¸Šç”¨æ­¤æ¨¡å¼ç»˜ç”»ä¸ä¼šäº§ç”Ÿä»»ä½•å˜åŒ–ã€‚</p>
<p><strong>é¢œè‰²</strong></p>
<p>ç”¨åŸºè‰²çš„æ˜äº®åº¦ä»¥åŠæ··åˆè‰²çš„è‰²ç›¸å’Œé¥±å’Œåº¦åˆ›å»ºç»“æœè‰²ã€‚è¿™æ ·å¯ä»¥ä¿ç•™å›¾åƒä¸­çš„ç°é˜¶ï¼Œå¹¶ä¸”å¯¹äºç»™å•è‰²å›¾åƒä¸Šè‰²å’Œç»™å½©è‰²å›¾åƒç€è‰²éƒ½ä¼šéå¸¸æœ‰ç”¨ã€‚</p>
<p><strong>æ˜åº¦</strong></p>
<p>ç”¨åŸºè‰²çš„è‰²ç›¸å’Œé¥±å’Œåº¦ä»¥åŠæ··åˆè‰²çš„æ˜äº®åº¦åˆ›å»ºç»“æœè‰²ã€‚æ­¤æ¨¡å¼åˆ›å»ºä¸â€œé¢œè‰²â€æ¨¡å¼ç›¸åçš„æ•ˆæœã€‚</p>
<p><strong>æµ…è‰²</strong></p>
<p>æ¯”è¾ƒæ··åˆè‰²å’ŒåŸºè‰²çš„æ‰€æœ‰é€šé“å€¼çš„æ€»å’Œå¹¶æ˜¾ç¤ºå€¼è¾ƒå¤§çš„é¢œè‰²ã€‚â€œæµ…è‰²â€ä¸ä¼šç”Ÿæˆç¬¬ä¸‰ç§é¢œè‰²ï¼ˆå¯ä»¥é€šè¿‡â€œå˜äº®â€æ··åˆè·å¾—ï¼‰ï¼Œå› ä¸ºå®ƒå°†ä»åŸºè‰²å’Œæ··åˆè‰²ä¸­é€‰å–æœ€å¤§çš„é€šé“å€¼æ¥åˆ›å»ºç»“æœè‰²ã€‚</p>
<p><strong>æ·±è‰²</strong></p>
<p>æ¯”è¾ƒæ··åˆè‰²å’ŒåŸºè‰²çš„æ‰€æœ‰é€šé“å€¼çš„æ€»å’Œå¹¶æ˜¾ç¤ºå€¼è¾ƒå°çš„é¢œè‰²ã€‚â€œæ·±è‰²â€ä¸ä¼šç”Ÿæˆç¬¬ä¸‰ç§é¢œè‰²ï¼ˆå¯ä»¥é€šè¿‡â€œå˜æš—â€æ··åˆè·å¾—ï¼‰ï¼Œå› ä¸ºå®ƒå°†ä»åŸºè‰²å’Œæ··åˆè‰²ä¸­é€‰å–æœ€å°çš„é€šé“å€¼æ¥åˆ›å»ºç»“æœè‰²ã€‚</p>
<h2 id="å…¬å¼">å…¬å¼</h2>
<figure>
<img src="/2020/05/24/ps-blend/365c8ef854384f00b13c69e81eb2d41b.jpg" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æ³¨é‡Šï¼š</p>
<p>1.æ··åˆæ¨¡å¼çš„æ•°å­¦è®¡ç®—å…¬å¼ï¼Œå¦å¤–è¿˜ä»‹ç»äº†ä¸é€æ˜åº¦ã€‚</p>
<p>2.è¿™äº›å…¬å¼ä»…é€‚ç”¨äºRGBå›¾åƒï¼Œå¯¹äºLabé¢œè‰²å›¾åƒè€Œè¨€ï¼Œè¿™äº›å…¬å¼å°†ä¸å†é€‚ç”¨ã€‚</p>
<p>3.åœ¨å…¬å¼ä¸­â€”â€”</p>
<p>A ä»£è¡¨ä¸‹é¢å›¾å±‚çš„é¢œè‰²å€¼ï¼Œä¹Ÿç§°ä¸ºåŸºè‰²ï¼›</p>
<p>B ä»£è¡¨ä¸Šé¢å›¾å±‚çš„é¢œè‰²å€¼ï¼Œä¹Ÿæˆä¸ºæ··åˆè‰²ï¼›</p>
<p>C ä»£è¡¨æ··åˆå›¾å±‚çš„é¢œè‰²å€¼ï¼Œä¹Ÿç§°ä¸ºç»“æœè‰²ï¼›</p>
<p>D è¡¨ç¤ºè¯¥å±‚çš„é€æ˜åº¦ã€‚</p>
<h2 id="è¯¦ç»†ä¸¾ä¾‹æ¨ç†">è¯¦ç»†ä¸¾ä¾‹æ¨ç†</h2>
<p>æˆ‘ä»¬å…ˆå»ºç«‹ä¸¤ä¸ªå›¾å±‚ï¼š</p>
<p>å½“å‰é€‰ä¸­å±‚ï¼ˆActive Layerï¼‰ä¸º<strong>Aå±‚</strong>ï¼Œæˆ–ç§°â€œ<strong>æ··åˆè‰²</strong> blend colorâ€</p>
<p>ä¸‹å±‚ï¼ˆBackground Layerï¼‰ä¸º<strong>Bå±‚</strong>ï¼Œæˆ–ç§°â€œ<strong>åŸºè‰²</strong> base colorâ€ï¼Œä¸¤è€…æ··åˆå¾—åˆ°â€œ<strong>ç»“æœè‰²</strong> Result colorâ€</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-49a088eef8b2851abc6bb5809dff666c_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<h2 id="æ··åˆæ¨¡å¼çš„åŸºæœ¬åŸç†"><strong>æ··åˆæ¨¡å¼çš„åŸºæœ¬åŸç†</strong></h2>
<p>å–Aå±‚ä»»æ„ä¸€ä¸ªåƒç´ a [R1, G1, B1]ï¼Œä¸Bå±‚å¯¹åº”ä½ç½®çš„åƒç´ b [R2, G2, B2] è¿›è¡Œæ•°å­¦è¿ç®—ï¼Œå¾—åˆ°c [R3, G3, B3]</p>
<ul>
<li>R1 æŸç§è¿ç®— R2 = R3</li>
<li>G1 æŸç§è¿ç®— G2 = G3</li>
<li>B1 æŸç§è¿ç®— B2 = B3</li>
</ul>
<p>Aã€Bä¸¤å±‚<strong>æ‰€æœ‰åƒç´ </strong>éƒ½ç‹¬ç«‹è¿›è¡ŒåŒæ ·çš„è¿ç®—ï¼Œå³å¾—åˆ°æ··åˆåçš„ç»“æœCï¼Œå³æ–°çš„Aå±‚ï¼ˆæ³¨æ„è™½ç„¶Aå±‚ç¼©ç•¥å›¾æ²¡æœ‰å˜ï¼Œä½†ç›´æ–¹å›¾å·²ç»å˜äº†ï¼‰ï¼Œè€ŒBä¿æŒä¸å˜</p>
<p>ä¸¾ä¸€ä¸ªç®€å•ä¾‹å­ï¼ŒPSé»˜è®¤çš„å›¾å±‚æ··åˆæ¨¡å¼æ˜¯â€œæ­£å¸¸â€ï¼Œåœ¨ä¸é€æ˜åº¦ä¸º100%æ—¶ï¼Œ</p>
<ul>
<li>R1 æ­£å¸¸ R2 = R1</li>
<li>G1 æ­£å¸¸ G2 = G1</li>
<li>B1 æ­£å¸¸ B2 = B1</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œâ€œæ­£å¸¸â€æ¨¡å¼ä¸‹ï¼ŒAå±‚åœ¨Bå±‚ä¹‹ä¸Šï¼Œçœ‹åˆ°çš„åªæœ‰Aå±‚ï¼Œçœ‹ä¸åˆ°Bå±‚</p>
<h2 id="æ··åˆæ¨¡å¼çš„åˆ†ç±»"><strong>æ··åˆæ¨¡å¼çš„åˆ†ç±»</strong></h2>
<p>ä¸€èˆ¬ç³»ï¼šæ­£å¸¸ã€æº¶è§£</p>
<p>å˜æš—ç³»ï¼šå˜æš—ã€æ·±è‰²ã€æ­£ç‰‡å åº•ã€é¢œè‰²åŠ æ·±ã€çº¿æ€§åŠ æ·±</p>
<p>å˜äº®ç³»ï¼šå˜äº®ã€æµ…è‰²ã€æ»¤è‰²ã€é¢œè‰²å‡æ·¡ã€çº¿æ€§å‡æ·¡</p>
<p>å¯¹æ¯”ç³»ï¼šå åŠ ã€å¼ºå…‰ã€æŸ”å…‰ã€äº®å…‰ã€çº¿æ€§å…‰ã€ç‚¹å…‰ã€å®è‰²æ··åˆ</p>
<ul>
<li><ul>
<li>è¯¥ç»„ç‰¹ç‚¹æ˜¯è®©äº®çš„æ›´äº®ï¼Œæš—çš„æ›´æš—ï¼Œæ¯ä¸€ä¸ªâ€œå¯¹æ¯”ç³»â€çš„æ··åˆæ¨¡å¼éƒ½å¯çœ‹ä½œâ€œå˜æš—ç³»â€å’Œâ€œå˜äº®ç³»â€çš„ç»“åˆï¼Œå¦‚â€œå åŠ â€æ˜¯å¯¹è¾ƒæš—çš„åƒç´ è¿›è¡Œâ€œæ­£ç‰‡å åº•â€ï¼Œå¯¹è¾ƒäº®çš„åƒç´ è¿›è¡Œâ€œæ»¤è‰²â€</li>
</ul></li>
</ul>
<p>è´Ÿç‰‡ç³»ï¼šå·®å€¼ã€æ’é™¤</p>
<p>ç›¸æ¶ˆç³»ï¼šå‡å»ã€åˆ’åˆ†</p>
<p>HSLç³»ï¼šè‰²ç›¸ã€é¥±å’Œåº¦ã€é¢œè‰²ã€æ˜åº¦</p>
<h2 id="æ··åˆæ¨¡å¼å½¼æ­¤ä¹‹é—´çš„è”ç³»"><strong>æ··åˆæ¨¡å¼å½¼æ­¤ä¹‹é—´çš„è”ç³»</strong></h2>
<ol type="1">
<li>å¯¹äºå¤§å¤šæ•°æ··åˆæ¨¡å¼ï¼Œå›¾å±‚â€œä¸é€æ˜åº¦â€å’Œâ€œå¡«å……åº¦â€å¯¹æ··åˆæ•ˆæœå½±å“æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ60%çš„ä¸é€æ˜åº¦ï¼Œä¸60%çš„å¡«å……åº¦ï¼Œå¾—åˆ°çš„æ•ˆæœä¸€æ ·ï¼›ä½†ä»¥ä¸‹8ç§æ··åˆæ¨¡å¼æ˜¯ä¾‹å¤–
<ul>
<li>é¢œè‰²åŠ æ·±ã€é¢œè‰²å‡æ·¡</li>
<li>çº¿æ€§åŠ æ·±ã€çº¿æ€§å‡æ·¡</li>
<li>äº®å…‰ã€çº¿æ€§å…‰ã€å®è‰²æ··åˆ</li>
<li>å·®å€¼</li>
</ul></li>
<li>ä»¥ä¸‹5ç»„æ··åˆæ¨¡å¼æ˜¯ç›¸åå¯¹åº”å…³ç³»ï¼ˆä»åé¢çš„å…¬å¼å°±å¯ä»¥çœ‹å‡ºï¼‰
<ul>
<li>å˜æš— - å˜äº®</li>
<li>æ·±è‰² - æµ…è‰²</li>
<li>æ­£ç‰‡å åº• - æ»¤è‰²</li>
<li>é¢œè‰²åŠ æ·± - é¢œè‰²å‡æ·¡</li>
<li>çº¿æ€§åŠ æ·± - çº¿æ€§å‡æ·¡</li>
</ul></li>
<li>å…·æœ‰â€œäº’é€†â€å…³ç³»çš„æ··åˆæ¨¡å¼æœ‰ä¸¤ç»„ï¼Œä¸¾ä¾‹ï¼ŒAå±‚åœ¨ä¸Šï¼Œå¯¹Aâ€œå åŠ â€ï¼›Bå±‚åœ¨ä¸Šï¼Œå¯¹Bâ€œå¼ºå…‰â€ï¼šä¸¤ç§æƒ…å†µå¾—åˆ°çš„æ•ˆæœæ˜¯ä¸€æ ·çš„
<ul>
<li>å åŠ  <img src="/2020/05/24/ps-blend/equation.svg" alt="å…¬å¼"> å¼ºå…‰</li>
<li>é¢œè‰² <img src="/2020/05/24/ps-blend/equation" alt="å…¬å¼"> æ˜åº¦</li>
</ul></li>
</ol>
<h2 id="æ¯ä¸€ç§æ··åˆæ¨¡å¼çš„è¿ç®—æ–¹æ³•"><strong>æ¯ä¸€ç§æ··åˆæ¨¡å¼çš„è¿ç®—æ–¹æ³•</strong></h2>
<p>å½“é€šé“ä½æ·±åº¦ä¸º8ä½æ—¶ï¼ŒRã€Gã€Bä¸‰é€šé“æ•°å€¼èŒƒå›´åœ¨0åˆ°255ï¼Œæˆ‘ä»¬é™¤ä»¥255ï¼Œå¾—åˆ°0~1èŒƒå›´å†…çš„æ•°å€¼</p>
<p>æˆ‘ä»¬ç”¨ä¸‹å›¾æ‰€ç¤ºçš„ä¸¤ä¸ª100åƒç´ çš„å›¾å±‚åšå®éªŒ</p>
<p>Aå±‚æœ‰ä¸€ä¸ªé¢œè‰²ï¼Œ [R, G, B]å€¼åˆ†åˆ«æ˜¯ [102, 153, 204]ï¼Œå³[0.4, 0.6, 0.8]</p>
<p>Bå±‚æœ‰ä¸¤ä¸ªé¢œè‰²ï¼Œ[0, 51, 102] å’Œ [255, 204, 153]ï¼Œå³ [0, 0.2, 0.4] å’Œ [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-49a088eef8b2851abc6bb5809dff666c_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>é€‰ä¸­Aå±‚ï¼Œè°ƒèŠ‚æ··åˆæ¨¡å¼</p>
<h2 id="i-æ­£å¸¸ç³»">I æ­£å¸¸ç³»</h2>
<blockquote>
<p><strong>æ­£å¸¸ Normal</strong></p>
</blockquote>
<p>è®¾ä¸é€æ˜åº¦ä¸ºn</p>
<p>**<em>c = n*</em>*<em>*a + (1-n)*</em>***b***</p>
<p>å½“ä¸é€æ˜åº¦ä¸º100%</p>
<p><strong><em>c = a</em></strong></p>
<blockquote>
<p><strong>æº¶è§£ Dissolve</strong></p>
</blockquote>
<p>å¯¹æ¯ä¸ªåƒç´ è€Œè¨€ï¼Œå…¶ç»“æœè‰²æ˜¯åŸºè‰²æˆ–æ··åˆè‰²çš„éšæœºå€¼ï¼Œå–å†³äºå…¶â€œä¸é€æ˜åº¦â€ï¼šâ€œä¸é€æ˜åº¦â€é«˜æ—¶ï¼Œæ›´å¤šåƒç´ å–è‡ªå½“å‰å±‚ï¼›ä½æ—¶ï¼Œæ›´å¤šåƒç´ å–è‡ªèƒŒæ™¯å±‚</p>
<h2 id="ii-å˜æš—å’Œå˜äº®ç³»">II å˜æš—å’Œå˜äº®ç³»</h2>
<blockquote>
<p><strong>å˜æš— Darken</strong></p>
</blockquote>
<p><em><strong>c = min(a,b)</strong> é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [0.4, 0.6, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-6cd964357c823d7704b86e4aa486b02b_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¾—åˆ°å˜æš—çš„æ•ˆæœ</p>
<blockquote>
<p><strong>å˜äº®</strong> <strong>Lighten</strong></p>
</blockquote>
<p><em><strong>c = max(a,b)*</strong> </em>é€é€šé“è¿›è¡Œè¿ç®—*</p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0.4, 0.6, 0.8] é¢œè‰²2 [1, 0.8, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-c520d5c07364cbed9ce6b58faf3475c7_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¾—åˆ°å˜äº®çš„æ•ˆæœ</p>
<blockquote>
<p><strong>æ·±è‰² Darker Color</strong></p>
</blockquote>
<p><em><strong>c = min(a, b)</strong> ä¸‰é€šé“æ•´ä½“è¿›è¡Œè¿ç®—ï¼Œä¸ä¼šäº§ç”Ÿæ–°çš„é¢œè‰²</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-c520d5c07364cbed9ce6b58faf3475c7_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è¯¥æ··åˆæ¨¡å¼ä¸ä¼šäº§ç”Ÿæ–°çš„é¢œè‰²ï¼Œæ³¨æ„ä¸â€œå˜æš—â€çš„åŒºåˆ«</p>
<blockquote>
<p><strong>æµ…è‰² Lighter Color</strong></p>
</blockquote>
<p><strong><em>c = max(a, b)</em></strong> *ä¸‰é€šé“æ•´ä½“è¿›è¡Œè¿ç®—**ï¼Œä¸ä¼šäº§ç”Ÿæ–°çš„é¢œè‰²*</p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0.4, 0.6, 0.8] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-0734309c8a2c9ef18543c4a3e89b765a_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è¯¥æ··åˆæ¨¡å¼ä¸ä¼šäº§ç”Ÿæ–°çš„é¢œè‰²ï¼Œæ³¨æ„ä¸â€œå˜äº®â€çš„åŒºåˆ«</p>
<blockquote>
<p><strong>æ­£ç‰‡å åº• Multiply</strong></p>
</blockquote>
<p><em><strong>c = a*b</strong> é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.12, 0.32] é¢œè‰²2 [0.4, 0.48, 0.48]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-ef14152ab9c1ed17b69901e2b2f8fcaa_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¸¸ç”¨çš„åŠ æ·±æ¨¡å¼ï¼Œç”¨äºäº§ç”Ÿé˜´å½±ã€å»é™¤ç™½è‰²å’Œå…¶ä»–æµ…è‰²ã€‚å¦‚åŒå°†æ‰€æœ‰çš„å›¾å±‚éƒ½å åœ¨ä¸€èµ·ï¼Œä¸Šæ–¹ä¸€æŸå…‰æŠ•ä¸‹æ¥åˆ°å±å¹•ä¸Šï¼›â€œé¢œè‰²åŠ æ·±â€å’Œâ€œçº¿æ€§åŠ æ·±â€æ¯”â€œæ­£ç‰‡å åº•â€æ•ˆæœæ›´ä¸ºå¼ºçƒˆ</p>
<p>ä»»ä½•é¢œè‰²å’Œé»‘è‰²æ··åˆç»“æœéƒ½æ˜¯é»‘çš„ï¼Œä»»ä½•é¢œè‰²è·Ÿç™½è‰²æ··åˆç»“æœéƒ½æ˜¯åŸæ¥çš„é¢œè‰²</p>
<p>â€œæ­£ç‰‡å åº•â€å³æ‰€è°“â€œå‡è‰²â€æˆ–â€œCMYKâ€æ¨¡å¼ï¼Œç°å®ä¸­ç›¸å½“äºç”¨æŸ“æ–™ã€æ°´å½©ç¬”ç»˜ç”»æ•ˆæœï¼Œå¦‚å›¾æ‰€ç¤º</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-8f278da13cf831f924d4638abaf8f4b3_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<blockquote>
<p><strong>æ»¤è‰² Screen</strong></p>
</blockquote>
<p><strong><em>c = 1 âˆ’ (1âˆ’a)*(1âˆ’b)</em></strong><em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0.4, 0.68, 0.88] é¢œè‰²2 [1, 0.92, 0.92]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-3aa136ef959a58faeb862b5b51bdeae3_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¸¸ç”¨çš„å‡æ·¡æ–¹æ³•ï¼Œäº§ç”Ÿå‘å…‰æ•ˆæœã€‚å¦‚åŒå°†æ‰€æœ‰å›¾å±‚åˆ†å¼€æ‘†æ”¾ï¼Œå„æœ‰ä¸€æŸå…‰é€šè¿‡å„å›¾å±‚ï¼Œæ±‡èšåœ¨ä¸€å—å±å¹•ä¸Š</p>
<p>åŸºè‰²æˆ–æ··åˆè‰²ä¸ºç™½è‰²æ—¶ï¼Œç»“æœä¼šæ˜¯ç™½è‰²ï¼›ä»»ä½•é¢œè‰²å’Œé»‘è‰²æ··åˆï¼Œç»“æœä»åŸæ¥çš„é¢œè‰²</p>
<p>â€œæ»¤è‰²â€å³æ‰€è°“â€œåŠ è‰²â€æ¨¡å¼ï¼Œç°å®ä¸­ç›¸å½“äºå‘å…‰ä½“å‘å…‰çš„å åŠ æ•ˆæœï¼Œå¦‚å›¾æ‰€ç¤º</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9e577680c0ad20d6d63b1864bfe391ec_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<blockquote>
<p><strong>é¢œè‰²åŠ æ·± Color Burn</strong></p>
</blockquote>
<p><strong><em>c = 1 âˆ’ (1âˆ’b)/a</em></strong> <em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0, 0.25] é¢œè‰²2 [1, 0.67, 0.5]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a9617aa81abdba4047fea16108777627_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¾—åˆ°çš„æ•ˆæœæ¯”â€œæ­£ç‰‡å åº•â€æ›´æ·±ï¼Œä¸­è°ƒæ›´é«˜é¥±å’Œï¼Œé«˜å…‰å‡å¼±</p>
<p>ä»»ä½•é¢œè‰²è·Ÿç™½è‰²ï¼ˆB=1ï¼‰æ··åˆç»“æœéƒ½æ˜¯ç™½è‰²</p>
<blockquote>
<p><strong>é¢œè‰²å‡æ·¡ Color Dodge</strong></p>
</blockquote>
<p><strong><em>c = b / (1âˆ’a)</em></strong><em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.5, 1] é¢œè‰²2 [1, 1, 1]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-3ef666006d4285e56f9c3545cda3c15d_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¾—åˆ°çš„æ•ˆæœæ¯”â€œæ»¤è‰²â€æ›´äº®ï¼Œè‰²å½©å¯¹æ¯”æ›´åŠ å¼ºçƒˆï¼Œä¸­è°ƒæ›´é«˜é¥±å’Œï¼Œé«˜å…‰å¢å¼º</p>
<p>ä»»ä½•é¢œè‰²è·Ÿé»‘è‰²ï¼ˆB=0ï¼‰æ··åˆç»“æœéƒ½æ˜¯é»‘è‰²</p>
<blockquote>
<p><strong>çº¿æ€§åŠ æ·± Linear Burn</strong></p>
</blockquote>
<p><strong><em>c = a + b âˆ’ 1</em></strong> <em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0, 0.2] é¢œè‰²2 [0.4, 0.4, 0.4]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-14a6ce57b48355c20df849b97d1e20f7_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¾—åˆ°çš„æ•ˆæœæ¯”â€œé¢œè‰²åŠ æ·±â€æ›´æ·±ï¼Œæ¯”é¢œè‰²åŠ æ·±é¥±å’Œåº¦ä½</p>
<p>ä»»ä½•é¢œè‰²è·Ÿç™½è‰²ï¼ˆB=1ï¼‰æ··åˆç»“æœéƒ½æ˜¯åŸæ¥çš„é¢œè‰²</p>
<blockquote>
<p><strong>çº¿æ€§å‡æ·¡ Linear Dodge</strong></p>
</blockquote>
<p><strong><em>c = a+b</em></strong> <em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0.4, 0.8, 1] é¢œè‰²2 [1, 1, 1]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-1f74cf80b6e5cd9087bc3b6c944a904d_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å¾—åˆ°çš„æ•ˆæœæ¯”â€œé¢œè‰²å‡æ·¡â€æ›´äº®ï¼Œä½†å¯¹æ¯”ç¨å¼±</p>
<p>ä»»ä½•é¢œè‰²è·Ÿé»‘è‰²ï¼ˆB=0ï¼‰æ··åˆç»“æœéƒ½æ˜¯åŸæ¥çš„é¢œè‰²</p>
<h2 id="iii-å¯¹æ¯”ç³»">III å¯¹æ¯”ç³»</h2>
<p>è¯¥ç»„ç‰¹ç‚¹æ˜¯è®©äº®çš„æ›´äº®ï¼Œæš—çš„æ›´æš—ï¼Œæ¯ä¸€ä¸ªâ€œå¯¹æ¯”ç³»â€çš„æ··åˆæ¨¡å¼éƒ½å¯çœ‹ä½œâ€œå˜æš—ç³»â€å’Œâ€œå˜äº®ç³»â€çš„ç»“åˆï¼Œå¦‚â€œå åŠ â€æ˜¯å¯¹è¾ƒæš—çš„åƒç´ è¿›è¡Œâ€œæ­£ç‰‡å åº•â€ï¼Œå¯¹è¾ƒäº®çš„åƒç´ è¿›è¡Œâ€œæ»¤è‰²â€</p>
<blockquote>
<p><strong>å åŠ </strong> <strong>Overlay</strong></p>
</blockquote>
<p><em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>*<strong>è‹¥ b &lt;= 0.5: c = 2ab*</strong></p>
<p>*<strong>è‹¥ b &gt; 0.5: c = 1 - 2(1-a)(1-b)*</strong></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.24, 0.64] é¢œè‰²2[1, 0.84, 0.84]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-24fbd55f5e94ed2b164d839d9d8ee8ab_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç±»ä¼¼äº â€œæ­£ç‰‡å åº•â€+â€œæ»¤è‰²â€çš„ç»“åˆï¼Œä½†æ•ˆæœæ›´æŸ”å’Œ</p>
<p>Aå±‚åœ¨ä¸Šï¼Œå¯¹Aâ€œå åŠ â€ï¼›Bå±‚åœ¨ä¸Šï¼Œå¯¹Bâ€œå¼ºå…‰â€ï¼šä¸¤ç§æƒ…å†µå¾—åˆ°çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</p>
<blockquote>
<p><strong>å¼ºå…‰</strong> <strong>Hard Light</strong></p>
</blockquote>
<p><em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>*<strong>è‹¥ a &lt;= 0.5: c = 2ab*</strong></p>
<p>*<strong>è‹¥ a &gt; 0.5: c = 1 - 2(1-a)(1-b)*</strong></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.36, 0.76] é¢œè‰²2 [0.8, 0.84, 0.84]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-f0b8f5ffd678a80c6712583b6598db8e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç±»ä¼¼äº â€œæ­£ç‰‡å åº•â€+â€œæ»¤è‰²â€çš„ç»“åˆï¼Œä½†æ•ˆæœæ›´æŸ”å’Œ</p>
<p>Aå±‚åœ¨ä¸Šï¼Œå¯¹Aâ€œå åŠ â€ï¼›Bå±‚åœ¨ä¸Šï¼Œå¯¹Bâ€œå¼ºå…‰â€ï¼šä¸¤ç§æƒ…å†µå¾—åˆ°çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</p>
<blockquote>
<p><strong>æŸ”å…‰</strong> <strong>Soft Light</strong></p>
</blockquote>
<p><em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>*<strong>è‹¥ a &lt;= 0.5, c = 2ab + <img src="/2020/05/24/ps-blend/equation" alt="å…¬å¼">(1-2a)*</strong></p>
<p>*<strong>è‹¥ a &gt; 0.5, c = 2b(1-a) + <img src="/2020/05/24/ps-blend/equation.svg" alt="å…¬å¼">(2a-1)*</strong></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.25, 0.54] é¢œè‰²2 [1, 0.82, 0.71]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-78b198e1c2fe8f6c060753318fb849ee_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>æ•ˆæœç±»ä¼¼äºâ€œå åŠ â€ï¼Œä½†æ•ˆæœæ›´æŸ”å’Œï¼Œæœ‰é€æ˜çš„å…‰çº¿å’Œé˜´å½±</p>
<p>ç±»ä¼¼äº â€œæµ…è‰²â€+â€œæ·±è‰²â€çš„ç»“åˆ</p>
<blockquote>
<p><strong>äº®å…‰</strong> <strong>Vivid Light</strong></p>
</blockquote>
<p><em>é€é€šé“è¿›è¡Œè¿ç®—ï¼Œè¿‘ä¼¼å…¬å¼</em></p>
<p>*<strong>è‹¥ a &lt;= 0.5, c = 1 + (b-1)/2a*</strong></p>
<p>*<strong>è‹¥ a &gt; 0.5, c = b / 2(1-a)*</strong></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.25, 1] é¢œè‰²2 [1, 0.996, 1]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-177f7f9a060ef7ccf2938c6ef9120350_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç±»ä¼¼äºâ€œå®è‰²æ··åˆâ€ï¼Œä½†æ•ˆæœé€šå¸¸æ›´åŠ å‰§çƒˆ</p>
<p>ç±»ä¼¼äº â€œé¢œè‰²å‡æ·¡â€+â€œé¢œè‰²åŠ æ·±â€çš„ç»“åˆ</p>
<blockquote>
<p><strong>çº¿æ€§å…‰</strong> <strong>Linear Light</strong></p>
</blockquote>
<p><em><strong>c = b + 2a -1*</strong> </em>é€é€šé“è¿›è¡Œè¿ç®—ï¼Œè¿‘ä¼¼å…¬å¼*</p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.4, 0.996] é¢œè‰²2 [0.8, 0.996, 1]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-3e6f6616a8249f8e78a8553edc728d63_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç±»ä¼¼äºâ€œäº®å…‰â€ï¼Œä½†æ•ˆæœé€šå¸¸æ›´åŠ å‰§çƒˆ</p>
<p>ç±»ä¼¼äº â€œçº¿æ€§åŠ æ·±â€+â€œçº¿æ€§å‡æ·¡â€çš„ç»“æœ</p>
<blockquote>
<p><strong>ç‚¹å…‰</strong> <strong>Pin Light</strong></p>
</blockquote>
<p><em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>*<strong>è‹¥ a &gt; 0.5, c = max ( 2(a-0.5) , b )*</strong></p>
<p>*<strong>è‹¥ a &lt;= 0.5, c = min ( 2a , b )*</strong></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.2, 0.6] é¢œè‰²2 [0.796, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-fa86d21780209cf5b58e727fd33ef18f_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>è¯¥æ··åˆæ¨¡å¼è¾ƒä¸ºå¼ºçƒˆï¼Œå®¹æ˜“å½¢æˆè‰²å—è‰²æ–‘å’Œå™ªç‚¹</p>
<p>ç±»ä¼¼äº â€œå˜äº®â€+â€œå˜æš—â€çš„ç»“åˆ</p>
<blockquote>
<p><strong>å®è‰²æ··åˆ</strong> <strong>Hard Mix</strong></p>
</blockquote>
<p><em><strong>è‹¥ a+b &gt;= 1, c = 1; å¦åˆ™ c=0*</strong> </em>é€é€šé“è¿›è¡Œè¿ç®—*</p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0, 1] é¢œè‰²2 [1, 1, 1]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-ec227746d961f540cc8f70547614bffa_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ç»“æœåªæœ‰8ä¸ªé¢œè‰²ï¼šRã€Gã€Bã€Cã€Mã€Y ã€Kã€White</p>
<p>å¦‚æœâ€œå¡«å……åº¦â€ä¸ä¸º100ï¼Œç»“æœè‰²ä¼šå¤šäº8</p>
<h2 id="iv-è´Ÿç‰‡ç³»">IV è´Ÿç‰‡ç³»</h2>
<blockquote>
<p><strong>å·®å€¼ Difference</strong></p>
</blockquote>
<p><em><strong>c = |b - a|</strong> é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0.4, 0.4, 0.4] é¢œè‰²2 [0.6, 0.2, 0.2]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-abd81b87e3014ae47f3deaea3958a5a1_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ä¼šæœ‰ä¸€å®šè´Ÿç‰‡æ•ˆæœ</p>
<blockquote>
<p><strong>æ’é™¤ Exclusion</strong></p>
</blockquote>
<p><strong><em>c = a + b - 2ab</em></strong> <em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0.4, 0.56, 0.56] é¢œè‰²2 [0.6, 0.44, 0.44]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-097f5e2b9c9646d69f6a07ce66783459_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>ä¼šæœ‰ä¸€å®šè´Ÿç‰‡æ•ˆæœ</p>
<h2 id="v-ç›¸æ¶ˆç³»">V ç›¸æ¶ˆç³»</h2>
<blockquote>
<p><strong>å‡å»Subtract</strong></p>
</blockquote>
<p><strong><em>c = bâˆ’a</em></strong><em>é€é€šé“è¿›è¡Œè¿ç®—</em></p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0, 0] é¢œè‰²2 [0.6, 0.2, 0]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-897968ab0abc87cf22279786051c46ab_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å˜æ·±æ•ˆæœ</p>
<p>å¸¸ç»“åˆâ€œåº”ç”¨å›¾åƒâ€ï¼Œç”¨äºé«˜ä½é¢‘æ³•è°ƒè‰²</p>
<blockquote>
<p><strong>åˆ’åˆ†Divide</strong></p>
</blockquote>
<p><em><strong>c = b/a*</strong> </em>é€é€šé“è¿›è¡Œè¿ç®—*</p>
<p>B: é¢œè‰²1 [0, 0.2, 0.4] é¢œè‰²2 [1, 0.8, 0.6]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-9d6d881e09d25ea68d31b4aeb0a42584_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>A: [0.4, 0.6, 0.8]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-a97a64c70b7213f2179afa2c4969eb7e_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>C: é¢œè‰²1 [0, 0.33, 0.5] é¢œè‰²2 [1, 1, 0.75]</p>
<figure>
<img src="/2020/05/24/ps-blend/v2-fc94414ecd4e5b95cb0ea5912858589c_720w.png" alt="img"><figcaption aria-hidden="true">img</figcaption>
</figure>
<p>å˜äº®æ•ˆæœ</p>
<h2 id="æ±‡æ€»åœ¨ä¸€å¼ a4çº¸ä¸Š">æ±‡æ€»åœ¨ä¸€å¼ A4çº¸ä¸Š</h2>
<figure>
<img src="/2020/05/24/ps-blend/v2-9777e7ee9933926f8cd3a50d905a592f_r.jpg" alt="preview"><figcaption aria-hidden="true">preview</figcaption>
</figure>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<ul>
<li>Adobeä¸­æ–‡å®˜ç½‘</li>
<li><a href="https://zhuanlan.zhihu.com/p/94081709">Photoshopå›¾å±‚æ··åˆæ¨¡å¼è¯¦è§£</a></li>
<li>å¦å¤–ä¸€ç¯‡çŸ¥ä¹æ–‡ç« ï¼Œç”±äºå†™çš„æ—¶å€™å¿˜äº†ï¼Œç°åœ¨å®åœ¨æ‰¾ä¸åˆ°äº†ã€‚ã€‚è¦æ˜¯å¼•ç”¨éƒ¨åˆ†åŸä½œè€…æ¥äº†è¯·æ‰¾æˆ‘claimã€‚</li>
</ul>
]]></content>
      <tags>
        <tag>art</tag>
        <tag>painting</tag>
        <tag>ps</tag>
      </tags>
  </entry>
  <entry>
    <title>å…¨è‡ªåŠ¨ç§å­è¿½ç•ªç³»ç»Ÿ</title>
    <url>/2021/02/01/seed-anime-system/</url>
    <content><![CDATA[<p><strong>å‰è¨€</strong>ï¼šä½ å–œæ¬¢çš„ç•ªå‰§æ›´æ–°äº†ã€‚æ˜¯ä½ å–œæ¬¢çš„å­—å¹•ç»„çš„é«˜æ¸…èµ„æºã€‚é‡Œé¢æ²¡æœ‰æ”¾è‚†çš„åœ£å…‰å’Œæš—ç‰§ã€‚å°½ç®¡å®ƒä¹Ÿè®¸æ²¡åœ¨å›½å†…æ”¾é€ã€‚ä½ å¯ä»¥åœ¨ä»»ä½•è®¾å¤‡ä¸Šè§‚çœ‹å®ƒï¼Œå¹¶ä¸”å¯ä»¥æ— ç¼åˆ‡æ¢ã€‚ç”µè§†ï¼Œæ‰‹æœºï¼ŒiPadï¼Œç”µè„‘éƒ½æ²¡æœ‰é—®é¢˜ã€‚å®ƒå¾ˆå¿«ã€‚</p>
<p>è¿™å°†æ˜¯æœ¬ç¯‡ä»‹ç»çš„å…¨è‡ªåŠ¨å…¨å¹³å°è®¢é˜…è¿½ç•ªç³»ç»Ÿã€‚</p>
<p>å‡ºäºå„ç§åŸå› ï¼Œæœ‰è®¸å¤šç•ªå‰§åœ¨Bç«™å¹¶æ‰¾ä¸åˆ°ã€‚å³ä½¿å¼€äº†å¤§ä¼šå‘˜ï¼Œä»å›½å¤–é©¾æ¢¯å›å›½ï¼Œè¿˜æ˜¯æ— æ³•çœ‹åˆ°ä¸€äº›å–œæ¬¢çš„å†…å®¹ã€‚ä½†åŒæ—¶ï¼Œå„å¤§åŠ¨æ¼«ç§å­ç«™å´æä¾›äº†å‡ ä¹æ— æ‰€ä¸åŒ…çš„èµ„æºï¼Œå…¶ä¸­åŒ…æ‹¬æ–°ç•ªã€‚ä½†ä¾é ç§å­è¿½ç•ªæœ€å¸¸è§çš„é—®é¢˜å°±æ˜¯éš¾ä»¥trackï¼Œç»å¸¸ä¼šå¿˜è®°æ›´æ–°ï¼Œè€Œä¸”æ¯æ¬¡éƒ½éœ€è¦ç»è¿‡ä¸€ä¸ª<code>æœç´¢-ä¸‹è½½ç§å­-ä¸‹è½½-æ•´ç†-è§‚çœ‹</code>çš„è¿‡ç¨‹ï¼Œç¡®å®è¿˜æ˜¯å¾ˆåŠé€€çš„ã€‚å¦‚ä½•æ­å»ºä¸€ä¸ªæ˜“äºé…ç½®ã€è¶³å¤Ÿç®€å•ã€å…¨è‡ªåŠ¨åŒ–æŠ“å–ã€ä¸‹è½½ã€ä¸²æµçš„è¿½ç•ªç³»ç»Ÿï¼Œä¾¿æˆä¸ºäº†ä¸€ä¸ªè¿½ç•ªäººçš„æ ¸å¿ƒéœ€æ±‚ã€‚</p>
<p>ä¸‹é¢æœ¬æ–‡å°†ä¼šå¸¦é¢†ä½ è®¤è¯†æ•´å¥—æµç¨‹ï¼Œå¦‚æœä½ è¶³å¤Ÿç»å¸¸æŠ˜è…¾ï¼Œå¤§è‡´ä¸€ä¸ªå°æ—¶ä¹‹å†…å°±å¯ä»¥æ­å»ºå®Œæˆã€‚ç¥ä½ å¥½è¿:)</p>
<p>PS: æœ¬æ–‡æ¶‰åŠçš„æ‰€æœ‰è„šæœ¬éƒ½å¯ä»¥åœ¨è¯¥<a href="https://github.com/miracleyoo/anime_renamer">GitHub</a>åº“ä¸Šæ‰¾åˆ°ã€‚</p>
<span id="more"></span>
<h2 id="è½¯ä»¶ä¸é…ç½®">è½¯ä»¶ä¸é…ç½®</h2>
<ul>
<li>æºï¼šåŠ¨æ¼«ç§å­ç«™ã€‚å¦‚Nyaaã€ACGRIPã€åŠ¨æ¼«èŠ±å›­ã€èŒç•ªç»„ã€‚ä¸ºäº†é¿å…æ²³èŸ¹è¿™é‡Œå°±ä¸æ”¾é“¾æ¥äº†ï¼Œè¯·è‡ªè¡Œæœç´¢ã€‚</li>
<li>è®¢é˜…ä¸è‡ªåŠ¨ä¸‹è½½ç§å­ï¼šRSSã€‚</li>
<li>ä¸‹è½½å™¨ï¼šutorrentã€‚</li>
<li>æ­£åˆ™åŒ¹é…ä¸è‡ªåŠ¨é‡å‘½åï¼šPythonã€‚</li>
<li>ä¸²æµä¸è‡ªåŠ¨æ•´ç†ï¼šPlexã€‚</li>
</ul>
<p>ç”±äºä¸Šé¢æåˆ°çš„è½¯ä»¶éƒ½æ”¯æŒWindowså’ŒMacï¼Œæ‰€ä»¥è®¤ä¸ºè¯¥ç³»ç»Ÿé€‚ç”¨äºä¸¤è€…ã€‚</p>
<h2 id="æµç¨‹">æµç¨‹</h2>
<p>é¦–å…ˆæ”¾ä¸€å¼ æ•´ç†å‡ºæ¥çš„æµç¨‹å›¾ï¼š</p>
<figure>
<img src="/2021/02/01/seed-anime-system/image-20210129014429864.png" alt="image-20210129014429864"><figcaption aria-hidden="true">image-20210129014429864</figcaption>
</figure>
<p>è¯¥ç³»ç»Ÿçš„æ•´ä½“æ€è·¯æ˜¯ï¼Œä½¿ç”¨RSSè‡ªåŠ¨å—…æ¢è®¢é˜…çš„å†…å®¹ï¼Œç”¨utorrentè‡ªåŠ¨ä¸‹è½½åˆ°ç•ªå‰§æŒ‡å®šçš„ç›®å½•ï¼Œä½¿ç”¨Pythoné‡å‘½åæˆPlexå¯ä»¥æ”¯æŒçš„å‰§é›†å‘½åæ ¼å¼åï¼Œä½¿ç”¨Plexæ•´ç†ã€åŒ¹é…å…ƒæ•°æ®ï¼Œå¹¶æä¾›ä¸²æµæœåŠ¡ï¼Œè®©ä½ çš„ç”µè„‘æœ¬èº«æˆä¸ºä¸€ä¸ªè§†é¢‘å†…å®¹æœåŠ¡å™¨ï¼Œä»è€Œä½¿ä½ å¯ä»¥åœ¨å®¶ä¸­ä»»ä½•è®¾å¤‡ä¸Šè¿…é€Ÿã€ä¾¿æ·åœ°è§‚çœ‹ä¸‹è½½æ•´ç†å¥½çš„è§†é¢‘ã€‚è¿™å¯¹äºä¹ æƒ¯åœ¨ç”µè§†å¤§å±å¹•ã€æŠ•å½±å±æˆ–iPadä¸Šè§‚çœ‹è§†é¢‘çš„ç”¨æˆ·è€Œè¨€æ˜¯ååˆ†å‹å¥½çš„ã€‚</p>
<p>æœ€ç»ˆè¾¾åˆ°çš„æ•ˆæœæ˜¯ï¼šä¸€æ—¦ç§å­æºç½‘ç«™ä¸Šæ›´æ–°äº†ä¸€ä¸ªä½ è®¢é˜…çš„ç•ªå‰§çš„ç§å­ï¼Œä½ å°±å¯ä»¥ç¬¬ä¸€æ—¶é—´æ‰“å¼€ç”µè§†ã€æå‡ºiPadç›´æ¥è§‚çœ‹å†…å®¹ã€‚</p>
<p>å¦å¤–ï¼Œç”±äºPlexå¯ä»¥è®°ä½ä½ æ‰€æœ‰è§†é¢‘çš„è§‚çœ‹è¿›åº¦ï¼Œæ‰€ä»¥ä½ å®Œå…¨å¯ä»¥åœ¨æ‰‹æœºä¸Šçœ‹äº†å‰åŠéƒ¨åˆ†ï¼Œç„¶åååˆ°ç”µè§†æœºå‰ï¼Œä»å®¹åœ°æ— ç¼ç»§ç»­è§‚çœ‹ã€‚</p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<figure>
<img src="/2021/02/01/seed-anime-system/image-20210129015121641.png" alt="image-20210129015121641"><figcaption aria-hidden="true">image-20210129015121641</figcaption>
</figure>
<figure>
<img src="/2021/02/01/seed-anime-system/image-20210129015202322.png" alt="image-20210129015202322"><figcaption aria-hidden="true">image-20210129015202322</figcaption>
</figure>
<figure>
<img src="/2021/02/01/seed-anime-system/image-20210129015424295.png" alt="image-20210129015424295"><figcaption aria-hidden="true">image-20210129015424295</figcaption>
</figure>
<h2 id="æºç«™">æºç«™</h2>
<p>å„å¤§åŠ¨æ¼«å‹åˆ¶ç»„ã€æ±‰åŒ–ç»„å’Œæ¬è¿ç»„ï¼ˆç»Ÿç§°å‘å¸ƒç»„ï¼‰éƒ½ä¼šå°†ä»–ä»¬çš„èµ„æºå‘å¸ƒåˆ°è¿™äº›æºç«™ä¸Šã€‚æœ‰çš„æºç«™äº’ä¸ºé•œåƒï¼Œæœ‰çš„ç«™æ˜¯çˆ¬å–çš„å…¶ä»–ç«™çš„ä¿¡æ¯ã€‚å®ƒä»¬åœ¨è¿½æ–°ç•ªè¿™é¡¹ä»»åŠ¡ä¸Šçš„è¡¨ç°å…¶å®éƒ½è¿˜å¯ä»¥ï¼Œé€‰ä¸€ä¸ªä½ è‡ªå·±å–œæ¬¢çš„ç«™ç‚¹å³å¯ã€‚</p>
<p>æ¯ä¸ªå‘å¸ƒç»„éƒ½æœ‰è‡ªå·±çš„åå¥½çš„ç•ªå‰§ï¼Œä¹Ÿæœ‰ä»–ä»¬ç‹¬ç‰¹çš„è§„çŸ©å’Œè®²ç©¶ã€‚å¦‚VCB-Studioå°±åå¥½åšé«˜æ¸…çš„å‹åˆ¶èµ„æºï¼Œä½†ç»å¸¸ä¸é™„å¸¦å­—å¹•ï¼›LIlithç”±äºä¸»è¦æ˜¯æ¬è¿ï¼Œæ‰€ä»¥å‘å¸ƒé€Ÿåº¦å¿«ï¼›å–µèŒå¼€çš„ç•ªæ¯”è¾ƒå¤šï¼Œè§†é¢‘è´¨é‡è¾ƒé«˜ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰ç•ªå‰§éƒ½æ˜¯åŠæ—¶å‘å¸ƒçš„ã€‚çƒ­é—¨ç•ªå‰§å¾€å¾€ä¼šåœ¨ç¬¬ä¸€æ—¶é—´å°±æœ‰å‘å¸ƒç»„å‘å¸ƒï¼Œè€Œä¸€äº›å†·é—¨å†…å®¹çš„æ›´æ–°é€Ÿåº¦å°±æ— æ³•ä¿è¯äº†ã€‚å¦å¤–ï¼ŒAå‘å¸ƒç»„å‘å¸ƒXç•ªå‰§å¯èƒ½æ˜¯åŠæ—¶çš„ï¼ŒYç•ªå‰§è¦éš”å‡ å¤©ï¼›å¯èƒ½Bå‘å¸ƒç»„åˆ™ç›¸åã€‚æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ£€æŸ¥ä¸Šä¸€é›†æœ€å…ˆæ˜¯ç”±å“ªä¸ªç»„å‘å¸ƒçš„ï¼Œå“ªä¸ªç»„æ”¾å‡ºçš„èµ„æºåˆæœ‰æœ€å¤šäººä¸‹è½½ï¼Œç„¶åè¿›è¡Œç»¼åˆåˆ¤æ–­ã€‚</p>
<h2 id="rss">RSS</h2>
<p>å¼•ç”¨ä¸€æ®µWikipediaçš„å®šä¹‰ï¼š</p>
<blockquote>
<p><strong>RSS</strong>ï¼ˆå…¨ç§°ï¼š<a href="https://zh.wikipedia.org/wiki/Resource_Description_Framework">RDF</a> Site Summaryï¼›Really Simple Syndication[<a href="https://zh.wikipedia.org/wiki/RSS#cite_note-powers-2003-1-2">2]</a>ï¼‰ï¼Œä¸­æ–‡è¯‘ä½œ<strong>ç®€æ˜“ä¿¡æ¯èšåˆ</strong>[<a href="https://zh.wikipedia.org/wiki/RSS#cite_note-3">3]</a>ï¼Œä¹Ÿç§°<strong>èšåˆå†…å®¹</strong>[<a href="https://zh.wikipedia.org/wiki/RSS#cite_note-å¼ é”2015-4">4]</a>ï¼Œæ˜¯ä¸€ç§<a href="https://zh.wikipedia.org/wiki/æ¶ˆæ¯ä¾†æº">æ¶ˆæ¯æ¥æº</a>æ ¼å¼è§„èŒƒï¼Œç”¨ä»¥<strong>èšåˆç»å¸¸å‘å¸ƒæ›´æ–°èµ„æ–™çš„ç½‘ç«™</strong>ï¼Œä¾‹å¦‚<a href="https://zh.wikipedia.org/wiki/éƒ¨è½æ ¼">åšå®¢</a>æ–‡ç« ã€æ–°é—»ã€<a href="https://zh.wikipedia.org/wiki/éŸ³è¨Š">éŸ³é¢‘</a>æˆ–<a href="https://zh.wikipedia.org/wiki/è¦–è¨Š">è§†é¢‘</a>çš„ç½‘æ‘˜ã€‚RSSæ–‡ä»¶ï¼ˆæˆ–ç§°åšæ‘˜è¦ã€ç½‘ç»œæ‘˜è¦ã€æˆ–é¢‘æ›´æ–°ï¼Œæä¾›åˆ°é¢‘é“ï¼‰åŒ…å«å…¨æ–‡æˆ–æ˜¯èŠ‚å½•çš„æ–‡å­—ï¼Œå†åŠ ä¸Šå‘å¸ƒè€…æ‰€è®¢é˜…ä¹‹ç½‘æ‘˜èµ„æ–™å’Œæˆæƒçš„å…ƒæ•°æ®ã€‚ç®€å•æ¥è¯´ RSS èƒ½å¤Ÿè®©ç”¨æˆ·è®¢é˜…ä¸ªäººç½‘ç«™ä¸ªäººåšå®¢ï¼Œå½“è®¢é˜…çš„ç½‘ç«™æœ‰æ–°æ–‡ç« æ˜¯èƒ½å¤Ÿè·å¾—é€šçŸ¥ã€‚</p>
</blockquote>
<p>RSSçš„æœ¬è´¨æ˜¯è®¢é˜…æŸä¸ªä¿¡æºã€‚ä¿¡æºå¯ä»¥ä¸æ–­æ›´æ–°å’Œæ¨é€ä¿¡æ¯ï¼Œå®ƒå¾€å¾€è¡¨ç°ä¸ºä¸€ä¸ªé“¾æ¥ã€‚è®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­ã€‚</p>
<p><img src="/2021/02/01/seed-anime-system/image-20210129020139987.png" alt="image-20210129020139987" style="zoom:50%;"></p>
<p>å‡è®¾æˆ‘ä»¬æƒ³è¦è¿½ä¸€ä¸ªç”±å–µèŒå¥¶èŒ¶å±‹å‘å¸ƒçš„æ–°ç•ª<code>IDOLY PRIDE</code>ï¼Œå¹¶ä¸”åªçœ‹ç®€ä½“çš„1080pç‰ˆæœ¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®å…¶å‘½åé£æ ¼æ¥ç”Ÿæˆå¯¹åº”çš„æœç´¢å…³é”®è¯ï¼š<code>ã€å–µèŒProductionã€‘â˜…01æœˆæ–°ç•ªâ˜…[å¶åƒè£è€€/IDOLY PRIDE][03][1080p][ç®€æ—¥åŒè¯­][æ‹›å‹Ÿç¿»è¯‘]</code>æ˜¯å…¶ä¸­ä¸€é›†çš„å‘½åã€‚é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦åœ¨æœç´¢æ¡†ä¸­æœç´¢ï¼š<code>å–µèŒProduction å¶åƒè£è€€ 1080p ç®€æ—¥</code>ï¼Œå³å¯å®šä½æˆ‘ä»¬éœ€è¦è¿½çš„ç•ªçš„ç‰¹å®šç‰ˆæœ¬çš„æ‰€æœ‰åç»­èµ„æºã€‚</p>
<figure>
<img src="/2021/02/01/seed-anime-system/image-20210129020710605.png" alt="image-20210129020710605"><figcaption aria-hidden="true">image-20210129020710605</figcaption>
</figure>
<p>ç„¶åæˆ‘ä»¬å³å¯æŠŠè¿™ä¸ªæœç´¢ç»“æœçš„ç½‘é¡µå½“åšä¸€ä¸ªä¿¡æºã€‚å…·ä½“è·å–RSSè®¢é˜…é“¾æ¥çš„æ–¹æ³•æ¯ä¸ªç½‘ç«™éƒ½å„ä¸ç›¸åŒï¼Œä½†å¤§è‡´éƒ½ä¼šæœ‰ä¸€ä¸ªç±»ä¼¼çš„æŒ‰é’®å‡ºç°ã€‚ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œåœ¨å¼¹å‡ºçš„çª—å£çš„åœ°å€æ å³å¯æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„RSSè®¢é˜…é“¾æ¥ã€‚</p>
<figure>
<img src="/2021/02/01/seed-anime-system/image-20210129021051012.png" alt="image-20210129021051012"><figcaption aria-hidden="true">image-20210129021051012</figcaption>
</figure>
<p>å¤åˆ¶è¿™ä¸ªé“¾æ¥ï¼Œè¿™ä¸€æ­¥å°±å®Œæˆäº†ã€‚ä½ æˆåŠŸåœ°å¾—åˆ°äº†ä½ æ‰€éœ€è¦å†…å®¹çš„è®¢é˜…é“¾æ¥ã€‚</p>
<h2 id="utorrent">utorrent</h2>
<ul>
<li><p>utorrentæ˜¯ä¸€ä¸ªå¯ä»¥ä¸‹è½½ç§å­æ–‡ä»¶å’Œç£åŠ›é“¾æ¥çš„è½¯ä»¶ï¼Œæ”¯æŒWindowsã€Macå’ŒLinuxï¼Œä¹Ÿæœ‰ç½‘é¡µç‰ˆã€‚</p></li>
<li><p>utorrentæ”¯æŒRSSè®¢é˜…ï¼Œç›¸å½“äºæ¯å½“RSSè®¢é˜…çš„ä¿¡æºæœ‰äº†æ–°çš„å†…å®¹ï¼Œutorrentå°±ä¼šè‡ªåŠ¨æŠŠå®ƒåˆ—å‡ºæ¥ã€‚ä½ ä¹Ÿå¯ä»¥è®¾ç½®æ¯å½“æœ‰æ–°å†…å®¹å°±è‡ªåŠ¨ä¸‹è½½ï¼Œä¸è¿‡è¿™è¦è§†è®¢é˜…å†…å®¹è€Œå®šã€‚æ¯ä¸ªRSSçš„è‡ªåŠ¨ä¸‹è½½ä½ç½®å¯ä»¥æ˜¯ä¸åŒçš„æ–‡ä»¶å¤¹ã€‚æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/2021/02/01/seed-anime-system/image-20210130113430927.png" alt="image-20210130113430927" style="zoom:50%;"></p></li>
<li><p>utorrentæ”¯æŒæ–‡ä»¶ä¸‹è½½å®Œæˆæˆ–çŠ¶æ€æ”¹å˜åæ‰§è¡Œè„šæœ¬ã€‚è¿™ä¸ªç‰¹ç‚¹éå¸¸é‡è¦ï¼Œä¸‹ä¸€æ­¥éœ€è¦ç”¨ã€‚</p></li>
</ul>
<h3 id="rssé…ç½®">RSSé…ç½®</h3>
<ol type="1">
<li>é¦–å…ˆï¼Œå°†ä¸Šé¢æåˆ°çš„RSSé“¾æ¥æ·»åŠ åˆ°utorrentçš„è®¢é˜…ä¸­ï¼šç‚¹å‡»<code>è®¢é˜…</code>åé¡µé¢ä¸­çš„å°Wi-Fiå›¾æ ‡å³å¯æ·»åŠ ï¼Œä¹Ÿå¯ä»¥å³é”®<code>æ·»åŠ RSSè®¢é˜…</code>ã€‚è¿™æ—¶å€™å…ˆä¸ç”¨è®¾ç½®ä»€ä¹ˆï¼ŒæŠŠURLç²˜è´´åˆ°ç¬¬ä¸€é¡¹ï¼Œç„¶åå®šä¹‰ä¸€ä¸ªæ–¹ä¾¿è¯†åˆ«çš„åˆ«åå³å¯ï¼Œè®¢é˜…æ å…ˆé€‰æ‹©<code>ä¸è¦è‡ªåŠ¨ä¸‹è½½æ‰€æœ‰é¡¹ç›®</code>ã€‚å¾…ä¼šå„¿ä¼šåœ¨ä¸‹è½½å™¨è®¾å®šä¸­è¯¦ç»†è®¾ç½®ã€‚</li>
</ol>
<p><img src="/2021/02/01/seed-anime-system/image-20210130113824679.png" alt="image-20210130113824679" style="zoom:50%;"></p>
<p><img src="/2021/02/01/seed-anime-system/image-20210130114135639.png" alt="image-20210130114135639" style="zoom:50%;"></p>
<ol start="2" type="1">
<li><p>å³é”®å·¦æ <code>è®¢é˜…</code>ä¸­å‡ºç°çš„æ–°é¡¹ï¼Œé€‰æ‹©<code>RSSä¸‹è½½å™¨</code>ï¼Œè¿›å…¥ä¸‹è½½å™¨è¯¦ç»†é…ç½®ï¼š</p>
<p><img src="/2021/02/01/seed-anime-system/image-20210130114636832.png" alt="image-20210130114636832" style="zoom:50%;"></p>
<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„åªæœ‰<code>ä¿å­˜åœ¨</code>å’Œ<code>è®¢é˜…</code>ä¸¤é¡¹ï¼Œå‰è€…æ˜¯è¿™ä¸ªè®¢é˜…ä¸­æ‰€æœ‰æ–‡ä»¶çš„ä¿å­˜ä½ç½®ï¼Œè®¢é˜…æ˜¯è¿™å¥—è®¾ç½®å°†åº”ç”¨äºå“ªä¸ªè®¢é˜…ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–‡ä»¶å¤¹æœ€å¥½ä¸ºè¿™ä¸ªç•ªå‰§çš„åå­—ï¼Œä¸”å‘½åæœ€å¥½éµå®ˆä»¥ä¸‹è§„åˆ™ï¼Œæ–¹ä¾¿åç»­åŒ¹é…ï¼š</p>
<ul>
<li>åªæœ‰ä¸€ä¸ªä¸»åå­—ã€‚å¦‚æœä¸€ä¸ªç•ªå‰§æ—¢æœ‰ä¸­æ–‡åï¼Œåˆæœ‰æ—¥æ–‡åï¼Œè¿˜æœ‰ç½—é©¬å­—æˆ–è‹±è¯­åï¼Œè¯·åªä½¿ç”¨ä¸€ä¸ªåå­—ã€‚ä½¿ç”¨å“ªä¸ªçœ‹ä½ è‡ªå·±ï¼Œæœ€å¥½æ˜¯å¹¿æ³›æ¥å—çš„åå­—ã€‚å…¶ä»–è¯­è¨€çš„åå­—ï¼Œå…¶ä»–ä¿¡æ¯ï¼Œå¦‚å­—å¹•ç»„ï¼Œç®€ä½“ç¹ä½“ï¼Œæ¸…æ™°åº¦ç­‰ï¼Œè¯·åˆ†åˆ«ä½¿ç”¨ä¸€ä¸ªä¸­æ‹¬å·æ‹¬ä½ã€‚æ•´ç†ä¸²æµè½¯ä»¶ç”±äºä¸»è¦éµå¾ªè¥¿æ–¹å½±è§†çš„å‘½åè§„åˆ™ï¼Œä¼šç›´æ¥å¿½ç•¥æ–¹æ‹¬å·å†…çš„æ‰€æœ‰å†…å®¹ï¼Œæ‰€ä»¥åœ¨æ–¹æ‹¬å·é‡Œé¢ä½ å¯ä»¥æ”¾å…¥ä»»ä½•ä½ æƒ³å¤‡æ³¨çš„ä¿¡æ¯ã€‚</li>
<li>ä¸€å¥—è§„åˆ™å¯¹åº”ä¸€ä¸ªè®¢é˜…ã€‚æ•´ä¸ªé“¾æ¡çš„å¯¹åº”å…³ç³»æ˜¯ï¼š<code>ä¸€ä¸ªç•ªå‰§åå­—-&gt;ä¸€æ¡RSSé“¾æ¥-&gt;utorrentä¸­ä¸€é¡¹RSSè®¢é˜…-&gt;RSSä¸‹è½½å™¨ä¸­ä¸€å¥—è§„åˆ™-&gt;ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶å¤¹</code></li>
<li>è¿‡æ»¤å™¨å¦‚æœæ²¡æœ‰éœ€æ±‚ï¼Œå¯ä»¥ç•™ç©ºæˆ–<code>*</code>ï¼Œè¡¨ç¤ºåŒ¹é…æ‰€æœ‰ã€‚è‹¥æ˜¯åœ¨è¿™ä¸ªè®¢é˜…é“¾æ¥ä¸­è¿˜æ²¡æœ‰å®Œå…¨ç­›é€‰ï¼Œé‚£ä½ å¯ä»¥ç€è¿™é‡Œè¿›è¡Œå¦å¤–ä¸€æ³¢è¿‡æ»¤ã€‚</li>
</ul></li>
</ol>
<h2 id="é‡å‘½å">é‡å‘½å</h2>
<p>é¦–å…ˆå†è§£é‡Šä¸€ä¸‹ä¸ºä½•éœ€è¦é‡å‘½åã€‚æ­£å¦‚å‰æ–‡æ‰€è¯´ï¼ŒPlexç­‰åª’ä½“ç®¡ç†è½¯ä»¶ä¸»è¦è¿˜æ˜¯é’ˆå¯¹æ¬§ç¾å‰§é›†çš„å‘½åæ–¹æ³•è®¾è®¡çš„ï¼Œä¸”ä¼šå¿½ç•¥æ–¹æ‹¬å·ä¸­æ‰€æœ‰å†…å®¹ã€‚ä½†å›½å†…ï¼Œè‡³å°‘æ˜¯ç•ªå‰§çš„å‘½åï¼Œå¯¹äºé›†æ•°çš„å‘½åï¼Œæ°æ°å¤§å¤šä¼šæ”¾åˆ°æ–¹æ‹¬å·ä¸­ï¼Œå¦‚<code>[c.cå‹•æ¼«][1æœˆæ–°ç•ª][å·¥ä½œç´°èƒ ç¬¬äºŒå­£][04][BIG5][1080P][MP4]</code>é‡Œé¢çš„è¿™ä¸ª<code>[04]</code>å°±æ˜¯é›†æ•°ã€‚å¦å¤–è¿˜æœ‰çš„å‘½åæ˜¯<code>ç¬¬04è¯</code>ï¼Œ<code>[ç¬¬04è¯]</code>ï¼Œ<code>- 04 -</code>ç­‰ã€‚å¦å¤–ï¼Œç”±äºæŸäº›æŠ€æœ¯æ€§é”™è¯¯ï¼Œæœ‰äº›å‘å¸ƒç»„ä¼šåœ¨æŸé›†å‘å¸ƒåé‡æ–°å‘å¸ƒä¿®å¤ç‰ˆæœ¬ï¼Œæ­¤æ—¶çš„å‘½åä¸º<code>04v2</code>ç­‰ã€‚è¿˜æœ‰å¾ˆå¤šç•ªå‰§çš„æœ€åä¸€é›†ä¼šè¢«æ·»åŠ ä¸ŠENDå­—æ ·è¡¨ç¤ºå®Œç»“ã€‚è€Œè¿™äº›å†…å®¹éƒ½ä¼šå¯¹åç»­çš„è§£æé€ æˆå›°éš¾ï¼Œæœ€å¥½å¯ä»¥å°†é›†æ•°è¿™ä¸ªå˜é‡è½¬ä¸ºæŸç§å›ºå®šæ ¼å¼ã€‚</p>
<p>Pythonå¯ä»¥å¾ˆå¥½çš„å®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚é€šè¿‡æ­£åˆ™åŒ¹é…ä¸Šè¿°å†…å®¹ï¼Œå¹¶é‡æ–°ç»„åˆï¼Œå¯ä»¥è½»æ˜“çš„å¾—åˆ°æƒ³è¦çš„ç»“æœã€‚å†™å¥½çš„è„šæœ¬å¦‚ä¸‹ï¼š</p>
<h3 id="reg_match.py"><code>reg_match.py</code>ï¼š</h3>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os.path <span class="keyword">as</span> op</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> codecs</span><br><span class="line"><span class="keyword">from</span> glob <span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">from</span> pathlib2 <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">log_name=op.join(op.dirname(op.realpath(__file__)), <span class="string">&#x27;log.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Episode Regular Expression Matching Rules</span></span><br><span class="line">episode_rules = [<span class="string">r&#x27;(.*)\[(\d&#123;1,3&#125;|\d&#123;1,3&#125;\.\d&#123;1,2&#125;)(?:v\d&#123;1,2&#125;)?(?:END)?\](.*)&#x27;</span>,</span><br><span class="line">                 <span class="string">r&#x27;(.*)\[E(\d&#123;1,3&#125;|\d&#123;1,3&#125;\.\d&#123;1,2&#125;)(?:v\d&#123;1,2&#125;)?(?:END)?\](.*)&#x27;</span>,</span><br><span class="line">                 <span class="string">r&#x27;(.*)\[ç¬¬(\d*\.*\d*)è¯(?:END)?\](.*)&#x27;</span>,</span><br><span class="line">                 <span class="string">r&#x27;(.*)\[ç¬¬(\d*\.*\d*)è©±(?:END)?\](.*)&#x27;</span>,</span><br><span class="line">                 <span class="string">r&#x27;(.*)ç¬¬(\d*\.*\d*)è¯(?:END)?(.*)&#x27;</span>,</span><br><span class="line">                 <span class="string">r&#x27;(.*)ç¬¬(\d*\.*\d*)è©±(?:END)?(.*)&#x27;</span>,</span><br><span class="line">                 <span class="string">r&#x27;(.*)- (\d&#123;1,3&#125;|\d&#123;1,3&#125;\.\d&#123;1,2&#125;)(?:v\d&#123;1,2&#125;)?(?:END)? (.*)&#x27;</span>]</span><br><span class="line"><span class="comment"># Suffixs of files we are going to rename</span></span><br><span class="line">suffixs = [<span class="string">&#x27;mp4&#x27;</span>, <span class="string">&#x27;mkv&#x27;</span>, <span class="string">&#x27;avi&#x27;</span>, <span class="string">&#x27;mov&#x27;</span>, <span class="string">&#x27;flv&#x27;</span>, <span class="string">&#x27;rmvb&#x27;</span>, <span class="string">&#x27;ass&#x27;</span>, <span class="string">&#x27;idx&#x27;</span>]</span><br><span class="line">sys.stdout = io.TextIOWrapper(buffer=sys.stdout.buffer,encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Parse the input arguments. You can whether input only root, or only path, or both root and name.</span></span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">&#x27;Regular Expression Match&#x27;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;--root&#x27;</span>, default=<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                    <span class="built_in">help</span>=<span class="string">&#x27;The root directory of the input file.&#x27;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;--name&#x27;</span>, default=<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                    <span class="built_in">help</span>=<span class="string">&#x27;The file name of the input file.&#x27;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;--path&#x27;</span>, default=<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                    <span class="built_in">help</span>=<span class="string">&#x27;The file full path of the input file.&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rename</span>(<span class="params">root, name</span>):</span></span><br><span class="line">    root = Path(root)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> rule <span class="keyword">in</span> episode_rules:</span><br><span class="line">        matchObj = re.match(rule, name, re.I)</span><br><span class="line">        <span class="keyword">if</span> matchObj <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            new_name = <span class="string">f&#x27;<span class="subst">&#123;matchObj.group(<span class="number">1</span>)&#125;</span> E<span class="subst">&#123;matchObj.group(<span class="number">2</span>)&#125;</span> <span class="subst">&#123;matchObj.group(<span class="number">3</span>)&#125;</span>&#x27;</span></span><br><span class="line">            <span class="comment"># print(matchObj.group())</span></span><br><span class="line">            <span class="comment"># print(new_name)</span></span><br><span class="line">            print(<span class="string">f&#x27;<span class="subst">&#123;name&#125;</span> -&gt; <span class="subst">&#123;new_name&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="keyword">with</span> codecs.<span class="built_in">open</span>(log_name, <span class="string">&#x27;a+&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                <span class="comment"># f.writelines(f&#x27;&#123;name&#125; -&gt; &#123;new_name&#125;&#x27;)</span></span><br><span class="line">                print(<span class="string">f&#x27;<span class="subst">&#123;name&#125;</span> -&gt; <span class="subst">&#123;new_name&#125;</span>&#x27;</span>, file=f)</span><br><span class="line"></span><br><span class="line">            os.rename(<span class="built_in">str</span>(root/name), <span class="built_in">str</span>(root/new_name))</span><br><span class="line">            general_check(root, new_name)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    general_check(root, name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">general_check</span>(<span class="params">root, name</span>):</span></span><br><span class="line">    new_name = <span class="string">&#x27; &#x27;</span>.join(name.split())</span><br><span class="line">    <span class="keyword">if</span> new_name != name:</span><br><span class="line">        print(<span class="string">f&#x27;<span class="subst">&#123;name&#125;</span> -&gt; <span class="subst">&#123;new_name&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="keyword">with</span> codecs.<span class="built_in">open</span>(log_name, <span class="string">&#x27;a+&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            print(<span class="string">f&#x27;<span class="subst">&#123;name&#125;</span> -&gt; <span class="subst">&#123;new_name&#125;</span>&#x27;</span>, file=f)</span><br><span class="line">        os.rename(<span class="built_in">str</span>(root/name), <span class="built_in">str</span>(root/new_name))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    args = parser.parse_args()</span><br><span class="line">    <span class="keyword">if</span> op.isdir(args.path):</span><br><span class="line">        args.root = args.path</span><br><span class="line">        args.path = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> args.name != <span class="string">&#x27;&#x27;</span> <span class="keyword">and</span> args.root != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        temp = <span class="built_in">str</span>(args.root/args.name)</span><br><span class="line">        <span class="keyword">if</span> op.isdir(temp):</span><br><span class="line">            args.root = temp</span><br><span class="line">            args.name = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> args.path != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        root, name = op.split(args.path)</span><br><span class="line">        rename(root, name)</span><br><span class="line">    <span class="keyword">elif</span> args.name != <span class="string">&#x27;&#x27;</span> <span class="keyword">and</span> args.root != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        rename(args.root, args.name)</span><br><span class="line">    <span class="keyword">elif</span> args.root != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        files = []</span><br><span class="line">        <span class="keyword">for</span> suffix <span class="keyword">in</span> suffixs:</span><br><span class="line">            files.extend(Path(args.root).rglob(<span class="string">&#x27;*.&#x27;</span>+suffix))</span><br><span class="line">            files.extend(Path(args.root).rglob(<span class="string">&#x27;*.&#x27;</span>+suffix.upper()))</span><br><span class="line">        print(<span class="string">f&#x27;Total Files Number: <span class="subst">&#123;<span class="built_in">len</span>(files)&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> path <span class="keyword">in</span> files:</span><br><span class="line">            root, name = op.split(path)</span><br><span class="line">            rename(root, name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;Please input whether only root, or only path, or both root and name&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨çš„è¯ç›´æ¥å°†è¯¥æ–‡ä»¶å­˜åˆ°ä¸€ä¸ªæ–°å»ºçš„<code>reg_match.py</code>æ–‡ä»¶ä¸­å³å¯ã€‚ä½¿ç”¨Python3.6ç¼–å†™ï¼Œç†è®ºæ”¯æŒæ‰€æœ‰Python3ç‰ˆæœ¬ã€‚</p>
<p>ä½†æ˜¯ï¼Œä»…ç”¨Pythonæ— æ³•ç›´æ¥è¢«utorrentè°ƒç”¨ï¼Œå®ƒæƒ³è¦çš„æ˜¯åƒ<code>exe</code>æˆ–<code>cmd</code>ä¹‹ç±»çš„æ–‡ä»¶ï¼Œå¹¶æƒ³ä¼ é€’<strong>ä¸‹è½½å¥½çš„æ–‡ä»¶æ‰€åœ¨ç›®å½•</strong>å’Œ<strong>ä¸‹è½½å¥½çš„æ–‡ä»¶å</strong>è¿›å»ã€‚è¿™æ ·æˆ‘ä»¬æœ€å¥½åˆ›å»ºä¸€ä¸ª<code>cmd</code>æ–‡ä»¶ï¼Œç”¨äºæ¥å—å‚æ•°ï¼Œå¹¶ä¼ é€’ç»™Pythonè„šæœ¬ã€‚</p>
<h3 id="run_after_done.cmd"><code>run_after_done.cmd</code></h3>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">set file_name=%1%</span><br><span class="line">set directory=%2%</span><br><span class="line"></span><br><span class="line">python &lt;YOUR_SCRIPT_PATH&gt;\reg_match.py --name=%file_name% --root=%directory%</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œ<code>&lt;YOUR_SCRIPT_PATH&gt;</code>æ˜¯ä½ å­˜æ”¾ä¸Šé¢æåˆ°çš„Pythonè„šæœ¬çš„ç›®å½•ä½ç½®ã€‚</p>
<h3 id="utorrenté…ç½®">utorrenté…ç½®</h3>
<p>å®Œæˆäº†ä¸Šé¢çš„ä¸¤ä¸ªè„šæœ¬ï¼Œè®©æˆ‘ä»¬å°†å…¶é…ç½®åˆ°utorrentçš„<code>å½“ä¸‹è½½å®Œæˆæ—¶è¿è¡Œæ­¤ç¨‹åº</code>ä¸­ã€‚æ•ˆæœå°±æ˜¯ï¼Œæ¯å½“ä¸€ä¸ªæ–‡ä»¶ä¸‹è½½å®Œæˆï¼Œutorrentéƒ½ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ª<code>cmd</code>æ–‡ä»¶ï¼Œå¹¶ä¸”å°†æ–‡ä»¶ç›®å½•å’Œåå­—éƒ½ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ã€‚</p>
<p><img src="/2021/02/01/seed-anime-system/image-20210130122024176.png" alt="image-20210130122024176" style="zoom:50%;"></p>
<p>å‘½ä»¤ä¸ºï¼š<code>&lt;YOUR_CMD_PATH&gt;\run_after_done.cmd "%F" "%D"</code></p>
<p>å…¶ä¸­ï¼Œ<code>&lt;YOUR_CMD_PATH&gt;</code>ä¸ºä½ å­˜æ”¾è„šæœ¬<code>run_after_done.cmd</code>çš„ç›®å½•ã€‚æ¨èå°†å®ƒå’ŒPythonè„šæœ¬æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚</p>
<h2 id="plex">Plex</h2>
<p>å¼•ç”¨ä¸€æ®µWikiï¼Œä»¥æ–¹ä¾¿ä¸ç†Ÿæ‚‰çš„æœ‹å‹ä»¬äº†è§£ï¼š</p>
<blockquote>
<p><strong>Plex</strong>æ˜¯ä¸€å¥—<a href="https://zh.wikipedia.org/wiki/åª’ä½“æ’­æ”¾å™¨">åª’ä½“æ’­æ”¾å™¨</a>åŠ<a href="https://zh.wikipedia.org/w/index.php?title=åª’é«”ä¼ºæœå™¨&amp;action=edit&amp;redlink=1">åª’ä½“æœåŠ¡å™¨</a>è½¯ä»¶ï¼Œè®©ç”¨æˆ·æ•´ç†åœ¨è®¾å¤‡ä¸Šçš„<a href="https://zh.wikipedia.org/wiki/æœ‰è²æ›¸">æœ‰å£°ä¹¦</a>ã€<a href="https://zh.wikipedia.org/wiki/éŸ³æ¨‚">éŸ³ä¹</a>ã€<a href="https://zh.wikipedia.org/wiki/æ’­å®¢">æ’­å®¢</a>ã€<a href="https://zh.wikipedia.org/wiki/åœ–ç‰‡">å›¾ç‰‡</a>å’Œ<a href="https://zh.wikipedia.org/wiki/å½±ç‰‡">è§†é¢‘</a>æ–‡ä»¶ï¼Œä»¥ä¾›<a href="https://zh.wikipedia.org/wiki/ä¸²æµ">æµ</a>è‡³<a href="https://zh.wikipedia.org/wiki/æµå‹•è£ç½®">ç§»åŠ¨è®¾å¤‡</a>ã€<a href="https://zh.wikipedia.org/wiki/æ™ºèƒ½é›»è¦–">æ™ºèƒ½ç”µè§†</a>å’Œ<a href="https://zh.wikipedia.org/w/index.php?title=é›»å­åª’é«”æ’­æ”¾å™¨&amp;action=edit&amp;redlink=1">ç”µå­åª’ä½“æ’­æ”¾å™¨</a>ä¸Šã€‚Plexå¯ç”¨äº<a href="https://zh.wikipedia.org/wiki/Microsoft_Windows">Windows</a>ã€<a href="https://zh.wikipedia.org/wiki/Android">Android</a>ã€<a href="https://zh.wikipedia.org/wiki/Linux">Linux</a>ã€<a href="https://zh.wikipedia.org/wiki/OS_X">OS X</a>å’Œ<a href="https://zh.wikipedia.org/wiki/FreeBSD">FreeBSD</a>[<a href="https://zh.wikipedia.org/wiki/Plex#cite_note-Gigaom-2">2]</a>ã€‚å¦å¤–ï¼ŒPlexäº¦è®©ç”¨æˆ·é€è¿‡è¯¥å¹³å°è§‚çœ‹æ¥è‡ª<a href="https://zh.wikipedia.org/wiki/YouTube">YouTube</a>ã€<a href="https://zh.wikipedia.org/wiki/Vimeo">Vimeo</a>å’Œ<a href="https://zh.wikipedia.org/wiki/TEDå¤§æœƒ">TED</a>ç­‰å†…å®¹æä¾›å•†çš„è§†é¢‘ã€‚Plexäº¦ä¸<a href="https://zh.wikipedia.org/w/index.php?title=Bitcasa&amp;action=edit&amp;redlink=1">Bitcasa</a>ã€<a href="https://zh.wikipedia.org/wiki/Boxå…¬å¸">Box</a>å’Œ<a href="https://zh.wikipedia.org/wiki/Dropbox">Dropbox</a>ç­‰äº‘ç«¯æœåŠ¡å…¼å®¹[<a href="https://zh.wikipedia.org/wiki/Plex#cite_note-3">3]</a>[<a href="https://zh.wikipedia.org/wiki/Plex#cite_note-4">4]</a>ã€‚</p>
<p>ç”¨æˆ·å¯é€è¿‡Plex<a href="https://zh.wikipedia.org/wiki/å‰ç«¯å’Œåç«¯">å‰ç«¯</a>åª’ä½“æ’­æ”¾å™¨â€œPlex Media Playerâ€ç®¡ç†åŠæ’­æ”¾åœ¨ä¸€å°è¿è¡Œâ€œPlex Media Serverâ€çš„è¿œç¨‹ç”µè„‘ä¸Šçš„å¤šåª’ä½“æ–‡ä»¶ã€‚å¦å¤–ï¼Œç”¨æˆ·å¯ä½¿ç”¨â€œPlex Onlineâ€æœåŠ¡ä»¥ç¤¾åŒºå¼€å‘çš„æ’ä»¶æ”¶çœ‹<a href="https://zh.wikipedia.org/wiki/Netflix">Netflix</a>ã€<a href="https://zh.wikipedia.org/wiki/Hulu">Hulu</a>å’Œ<a href="https://zh.wikipedia.org/wiki/CNN">CNN</a>çš„è§†é¢‘ã€‚[<a href="https://zh.wikipedia.org/wiki/Plex#cite_note-CrunchGear_Interview-5">5]</a></p>
</blockquote>
<p>ç®€å•è¯´ï¼Œå°±æ˜¯Plexå¯ä»¥ç®¡ç†ä½ çš„è¿ç»­å‰§é›†ï¼ˆå¦‚ç•ªå‰§ï¼‰å’Œç”µå½±ï¼Œè§£æå‡ºå®ƒä»¬çš„å…ƒæ•°æ®ï¼ˆå¦‚æµ·æŠ¥ï¼Œå°é¢ï¼Œæ¼”èŒå‘˜è¡¨ï¼Œç®€ä»‹ï¼Œåˆ†é›†æ ‡é¢˜ç­‰ç­‰ï¼‰ï¼Œåœ¨ä½ çš„ç”µè„‘ä¸Šè‡ªåŠ¨æ­å»ºä¸€ä¸ª<strong>æœåŠ¡å™¨</strong>ï¼Œå‘ä½ åœ¨å…¶ä»–è®¾å¤‡ä¸Šçš„Plexè½¯ä»¶æä¾›åƒæ˜¯Bilibiliæˆ–Netflixä¸€æ ·çš„ä¸²æµæœåŠ¡ã€‚å½¢è±¡ç‚¹è¯´å°±æ˜¯ï¼Œä½ è‡ªå·±æ­å»ºäº†ä¸€ä¸ªç®€å•çš„è§†é¢‘ç½‘ç«™ï¼Œæ•°æ®åº“æ˜¯ä½ ç”µè„‘ä¸Šçš„å†…å®¹ï¼Œä¾›ä½ è‡ªå·±ä½¿ç”¨ã€‚</p>
<p>å¦å¤–ï¼ŒPlexä¸ä»…æ”¯æŒå†…ç½‘è®¿é—®ï¼Œåœ¨å¤–ç½‘è®¿é—®ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚å†…ç½‘è®¿é—®è¦æ±‚ç»ˆç«¯è®¾å¤‡è¿æ¥åˆ°å’Œä½ çš„ç”µè„‘åŒä¸€ä¸ªWi-Fiï¼Œè€Œå¤–ç½‘åˆ™æ˜¯åªè¦æœ‰ç½‘ç»œè¿æ¥å°±è¡Œã€‚å½“ç„¶ï¼Œå†…ç½‘çš„é€Ÿåº¦å’Œæ¸…æ™°åº¦éƒ½æ˜¯æ›´é«˜çš„ã€‚</p>
<p>Plexæ”¯æŒåœ¨Windowsï¼ŒMacï¼ŒNASï¼ŒDockerç­‰ä½ç½®å®‰è£…å…¶serverï¼Œå®‰è£…è¿‡ç¨‹ååˆ†ç®€å•ï¼ŒåŸºæœ¬ä¸€è·¯Nextå³å¯ã€‚</p>
<p>æœ‰äº†å‰é¢çš„è®¾ç½®ï¼Œè¿™é‡Œå°±å¾ˆç®€å•äº†ã€‚å‡è®¾ä½ çš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Anime</span><br><span class="line">	|- å·¥ä½œç»†èƒ</span><br><span class="line">		|- Season 1</span><br><span class="line">        	|- 01.mp4</span><br><span class="line">        	|- 02.mp4</span><br><span class="line">        	|...</span><br><span class="line">        	|- 12.mp4</span><br><span class="line">        |- Season 2</span><br><span class="line">        	|- 01.mp4</span><br><span class="line">        	|- ...</span><br><span class="line">	|- å¶åƒè£è€€</span><br><span class="line">		|- 01.mp4</span><br><span class="line">        |- ...</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆï¼Œä½ æ‰€éœ€è¦åšçš„åªæ˜¯ï¼šåˆ›å»ºä¸€ä¸ªè´¦æˆ·ï¼Œç„¶åå¯åŠ¨ä½ çš„æœåŠ¡å™¨é¡µé¢ï¼ˆåœ°å€æ è¾“å…¥<a href="https://www.plex.tv/">plex.tv</a>ï¼Œå³ä¸Šè§’Launchå³å¯ï¼Œæˆ–æ˜¯ç›´æ¥ç‚¹å‡»<a href="https://app.plex.tv/desktop#">Link</a>ï¼‰ï¼š</p>
<p><img src="/2021/02/01/seed-anime-system/image-20210130123759950.png" alt="image-20210130123759950" style="zoom:50%;"></p>
<p>ç‚¹å‡»<code>+</code>å·ï¼Œæ–°å»ºä¸€ä¸ªåº“ï¼Œ</p>
<p><img src="/2021/02/01/seed-anime-system/image-20210130123947605.png" alt="image-20210130123947605" style="zoom:50%;"></p>
<p>ç®€å•ä¸¤æ­¥ï¼Œå®Œæˆï¼</p>
<p>å½“ç„¶æˆ‘ä»¬è¿™é‡Œä»‹ç»çš„ä»…ä»…æ˜¯æ·»åŠ å‰§é›†çš„æ–¹æ³•ï¼Œç”µå½±åº“ã€éŸ³ä¹åº“å’Œå›¾ç‰‡åº“çš„æ·»åŠ æ–¹æ³•ç±»ä¼¼ã€‚ä½ å®Œå…¨å¯ä»¥æŠŠä½ çš„ç…§ç‰‡æ–‡ä»¶å¤¹æ”¾åˆ°Plexä¸Šï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹çœ‹åˆ°ä½ çš„ç…§ç‰‡å•¦ï¼å¦å¤–ï¼Œç”±äº<strong>æœåŠ¡å™¨</strong>æ˜¯ä½ è‡ªå·±çš„ç”µè„‘ï¼Œå®ƒå¹¶ä¸ä¼šä¸Šä¼ ä½ çš„æ–‡ä»¶åˆ°æŸä¸ªäº‘ç«¯ï¼Œæ‰€ä»¥å®‰å…¨æ€§ä¹Ÿæ˜¯è¾ƒæœ‰ä¿éšœçš„ã€‚</p>
<p>å…¶ä¸­ç”µå½±å’Œç”µè§†èŠ‚ç›®åº“çš„æœ€å¤§åŒºåˆ«æ˜¯æ˜¯å¦åˆ†é›†å’Œåˆ†å­£ã€‚ç”µå½±çš„è§£æé’ˆå¯¹çš„æ˜¯å•ä¸ªçš„è§†é¢‘æ–‡ä»¶ï¼Œè€Œå‰§é›†çš„è§£æé’ˆå¯¹çš„æ˜¯æŸä¸ªå­æ–‡ä»¶å¤¹ã€‚</p>
<p>ä¹‹åï¼Œä½ å¯ä»¥è¿›å…¥ä½ çš„åº“ï¼ŒæŸ¥çœ‹æ•ˆæœã€‚å¾ˆå¤§ä¸€éƒ¨åˆ†å†…å®¹ä¼šç›´æ¥æˆåŠŸæŠ“å–å…ƒæ•°æ®å¾—åˆ°æ¼‚äº®çš„å°é¢ç­‰å†…å®¹ï¼Œå¦ä¸€äº›åˆ™ä¼šå¤±è´¥ã€‚å¯¹äºå¤±è´¥çš„å†…å®¹ï¼Œå¦‚æœä½ ä¸åœ¨æ„å…¶å®ä¹Ÿä¸å½±å“è§‚çœ‹ï¼Œåªæ˜¯æ²¡æœ‰å°é¢å’Œä»‹ç»ç­‰ã€‚å¦‚æœä½ ä»‹æ„ï¼Œå¯ä»¥é€‰æ‹©æ‰‹åŠ¨ååŠ©åŒ¹é…ï¼š</p>
<figure>
<img src="/2021/02/01/seed-anime-system/image-20210130125127348.png" alt="image-20210130125127348"><figcaption aria-hidden="true">image-20210130125127348</figcaption>
</figure>
<p>åŒ¹é…å¤±è´¥çš„ä¸»è¦åŸå› æ˜¯å‘½åé—®é¢˜ã€‚åœ¨<code>ä¿®å¤åŒ¹é…-æœç´¢é€‰é¡¹</code>ä¸­å¯ä»¥æ›´æ”¹ç”¨äºæœç´¢çš„å‘½åã€‚å¦å¤–ï¼Œæœ‰çš„æ—¶å€™æ˜¯å› ä¸ºæœç´¢çš„æ•°æ®åº“ä¸­æ²¡æœ‰è¿™ä¸ªæ•°æ®ï¼Œæ­¤æ—¶ï¼Œä½ å¯ä»¥åˆ‡æ¢<code>ä»£ç†</code>ï¼Œå¾ˆå¤šæ—¶å€™æ˜¯å¯ä»¥æ‰¾åˆ°åŒ¹é…çš„ã€‚å¦‚æœä½ çš„å‘½åæ˜¯æ—¥è¯­æˆ–è‹±è¯­ï¼Œé‚£ä¹ˆæŠŠæœç´¢çš„è¯­è¨€ç›¸åº”ä¿®æ”¹ã€‚ä¹‹åç‚¹å‡»æœç´¢å³å¯ã€‚</p>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<h3 id="æ³¨æ„">æ³¨æ„</h3>
<ul>
<li>è¯¥æ–¹æ³•é€‚ç”¨ä½†ä¸ä»…é€‚ç”¨äºåŠ¨æ¼«ã€‚å…¶ä»–ç±»å‹å½±è§†å‰§é›†ä¹Ÿå¯ï¼Œåªè¦ä½ èƒ½æ‰¾åˆ°åˆé€‚çš„è®¢é˜…æºã€‚</li>
<li>æœ¬æ–‡æ¶‰åŠçš„æ‰€æœ‰è„šæœ¬éƒ½å¯ä»¥åœ¨è¯¥<a href="https://github.com/miracleyoo/anime_renamer">GitHub</a>åº“ä¸Šæ‰¾åˆ°ã€‚</li>
<li>åŠ¨æ¼«æ­£ç‰ˆåŒ–äº‹ä¸šä¸æ˜“ï¼Œå„å¤§ç½‘ç«™éƒ½æŠ•å…¥äº†å·¨å¤§çš„èµ„æºæ¥å»ºè®¾æ›´å…¨çš„æ­£ç‰ˆèµ„æºåº“ï¼Œè¯·å°½æœ€å¤§å¯èƒ½æ”¯æŒæ­£ç‰ˆã€‚è¯·å°†æœ¬æ–¹æ³•ä¸»è¦ç”¨äºè§‚çœ‹ç½‘ç›˜è§ç±»å‰§é›†å’Œå­˜åœ¨åˆ å‡çš„å‰§é›†ã€‚</li>
</ul>
<h3 id="trouble-shooting">Trouble Shooting</h3>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºutorrentåœ¨ä¸Šä¼ æ—¶ä¼šå ç”¨æ–‡ä»¶ï¼Œæ‰€ä»¥æœ‰ä¸€å®šæ¦‚ç‡é‡å‘½åä¼šå¤±è´¥ã€‚è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœä½ è§‰å¾—æœ‰é—®é¢˜çš„æ—¶å€™ï¼Œå…³é—­utorrentè§£é™¤å ç”¨ï¼Œå¾€å¾€éœ€è¦ç­‰ä¸Šå‡ ç§’ï¼Œç„¶åç›´æ¥å°†æ•´ä¸ª<code>Anime</code>æ–‡ä»¶å¤¹ï¼ˆå­˜æ”¾åŠ¨æ¼«çš„æ ¹æ–‡ä»¶å¤¹ï¼‰æ‹–æ”¾åˆ°ä¸‹é¢è¿™ä¸ª<code>cmd</code>æ–‡ä»¶ä¸Šå³å¯ï¼š</p>
<p><code>rename_episodes.cmd</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> %%i <span class="keyword">in</span> (%*) <span class="keyword">do</span> python &lt;YOUR_SCRIPT_PATH&gt;\reg_match.py --path=%%i</span><br></pre></td></tr></table></figure>
<p>è¯¥æ–‡ä»¶ä¼šè°ƒç”¨å‰é¢æåˆ°çš„Pythonè„šæœ¬ï¼Œå¹¶å¯¹æ•´ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æœ‰é—®é¢˜çš„æ–‡ä»¶åè¿›è¡Œé‡å‘½åã€‚ä½ ä¹Ÿå¯ä»¥å°†æœ‰é—®é¢˜çš„å­ç›®å½•æˆ–ç‰¹å®šæ–‡ä»¶æ‹–æ”¾ä¸Šå»ï¼Œæˆ–æ˜¯åŒæ—¶æ‹–æ”¾å¤šä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹ã€‚Pythonè„šæœ¬ä¸­æœ‰ç€ç›¸åº”çš„é€‚é…ã€‚</p>
]]></content>
      <tags>
        <tag>system</tag>
        <tag>anime</tag>
        <tag>acg</tag>
        <tag>torrent</tag>
      </tags>
  </entry>
</search>
