<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.miracleyoo.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.15.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="This blog comes from an answer from How to put the legend out of the plot. Reprint it here for note. Original author keeps all the right.  Placing the legend (bbox_to_anchor) A legend is positioned in">
<meta property="og:type" content="article">
<meta property="og:title" content="Matplotlib and its Legend">
<meta property="og:url" content="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/index.html">
<meta property="og:site_name" content="Miracleyoo">
<meta property="og:description" content="This blog comes from an answer from How to put the legend out of the plot. Reprint it here for note. Original author keeps all the right.  Placing the legend (bbox_to_anchor) A legend is positioned in">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/OIMyM.png">
<meta property="og:image" content="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/zqKjY.png">
<meta property="og:image" content="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/v1AU6.png">
<meta property="og:image" content="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/4RrYb.png">
<meta property="og:image" content="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/jxecX.png">
<meta property="article:published_time" content="2020-03-13T01:26:50.000Z">
<meta property="article:modified_time" content="2021-03-12T23:28:49.730Z">
<meta property="article:author" content="Miracle Yoo">
<meta property="article:tag" content="python">
<meta property="article:tag" content="matplotlib">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/OIMyM.png">


<link rel="canonical" href="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://www.miracleyoo.com/2020/03/12/matplotlib-legend/","path":"2020/03/12/matplotlib-legend/","title":"Matplotlib and its Legend"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Matplotlib and its Legend | Miracleyoo</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Miracleyoo" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Miracleyoo</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#placing-the-legend-bbox_to_anchor"><span class="nav-number">1.</span> <span class="nav-text"> Placing the legend (bbox_to_anchor)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#postprocessing"><span class="nav-number">1.1.</span> <span class="nav-text"> Postprocessing</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#alternatives-a-figure-legend"><span class="nav-number">2.</span> <span class="nav-text"> Alternatives A figure legend</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#further-reading-and-notes"><span class="nav-number">2.1.</span> <span class="nav-text"> Further reading and notes:</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Miracle Yoo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">143</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">123</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/miracleyoo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;miracleyoo" rel="noopener me" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhongyang.zhang.hust@gmail.com" title="E-Mail → mailto:zhongyang.zhang.hust@gmail.com" rel="noopener me" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/Ogisomiracle" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;Ogisomiracle" rel="noopener me" target="_blank"><i class="twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/mirakuruyoo" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;mirakuruyoo" rel="noopener me" target="_blank"><i class="facebook fa-fw"></i>FB Page</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
        <div class="pjax">
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.miracleyoo.com/2020/03/12/matplotlib-legend/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Miracle Yoo">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Miracleyoo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Matplotlib and its Legend | Miracleyoo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Matplotlib and its Legend<a href="https://github.com/user-name/repo-name/tree/branch-name/subdirectory-name/_posts/matplotlib-legend.md" class="post-edit-link" title="Edit this post" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-03-12 18:26:50" itemprop="dateCreated datePublished" datetime="2020-03-12T18:26:50-07:00">2020-03-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-03-12 15:28:49" itemprop="dateModified" datetime="2021-03-12T15:28:49-08:00">2021-03-12</time>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.1k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p><strong>This blog comes from an answer from <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/4700614/how-to-put-the-legend-out-of-the-plot">How to put the legend out of the plot</a>. Reprint it here for note. Original author keeps all the right.</strong></p>
<h2 id="placing-the-legend-bbox_to_anchor"><a class="markdownIt-Anchor" href="#placing-the-legend-bbox_to_anchor"></a> Placing the legend (<code>bbox_to_anchor</code>)</h2>
<p>A legend is positioned inside the bounding box of the axes using the <code>loc</code> argument to <a target="_blank" rel="noopener" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.legend"><code>plt.legend</code></a>.<br>
E.g. <code>loc=&quot;upper right&quot;</code> places the legend in the upper right corner of the bounding box, which by default extents from <code>(0,0)</code> to <code>(1,1)</code> in axes coordinates (or in bounding box notation <code>(x0,y0, width, height)=(0,0,1,1)</code>).</p>
<span id="more"></span>
<p>To place the legend outside of the axes bounding box, one may specify a tuple <code>(x0,y0)</code> of axes coordinates of the lower left corner of the legend.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.legend(loc=(<span class="number">1.04</span>,<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<p>However, a more versatile approach would be to manually specify the bounding box into which the legend should be placed, using the <strong><code>bbox_to_anchor</code></strong> argument. One can restrict oneself to supply only the <code>(x0,y0)</code> part of the bbox. This creates a zero span box, out of which the legend will expand in the direction given by the <code>loc</code> argument. E.g.</p>
<p><strong>plt.legend(bbox_to_anchor=(1.04,1), loc=“upper left”)</strong></p>
<p>places the legend outside the axes, such that the upper left corner of the legend is at position <code>(1.04,1)</code> in axes coordinates.</p>
<p>Further examples are given below, where additionally the interplay between different arguments like <code>mode</code> and <code>ncols</code> are shown.</p>
<p><a target="_blank" rel="noopener" href="https://i.stack.imgur.com/OIMyM.png"><img data-src="OIMyM.png" alt="enter image description here"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">l1 = plt.legend(bbox_to_anchor=(<span class="number">1.04</span>,<span class="number">1</span>), borderaxespad=<span class="number">0</span>)</span><br><span class="line">l2 = plt.legend(bbox_to_anchor=(<span class="number">1.04</span>,<span class="number">0</span>), loc=<span class="string">&quot;lower left&quot;</span>, borderaxespad=<span class="number">0</span>)</span><br><span class="line">l3 = plt.legend(bbox_to_anchor=(<span class="number">1.04</span>,<span class="number">0.5</span>), loc=<span class="string">&quot;center left&quot;</span>, borderaxespad=<span class="number">0</span>)</span><br><span class="line">l4 = plt.legend(bbox_to_anchor=(<span class="number">0</span>,<span class="number">1.02</span>,<span class="number">1</span>,<span class="number">0.2</span>), loc=<span class="string">&quot;lower left&quot;</span>,</span><br><span class="line">                mode=<span class="string">&quot;expand&quot;</span>, borderaxespad=<span class="number">0</span>, ncol=<span class="number">3</span>)</span><br><span class="line">l5 = plt.legend(bbox_to_anchor=(<span class="number">1</span>,<span class="number">0</span>), loc=<span class="string">&quot;lower right&quot;</span>, </span><br><span class="line">                bbox_transform=fig.transFigure, ncol=<span class="number">3</span>)</span><br><span class="line">l6 = plt.legend(bbox_to_anchor=(<span class="number">0.4</span>,<span class="number">0.8</span>), loc=<span class="string">&quot;upper right&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Details about how to interpret the 4-tuple argument to <code>bbox_to_anchor</code>, as in <code>l4</code>, can be found in <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/39803385/what-does-a-4-element-tuple-argument-for-bbox-to-anchor-mean-in-matplotlib">this question</a>. The <code>mode=&quot;expand&quot;</code> expands the legend horizontally inside the bounding box given by the 4-tuple. For a vertically expanded legend, see <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/46710546/matplotlib-expand-legend-vertically">this question</a>.</p>
<p>Sometimes it may be useful to specify the bounding box in figure coordinates instead of axes coordinates. This is shown in the example <code>l5</code> from above, where the <code>bbox_transform</code> argument is used to put the legend in the lower left corner of the figure.</p>
<h3 id="postprocessing"><a class="markdownIt-Anchor" href="#postprocessing"></a> Postprocessing</h3>
<p>Having placed the legend outside the axes often leads to the undesired situation that it is completely or partially outside the figure canvas.</p>
<p>Solutions to this problem are:</p>
<ul>
<li>
<p><strong>Adjust the subplot parameters</strong><br>
One can adjust the subplot parameters such, that the axes take less space inside the figure (and thereby leave more space to the legend) by using <a target="_blank" rel="noopener" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.subplots_adjust"><code>plt.subplots_adjust</code></a>. E.g.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.subplots_adjust(right=<span class="number">0.7</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>leaves 30% space on the right-hand side of the figure, where one could place the legend.</p>
<ul>
<li>
<p><strong>Tight layout</strong><br>
Using <a target="_blank" rel="noopener" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.tight_layout"><code>plt.tight_layout</code></a> Allows to automatically adjust the subplot parameters such that the elements in the figure sit tight against the figure edges. Unfortunately, the legend is not taken into account in this automatism, but we can supply a rectangle box that the whole subplots area (including labels) will fit into.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.tight_layout(rect=[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.75</span>,<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>Saving the figure with <code>bbox_inches = &quot;tight&quot;</code></strong><br>
The argument <code>bbox_inches = &quot;tight&quot;</code> to <a target="_blank" rel="noopener" href="http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.savefig"><code>plt.savefig</code></a> can be used to save the figure such that all artist on the canvas (including the legend) are fit into the saved area. If needed, the figure size is automatically adjusted.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig(<span class="string">&quot;output.png&quot;</span>, bbox_inches=<span class="string">&quot;tight&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>automatically adjusting the subplot params</strong><br>
A way to automatically adjust the subplot position such that the legend fits inside the canvas <strong>without changing the figure size</strong> can be found in this answer: <a target="_blank" rel="noopener" href="https://stackoverflow.com/a/43001737/4124317">Creating figure with exact size and no padding (and legend outside the axes)</a></p>
</li>
</ul>
<p>Comparison between the cases discussed above:</p>
<p><a target="_blank" rel="noopener" href="https://i.stack.imgur.com/zqKjY.png"><img data-src="zqKjY.png" alt="enter image description here"></a></p>
<h2 id="alternatives-a-figure-legend"><a class="markdownIt-Anchor" href="#alternatives-a-figure-legend"></a> Alternatives <strong>A figure legend</strong></h2>
<p>One may use a legend to the figure instead of the axes, <a target="_blank" rel="noopener" href="https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure.legend"><code>matplotlib.figure.Figure.legend</code></a>. This has become especially useful for matplotlib version &gt;=2.1, where no special arguments are needed</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig.legend(loc=7) </span><br></pre></td></tr></table></figure>
<p>to create a legend for all artists in the different axes of the figure. The legend is placed using the <code>loc</code> argument, similar to how it is placed inside an axes, but in reference to the whole figure - hence it will be outside the axes somewhat automatically. What remains is to adjust the subplots such that there is no overlap between the legend and the axes. Here the point <em>“Adjust the subplot parameters”</em> from above will be helpful. An example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">2</span>*np.pi)</span><br><span class="line">colors=[<span class="string">&quot;#7aa0c4&quot;</span>,<span class="string">&quot;#ca82e1&quot;</span> ,<span class="string">&quot;#8bcd50&quot;</span>,<span class="string">&quot;#e18882&quot;</span>]</span><br><span class="line">fig, axes = plt.subplots(ncols=<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    axes[i//<span class="number">2</span>].plot(x,np.sin(x+i), color=colors[i],label=<span class="string">&quot;y=sin(x+&#123;&#125;)&quot;</span>.<span class="built_in">format</span>(i))</span><br><span class="line"></span><br><span class="line">fig.legend(loc=<span class="number">7</span>)</span><br><span class="line">fig.tight_layout()</span><br><span class="line">fig.subplots_adjust(right=<span class="number">0.75</span>)   </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://i.stack.imgur.com/v1AU6.png"><img data-src="v1AU6.png" alt="enter image description here"></a></p>
<p><strong>Legend inside dedicated subplot axes</strong><br>
An alternative to using <code>bbox_to_anchor</code> would be to place the legend in its dedicated subplot axes (<code>lax</code>). Since the legend subplot should be smaller than the plot, we may use <code>gridspec_kw=&#123;&quot;width_ratios&quot;:[4,1]&#125;</code> at axes creation. We can hide the axes <code>lax.axis(&quot;off&quot;)</code> but still put a legend in. The legend handles and labels need to obtained from the real plot via <code>h,l = ax.get_legend_handles_labels()</code>, and can then be supplied to the legend in the <code>lax</code> subplot, <code>lax.legend(h,l)</code>. A complete example is below.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rcParams[<span class="string">&quot;figure.figsize&quot;</span>] = <span class="number">6</span>,<span class="number">2</span></span><br><span class="line"></span><br><span class="line">fig, (ax,lax) = plt.subplots(ncols=<span class="number">2</span>, gridspec_kw=&#123;<span class="string">&quot;width_ratios&quot;</span>:[<span class="number">4</span>,<span class="number">1</span>]&#125;)</span><br><span class="line">ax.plot(x,y, label=<span class="string">&quot;y=sin(x)&quot;</span>)</span><br><span class="line">....</span><br><span class="line"></span><br><span class="line">h,l = ax.get_legend_handles_labels()</span><br><span class="line">lax.legend(h,l, borderaxespad=<span class="number">0</span>)</span><br><span class="line">lax.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>This produces a plot, which is visually pretty similar to the plot from above:</p>
<p><a target="_blank" rel="noopener" href="https://i.stack.imgur.com/4RrYb.png"><img data-src="4RrYb.png" alt="enter image description here"></a></p>
<p>We could also use the first axes to place the legend, but use the <code>bbox_transform</code> of the legend axes,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax.legend(bbox_to_anchor=(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>), bbox_transform=lax.transAxes)</span><br><span class="line">lax.axis(<span class="string">&quot;off&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>In this approach, we do not need to obtain the legend handles externally, but we need to specify the <code>bbox_to_anchor</code> argument.</p>
<h3 id="further-reading-and-notes"><a class="markdownIt-Anchor" href="#further-reading-and-notes"></a> Further reading and notes:</h3>
<ul>
<li>Consider the matplotlib <a target="_blank" rel="noopener" href="http://matplotlib.org/users/legend_guide.html">legend guide</a> with some examples of other stuff you want to do with legends.</li>
<li>Some example code for placing legends for pie charts may directly be found in answer to this question: <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/43272206/python-legend-overlaps-with-the-pie-chart">Python - Legend overlaps with the pie chart</a></li>
<li>The <code>loc</code> argument can take numbers instead of strings, which make calls shorter, however, they are not very intuitively mapped to each other. Here is the mapping for reference:</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://i.stack.imgur.com/jxecX.png"><img data-src="jxecX.png" alt="enter image description here"></a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="followme">
  <span>Welcome to my other publishing channels</span>

  <div class="social-list">

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://www.zhihu.com/people/miracleyoo">
            <span class="icon">
              <i class="fab fa-zhihu"></i>
            </span>

            <span class="label">Zhihu</span>
          </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/python/" rel="tag"># python</a>
              <a href="/tags/matplotlib/" rel="tag"># matplotlib</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/03/12/eemd/" rel="prev" title="EMD, EEMD与CEEMD">
                  <i class="fa fa-chevron-left"></i> EMD, EEMD与CEEMD
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/03/24/pandas-resample/" rel="next" title="Pandas Resample">
                  Pandas Resample <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Miracle Yoo</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="Word count total">202k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">12:13</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/miracleyoo" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.css" integrity="sha256-gMRN4/6qeELzO1wbFa8qQLU8kfuF2dnAPiUoI0ATjx8=" crossorigin="anonymous">


<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"miracleyoo/utterances-repo","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
